/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t={7066:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){e(n,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function r(){return new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()}))}function o(e){return Array.from(new Set(e))}function i(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function a(e,t){return e==t}function s(e,t){"template"!==e.tagName.toLowerCase()?console.warn(`Alpine: [${t}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${t}`):1!==e.content.childElementCount&&console.warn(`Alpine: <template> tag with [${t}] encountered with an unexpected number of root elements. Make sure <template> has a single root element. `)}function u(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function c(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}function l(e,t){if(!1===t(e))return;let n=e.firstElementChild;for(;n;)l(n,t),n=n.nextElementSibling}function f(e,t){var n;return function(){var r=this,o=arguments,i=function(){n=null,e.apply(r,o)};clearTimeout(n),n=setTimeout(i,t)}}const d=(e,t,n)=>{if(console.warn(`Alpine Error: "${n}"\n\nExpression: "${t}"\nElement:`,e),!i())throw Object.assign(n,{el:e,expression:t}),n};function p(e,{el:t,expression:n}){try{const r=e();return r instanceof Promise?r.catch((e=>d(t,n,e))):r}catch(e){d(t,n,e)}}function h(e,t,n,r={}){return p((()=>"function"==typeof t?t.call(n):new Function(["$data",...Object.keys(r)],`var __alpine_result; with($data) { __alpine_result = ${t} }; return __alpine_result`)(n,...Object.values(r))),{el:e,expression:t})}function m(e,t,n,r={}){return p((()=>{if("function"==typeof t)return Promise.resolve(t.call(n,r.$event));let e=Function;if(e=Object.getPrototypeOf((async function(){})).constructor,Object.keys(n).includes(t)){let e=new Function(["dataContext",...Object.keys(r)],`with(dataContext) { return ${t} }`)(n,...Object.values(r));return"function"==typeof e?Promise.resolve(e.call(n,r.$event)):Promise.resolve()}return Promise.resolve(new e(["dataContext",...Object.keys(r)],`with(dataContext) { ${t} }`)(n,...Object.values(r)))}),{el:e,expression:t})}const g=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function v(e){const t=C(e.name);return g.test(t)}function y(e,t,n){let r=Array.from(e.attributes).filter(v).map(w),o=r.filter((e=>"spread"===e.type))[0];if(o){let n=h(e,o.expression,t.$data);r=r.concat(Object.entries(n).map((([e,t])=>w({name:e,value:t}))))}return n?r.filter((e=>e.type===n)):b(r)}function b(e){let t=["bind","model","show","catch-all"];return e.sort(((e,n)=>{let r=-1===t.indexOf(e.type)?"catch-all":e.type,o=-1===t.indexOf(n.type)?"catch-all":n.type;return t.indexOf(r)-t.indexOf(o)}))}function w({name:e,value:t}){const n=C(e),r=n.match(g),o=n.match(/:([a-zA-Z0-9\-:]+)/),i=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:r?r[1]:null,value:o?o[1]:null,modifiers:i.map((e=>e.replace(".",""))),expression:t}}function x(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function C(e){return e.startsWith("@")?e.replace("@","x-on:"):e.startsWith(":")?e.replace(":","x-bind:"):e}function S(e,t=Boolean){return e.split(" ").filter(t)}const A="in",_="out",P="cancelled";function O(e,t,n,r,o=!1){if(o)return t();if(e.__x_transition&&e.__x_transition.type===A)return;const i=y(e,r,"transition"),a=y(e,r,"show")[0];if(a&&a.modifiers.includes("transition")){let r=a.modifiers;if(r.includes("out")&&!r.includes("in"))return t();const o=r.includes("in")&&r.includes("out");r=o?r.filter(((e,t)=>t<r.indexOf("out"))):r,T(e,r,t,n)}else i.some((e=>["enter","enter-start","enter-end"].includes(e.value)))?N(e,r,i,t,n):t()}function E(e,t,n,r,o=!1){if(o)return t();if(e.__x_transition&&e.__x_transition.type===_)return;const i=y(e,r,"transition"),a=y(e,r,"show")[0];if(a&&a.modifiers.includes("transition")){let r=a.modifiers;if(r.includes("in")&&!r.includes("out"))return t();const o=r.includes("in")&&r.includes("out");r=o?r.filter(((e,t)=>t>r.indexOf("out"))):r,D(e,r,o,t,n)}else i.some((e=>["leave","leave-start","leave-end"].includes(e.value)))?R(e,r,i,t,n):t()}function T(e,t,n,r){k(e,t,n,(()=>{}),r,{duration:I(t,"duration",150),origin:I(t,"origin","center"),first:{opacity:0,scale:I(t,"scale",95)},second:{opacity:1,scale:100}},A)}function D(e,t,n,r,o){k(e,t,(()=>{}),r,o,{duration:n?I(t,"duration",150):I(t,"duration",150)/2,origin:I(t,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:I(t,"scale",95)}},_)}function I(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&!F(r))return n;if("duration"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}function k(e,t,n,r,o,i,a){e.__x_transition&&e.__x_transition.cancel&&e.__x_transition.cancel();const s=e.style.opacity,u=e.style.transform,c=e.style.transformOrigin,l=!t.includes("opacity")&&!t.includes("scale"),f=l||t.includes("opacity"),d=l||t.includes("scale"),p={start(){f&&(e.style.opacity=i.first.opacity),d&&(e.style.transform=`scale(${i.first.scale/100})`)},during(){d&&(e.style.transformOrigin=i.origin),e.style.transitionProperty=[f?"opacity":"",d?"transform":""].join(" ").trim(),e.style.transitionDuration=i.duration/1e3+"s",e.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){n()},end(){f&&(e.style.opacity=i.second.opacity),d&&(e.style.transform=`scale(${i.second.scale/100})`)},hide(){r()},cleanup(){f&&(e.style.opacity=s),d&&(e.style.transform=u),d&&(e.style.transformOrigin=c),e.style.transitionProperty=null,e.style.transitionDuration=null,e.style.transitionTimingFunction=null}};L(e,p,a,o)}const M=(e,t,n)=>"function"==typeof e?n.evaluateReturnExpression(t,e):e;function N(e,t,n,r,o){B(e,S(M((n.find((e=>"enter"===e.value))||{expression:""}).expression,e,t)),S(M((n.find((e=>"enter-start"===e.value))||{expression:""}).expression,e,t)),S(M((n.find((e=>"enter-end"===e.value))||{expression:""}).expression,e,t)),r,(()=>{}),A,o)}function R(e,t,n,r,o){B(e,S(M((n.find((e=>"leave"===e.value))||{expression:""}).expression,e,t)),S(M((n.find((e=>"leave-start"===e.value))||{expression:""}).expression,e,t)),S(M((n.find((e=>"leave-end"===e.value))||{expression:""}).expression,e,t)),(()=>{}),r,_,o)}function B(e,t,n,r,o,i,a,s){e.__x_transition&&e.__x_transition.cancel&&e.__x_transition.cancel();const u=e.__x_original_classes||[],c={start(){e.classList.add(...n)},during(){e.classList.add(...t)},show(){o()},end(){e.classList.remove(...n.filter((e=>!u.includes(e)))),e.classList.add(...r)},hide(){i()},cleanup(){e.classList.remove(...t.filter((e=>!u.includes(e)))),e.classList.remove(...r.filter((e=>!u.includes(e))))}};L(e,c,a,s)}function L(e,t,n,r){const o=j((()=>{t.hide(),e.isConnected&&t.cleanup(),delete e.__x_transition}));e.__x_transition={type:n,cancel:j((()=>{r(P),o()})),finish:o,nextFrame:null},t.start(),t.during(),e.__x_transition.nextFrame=requestAnimationFrame((()=>{let n=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""));0===n&&(n=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),t.show(),e.__x_transition.nextFrame=requestAnimationFrame((()=>{t.end(),setTimeout(e.__x_transition.finish,n)}))}))}function F(e){return!Array.isArray(e)&&!isNaN(e)}function j(e){let t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function V(e,t,n,r,o){s(t,"x-for");let i=U("function"==typeof n?e.evaluateReturnExpression(t,n):n),a=W(e,t,i,o),u=t;a.forEach(((n,s)=>{let c=z(i,n,s,a,o()),l=G(e,t,s,c),f=q(u.nextElementSibling,l);f?(delete f.__x_for_key,f.__x_for=c,e.updateElements(f,(()=>f.__x_for))):(f=H(t,u),O(f,(()=>{}),(()=>{}),e,r),f.__x_for=c,e.initializeElements(f,(()=>f.__x_for))),u=f,u.__x_for_key=l})),K(u,e)}function U(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\(|\)$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o=String(e).match(r);if(!o)return;let i={};i.items=o[2].trim();let a=o[1].trim().replace(n,""),s=a.match(t);return s?(i.item=a.replace(t,"").trim(),i.index=s[1].trim(),s[2]&&(i.collection=s[2].trim())):i.item=a,i}function z(e,t,r,o,i){let a=i?n({},i):{};return a[e.item]=t,e.index&&(a[e.index]=r),e.collection&&(a[e.collection]=o),a}function G(e,t,n,r){let o=y(t,e,"bind").filter((e=>"key"===e.value))[0];return o?e.evaluateReturnExpression(t,o.expression,(()=>r)):n}function W(e,t,n,r){let o=y(t,e,"if")[0];if(o&&!e.evaluateReturnExpression(t,o.expression))return[];let i=e.evaluateReturnExpression(t,n.items,r);return F(i)&&i>=0&&(i=Array.from(Array(i).keys(),(e=>e+1))),i}function H(e,t){let n=document.importNode(e.content,!0);return t.parentElement.insertBefore(n,t.nextElementSibling),t.nextElementSibling}function q(e,t){if(!e)return;if(void 0===e.__x_for_key)return;if(e.__x_for_key===t)return e;let n=e;for(;n;){if(n.__x_for_key===t)return n.parentElement.insertBefore(n,e);n=!(!n.nextElementSibling||void 0===n.nextElementSibling.__x_for_key)&&n.nextElementSibling}}function K(e,t){for(var n=!(!e.nextElementSibling||void 0===e.nextElementSibling.__x_for_key)&&e.nextElementSibling;n;){let e=n,r=n.nextElementSibling;E(n,(()=>{e.remove()}),(()=>{}),t),n=!(!r||void 0===r.__x_for_key)&&r}}function X(e,t,n,r,i,s,u){var l=e.evaluateReturnExpression(t,r,i);if("value"===n){if(qe.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(t))return;if(void 0===l&&String(r).match(/\./)&&(l=""),"radio"===t.type)void 0===t.attributes.value&&"bind"===s?t.value=l:"bind"!==s&&(t.checked=a(t.value,l));else if("checkbox"===t.type)"boolean"==typeof l||[null,void 0].includes(l)||"bind"!==s?"bind"!==s&&(Array.isArray(l)?t.checked=l.some((e=>a(e,t.value))):t.checked=!!l):t.value=String(l);else if("SELECT"===t.tagName)Z(t,l);else{if(t.value===l)return;t.value=l}}else if("class"===n)if(Array.isArray(l)){const e=t.__x_original_classes||[];t.setAttribute("class",o(e.concat(l)).join(" "))}else if("object"==typeof l)Object.keys(l).sort(((e,t)=>l[e]-l[t])).forEach((e=>{l[e]?S(e).forEach((e=>t.classList.add(e))):S(e).forEach((e=>t.classList.remove(e)))}));else{const e=t.__x_original_classes||[],n=l?S(l):[];t.setAttribute("class",o(e.concat(n)).join(" "))}else n=u.includes("camel")?c(n):n,[null,void 0,!1].includes(l)?t.removeAttribute(n):x(n)?Y(t,n,n):Y(t,n,l)}function Y(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Z(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value||e.text)}))}function J(e,t,n){void 0===t&&String(n).match(/\./)&&(t=""),e.textContent=t}function $(e,t,n,r){t.innerHTML=e.evaluateReturnExpression(t,n,r)}function Q(e,t,n,r,o=!1){const i=()=>{t.style.display="none",t.__x_is_shown=!1},a=()=>{1===t.style.length&&"none"===t.style.display?t.removeAttribute("style"):t.style.removeProperty("display"),t.__x_is_shown=!0};if(!0===o)return void(n?a():i());const s=(r,o)=>{n?(("none"===t.style.display||t.__x_transition)&&O(t,(()=>{a()}),o,e),r((()=>{}))):"none"!==t.style.display?E(t,(()=>{r((()=>{i()}))}),o,e):r((()=>{}))};r.includes("immediate")?s((e=>e()),(()=>{})):(e.showDirectiveLastElement&&!e.showDirectiveLastElement.contains(t)&&e.executeAndClearRemainingShowDirectiveStack(),e.showDirectiveStack.push(s),e.showDirectiveLastElement=t)}function ee(e,t,n,r,o){s(t,"x-if");const i=t.nextElementSibling&&!0===t.nextElementSibling.__x_inserted_me;if(!n||i&&!t.__x_transition)!n&&i&&E(t.nextElementSibling,(()=>{t.nextElementSibling.remove()}),(()=>{}),e,r);else{const n=document.importNode(t.content,!0);t.parentElement.insertBefore(n,t.nextElementSibling),O(t.nextElementSibling,(()=>{}),(()=>{}),e,r),e.initializeElements(t.nextElementSibling,o),t.nextElementSibling.__x_inserted_me=!0}}function te(e,t,n,r,o,i={}){const a={passive:r.includes("passive")};let s,u;if(r.includes("camel")&&(n=c(n)),r.includes("away")?(u=document,s=u=>{t.contains(u.target)||t.offsetWidth<1&&t.offsetHeight<1||(ne(e,o,u,i),r.includes("once")&&document.removeEventListener(n,s,a))}):(u=r.includes("window")?window:r.includes("document")?document:t,s=c=>{u!==window&&u!==document||document.body.contains(t)?re(n)&&oe(c,r)||(r.includes("prevent")&&c.preventDefault(),r.includes("stop")&&c.stopPropagation(),r.includes("self")&&c.target!==t)||ne(e,o,c,i).then((e=>{!1===e?c.preventDefault():r.includes("once")&&u.removeEventListener(n,s,a)})):u.removeEventListener(n,s,a)}),r.includes("debounce")){let e=r[r.indexOf("debounce")+1]||"invalid-wait",t=F(e.split("ms")[0])?Number(e.split("ms")[0]):250;s=f(s,t)}u.addEventListener(n,s,a)}function ne(e,t,r,o){return e.evaluateCommandExpression(r.target,t,(()=>n(n({},o()),{},{$event:r})))}function re(e){return["keydown","keyup"].includes(e)}function oe(e,t){let n=t.filter((e=>!["window","document","prevent","stop"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,F((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&n[0]===ie(e.key))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));return n=n.filter((e=>!r.includes(e))),!(r.length>0&&r.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===r.length&&n[0]===ie(e.key))}function ie(e){switch(e){case"/":return"slash";case" ":case"Spacebar":return"space";default:return e&&u(e)}}function ae(e,t,r,o,i){var a="select"===t.tagName.toLowerCase()||["checkbox","radio"].includes(t.type)||r.includes("lazy")?"change":"input";te(e,t,a,r,`${o} = rightSideOfExpression($event, ${o})`,(()=>n(n({},i()),{},{rightSideOfExpression:se(t,r,o)})))}function se(e,t,n){return"radio"===e.type&&(e.hasAttribute("name")||e.setAttribute("name",n)),(n,r)=>{if(n instanceof CustomEvent&&n.detail)return n.detail;if("checkbox"===e.type){if(Array.isArray(r)){const e=t.includes("number")?ue(n.target.value):n.target.value;return n.target.checked?r.concat([e]):r.filter((t=>!a(t,e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>ue(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{const e=n.target.value;return t.includes("number")?ue(e):t.includes("trim")?e.trim():e}}}function ue(e){const t=e?parseFloat(e):null;return F(t)?t:e}const{isArray:ce}=Array,{getPrototypeOf:le,create:fe,defineProperty:de,defineProperties:pe,isExtensible:he,getOwnPropertyDescriptor:me,getOwnPropertyNames:ge,getOwnPropertySymbols:ve,preventExtensions:ye,hasOwnProperty:be}=Object,{push:we,concat:xe,map:Ce}=Array.prototype;function Se(e){return void 0===e}function Ae(e){return"function"==typeof e}function _e(e){return"object"==typeof e}const Pe=new WeakMap;function Oe(e,t){Pe.set(e,t)}const Ee=e=>Pe.get(e)||e;function Te(e,t){return e.valueIsObservable(t)?e.getProxy(t):t}function De(e){return be.call(e,"value")&&(e.value=Ee(e.value)),e}function Ie(e,t,n){xe.call(ge(n),ve(n)).forEach((r=>{let o=me(n,r);o.configurable||(o=Ue(e,o,Te)),de(t,r,o)})),ye(t)}class ke{constructor(e,t){this.originalTarget=t,this.membrane=e}get(e,t){const{originalTarget:n,membrane:r}=this,o=n[t],{valueObserved:i}=r;return i(n,t),r.getProxy(o)}set(e,t,n){const{originalTarget:r,membrane:{valueMutated:o}}=this;return r[t]!==n?(r[t]=n,o(r,t)):"length"===t&&ce(r)&&o(r,t),!0}deleteProperty(e,t){const{originalTarget:n,membrane:{valueMutated:r}}=this;return delete n[t],r(n,t),!0}apply(e,t,n){}construct(e,t,n){}has(e,t){const{originalTarget:n,membrane:{valueObserved:r}}=this;return r(n,t),t in n}ownKeys(e){const{originalTarget:t}=this;return xe.call(ge(t),ve(t))}isExtensible(e){const t=he(e);if(!t)return t;const{originalTarget:n,membrane:r}=this,o=he(n);return o||Ie(r,e,n),o}setPrototypeOf(e,t){}getPrototypeOf(e){const{originalTarget:t}=this;return le(t)}getOwnPropertyDescriptor(e,t){const{originalTarget:n,membrane:r}=this,{valueObserved:o}=this.membrane;o(n,t);let i=me(n,t);if(Se(i))return i;const a=me(e,t);return Se(a)?(i=Ue(r,i,Te),i.configurable||de(e,t,i),i):a}preventExtensions(e){const{originalTarget:t,membrane:n}=this;return Ie(n,e,t),ye(t),!0}defineProperty(e,t,n){const{originalTarget:r,membrane:o}=this,{valueMutated:i}=o,{configurable:a}=n;if(be.call(n,"writable")&&!be.call(n,"value")){const e=me(r,t);n.value=e.value}return de(r,t,De(n)),!1===a&&de(e,t,Ue(o,n,Te)),i(r,t),!0}}function Me(e,t){return e.valueIsObservable(t)?e.getReadOnlyProxy(t):t}class Ne{constructor(e,t){this.originalTarget=t,this.membrane=e}get(e,t){const{membrane:n,originalTarget:r}=this,o=r[t],{valueObserved:i}=n;return i(r,t),n.getReadOnlyProxy(o)}set(e,t,n){return!1}deleteProperty(e,t){return!1}apply(e,t,n){}construct(e,t,n){}has(e,t){const{originalTarget:n,membrane:{valueObserved:r}}=this;return r(n,t),t in n}ownKeys(e){const{originalTarget:t}=this;return xe.call(ge(t),ve(t))}setPrototypeOf(e,t){}getOwnPropertyDescriptor(e,t){const{originalTarget:n,membrane:r}=this,{valueObserved:o}=r;o(n,t);let i=me(n,t);if(Se(i))return i;const a=me(e,t);return Se(a)?(i=Ue(r,i,Me),be.call(i,"set")&&(i.set=void 0),i.configurable||de(e,t,i),i):a}preventExtensions(e){return!1}defineProperty(e,t,n){return!1}}function Re(e){let t;return ce(e)?t=[]:_e(e)&&(t={}),t}const Be=Object.prototype;function Le(e){if(null===e)return!1;if("object"!=typeof e)return!1;if(ce(e))return!0;const t=le(e);return t===Be||null===t||null===le(t)}const Fe=(e,t)=>{},je=(e,t)=>{},Ve=e=>e;function Ue(e,t,n){const{set:r,get:o}=t;return be.call(t,"value")?t.value=n(e,t.value):(Se(o)||(t.get=function(){return n(e,o.call(Ee(this)))}),Se(r)||(t.set=function(t){r.call(Ee(this),e.unwrapProxy(t))})),t}class ze{constructor(e){if(this.valueDistortion=Ve,this.valueMutated=je,this.valueObserved=Fe,this.valueIsObservable=Le,this.objectGraph=new WeakMap,!Se(e)){const{valueDistortion:t,valueMutated:n,valueObserved:r,valueIsObservable:o}=e;this.valueDistortion=Ae(t)?t:Ve,this.valueMutated=Ae(n)?n:je,this.valueObserved=Ae(r)?r:Fe,this.valueIsObservable=Ae(o)?o:Le}}getProxy(e){const t=Ee(e),n=this.valueDistortion(t);if(this.valueIsObservable(n)){const r=this.getReactiveState(t,n);return r.readOnly===e?e:r.reactive}return n}getReadOnlyProxy(e){e=Ee(e);const t=this.valueDistortion(e);return this.valueIsObservable(t)?this.getReactiveState(e,t).readOnly:t}unwrapProxy(e){return Ee(e)}getReactiveState(e,t){const{objectGraph:n}=this;let r=n.get(t);if(r)return r;const o=this;return r={get reactive(){const n=new ke(o,t),r=new Proxy(Re(t),n);return Oe(r,e),de(this,"reactive",{value:r}),r},get readOnly(){const n=new Ne(o,t),r=new Proxy(Re(t),n);return Oe(r,e),de(this,"readOnly",{value:r}),r}},n.set(t,r),r}}function Ge(e,t){let n=new ze({valueMutated(e,n){t(e,n)}});return{data:n.getProxy(e),membrane:n}}function We(e,t){let n=e.unwrapProxy(t),r={};return Object.keys(n).forEach((e=>{["$el","$refs","$nextTick","$watch"].includes(e)||(r[e]=n[e])})),r}class He{constructor(e,t=null){this.$el=e;const n=this.$el.getAttribute("x-data"),r=""===n?"{}":n,o=this.$el.getAttribute("x-init");let i={$el:this.$el},a=t?t.$el:this.$el;Object.entries(qe.magicProperties).forEach((([e,t])=>{Object.defineProperty(i,`$${e}`,{get:function(){return t(a)}})})),this.unobservedData=t?t.getUnobservedData():h(e,r,i);let{membrane:s,data:u}=this.wrapDataInObservable(this.unobservedData);var c;this.$data=u,this.membrane=s,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=e=>{this.nextTickStack.push(e)},this.watchers={},this.unobservedData.$watch=(e,t)=>{this.watchers[e]||(this.watchers[e]=[]),this.watchers[e].push(t)},Object.entries(qe.magicProperties).forEach((([e,t])=>{Object.defineProperty(this.unobservedData,`$${e}`,{get:function(){return t(a,this.$el)}})})),this.showDirectiveStack=[],this.showDirectiveLastElement,t||qe.onBeforeComponentInitializeds.forEach((e=>e(this))),o&&!t&&(this.pauseReactivity=!0,c=this.evaluateReturnExpression(this.$el,o),this.pauseReactivity=!1),this.initializeElements(this.$el,(()=>{}),t),this.listenForNewElementsToInitialize(),"function"==typeof c&&c.call(this.$data),t||setTimeout((()=>{qe.onComponentInitializeds.forEach((e=>e(this)))}),0)}getUnobservedData(){return We(this.membrane,this.$data)}wrapDataInObservable(e){var t=this;let n=f((function(){t.updateElements(t.$el)}),0);return Ge(e,((e,r)=>{t.watchers[r]?t.watchers[r].forEach((t=>t(e[r]))):Array.isArray(e)?Object.keys(t.watchers).forEach((n=>{let o=n.split(".");"length"!==r&&o.reduce(((r,o)=>(Object.is(e,r[o])&&t.watchers[n].forEach((t=>t(e))),r[o])),t.unobservedData)})):Object.keys(t.watchers).filter((e=>e.includes("."))).forEach((n=>{let o=n.split(".");r===o[o.length-1]&&o.reduce(((o,i)=>(Object.is(e,o)&&t.watchers[n].forEach((t=>t(e[r]))),o[i])),t.unobservedData)})),t.pauseReactivity||n()}))}walkAndSkipNestedComponents(e,t,n=(()=>{})){l(e,(e=>e.hasAttribute("x-data")&&!e.isSameNode(this.$el)?(e.__x||n(e),!1):t(e)))}initializeElements(e,t=(()=>{}),n=!1){this.walkAndSkipNestedComponents(e,(e=>void 0===e.__x_for_key&&void 0===e.__x_inserted_me&&void this.initializeElement(e,t,!n)),(e=>{n||(e.__x=new He(e))})),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}initializeElement(e,t,n=!0){e.hasAttribute("class")&&y(e,this).length>0&&(e.__x_original_classes=S(e.getAttribute("class"))),n&&this.registerListeners(e,t),this.resolveBoundAttributes(e,!0,t)}updateElements(e,t=(()=>{})){this.walkAndSkipNestedComponents(e,(e=>{if(void 0!==e.__x_for_key&&!e.isSameNode(this.$el))return!1;this.updateElement(e,t)}),(e=>{e.__x=new He(e)})),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}executeAndClearNextTickStack(e){e===this.$el&&this.nextTickStack.length>0&&requestAnimationFrame((()=>{for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()}))}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map((e=>new Promise(((t,n)=>{e(t,n)})))).reduce(((e,t)=>e.then((()=>t.then((e=>{e()}))))),Promise.resolve((()=>{}))).catch((e=>{if(e!==P)throw e})),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(e,t){this.resolveBoundAttributes(e,!1,t)}registerListeners(e,t){y(e,this).forEach((({type:n,value:r,modifiers:o,expression:i})=>{switch(n){case"on":te(this,e,r,o,i,t);break;case"model":ae(this,e,o,i,t)}}))}resolveBoundAttributes(e,t=!1,n){let r=y(e,this);r.forEach((({type:o,value:i,modifiers:a,expression:s})=>{switch(o){case"model":X(this,e,"value",s,n,o,a);break;case"bind":if("template"===e.tagName.toLowerCase()&&"key"===i)return;X(this,e,i,s,n,o,a);break;case"text":var u=this.evaluateReturnExpression(e,s,n);J(e,u,s);break;case"html":$(this,e,s,n);break;case"show":u=this.evaluateReturnExpression(e,s,n),Q(this,e,u,a,t);break;case"if":if(r.some((e=>"for"===e.type)))return;u=this.evaluateReturnExpression(e,s,n),ee(this,e,u,t,n);break;case"for":V(this,e,s,t,n);break;case"cloak":e.removeAttribute("x-cloak")}}))}evaluateReturnExpression(e,t,r=(()=>{})){return h(e,t,this.$data,n(n({},r()),{},{$dispatch:this.getDispatchFunction(e)}))}evaluateCommandExpression(e,t,r=(()=>{})){return m(e,t,this.$data,n(n({},r()),{},{$dispatch:this.getDispatchFunction(e)}))}getDispatchFunction(e){return(t,n={})=>{e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0}))}}listenForNewElementsToInitialize(){const e=this.$el,t={childList:!0,attributes:!0,subtree:!0};new MutationObserver((e=>{for(let t=0;t<e.length;t++){const n=e[t].target.closest("[x-data]");if(n&&n.isSameNode(this.$el)){if("attributes"===e[t].type&&"x-data"===e[t].attributeName){const n=e[t].target.getAttribute("x-data")||"{}",r=h(this.$el,n,{$el:this.$el});Object.keys(r).forEach((e=>{this.$data[e]!==r[e]&&(this.$data[e]=r[e])}))}e[t].addedNodes.length>0&&e[t].addedNodes.forEach((e=>{1!==e.nodeType||e.__x_inserted_me||(!e.matches("[x-data]")||e.__x?this.initializeElements(e):e.__x=new He(e))}))}}})).observe(e,t)}getRefsProxy(){var e=this;return new Proxy({},{get(t,n){return"$isAlpineProxy"===n||(e.walkAndSkipNestedComponents(e.$el,(e=>{e.hasAttribute("x-ref")&&e.getAttribute("x-ref")===n&&(r=e)})),r);var r}})}}const qe={version:"2.8.2",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:async function(){i()||await r(),this.discoverComponents((e=>{this.initializeComponent(e)})),document.addEventListener("turbolinks:load",(()=>{this.discoverUninitializedComponents((e=>{this.initializeComponent(e)}))})),this.listenForNewUninitializedComponentsAtRunTime()},discoverComponents:function(e){document.querySelectorAll("[x-data]").forEach((t=>{e(t)}))},discoverUninitializedComponents:function(e,t=null){const n=(t||document).querySelectorAll("[x-data]");Array.from(n).filter((e=>void 0===e.__x)).forEach((t=>{e(t)}))},listenForNewUninitializedComponentsAtRunTime:function(){const e=document.querySelector("body"),t={childList:!0,attributes:!0,subtree:!0};new MutationObserver((e=>{if(!this.pauseMutationObserver)for(let t=0;t<e.length;t++)e[t].addedNodes.length>0&&e[t].addedNodes.forEach((e=>{1===e.nodeType&&(e.parentElement&&e.parentElement.closest("[x-data]")||this.discoverUninitializedComponents((e=>{this.initializeComponent(e)}),e.parentElement))}))})).observe(e,t)},initializeComponent:function(e){if(!e.__x)try{e.__x=new He(e)}catch(e){setTimeout((()=>{throw e}),0)}},clone:function(e,t){t.__x||(t.__x=new He(t,e))},addMagicProperty:function(e,t){this.magicProperties[e]=t},onComponentInitialized:function(e){this.onComponentInitializeds.push(e)},onBeforeComponentInitialized:function(e){this.onBeforeComponentInitializeds.push(e)}};return i()||(window.Alpine=qe,window.deferLoadingAlpine?window.deferLoadingAlpine((function(){window.Alpine.start()})):window.Alpine.start()),qe}()},4559:(e,t,n)=>{e.exports=n(9335)},1786:(e,t,n)=>{"use strict";var r=n(8266),o=n(5608),i=n(159),a=n(9568),s=n(3943),u=n(8201),c=n(1745),l=n(7979);e.exports=function(e){return new Promise((function(t,n){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(h+":"+m)}var g=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,n,i),p=null}},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),f||(f=null),p.send(f)}))}},9335:(e,t,n)=>{"use strict";var r=n(8266),o=n(4345),i=n(7929),a=n(650);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(9046));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(9760),u.CancelToken=n(7510),u.isCancel=n(8825),u.all=function(e){return Promise.all(e)},u.spread=n(4346),u.isAxiosError=n(3276),e.exports=u,e.exports.default=u},9760:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},7510:(e,t,n)=>{"use strict";var r=n(9760);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},8825:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7929:(e,t,n)=>{"use strict";var r=n(8266),o=n(9568),i=n(6252),a=n(6029),s=n(650);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},6252:(e,t,n)=>{"use strict";var r=n(8266);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},3943:(e,t,n)=>{"use strict";var r=n(406),o=n(5027);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},7979:(e,t,n)=>{"use strict";var r=n(2050);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},6029:(e,t,n)=>{"use strict";var r=n(8266),o=n(2661),i=n(8825),a=n(9046);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},2050:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},650:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(a,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(void 0,t[o])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},5608:(e,t,n)=>{"use strict";var r=n(7979);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2661:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},9046:(e,t,n)=>{"use strict";var r=n(2790),o=n(8266),i=n(1490),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(u=n(1786)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){c.headers[e]=o.merge(a)})),e.exports=c},4345:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9568:(e,t,n)=>{"use strict";var r=n(8266);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},5027:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},159:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},406:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3276:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},1745:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},1490:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},8201:(e,t,n)=>{"use strict";var r=n(8266),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},4346:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8266:(e,t,n)=>{"use strict";var r=n(4345),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6717:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5851:(e,t,n)=>{"use strict";var r=n(6717),o=n(9350),i=n(6368);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return G(U(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return G(z(t),e,n,r)}function A(e,t,n,r){return G(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=V(e[i]);return o}function I(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||B(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||B(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:U(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},4952:(e,t,n)=>{"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()},9350:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},6368:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},3974:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",C="[object Error]",S="[object Function]",A="[object GeneratorFunction]",_="[object Map]",P="[object Number]",O="[object Object]",E="[object Promise]",T="[object RegExp]",D="[object Set]",I="[object String]",k="[object Symbol]",M="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",B="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",G="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(X.source),J=RegExp(Y.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="[']",Ie="[\\ud800-\\udfff]",ke="["+Te+"]",Me="["+Ae+"]",Ne="\\d+",Re="[\\u2700-\\u27bf]",Be="["+Pe+"]",Le="[^\\ud800-\\udfff"+Te+Ne+_e+Pe+Oe+"]",Fe="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Oe+"]",Ge="(?:"+Be+"|"+Le+")",We="(?:"+ze+"|"+Le+")",He="(?:['](?:d|ll|m|re|s|t|ve))?",qe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Me+"|"+Fe+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ye=Xe+Ke+("(?:\\u200d(?:"+[je,Ve,Ue].join("|")+")"+Xe+Ke+")*"),Ze="(?:"+[Re,Ve,Ue].join("|")+")"+Ye,Je="(?:"+[je+Me+"?",Me,Ve,Ue,Ie].join("|")+")",$e=RegExp(De,"g"),Qe=RegExp(Me,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Je+Ye,"g"),tt=RegExp([ze+"?"+Be+"+"+He+"(?="+[ke,ze,"$"].join("|")+")",We+"+"+qe+"(?="+[ke,ze+Ge,"$"].join("|")+")",ze+"?"+Ge+"+"+He,ze+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ze].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ae+Ee+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[B]=at[L]=at[F]=at[j]=at[V]=at[U]=at[z]=at[G]=at[W]=!0,at[y]=at[b]=at[N]=at[w]=at[R]=at[x]=at[C]=at[S]=at[_]=at[P]=at[O]=at[T]=at[D]=at[I]=at[M]=!1;var st={};st[y]=st[b]=st[N]=st[R]=st[w]=st[x]=st[B]=st[L]=st[F]=st[j]=st[V]=st[_]=st[P]=st[O]=st[T]=st[D]=st[I]=st[k]=st[U]=st[z]=st[G]=st[W]=!0,st[C]=st[S]=st[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,pt=ft||dt||Function("return this")(),ht=t&&!t.nodeType&&t,mt=ht&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ht,vt=gt&&ft.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,xt=yt&&yt.isMap,Ct=yt&&yt.isRegExp,St=yt&&yt.isSet,At=yt&&yt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function It(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function kt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Bt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Ht("length");function jt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Vt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ut(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Gt,n)}function zt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Gt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Ht(e){return function(t){return null==t?o:t[e]}}function qt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Xt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function $t(e,t){return Mt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=qt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),on=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,ot))).Array,se=t.Date,Ae=t.Error,_e=t.Function,Pe=t.Math,Oe=t.Object,Ee=t.RegExp,Te=t.String,De=t.TypeError,Ie=r.prototype,ke=_e.prototype,Me=Oe.prototype,Ne=t["__core-js_shared__"],Re=ke.toString,Be=Me.hasOwnProperty,Le=0,Fe=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",je=Me.toString,Ve=Re.call(Oe),Ue=pt._,ze=Ee("^"+Re.call(Be).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=gt?t.Buffer:o,We=t.Symbol,He=t.Uint8Array,qe=Ge?Ge.allocUnsafe:o,Ke=cn(Oe.getPrototypeOf,Oe),Xe=Oe.create,Ye=Me.propertyIsEnumerable,Ze=Ie.splice,Je=We?We.isConcatSpreadable:o,et=We?We.iterator:o,nt=We?We.toStringTag:o,ut=function(){try{var e=hi(Oe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,dt=se&&se.now!==pt.Date.now&&se.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Pe.ceil,vt=Pe.floor,yt=Oe.getOwnPropertySymbols,Ft=Ge?Ge.isBuffer:o,qt=t.isFinite,yn=Ie.join,bn=cn(Oe.keys,Oe),wn=Pe.max,xn=Pe.min,Cn=se.now,Sn=t.parseInt,An=Pe.random,_n=Ie.reverse,Pn=hi(t,"DataView"),On=hi(t,"Map"),En=hi(t,"Promise"),Tn=hi(t,"Set"),Dn=hi(t,"WeakMap"),In=hi(Oe,"create"),kn=Dn&&new Dn,Mn={},Nn=Ui(Pn),Rn=Ui(On),Bn=Ui(En),Ln=Ui(Tn),Fn=Ui(Dn),jn=We?We.prototype:o,Vn=jn?jn.valueOf:o,Un=jn?jn.toString:o;function zn(e){if(os(e)&&!Ka(e)&&!(e instanceof qn)){if(e instanceof Hn)return e;if(Be.call(e,"__wrapped__"))return zi(e)}return new Hn(e)}var Gn=function(){function e(){}return function(t){if(!rs(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Wn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Xn(e);this.size=t.size}function $n(e,t){var n=Ka(e),r=!n&&qa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ds(e),a=n||r||o||i,s=a?Yt(e.length,Te):[],u=s.length;for(var c in e)!t&&!Be.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xi(c,u))||s.push(c);return s}function Qn(e){var t=e.length;return t?e[Zr(0,t-1)]:o}function er(e,t){return Fi(ko(e),cr(t,0,e.length))}function tr(e){return Fi(ko(e))}function nr(e,t,n){(n!==o&&!Ga(e[t],n)||n===o&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Be.call(e,t)&&Ga(r,n)&&(n!==o||t in e)||sr(e,t,n)}function or(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ar(e,t){return e&&Mo(t,Ns(t),e)}function sr(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Ts(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!rs(e))return e;var f=Ka(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Be.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return ko(e,s)}else{var d=vi(e),p=d==S||d==A;if(Ja(e))return Po(e,u);if(d==O||d==y||p&&!i){if(s=c||p?{}:bi(e),!u)return c?function(e,t){return Mo(e,gi(e),t)}(e,function(e,t){return e&&Mo(t,Rs(t),e)}(s,e)):function(e,t){return Mo(e,mi(e),t)}(e,ar(s,e))}else{if(!st[d])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return Oo(e);case w:case x:return new r(+e);case R:return function(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case B:case L:case F:case j:case V:case U:case z:case G:case W:return Eo(e,n);case _:return new r;case P:case I:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case k:return o=e,Vn?Oe(Vn.call(o)):{}}var o}(e,d,u)}}a||(a=new Jn);var h=a.get(e);if(h)return h;a.set(e,s),cs(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,o){s.set(o,lr(r,t,n,o,e,a))}));var m=f?o:(l?c?si:ai:c?Rs:Ns)(e);return Ot(m||e,(function(r,o){m&&(r=e[o=r]),rr(s,o,lr(r,t,n,o,e,a))})),s}function fr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Oe(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new De(i);return Ni((function(){e.apply(o,n)}),t)}function pr(e,t,n,r){var o=-1,i=It,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Mt(t,Jt(n))),r?(i=kt,a=!1):t.length>=200&&(i=Qt,a=!1,t=new Zn(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else i(t,f,r)||u.push(l)}return u}zn.templateSettings={escape:$,evaluate:Q,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=Wn.prototype,zn.prototype.constructor=zn,Hn.prototype=Gn(Wn.prototype),Hn.prototype.constructor=Hn,qn.prototype=Gn(Wn.prototype),qn.prototype.constructor=qn,Kn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?o:n}return Be.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==o:Be.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===o?a:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=or(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=or(t,e);return n<0?o:t[n][1]},Xn.prototype.has=function(e){return or(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(On||Xn),string:new Kn}},Yn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return di(this,e).get(e)},Yn.prototype.has=function(e){return di(this,e).has(e)},Yn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Bo(Cr),mr=Bo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!fs(s):n(s,u)))var u=s,c=a}return c}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function br(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?br(s,t-1,n,r,o):Nt(o,s):r||(o[o.length]=s)}return o}var wr=Lo(),xr=Lo(!0);function Cr(e,t){return e&&wr(e,t,Ns)}function Sr(e,t){return e&&xr(e,t,Ns)}function Ar(e,t){return Dt(t,(function(t){return es(e[t])}))}function _r(e,t){for(var n=0,r=(t=Co(t,e)).length;null!=e&&n<r;)e=e[Vi(t[n++])];return n&&n==r?e:o}function Pr(e,t,n){var r=t(e);return Ka(e)?r:Nt(r,n(e))}function Or(e){return null==e?e===o?"[object Undefined]":"[object Null]":nt&&nt in Oe(e)?function(e){var t=Be.call(e,nt),n=e[nt];try{e[nt]=o;var r=!0}catch(e){}var i=je.call(e);r&&(t?e[nt]=n:delete e[nt]);return i}(e):function(e){return je.call(e)}(e)}function Er(e,t){return e>t}function Tr(e,t){return null!=e&&Be.call(e,t)}function Dr(e,t){return null!=e&&t in Oe(e)}function Ir(e,t,n){for(var i=n?kt:It,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Mt(d,Jt(t))),l=xn(d.length,l),c[u]=!n&&(t||a>=120&&d.length>=120)?new Zn(u&&d):o}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var m=d[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Qt(h,g):i(f,g,n))){for(u=s;--u;){var v=c[u];if(!(v?Qt(v,g):i(e[u],g,n)))continue e}h&&h.push(g),f.push(m)}}return f}function kr(e,t,n){var r=null==(e=Di(e,t=Co(t,e)))?e:e[Vi(Qi(t))];return null==r?o:_t(r,e,n)}function Mr(e){return os(e)&&Or(e)==y}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!os(e)&&!os(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Ka(e),u=Ka(t),c=s?b:vi(e),l=u?b:vi(t),f=(c=c==y?O:c)==O,d=(l=l==y?O:l)==O,p=c==l;if(p&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Jn),s||ds(e)?oi(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case w:case x:case P:return Ga(+e,+t);case C:return e.name==t.name&&e.message==t.message;case T:case I:return e==t+"";case _:var s=un;case D:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=oi(s(e),s(t),r,o,i,a);return a.delete(e),l;case k:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var h=f&&Be.call(e,"__wrapped__"),m=d&&Be.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return a||(a=new Jn),i(g,v,n,r,a)}}if(!p)return!1;return a||(a=new Jn),function(e,t,n,r,i,a){var s=1&n,u=ai(e),c=u.length,l=ai(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var d=u[f];if(!(s?d in t:Be.call(t,d)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<c;){var v=e[d=u[f]],y=t[d];if(r)var b=s?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(!(b===o?v===y||i(v,y,n,r,a):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Rr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Oe(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var d=new Jn;if(r)var p=r(l,f,c,e,t,d);if(!(p===o?Nr(f,l,3,r,d):p))return!1}}return!0}function Br(e){return!(!rs(e)||(t=e,Fe&&Fe in t))&&(es(e)?ze:ye).test(Ui(e));var t}function Lr(e){return"function"==typeof e?e:null==e?au:"object"==typeof e?Ka(e)?Gr(e[0],e[1]):zr(e):mu(e)}function Fr(e){if(!Pi(e))return bn(e);var t=[];for(var n in Oe(e))Be.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=Pi(e),n=[];for(var r in e)("constructor"!=r||!t&&Be.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function Ur(e,t){var n=-1,o=Ya(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function zr(e){var t=pi(e);return 1==t.length&&t[0][2]?Ei(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Gr(e,t){return Si(e)&&Oi(t)?Ei(Vi(e),t):function(n){var r=Ts(n,e);return r===o&&r===t?Ds(n,e):Nr(t,r,3)}}function Wr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Jn),rs(a))!function(e,t,n,r,i,a,s){var u=ki(e,n),c=ki(t,n),l=s.get(c);if(l)return void nr(e,n,l);var f=a?a(u,c,n+"",e,t,s):o,d=f===o;if(d){var p=Ka(c),h=!p&&Ja(c),m=!p&&!h&&ds(c);f=c,p||h||m?Ka(u)?f=u:Za(u)?f=ko(u):h?(d=!1,f=Po(c,!0)):m?(d=!1,f=Eo(c,!0)):f=[]:ss(c)||qa(c)?(f=u,qa(u)?f=ws(u):rs(u)&&!es(u)||(f=bi(c))):d=!1}d&&(s.set(c,f),i(f,c,r,a,s),s.delete(c));nr(e,n,f)}(e,t,s,n,Wr,r,i);else{var u=r?r(ki(e,s),a,s+"",e,t,i):o;u===o&&(u=a),nr(e,s,u)}}),Rs)}function Hr(e,t){var n=e.length;if(n)return xi(t+=t<0?n:0,n)?e[t]:o}function qr(e,t,n){t=t.length?Mt(t,(function(e){return Ka(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[au];var r=-1;return t=Mt(t,Jt(fi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,o){return{criteria:Mt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var u=To(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=_r(e,a);n(s,a)&&to(i,Co(a,e),s)}return i}function Xr(e,t,n,r){var o=r?zt:Ut,i=-1,a=t.length,s=e;for(e===t&&(t=ko(t)),n&&(s=Mt(e,Jt(n)));++i<a;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Ze.call(s,u,1),Ze.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;xi(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Zr(e,t){return e+vt(An()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Ri(Ti(e,t,au),e+"")}function Qr(e){return Qn(Gs(e))}function eo(e,t){var n=Gs(e);return Fi(n,cr(t,0,n.length))}function to(e,t,n,r){if(!rs(e))return e;for(var i=-1,a=(t=Co(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=Vi(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=rs(f)?f:xi(t[i+1])?[]:{})}rr(u,c,l),u=u[c]}return e}var no=kn?function(e,t){return kn.set(e,t),e}:au,ro=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:ru(t),writable:!0})}:au;function oo(e){return Fi(Gs(e))}function io(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function ao(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!fs(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return uo(e,t,au,n)}function uo(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=fs(t),l=t===o;i<a;){var f=vt((i+a)/2),d=n(e[f]),p=d!==o,h=null===d,m=d==d,g=fs(d);if(s)var v=r||m;else v=l?m&&(r||p):u?m&&p&&(r||!h):c?m&&p&&!h&&(r||!g):!h&&!g&&(r?d<=t:d<t);v?i=f+1:a=f}return xn(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function lo(e){return"number"==typeof e?e:fs(e)?m:+e}function fo(e){if("string"==typeof e)return e;if(Ka(e))return Mt(e,fo)+"";if(fs(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,n){var r=-1,o=It,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=kt;else if(i>=200){var c=t?null:$o(e);if(c)return fn(c);a=!1,o=Qt,u=new Zn}else u=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ho(e,t){return null==(e=Di(e,t=Co(t,e)))||delete e[Vi(Qi(t))]}function mo(e,t,n,r){return to(e,t,n(_r(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?io(e,r?0:i,r?i+1:o):io(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof qn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?po(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=pr(a[i]||s,e[u],t,n));return po(br(a,1),t,n)}function bo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function wo(e){return Za(e)?e:[]}function xo(e){return"function"==typeof e?e:au}function Co(e,t){return Ka(e)?e:Si(e,t)?[e]:ji(xs(e))}var So=$r;function Ao(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:io(e,t,n)}var _o=ft||function(e){return pt.clearTimeout(e)};function Po(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Oo(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Eo(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=fs(e),s=t!==o,u=null===t,c=t==t,l=fs(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function Do(e,t,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,c=t.length,l=wn(a-s,0),f=r(c+l),d=!o;++u<c;)f[u]=t[u];for(;++i<s;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function Io(e,t,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=wn(a-u,0),d=r(f+l),p=!o;++i<f;)d[i]=e[i];for(var h=i;++c<l;)d[h+c]=t[c];for(;++s<u;)(p||i<a)&&(d[h+n[s]]=e[i++]);return d}function ko(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Mo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?sr(n,u,c):rr(n,u,c)}return n}function No(e,t){return function(n,r){var o=Ka(n)?Pt:ir,i=t?t():{};return o(n,e,fi(r,2),i)}}function Ro(e){return $r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Ci(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Oe(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Bo(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Oe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Oe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function Fo(e){return function(t){var n=sn(t=xs(t))?hn(t):o,r=n?n[0]:t.charAt(0),i=n?Ao(n,1).join(""):t.slice(1);return r[e]()+i}}function jo(e){return function(t){return Rt(eu(qs(t).replace($e,"")),e,"")}}function Vo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Uo(e){return function(t,n,r){var i=Oe(t);if(!Ya(t)){var a=fi(n,3);t=Ns(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function zo(e){return ii((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new De(i);if(a&&!u&&"wrapper"==ci(s))var u=new Hn([],!0)}for(r=u?r:n;++r<n;){var c=ci(s=t[r]),l="wrapper"==c?ui(s):o;u=l&&Ai(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ci(l[0])].apply(u,l[3]):1==s.length&&Ai(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ka(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Go(e,t,n,i,a,s,u,c,l,d){var p=t&f,h=1&t,m=2&t,g=24&t,v=512&t,y=m?o:Vo(e);return function o(){for(var f=arguments.length,b=r(f),w=f;w--;)b[w]=arguments[w];if(g)var x=li(o),C=nn(b,x);if(i&&(b=Do(b,i,a,g)),s&&(b=Io(b,s,u,g)),f-=C,g&&f<d){var S=ln(b,x);return Zo(e,t,Go,o.placeholder,n,b,S,c,l,d-f)}var A=h?n:this,_=m?A[e]:e;return f=b.length,c?b=Ii(b,c):v&&f>1&&b.reverse(),p&&l<f&&(b.length=l),this&&this!==pt&&this instanceof o&&(_=y||Vo(_)),_.apply(A,b)}}function Wo(e,t){return function(n,r){return function(e,t,n,r){return Cr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Ho(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=fo(n),r=fo(r)):(n=lo(n),r=lo(r)),i=e(n,r)}return i}}function qo(e){return ii((function(t){return t=Mt(t,Jt(fi())),$r((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?" ":fo(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,mt(e/pn(t)));return sn(t)?Ao(hn(r),0,e).join(""):r.slice(0,e)}function Xo(e){return function(t,n,i){return i&&"number"!=typeof i&&Ci(t,n,i)&&(n=i=o),t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n,o){for(var i=-1,a=wn(mt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:gs(i),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Zo(e,t,n,r,i,a,s,u,f,d){var p=8&t;t|=p?c:l,4&(t&=~(p?l:c))||(t&=-4);var h=[e,t,i,p?a:o,p?s:o,p?o:a,p?o:s,u,f,d],m=n.apply(o,h);return Ai(e)&&Mi(m,h),m.placeholder=r,Bi(m,e,t)}function Jo(e){var t=Pe[e];return function(e,n){if(e=bs(e),(n=null==n?0:xn(vs(n),292))&&qt(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $o=Tn&&1/fn(new Tn([,-0]))[1]==p?function(e){return new Tn(e)}:fu;function Qo(e){return function(t){var n=vi(t);return n==_?un(t):n==D?dn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ei(e,t,n,a,p,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new De(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),m=m===o?m:wn(vs(m),0),g=g===o?g:vs(g),y-=p?p.length:0,t&l){var b=a,w=p;a=p=o}var x=v?o:ui(e),C=[e,t,n,a,p,b,w,h,m,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Do(c,u,t[4]):u,e[4]=c?ln(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Io(c,u,t[6]):u,e[6]=c?ln(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(C,x),e=C[0],t=C[1],n=C[2],a=C[3],p=C[4],!(g=C[9]=C[9]===o?v?0:e.length:wn(C[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,n){var i=Vo(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=li(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=f.length)<n?Zo(e,t,Go,a.placeholder,o,u,f,o,o,n-s):_t(this&&this!==pt&&this instanceof a?i:e,this,u)}}(e,t,g):t!=c&&33!=t||p.length?Go.apply(o,C):function(e,t,n,o){var i=1&t,a=Vo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,f=r(l+u),d=this&&this!==pt&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++s];return _t(d,i?n:this,f)}}(e,t,n,a);else var S=function(e,t,n){var r=1&t,o=Vo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Bi((x?no:Mi)(S,C),e,t)}function ti(e,t,n,r){return e===o||Ga(e,Me[n])&&!Be.call(r,n)?t:e}function ni(e,t,n,r,i,a){return rs(e)&&rs(t)&&(a.set(t,e),Wr(e,t,o,ni,a),a.delete(t)),e}function ri(e){return ss(e)?o:e}function oi(e,t,n,r,i,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Zn:o;for(a.set(e,t),a.set(t,e);++d<u;){var m=e[d],g=t[d];if(r)var v=s?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(v!==o){if(v)continue;p=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Qt(h,t)&&(m===e||i(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ii(e){return Ri(Ti(e,o,Xi),e+"")}function ai(e){return Pr(e,Ns,mi)}function si(e){return Pr(e,Rs,gi)}var ui=kn?function(e){return kn.get(e)}:fu;function ci(e){for(var t=e.name+"",n=Mn[t],r=Be.call(Mn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function li(e){return(Be.call(zn,"placeholder")?zn:e).placeholder}function fi(){var e=zn.iteratee||su;return e=e===su?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function pi(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Oi(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Br(n)?n:o}var mi=yt?function(e){return null==e?[]:(e=Oe(e),Dt(yt(e),(function(t){return Ye.call(e,t)})))}:yu,gi=yt?function(e){for(var t=[];e;)Nt(t,mi(e)),e=Ke(e);return t}:yu,vi=Or;function yi(e,t,n){for(var r=-1,o=(t=Co(t,e)).length,i=!1;++r<o;){var a=Vi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ns(o)&&xi(a,o)&&(Ka(e)||qa(e))}function bi(e){return"function"!=typeof e.constructor||Pi(e)?{}:Gn(Ke(e))}function wi(e){return Ka(e)||qa(e)||!!(Je&&e&&e[Je])}function xi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function Ci(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&xi(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function Si(e,t){if(Ka(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Oe(t))}function Ai(e){var t=ci(e),n=zn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]}(Pn&&vi(new Pn(new ArrayBuffer(1)))!=R||On&&vi(new On)!=_||En&&vi(En.resolve())!=E||Tn&&vi(new Tn)!=D||Dn&&vi(new Dn)!=M)&&(vi=function(e){var t=Or(e),n=t==O?e.constructor:o,r=n?Ui(n):"";if(r)switch(r){case Nn:return R;case Rn:return _;case Bn:return E;case Ln:return D;case Fn:return M}return t});var _i=Ne?es:bu;function Pi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Oi(e){return e==e&&!rs(e)}function Ei(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Oe(n)))}}function Ti(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),_t(e,this,u)}}function Di(e,t){return t.length<2?e:_r(e,io(t,0,-1))}function Ii(e,t){for(var n=e.length,r=xn(t.length,n),i=ko(e);r--;){var a=t[r];e[r]=xi(a,n)?i[a]:o}return e}function ki(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Mi=Li(no),Ni=ht||function(e,t){return pt.setTimeout(e,t)},Ri=Li(ro);function Bi(e,t,n){var r=t+"";return Ri(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(v,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Li(e){var t=0,n=0;return function(){var r=Cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Fi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Zr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Vi(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ui(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zi(e){if(e instanceof qn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=ko(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Gi=$r((function(e,t){return Za(e)?pr(e,br(t,1,Za,!0)):[]})),Wi=$r((function(e,t){var n=Qi(t);return Za(n)&&(n=o),Za(e)?pr(e,br(t,1,Za,!0),fi(n,2)):[]})),Hi=$r((function(e,t){var n=Qi(t);return Za(n)&&(n=o),Za(e)?pr(e,br(t,1,Za,!0),o,n):[]}));function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vs(n);return o<0&&(o=wn(r+o,0)),Vt(e,fi(t,3),o)}function Ki(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vs(n),i=n<0?wn(r+i,0):xn(i,r-1)),Vt(e,fi(t,3),i,!0)}function Xi(e){return(null==e?0:e.length)?br(e,1):[]}function Yi(e){return e&&e.length?e[0]:o}var Zi=$r((function(e){var t=Mt(e,wo);return t.length&&t[0]===e[0]?Ir(t):[]})),Ji=$r((function(e){var t=Qi(e),n=Mt(e,wo);return t===Qi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ir(n,fi(t,2)):[]})),$i=$r((function(e){var t=Qi(e),n=Mt(e,wo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,o,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var ea=$r(ta);function ta(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var na=ii((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Yr(e,Mt(t,(function(e){return xi(e,n)?+e:e})).sort(To)),r}));function ra(e){return null==e?e:_n.call(e)}var oa=$r((function(e){return po(br(e,1,Za,!0))})),ia=$r((function(e){var t=Qi(e);return Za(t)&&(t=o),po(br(e,1,Za,!0),fi(t,2))})),aa=$r((function(e){var t=Qi(e);return t="function"==typeof t?t:o,po(br(e,1,Za,!0),o,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Za(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return Mt(e,Ht(t))}))}function ua(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Mt(n,(function(e){return _t(t,o,e)}))}var ca=$r((function(e,t){return Za(e)?pr(e,t):[]})),la=$r((function(e){return yo(Dt(e,Za))})),fa=$r((function(e){var t=Qi(e);return Za(t)&&(t=o),yo(Dt(e,Za),fi(t,2))})),da=$r((function(e){var t=Qi(e);return t="function"==typeof t?t:o,yo(Dt(e,Za),o,t)})),pa=$r(sa);var ha=$r((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ua(e,n)}));function ma(e){var t=zn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=ii((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&xi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[i],thisArg:o}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ya=No((function(e,t,n){Be.call(e,n)?++e[n]:sr(e,n,1)}));var ba=Uo(qi),wa=Uo(Ki);function xa(e,t){return(Ka(e)?Ot:hr)(e,fi(t,3))}function Ca(e,t){return(Ka(e)?Et:mr)(e,fi(t,3))}var Sa=No((function(e,t,n){Be.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Aa=$r((function(e,t,n){var o=-1,i="function"==typeof t,a=Ya(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?_t(t,e,n):kr(e,t,n)})),a})),_a=No((function(e,t,n){sr(e,n,t)}));function Pa(e,t){return(Ka(e)?Mt:Ur)(e,fi(t,3))}var Oa=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ci(e,t[0],t[1])?t=[]:n>2&&Ci(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,br(t,1),[])})),Ta=dt||function(){return pt.Date.now()};function Da(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,ei(e,f,o,o,o,o,t)}function Ia(e,t){var n;if("function"!=typeof t)throw new De(i);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ka=$r((function(e,t,n){var r=1;if(n.length){var o=ln(n,li(ka));r|=c}return ei(e,r,t,n,o)})),Ma=$r((function(e,t,n){var r=3;if(n.length){var o=ln(n,li(Ma));r|=c}return ei(t,r,e,n,o)}));function Na(e,t,n){var r,a,s,u,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new De(i);function m(t){var n=r,i=a;return r=a=o,f=t,u=e.apply(i,n)}function g(e){return f=e,c=Ni(y,t),d?m(e):u}function v(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=s}function y(){var e=Ta();if(v(e))return b(e);c=Ni(y,function(e){var n=t-(e-l);return p?xn(n,s-(e-f)):n}(e))}function b(e){return c=o,h&&r?m(e):(r=a=o,u)}function w(){var e=Ta(),n=v(e);if(r=arguments,a=this,l=e,n){if(c===o)return g(l);if(p)return _o(c),c=Ni(y,t),m(l)}return c===o&&(c=Ni(y,t)),u}return t=bs(t)||0,rs(n)&&(d=!!n.leading,s=(p="maxWait"in n)?wn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){c!==o&&_o(c),f=0,r=l=a=c=o},w.flush=function(){return c===o?u:b(Ta())},w}var Ra=$r((function(e,t){return dr(e,1,t)})),Ba=$r((function(e,t,n){return dr(e,bs(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(La.Cache||Yn),n}function Fa(e){if("function"!=typeof e)throw new De(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Yn;var ja=So((function(e,t){var n=(t=1==t.length&&Ka(t[0])?Mt(t[0],Jt(fi())):Mt(br(t,1),Jt(fi()))).length;return $r((function(r){for(var o=-1,i=xn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return _t(e,this,r)}))})),Va=$r((function(e,t){var n=ln(t,li(Va));return ei(e,c,o,t,n)})),Ua=$r((function(e,t){var n=ln(t,li(Ua));return ei(e,l,o,t,n)})),za=ii((function(e,t){return ei(e,d,o,o,o,t)}));function Ga(e,t){return e===t||e!=e&&t!=t}var Wa=Yo(Er),Ha=Yo((function(e,t){return e>=t})),qa=Mr(function(){return arguments}())?Mr:function(e){return os(e)&&Be.call(e,"callee")&&!Ye.call(e,"callee")},Ka=r.isArray,Xa=bt?Jt(bt):function(e){return os(e)&&Or(e)==N};function Ya(e){return null!=e&&ns(e.length)&&!es(e)}function Za(e){return os(e)&&Ya(e)}var Ja=Ft||bu,$a=wt?Jt(wt):function(e){return os(e)&&Or(e)==x};function Qa(e){if(!os(e))return!1;var t=Or(e);return t==C||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Or(e);return t==S||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function os(e){return null!=e&&"object"==typeof e}var is=xt?Jt(xt):function(e){return os(e)&&vi(e)==_};function as(e){return"number"==typeof e||os(e)&&Or(e)==P}function ss(e){if(!os(e)||Or(e)!=O)return!1;var t=Ke(e);if(null===t)return!0;var n=Be.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ve}var us=Ct?Jt(Ct):function(e){return os(e)&&Or(e)==T};var cs=St?Jt(St):function(e){return os(e)&&vi(e)==D};function ls(e){return"string"==typeof e||!Ka(e)&&os(e)&&Or(e)==I}function fs(e){return"symbol"==typeof e||os(e)&&Or(e)==k}var ds=At?Jt(At):function(e){return os(e)&&ns(e.length)&&!!at[Or(e)]};var ps=Yo(Vr),hs=Yo((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ya(e))return ls(e)?hn(e):ko(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=vi(e);return(t==_?un:t==D?fn:Gs)(e)}function gs(e){return e?(e=bs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?cr(vs(e),0,g):0}function bs(e){if("number"==typeof e)return e;if(fs(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||be.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?m:+e}function ws(e){return Mo(e,Rs(e))}function xs(e){return null==e?"":fo(e)}var Cs=Ro((function(e,t){if(Pi(t)||Ya(t))Mo(t,Ns(t),e);else for(var n in t)Be.call(t,n)&&rr(e,n,t[n])})),Ss=Ro((function(e,t){Mo(t,Rs(t),e)})),As=Ro((function(e,t,n,r){Mo(t,Rs(t),e,r)})),_s=Ro((function(e,t,n,r){Mo(t,Ns(t),e,r)})),Ps=ii(ur);var Os=$r((function(e,t){e=Oe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Ci(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Rs(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===o||Ga(f,Me[l])&&!Be.call(e,l))&&(e[l]=a[l])}return e})),Es=$r((function(e){return e.push(o,ni),_t(Ls,o,e)}));function Ts(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Ds(e,t){return null!=e&&yi(e,t,Dr)}var Is=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),ru(au)),ks=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Be.call(e,t)?e[t].push(n):e[t]=[n]}),fi),Ms=$r(kr);function Ns(e){return Ya(e)?$n(e):Fr(e)}function Rs(e){return Ya(e)?$n(e,!0):jr(e)}var Bs=Ro((function(e,t,n){Wr(e,t,n)})),Ls=Ro((function(e,t,n,r){Wr(e,t,n,r)})),Fs=ii((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=Co(t,e),r||(r=t.length>1),t})),Mo(e,si(e),n),r&&(n=lr(n,7,ri));for(var o=t.length;o--;)ho(n,t[o]);return n}));var js=ii((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return Ds(e,n)}))}(e,t)}));function Vs(e,t){if(null==e)return{};var n=Mt(si(e),(function(e){return[e]}));return t=fi(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Us=Qo(Ns),zs=Qo(Rs);function Gs(e){return null==e?[]:$t(e,Ns(e))}var Ws=jo((function(e,t,n){return t=t.toLowerCase(),e+(n?Hs(t):t)}));function Hs(e){return Qs(xs(e).toLowerCase())}function qs(e){return(e=xs(e))&&e.replace(xe,rn).replace(Qe,"")}var Ks=jo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=jo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Fo("toLowerCase");var Zs=jo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=jo((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var $s=jo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Fo("toUpperCase");function eu(e,t,n){return e=xs(e),(t=n?o:t)===o?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var tu=$r((function(e,t){try{return _t(e,o,t)}catch(e){return Qa(e)?e:new Ae(e)}})),nu=ii((function(e,t){return Ot(t,(function(t){t=Vi(t),sr(e,t,ka(e[t],e))})),e}));function ru(e){return function(){return e}}var ou=zo(),iu=zo(!0);function au(e){return e}function su(e){return Lr("function"==typeof e?e:lr(e,1))}var uu=$r((function(e,t){return function(n){return kr(n,e,t)}})),cu=$r((function(e,t){return function(n){return kr(e,n,t)}}));function lu(e,t,n){var r=Ns(t),o=Ar(t,r);null!=n||rs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Ar(t,Ns(t)));var i=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return Ot(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=ko(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function fu(){}var du=qo(Mt),pu=qo(Tt),hu=qo(Lt);function mu(e){return Si(e)?Ht(Vi(e)):function(e){return function(t){return _r(t,e)}}(e)}var gu=Xo(),vu=Xo(!0);function yu(){return[]}function bu(){return!1}var wu=Ho((function(e,t){return e+t}),0),xu=Jo("ceil"),Cu=Ho((function(e,t){return e/t}),1),Su=Jo("floor");var Au,_u=Ho((function(e,t){return e*t}),1),Pu=Jo("round"),Ou=Ho((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new De(i);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Da,zn.assign=Cs,zn.assignIn=Ss,zn.assignInWith=As,zn.assignWith=_s,zn.at=Ps,zn.before=Ia,zn.bind=ka,zn.bindAll=nu,zn.bindKey=Ma,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ka(e)?e:[e]},zn.chain=ma,zn.chunk=function(e,t,n){t=(n?Ci(e,t,n):t===o)?1:wn(vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=r(mt(i/t));a<i;)u[s++]=io(e,a,a+=t);return u},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(Ka(n)?ko(n):[n],br(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=fi();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new De(i);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var o=e[r];if(_t(o[0],this,n))return _t(o[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return fr(n,e,t)}}(lr(e,1))},zn.constant=ru,zn.countBy=ya,zn.create=function(e,t){var n=Gn(e);return null==t?n:ar(n,t)},zn.curry=function e(t,n,r){var i=ei(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},zn.curryRight=function e(t,n,r){var i=ei(t,u,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},zn.debounce=Na,zn.defaults=Os,zn.defaultsDeep=Es,zn.defer=Ra,zn.delay=Ba,zn.difference=Gi,zn.differenceBy=Wi,zn.differenceWith=Hi,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=n||t===o?1:vs(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,0,(t=r-(t=n||t===o?1:vs(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!0):[]},zn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ci(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=vs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vs(r))<0&&(r+=i),r=n>r?0:ys(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(Ka(e)?Dt:yr)(e,fi(t,3))},zn.flatMap=function(e,t){return br(Pa(e,t),1)},zn.flatMapDeep=function(e,t){return br(Pa(e,t),p)},zn.flatMapDepth=function(e,t,n){return n=n===o?1:vs(n),br(Pa(e,t),n)},zn.flatten=Xi,zn.flattenDeep=function(e){return(null==e?0:e.length)?br(e,p):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===o?1:vs(t)):[]},zn.flip=function(e){return ei(e,512)},zn.flow=ou,zn.flowRight=iu,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},zn.functions=function(e){return null==e?[]:Ar(e,Ns(e))},zn.functionsIn=function(e){return null==e?[]:Ar(e,Rs(e))},zn.groupBy=Sa,zn.initial=function(e){return(null==e?0:e.length)?io(e,0,-1):[]},zn.intersection=Zi,zn.intersectionBy=Ji,zn.intersectionWith=$i,zn.invert=Is,zn.invertBy=ks,zn.invokeMap=Aa,zn.iteratee=su,zn.keyBy=_a,zn.keys=Ns,zn.keysIn=Rs,zn.map=Pa,zn.mapKeys=function(e,t){var n={};return t=fi(t,3),Cr(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},zn.mapValues=function(e,t){var n={};return t=fi(t,3),Cr(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},zn.matches=function(e){return zr(lr(e,1))},zn.matchesProperty=function(e,t){return Gr(e,lr(t,1))},zn.memoize=La,zn.merge=Bs,zn.mergeWith=Ls,zn.method=uu,zn.methodOf=cu,zn.mixin=lu,zn.negate=Fa,zn.nthArg=function(e){return e=vs(e),$r((function(t){return Hr(t,e)}))},zn.omit=Fs,zn.omitBy=function(e,t){return Vs(e,Fa(fi(t)))},zn.once=function(e){return Ia(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(Ka(t)||(t=null==t?[]:[t]),Ka(n=r?o:n)||(n=null==n?[]:[n]),qr(e,t,n))},zn.over=du,zn.overArgs=ja,zn.overEvery=pu,zn.overSome=hu,zn.partial=Va,zn.partialRight=Ua,zn.partition=Oa,zn.pick=js,zn.pickBy=Vs,zn.property=mu,zn.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},zn.pull=ea,zn.pullAll=ta,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,fi(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,o,n):e},zn.pullAt=na,zn.range=gu,zn.rangeRight=vu,zn.rearg=za,zn.reject=function(e,t){return(Ka(e)?Dt:yr)(e,Fa(fi(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=fi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Yr(e,o),n},zn.rest=function(e,t){if("function"!=typeof e)throw new De(i);return $r(e,t=t===o?t:vs(t))},zn.reverse=ra,zn.sampleSize=function(e,t,n){return t=(n?Ci(e,t,n):t===o)?1:vs(t),(Ka(e)?er:eo)(e,t)},zn.set=function(e,t,n){return null==e?e:to(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:to(e,t,n,r)},zn.shuffle=function(e){return(Ka(e)?tr:oo)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ci(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===o?r:vs(n)),io(e,t,n)):[]},zn.sortBy=Ea,zn.sortedUniq=function(e){return e&&e.length?co(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?co(e,fi(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&Ci(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=fo(t))&&sn(e)?Ao(hn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new De(i);return t=null==t?0:wn(vs(t),0),$r((function(n){var r=n[t],o=Ao(n,0,t);return r&&Nt(o,r),_t(e,this,o)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?io(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?io(e,0,(t=n||t===o?1:vs(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=r-(t=n||t===o?1:vs(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?go(e,fi(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new De(i);return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},zn.thru=ga,zn.toArray=ms,zn.toPairs=Us,zn.toPairsIn=zs,zn.toPath=function(e){return Ka(e)?Mt(e,Vi):fs(e)?[e]:ko(ji(xs(e)))},zn.toPlainObject=ws,zn.transform=function(e,t,n){var r=Ka(e),o=r||Ja(e)||ds(e);if(t=fi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:rs(e)&&es(i)?Gn(Ke(e)):{}}return(o?Ot:Cr)(e,(function(e,r,o){return t(n,e,r,o)})),n},zn.unary=function(e){return Da(e,1)},zn.union=oa,zn.unionBy=ia,zn.unionWith=aa,zn.uniq=function(e){return e&&e.length?po(e):[]},zn.uniqBy=function(e,t){return e&&e.length?po(e,fi(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?po(e,o,t):[]},zn.unset=function(e,t){return null==e||ho(e,t)},zn.unzip=sa,zn.unzipWith=ua,zn.update=function(e,t,n){return null==e?e:mo(e,t,xo(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:mo(e,t,xo(n),r)},zn.values=Gs,zn.valuesIn=function(e){return null==e?[]:$t(e,Rs(e))},zn.without=ca,zn.words=eu,zn.wrap=function(e,t){return Va(xo(t),e)},zn.xor=la,zn.xorBy=fa,zn.xorWith=da,zn.zip=pa,zn.zipObject=function(e,t){return bo(e||[],t||[],rr)},zn.zipObjectDeep=function(e,t){return bo(e||[],t||[],to)},zn.zipWith=ha,zn.entries=Us,zn.entriesIn=zs,zn.extend=Ss,zn.extendWith=As,lu(zn,zn),zn.add=wu,zn.attempt=tu,zn.camelCase=Ws,zn.capitalize=Hs,zn.ceil=xu,zn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=bs(n))==n?n:0),t!==o&&(t=(t=bs(t))==t?t:0),cr(bs(e),t,n)},zn.clone=function(e){return lr(e,4)},zn.cloneDeep=function(e){return lr(e,5)},zn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:o)},zn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:o)},zn.conformsTo=function(e,t){return null==t||fr(e,t,Ns(t))},zn.deburr=qs,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=Cu,zn.endsWith=function(e,t,n){e=xs(e),t=fo(t);var r=e.length,i=n=n===o?r:cr(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},zn.eq=Ga,zn.escape=function(e){return(e=xs(e))&&J.test(e)?e.replace(Y,on):e},zn.escapeRegExp=function(e){return(e=xs(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},zn.every=function(e,t,n){var r=Ka(e)?Tt:gr;return n&&Ci(e,t,n)&&(t=o),r(e,fi(t,3))},zn.find=ba,zn.findIndex=qi,zn.findKey=function(e,t){return jt(e,fi(t,3),Cr)},zn.findLast=wa,zn.findLastIndex=Ki,zn.findLastKey=function(e,t){return jt(e,fi(t,3),Sr)},zn.floor=Su,zn.forEach=xa,zn.forEachRight=Ca,zn.forIn=function(e,t){return null==e?e:wr(e,fi(t,3),Rs)},zn.forInRight=function(e,t){return null==e?e:xr(e,fi(t,3),Rs)},zn.forOwn=function(e,t){return e&&Cr(e,fi(t,3))},zn.forOwnRight=function(e,t){return e&&Sr(e,fi(t,3))},zn.get=Ts,zn.gt=Wa,zn.gte=Ha,zn.has=function(e,t){return null!=e&&yi(e,t,Tr)},zn.hasIn=Ds,zn.head=Yi,zn.identity=au,zn.includes=function(e,t,n,r){e=Ya(e)?e:Gs(e),n=n&&!r?vs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),ls(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ut(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vs(n);return o<0&&(o=wn(r+o,0)),Ut(e,t,o)},zn.inRange=function(e,t,n){return t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<wn(t,n)}(e=bs(e),t,n)},zn.invoke=Ms,zn.isArguments=qa,zn.isArray=Ka,zn.isArrayBuffer=Xa,zn.isArrayLike=Ya,zn.isArrayLikeObject=Za,zn.isBoolean=function(e){return!0===e||!1===e||os(e)&&Or(e)==w},zn.isBuffer=Ja,zn.isDate=$a,zn.isElement=function(e){return os(e)&&1===e.nodeType&&!ss(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Ka(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ds(e)||qa(e)))return!e.length;var t=vi(e);if(t==_||t==D)return!e.size;if(Pi(e))return!Fr(e).length;for(var n in e)if(Be.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Nr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},zn.isError=Qa,zn.isFinite=function(e){return"number"==typeof e&&qt(e)},zn.isFunction=es,zn.isInteger=ts,zn.isLength=ns,zn.isMap=is,zn.isMatch=function(e,t){return e===t||Rr(e,t,pi(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Rr(e,t,pi(t),n)},zn.isNaN=function(e){return as(e)&&e!=+e},zn.isNative=function(e){if(_i(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Br(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=as,zn.isObject=rs,zn.isObjectLike=os,zn.isPlainObject=ss,zn.isRegExp=us,zn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},zn.isSet=cs,zn.isString=ls,zn.isSymbol=fs,zn.isTypedArray=ds,zn.isUndefined=function(e){return e===o},zn.isWeakMap=function(e){return os(e)&&vi(e)==M},zn.isWeakSet=function(e){return os(e)&&"[object WeakSet]"==Or(e)},zn.join=function(e,t){return null==e?"":yn.call(e,t)},zn.kebabCase=Ks,zn.last=Qi,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vs(n))<0?wn(r+i,0):xn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Vt(e,Gt,i,!0)},zn.lowerCase=Xs,zn.lowerFirst=Ys,zn.lt=ps,zn.lte=hs,zn.max=function(e){return e&&e.length?vr(e,au,Er):o},zn.maxBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Er):o},zn.mean=function(e){return Wt(e,au)},zn.meanBy=function(e,t){return Wt(e,fi(t,2))},zn.min=function(e){return e&&e.length?vr(e,au,Vr):o},zn.minBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Vr):o},zn.stubArray=yu,zn.stubFalse=bu,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=_u,zn.nth=function(e,t){return e&&e.length?Hr(e,vs(t)):o},zn.noConflict=function(){return pt._===this&&(pt._=Ue),this},zn.noop=fu,zn.now=Ta,zn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(vt(o),n)+e+Ko(mt(o),n)},zn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},zn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(xs(e).replace(ae,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ci(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=gs(e),t===o?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=An();return xn(e+i*(t-e+ct("1e-"+((i+"").length-1))),t)}return Zr(e,t)},zn.reduce=function(e,t,n){var r=Ka(e)?Rt:Kt,o=arguments.length<3;return r(e,fi(t,4),n,o,hr)},zn.reduceRight=function(e,t,n){var r=Ka(e)?Bt:Kt,o=arguments.length<3;return r(e,fi(t,4),n,o,mr)},zn.repeat=function(e,t,n){return t=(n?Ci(e,t,n):t===o)?1:vs(t),Jr(xs(e),t)},zn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,i=(t=Co(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Vi(t[r])];a===o&&(r=i,a=n),e=es(a)?a.call(e):a}return e},zn.round=Pu,zn.runInContext=e,zn.sample=function(e){return(Ka(e)?Qn:Qr)(e)},zn.size=function(e){if(null==e)return 0;if(Ya(e))return ls(e)?pn(e):e.length;var t=vi(e);return t==_||t==D?e.size:Fr(e).length},zn.snakeCase=Zs,zn.some=function(e,t,n){var r=Ka(e)?Lt:ao;return n&&Ci(e,t,n)&&(t=o),r(e,fi(t,3))},zn.sortedIndex=function(e,t){return so(e,t)},zn.sortedIndexBy=function(e,t,n){return uo(e,t,fi(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Ga(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return so(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return uo(e,t,fi(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=so(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},zn.startCase=Js,zn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:cr(vs(n),0,e.length),t=fo(t),e.slice(n,n+t.length)==t},zn.subtract=Ou,zn.sum=function(e){return e&&e.length?Xt(e,au):0},zn.sumBy=function(e,t){return e&&e.length?Xt(e,fi(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&Ci(e,t,n)&&(t=o),e=xs(e),t=As({},t,r,ti);var i,a,s=As({},t.imports,r.imports,ti),u=Ns(s),c=$t(s,u),l=0,f=t.interpolate||Ce,d="__p += '",p=Ee((t.escape||Ce).source+"|"+f.source+"|"+(f===ee?he:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),h="//# sourceURL="+(Be.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(l,u).replace(Se,an),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var m=Be.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new Ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(q,"$1").replace(K,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=tu((function(){return _e(u,h+"return "+d).apply(o,c)}));if(g.source=d,Qa(g))throw g;return g},zn.times=function(e,t){if((e=vs(e))<1||e>h)return[];var n=g,r=xn(e,g);t=fi(t),e-=g;for(var o=Yt(r,t);++n<e;)t(n);return o},zn.toFinite=gs,zn.toInteger=vs,zn.toLength=ys,zn.toLower=function(e){return xs(e).toLowerCase()},zn.toNumber=bs,zn.toSafeInteger=function(e){return e?cr(vs(e),-9007199254740991,h):0===e?e:0},zn.toString=xs,zn.toUpper=function(e){return xs(e).toUpperCase()},zn.trim=function(e,t,n){if((e=xs(e))&&(n||t===o))return Zt(e);if(!e||!(t=fo(t)))return e;var r=hn(e),i=hn(t);return Ao(r,en(r,i),tn(r,i)+1).join("")},zn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=fo(t)))return e;var r=hn(e);return Ao(r,0,tn(r,hn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=fo(t)))return e;var r=hn(e);return Ao(r,en(r,hn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var i="separator"in t?t.separator:i;n="length"in t?vs(t.length):n,r="omission"in t?fo(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(n>=a)return e;var u=n-pn(r);if(u<1)return r;var c=s?Ao(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),us(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=Ee(i.source,xs(me.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;c=c.slice(0,d===o?u:d)}}else if(e.indexOf(fo(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},zn.unescape=function(e){return(e=xs(e))&&Z.test(e)?e.replace(X,gn):e},zn.uniqueId=function(e){var t=++Le;return xs(e)+t},zn.upperCase=$s,zn.upperFirst=Qs,zn.each=xa,zn.eachRight=Ca,zn.first=Yi,lu(zn,(Au={},Cr(zn,(function(e,t){Be.call(zn.prototype,t)||(Au[t]=e)})),Au),{chain:!1}),zn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Ot(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===o?1:wn(vs(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:fi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(au)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return kr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Fa(fi(e)))},qn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(g)},Cr(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=zn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof qn,c=s[0],l=u||Ka(t),f=function(e){var t=i.apply(zn,Nt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,m=u&&!p;if(!a&&l){t=m?t:new qn(this);var g=e.apply(t,s);return g.__actions__.push({func:ga,args:[f],thisArg:o}),new Hn(g,d)}return h&&m?e.apply(this,s):(g=this.thru(f),h?r?g.value()[0]:g.value():g)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ka(o)?o:[],e)}return this[n]((function(n){return t.apply(Ka(n)?n:[],e)}))}})),Cr(qn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Be.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[Go(o,2).name]=[{name:"wrapper",func:o}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=ko(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ko(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ko(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ka(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,p=xn(u,this.__takeCount__);if(!n||!r&&o==u&&p==u)return vo(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var m=-1,g=e[c+=t];++m<f;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[d++]=g}return h},zn.prototype.at=va,zn.prototype.chain=function(){return ma(this)},zn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===o&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=zi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:o}),new Hn(t,this.__chain__)}return this.thru(ra)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,et&&(zn.prototype[et]=function(){return this}),zn}();pt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},2790:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},600:(e,t,n)=>{var r=n(906),o=n(1930),i=n(7319),a=n(866),s=n(8217),u=n(4977),c=n(6084);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=a,c.xor4096=s,c.tychei=u,e.exports=c},906:function(e,t,n){var r;!function(e,o,i){function a(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},4977:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},1930:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},8217:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},866:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},7319:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},6084:function(e,t,n){var r;!function(o,i,a){var s,u=256,c=a.pow(u,6),l=a.pow(2,52),f=2*l,d=255;function p(e,t,n){var r=[],d=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,v(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(b,d,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<u;)a[o]=o++;for(o=0;o<u;o++)a[o]=a[i=d&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=d&o+1],n=n*u+a[d&(a[o]=a[i=d&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function v(e,t){for(var n,r=e+"",o=0;o<r.length;)t[d&o]=d&(n^=19*t[d&o])+r.charCodeAt(o++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(a.random(),i),e.exports){e.exports=p;try{s=n(5042)}catch(e){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},5812:(e,t,n)=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return{eq:e}},o=r((function(e,t){return e===t})),i=function(e){return r((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},a=function(e,t){return function(e,t){return r((function(n,r){return e.eq(t(n),t(r))}))}(i(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},s=function(e){return r((function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!a(o).eq(r,i))return!1;for(var s=r.length,u=0;u<s;u++){var c=r[u];if(!e.eq(t[c],n[c]))return!1}return!0}))},u=r((function(e,n){if(e===n)return!0;var r=t(e);return r===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(r)?e===n:"array"===r?i(u).eq(e,n):"object"===r&&s(u).eq(e,n))})),c=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},l=function(e){return function(t){return typeof t===e}},f=function(e){return function(t){return e===t}},d=c("string"),p=c("object"),h=c("array"),m=f(null),g=l("boolean"),v=f(void 0),y=function(e){return null==e},b=function(e){return!y(e)},w=l("function"),x=l("number"),C=function(){},S=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},A=function(e){return function(){return e}},_=function(e){return e};function P(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var O=function(e){return function(t){return!e(t)}},E=function(e){return function(){throw new Error(e)}},T=function(e){return e()},D=function(e){e()},I=A(!1),k=A(!0),M=function(){return N},N=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:I,isSome:I,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:n,orThunk:t,map:M,each:C,bind:M,exists:I,forall:k,filter:M,equals:e,equals_:e,toArray:function(){return[]},toString:A("none()")}}(),R=function(e){var t=A(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:k,isNone:I,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return R(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:N},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(I,(function(t){return n(e,t)}))}};return o},B={some:R,none:M,from:function(e){return null==e?N:R(e)}},L=Array.prototype.slice,F=Array.prototype.indexOf,j=Array.prototype.push,V=function(e,t){return F.call(e,t)},U=function(e,t){return V(e,t)>-1},z=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},G=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},H=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},q=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},K=function(e,t,n){return H(e,(function(e){n=t(n,e)})),n},X=function(e,t,n){return W(e,(function(e){n=t(n,e)})),n},Y=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return B.some(i);if(n(i,r))break}return B.none()}(e,t,I)},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return B.some(n)}return B.none()},J=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!h(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);j.apply(t,e[n])}return t}(G(e,t))},$=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Q=function(e){var t=L.call(e,0);return t.reverse(),t},ee=function(e,t){return q(e,(function(e){return!U(t,e)}))},te=function(e,t){return t>=0&&t<e.length?B.some(e[t]):B.none()},ne=function(e){return te(e,0)},re=function(e){return te(e,e.length-1)},oe=w(Array.from)?Array.from:function(e){return L.call(e)},ie=Object.keys,ae=Object.hasOwnProperty,se=function(e,t){for(var n=ie(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},ue=function(e,t){return ce(e,(function(e,n){return{k:n,v:t(e,n)}}))},ce=function(e,t){var n={};return se(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},le=function(e){return function(t,n){e[n]=t}},fe=function(e,t,n,r){return se(e,(function(e,o){(t(e,o)?n:r)(e,o)})),{}},de=function(e,t){var n={},r={};return fe(e,t,le(n),le(r)),{t:n,f:r}},pe=function(e,t){var n={};return fe(e,t,le(n),C),n},he=function(e){return function(e,t){var n=[];return se(e,(function(e,r){n.push(t(e,r))})),n}(e,(function(e){return e}))},me=function(e,t){return ge(e,t)?B.from(e[t]):B.none()},ge=function(e,t){return ae.call(e,t)},ve=function(e,t){return ge(e,t)&&void 0!==e[t]&&null!==e[t]},ye=Array.isArray,be=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},we=function(e,t){var n=[];return be(e,(function(r,o){n.push(t(r,o,e))})),n},xe=function(e,t){var n=[];return be(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n},Ce=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Se=function(e,t,n,r){for(var o=v(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},Ae=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},_e=function(e){return e[e.length-1]},Pe=function(){return(Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Oe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var Ee=function(){return Te(0,0)},Te=function(e,t){return{major:e,minor:t}},De={nu:Te,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ee():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Te(r(1),r(2))}(e,n)},unknown:Ee},Ie=function(e,t){var n=String(t).toLowerCase();return Y(e,(function(e){return e.search(n)}))},ke=function(e,t){return Ie(e,t).map((function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Me=function(e,t){return Ie(e,t).map((function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Ne=function(e,t){return-1!==e.indexOf(t)},Re=function(e,t){return function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(e,t,0)},Be=function(e){return function(t){return t.replace(e,"")}},Le=Be(/^\s+|\s+$/g),Fe=Be(/^\s+/g),je=Be(/\s+$/g),Ve=function(e){return e.length>0},Ue=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ze=function(e){return function(t){return Ne(t,e)}},Ge=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ne(e,"edge/")&&Ne(e,"chrome")&&Ne(e,"safari")&&Ne(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ue],search:function(e){return Ne(e,"chrome")&&!Ne(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ne(e,"msie")||Ne(e,"trident")}},{name:"Opera",versionRegexes:[Ue,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ze("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ze("firefox")},{name:"Safari",versionRegexes:[Ue,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ne(e,"safari")||Ne(e,"mobile/"))&&Ne(e,"applewebkit")}}],We=[{name:"Windows",search:ze("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ne(e,"iphone")||Ne(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ze("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ze("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ze("linux"),versionRegexes:[]},{name:"Solaris",search:ze("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ze("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ze("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],He={browsers:A(Ge),oses:A(We)},qe="Edge",Ke="Chrome",Xe="Opera",Ye="Firefox",Ze="Safari",Je=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(qe),isChrome:r(Ke),isIE:r("IE"),isOpera:r(Xe),isFirefox:r(Ye),isSafari:r(Ze)}},$e={unknown:function(){return Je({current:void 0,version:De.unknown()})},nu:Je,edge:A(qe),chrome:A(Ke),ie:A("IE"),opera:A(Xe),firefox:A(Ye),safari:A(Ze)},Qe="Windows",et="Android",tt="Linux",nt="Solaris",rt="FreeBSD",ot="ChromeOS",it=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Qe),isiOS:r("iOS"),isAndroid:r(et),isOSX:r("OSX"),isLinux:r(tt),isSolaris:r(nt),isFreeBSD:r(rt),isChromeOS:r(ot)}},at={unknown:function(){return it({current:void 0,version:De.unknown()})},nu:it,windows:A(Qe),ios:A("iOS"),android:A(et),linux:A(tt),osx:A("OSX"),solaris:A(nt),freebsd:A(rt),chromeos:A(ot)},st=function(e,t){var n=He.browsers(),r=He.oses(),o=ke(n,e).fold($e.unknown,$e.nu),i=Me(r,e).fold(at.unknown,at.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!l;return{isiPad:A(o),isiPhone:A(i),isTablet:A(u),isPhone:A(c),isTouch:A(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(l),isDesktop:A(f)}}(i,o,e,t);return{browser:o,os:i,deviceType:a}},ut=function(e){return window.matchMedia(e).matches},ct=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}((function(){return st(navigator.userAgent,ut)})),lt=function(){return ct()},ft=navigator.userAgent,dt=lt(),pt=dt.browser,ht=dt.os,mt=dt.deviceType,gt=/WebKit/.test(ft)&&!pt.isEdge(),vt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,yt=-1!==ft.indexOf("Windows Phone"),bt={opera:pt.isOpera(),webkit:gt,ie:!(!pt.isIE()&&!pt.isEdge())&&pt.version.major,gecko:pt.isFirefox(),mac:ht.isOSX()||ht.isiOS(),iOS:mt.isiPad()||mt.isiPhone(),android:ht.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:pt.isIE()?document.documentMode||7:10,fileApi:vt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pt.isIE(),desktop:mt.isDesktop(),windowsPhone:yt,browser:{current:pt.current,version:pt.version,isChrome:pt.isChrome,isEdge:pt.isEdge,isFirefox:pt.isFirefox,isIE:pt.isIE,isOpera:pt.isOpera,isSafari:pt.isSafari},os:{current:ht.current,version:ht.version,isAndroid:ht.isAndroid,isChromeOS:ht.isChromeOS,isFreeBSD:ht.isFreeBSD,isiOS:ht.isiOS,isLinux:ht.isLinux,isOSX:ht.isOSX,isSolaris:ht.isSolaris,isWindows:ht.isWindows},deviceType:{isDesktop:mt.isDesktop,isiPad:mt.isiPad,isiPhone:mt.isiPhone,isPhone:mt.isPhone,isTablet:mt.isTablet,isTouch:mt.isTouch,isWebView:mt.isWebView}},wt=/^\s*|\s*$/g,xt=function(e){return null==e?"":(""+e).replace(wt,"")},Ct=function(e,t){return t?!("array"!==t||!ye(e))||typeof e===t:void 0!==e},St=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),be(e,(function(e,o){if(!1===t.call(r,e,o,n))return!1;St(e,t,n,r)})))},At={trim:xt,isArray:ye,is:Ct,toArray:function(e){if(ye(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:be,map:we,grep:xe,inArray:Ce,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},create:function(e,t,n){var r,o,i,a=this,s=0,u=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[u]){if("static"===e[2])return c[u]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[u]));t[u]||(t[u]=function(){},s=1),c[u]=t[u],a.extend(c[u].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[u],c[u]=s?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[u].prototype[u]=c[u],a.each(r,(function(e,t){c[u].prototype[t]=r[t]})),a.each(t,(function(e,t){r[t]?c[u].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==u&&(c[u].prototype[t]=e)}))),a.each(t.static,(function(e,t){c[u][t]=e}))}},walk:St,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Ct(e,"array")?e:we(e.split(t||","),xt)},_addCacheSuffix:function(e){var t=bt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},_t=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Pt={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return _t(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return _t(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return _t(n)},fromDom:_t,fromPoint:function(e,t,n){return B.from(e.dom.elementFromPoint(t,n)).map(_t)}},Ot=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Et=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Tt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Dt=function(e,t){return e.dom===t.dom},It=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},kt=function(e,t){return lt().browser.isIE()?It(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},Mt=("undefined"!=typeof window?window:Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),Nt=function(e){return e.dom.nodeType},Rt=function(e){return function(t){return Nt(t)===e}},Bt=Rt(1),Lt=Rt(3),Ft=Rt(9),jt=Rt(11),Vt=function(e){return Pt.fromDom(e.dom.ownerDocument)},Ut=function(e){return Ft(e)?e:Vt(e)},zt=function(e){return Pt.fromDom(Ut(e).dom.defaultView)},Gt=function(e){return B.from(e.dom.parentNode).map(Pt.fromDom)},Wt=function(e){return B.from(e.dom.previousSibling).map(Pt.fromDom)},Ht=function(e){return B.from(e.dom.nextSibling).map(Pt.fromDom)},qt=function(e){return Q(Ot(e,Wt))},Kt=function(e){return Ot(e,Ht)},Xt=function(e){return G(e.dom.childNodes,Pt.fromDom)},Yt=function(e,t){var n=e.dom.childNodes;return B.from(n[t]).map(Pt.fromDom)},Zt=function(e){return Yt(e,0)},Jt=function(e){return Yt(e,e.dom.childNodes.length-1)},$t=function(e){return jt(e)&&b(e.dom.host)},Qt=w(Element.prototype.attachShadow)&&w(Node.prototype.getRootNode),en=A(Qt),tn=Qt?function(e){return Pt.fromDom(e.dom.getRootNode())}:Ut,nn=function(e){return $t(e)?e:function(e){var t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return Pt.fromDom(t)}(Ut(e))},rn=function(e){return Pt.fromDom(e.dom.host)},on=function(e){return b(e.dom.shadowRoot)},an=function(e,t){Gt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},sn=function(e,t){Ht(e).fold((function(){Gt(e).each((function(e){cn(e,t)}))}),(function(e){an(e,t)}))},un=function(e,t){Zt(e).fold((function(){cn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},cn=function(e,t){e.dom.appendChild(t.dom)},ln=function(e,t){W(t,(function(t){cn(e,t)}))},fn=function(e){e.dom.textContent="",W(Xt(e),(function(e){dn(e)}))},dn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},pn=function(e){var t,n=Xt(e);n.length>0&&(t=e,W(n,(function(e){an(t,e)}))),dn(e)},hn=function(e){var t=Lt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return function(e){var t=tn(e);return $t(t)?B.some(t):B.none()}(Pt.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=hn,r=rn,function(e){return n(r(e))}))},mn=function(e,t){return{left:e,top:t,translate:function(n,r){return mn(e+n,t+r)}}},gn=mn,vn=function(e,t){return void 0!==e?e:void 0!==t?t:0},yn=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?gn(n.offsetLeft,n.offsetTop):hn(e)?function(e){var t=e.getBoundingClientRect();return gn(t.left,t.top)}(t):gn(0,0)},bn=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return gn(n,r)},wn=function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},xn=function(e,t){lt().browser.isSafari()&&w(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Cn=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Sn=function(e){var t=void 0===e?window:e,n=t.document,r=bn(Pt.fromDom(n));return function(e){var t=void 0===e?window:e;return B.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Cn(r.left,r.top,n,o)}),(function(e){return Cn(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},An=function(e){return function(t){return!!t&&t.nodeType===e}},_n=function(e){return!!e&&!Object.getPrototypeOf(e)},Pn=An(1),On=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return U(t,n)}return!1}},En=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(Pn(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},Tn=function(e){return function(t){return Pn(t)&&t.hasAttribute(e)}},Dn=function(e){return Pn(e)&&e.hasAttribute("data-mce-bogus")},In=function(e){return Pn(e)&&"TABLE"===e.tagName},kn=function(e){return function(t){if(Pn(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Mn=On(["textarea","input"]),Nn=An(3),Rn=An(8),Bn=An(9),Ln=An(11),Fn=On(["br"]),jn=On(["img"]),Vn=kn("true"),Un=kn("false"),zn=On(["td","th"]),Gn=On(["video","audio","object","embed"]),Wn=function(e){return void 0!==e.style&&w(e.style.getPropertyValue)},Hn=function(e,t,n){if(!(d(n)||g(n)||x(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},qn=function(e,t,n){Hn(e.dom,t,n)},Kn=function(e,t){var n=e.dom;se(t,(function(e,t){Hn(n,t,e)}))},Xn=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Yn=function(e,t){return B.from(Xn(e,t))},Zn=function(e,t){e.dom.removeAttribute(t)},Jn=function(e,t){var n=e.dom;se(t,(function(e,t){!function(e,t,n){if(!d(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Wn(e)&&e.style.setProperty(t,n)}(n,t,e)}))},$n=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||hn(e)?r:Qn(n,t)},Qn=function(e,t){return Wn(e)?e.style.getPropertyValue(t):""},er=function(e,t){var n=e.dom,r=Qn(n,t);return B.from(r).filter((function(e){return e.length>0}))},tr=function(e){var t={},n=e.dom;if(Wn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},nr=lt().browser,rr=function(e){return Y(e,Bt)},or=function(e,t){return e.children&&U(e.children,t)},ir=function(e,t,n){var r,o,i=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===$n(Pt.fromDom(e),"position"))return{x:i=(o=t.getBoundingClientRect()).left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,y:a=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType&&!or(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!or(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=function(e){return nr.isFirefox()&&"table"===Mt(e)?rr(Xt(e)).filter((function(e){return"caption"===Mt(e)})).bind((function(e){return rr(Kt(e)).map((function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(Pt.fromDom(t))}return{x:i,y:a}},ar={},sr={exports:ar};!function(e,t,r,o){!function(o){if("object"==typeof t&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof o&&o;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,(function(e){return i(t[s][1][e]||e)}),f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||f||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}else(1===e._state?s:u)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var r,o}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,ar,sr,void 0);var ur=sr.exports.boltExport,cr=function(e){var t=B.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){W(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){o()||(t=B.some(e),i(n),n=[])})),{get:r,map:function(e){return cr((function(t){r((function(n){t(e(n))}))}))},isReady:o}},lr={nu:cr,pure:function(e){return cr((function(t){t(e)}))}},fr=function(e){setTimeout((function(){throw e}),0)},dr=function(e){var t=function(t){e().then(t,fr)};return{map:function(t){return dr((function(){return e().then(t)}))},bind:function(t){return dr((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return dr((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return lr.nu(t)},toCached:function(){var t=null;return dr((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},pr=function(e){return dr((function(){return new ur(e)}))},hr=function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):W(e,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}}(i))}))}))},mr=function(e){return{is:function(t){return e===t},isValue:k,isError:I,getOr:A(e),getOrThunk:A(e),getOrDie:A(e),or:function(t){return mr(e)},orThunk:function(t){return mr(e)},fold:function(t,n){return n(e)},map:function(t){return mr(t(e))},mapError:function(t){return mr(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return B.some(e)}}},gr=function(e){return{is:I,isValue:I,isError:k,getOr:_,getOrThunk:function(e){return e()},getOrDie:function(){return E(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return gr(e)},mapError:function(t){return gr(t(e))},each:C,bind:function(t){return gr(e)},exists:I,forall:k,toOptional:B.none}},vr={value:mr,error:gr,fromOption:function(e,t){return e.fold((function(){return gr(t)}),mr)}},yr=function(e){if(!h(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(r,o){var i=ie(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!h(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+i);var u=function(e){var r=ie(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!$(t,(function(e){return U(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},br=(yr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(_,_)});function wr(e,t,n,r,o){return e(n,r)?B.some(n):w(o)&&o(n)?B.none():t(n,r,o)}var xr,Cr,Sr,Ar,_r,Pr,Or,Er,Tr,Dr,Ir,kr,Mr,Nr,Rr,Br,Lr,Fr,jr,Vr,Ur=function(e,t,n){for(var r=e.dom,o=w(n)?n:I;r.parentNode;){r=r.parentNode;var i=Pt.fromDom(r);if(t(i))return B.some(i);if(o(i))break}return B.none()},zr=function(e,t,n){return wr((function(e,t){return t(e)}),Ur,e,t,n)},Gr=function(e,t){return Y(e.dom.childNodes,(function(e){return t(Pt.fromDom(e))})).map(Pt.fromDom)},Wr=function(e,t,n){return Ur(e,(function(e){return Et(e,t)}),n)},Hr=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Tt(n)?B.none():B.from(n.querySelector(e)).map(Pt.fromDom)}(t,e)},qr=function(e,t,n){return wr((function(e,t){return Et(e,t)}),Wr,e,t,n)},Kr=window.Promise?window.Promise:function(){var e=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(t,n)}},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,e(i,this),e(a,this))},r=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)};function o(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void c(e(n,t),e(i,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}var c=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}};return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n((function(n,i){o.call(r,new u(e,t,n,i))}))},n.all=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=Array.prototype.slice.call(1===e.length&&t(e[0])?e[0]:e);return new n((function(e,t){if(0===o.length)return e([]);for(var n=o.length,r=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(i,e)}),t)}o[i]=a,0==--n&&e(o)}catch(e){t(e)}},i=0;i<o.length;i++)r(i,o[i])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},n}(),Xr=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Yr=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Zr=function(e,t){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=Xr((function(){e.apply(this,r)}),t)};return r.stop=function(){clearTimeout(n)},r},Jr={requestAnimationFrame:function(e,t){xr?xr.then(e):xr=new Kr((function(e){t||(t=document.body),function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];n||(n=function(e){window.setTimeout(e,0)}),n(e,t)}(e,t)})).then(e)},setTimeout:Xr,setInterval:Yr,setEditorTimeout:function(e,t,n){return Xr((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=Yr((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:Zr,throttle:Zr,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},$r=function(e,t){void 0===t&&(t={});var n=0,r={},o=Pt.fromDom(e),i=Ut(o),a=t.maxLoadTime||5e3,s=function(s,u,c){var l,f=At._addCacheSuffix(s),d=function(e){return me(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))}(f);r[f]=d,d.count++;var p=function(e,t){for(var n=e.length;n--;)e[n]();d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=function(){return p(d.passed,2)},m=function(){return p(d.failed,3)},g=function(){var t;t=g,function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===l.id)return h(),!0}return!1}()||(Date.now()-b<a?Jr.setTimeout(t):m())};if(u&&d.passed.push(u),c&&d.failed.push(c),1!==d.status)if(2!==d.status)if(3!==d.status){d.status=1;var v=Pt.fromTag("link",i.dom);Kn(v,{rel:"stylesheet",type:"text/css",id:d.id});var y,b=Date.now();t.contentCssCors&&qn(v,"crossOrigin","anonymous"),t.referrerPolicy&&qn(v,"referrerpolicy",t.referrerPolicy),(l=v.dom).onload=g,l.onerror=m,y=v,cn(nn(o),y),qn(v,"href",f)}else m();else h()},u=function(e){return pr((function(t){s(e,S(t,A(vr.value(e))),S(t,A(vr.error(e))))}))},c=function(e){var t=At._addCacheSuffix(e);me(r,t).each((function(e){var n,i;0===--e.count&&(delete r[t],n=e.id,i=nn(o),Hr(i,"#"+n).each(dn))}))};return{load:s,loadAll:function(e,t,n){var r;(r=G(e,u),hr(r,pr)).get((function(e){var r=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(br)):t(r.pass.map(br))}))},unload:c,unloadAll:function(e){W(e,(function(e){c(e)}))},_setReferrerPolicy:function(e){t.referrerPolicy=e}}},Qr=function(){var e=new WeakMap;return{forElement:function(t,n){var r=tn(t).dom;return B.from(e.get(r)).getOrThunk((function(){var t=$r(r,n);return e.set(r,t),t}))}}}(),eo=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),to=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,k)).hasOwnProperty(Mt(n))}},no=to(["h1","h2","h3","h4","h5","h6"]),ro=to(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),oo=function(e){return Bt(e)&&!ro(e)},io=function(e){return Bt(e)&&"br"===Mt(e)},ao=to(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),so=to(["ul","ol","dl"]),uo=to(["li","dd","dt"]),co=to(["thead","tbody","tfoot"]),lo=to(["td","th"]),fo=to(["pre","script","textarea","style"]),po="",ho="\ufeff",mo=function(e){return"\ufeff"===e},go=function(e){return e.replace(/\uFEFF/g,"")},vo=Pn,yo=Nn,bo=function(e){return yo(e)&&(e=e.parentNode),vo(e)&&e.hasAttribute("data-mce-caret")},wo=function(e){return yo(e)&&mo(e.data)},xo=function(e){return bo(e)||wo(e)},Co=function(e){return e.firstChild!==e.lastChild||!Fn(e.firstChild)},So=function(e){var t=e.container();return!!Nn(t)&&(t.data.charAt(e.offset())===ho||e.isAtStart()&&wo(t.previousSibling))},Ao=function(e){var t=e.container();return!!Nn(t)&&(t.data.charAt(e.offset()-1)===ho||e.isAtEnd()&&wo(t.nextSibling))},_o=function(e,t,n){var r,o=t.ownerDocument.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Po=function(e){return yo(e)&&e.data[0]===ho},Oo=function(e){return yo(e)&&e.data[e.data.length-1]===ho},Eo=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],Dn(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},To=Vn,Do=Un,Io=Fn,ko=Nn,Mo=On(["script","style","textarea"]),No=On(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ro=On(["table"]),Bo=xo,Lo=function(e){return!Bo(e)&&(ko(e)?!Mo(e.parentNode):No(e)||Io(e)||Ro(e)||Fo(e))},Fo=function(e){return!1===function(e){return Pn(e)&&"true"===e.getAttribute("unselectable")}(e)&&Do(e)},jo=function(e,t){return Lo(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Fo(e))return!1;if(To(e))return!0}return!0}(e,t)},Vo=/^[ \t\r\n]*$/,Uo=function(e){return Vo.test(e)},zo=function(e,t){var n,r,o,i=Pt.fromDom(t),a=Pt.fromDom(e);return n=a,r="pre,code",o=P(Dt,i),Wr(n,r,o).isSome()},Go=function(e,t){return Lo(e)&&!1===function(e,t){return Nn(e)&&Uo(e.data)&&!1===zo(e,t)}(e,t)||function(e){return Pn(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}(e)||Wo(e)},Wo=Tn("data-mce-bookmark"),Ho=Tn("data-mce-bogus"),qo=(Cr="data-mce-bogus",Sr="all",function(e){return Pn(e)&&e.getAttribute(Cr)===Sr}),Ko=function(e,t){return void 0===t&&(t=!0),function(e,t){var n,r=0;if(Go(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new eo(n,e);do{if(t){if(qo(n)){n=o.next(!0);continue}if(Ho(n)){n=o.next();continue}}if(Fn(n))r++,n=o.next();else{if(Go(n,e))return!1;n=o.next()}}while(n);return r<=1}(e.dom,t)},Xo=function(e,t){return b(e)&&(Go(e,t)||oo(Pt.fromDom(e)))},Yo=function(e){return function(e){return"span"===e.nodeName.toLowerCase()}(e)&&"bookmark"===e.getAttribute("data-mce-type")},Zo=function(e,t){return Nn(e)&&e.data.length>0&&function(e,t){var n=new eo(e,t).prev(!1),r=new eo(e,t).next(!1),o=v(n)||Xo(n,t),i=v(r)||Xo(r,t);return o&&i}(e,t)},Jo=function(e,t,n){var r=n||t;if(Pn(t)&&Yo(t))return t;for(var o=t.childNodes,i=o.length-1;i>=0;i--)Jo(e,o[i],r);if(Pn(t)){var a=t.childNodes;1===a.length&&Yo(a[0])&&t.parentNode.insertBefore(a[0],t)}return function(e){return Ln(e)||Bn(e)}(t)||Go(t,r)||function(e){return!!Pn(e)&&e.childNodes.length>0}(t)||Zo(t,r)||e.remove(t),t},$o=At.makeMap,Qo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ei=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ti=/[<>&\"\']/g,ni=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ri={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},oi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ii={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ai=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),oi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},si=ai("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ui=function(e,t){return e.replace(t?Qo:ei,(function(e){return oi[e]||e}))},ci=function(e,t){return e.replace(t?Qo:ei,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":oi[e]||"&#"+e.charCodeAt(0)+";"}))},li=function(e,t,n){return n=n||si,e.replace(t?Qo:ei,(function(e){return oi[e]||n[e]||e}))},fi={encodeRaw:ui,encodeAllRaw:function(e){return(""+e).replace(ti,(function(e){return oi[e]||e}))},encodeNumeric:ci,encodeNamed:li,getEncodeFunc:function(e,t){var n=ai(t)||si,r=$o(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?Qo:ei,(function(e){return void 0!==oi[e]?oi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:r.named?t?function(e,t){return li(e,t,n)}:li:r.numeric?ci:ui},decode:function(e){return e.replace(ni,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ri[t]||String.fromCharCode(t):ii[e]||si[e]||function(e){var t=Pt.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e}(e)}))}},di={},pi={},hi=At.makeMap,mi=At.each,gi=At.extend,vi=At.explode,yi=At.inArray,bi=function(e,t){return(e=At.trim(e))?e.split(t||" "):[]},wi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),mi(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?hi(e,/[, ]/):vi(e,/[, ]/)}))),n},xi=function(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=hi(o,/[, ]/,hi(o.toUpperCase(),/[, ]/)):(o=di[t])||(o=hi(n," ",hi(n.toUpperCase()," ")),o=gi(o,r),di[t]=o),o},s=function(e){var t,n,r,o,i,a,s={},u=function(e,n,r){var o,i,a,u=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};n=n||"","string"==typeof(r=r||[])&&(r=bi(r));var c=bi(e);for(o=c.length;o--;)a={attributes:u(i=bi([t,n].join(" "))),attributesOrder:i,children:u(r,pi)},s[c[o]]=a},c=function(e,t){var n,r,o,i,a=bi(e);n=a.length;for(var u=bi(t);n--;)for(r=s[a[n]],o=0,i=u.length;o<i;o++)r.attributes[u[o]]={},r.attributesOrder.push(u[o])};return di[e]?di[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),mi(bi(a),(function(e){u(e,"",r)})),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),mi(bi(i),(function(e){u(e,"",o)}))),o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),mi(bi("a form meter progress dfn"),(function(e){s[e]&&delete s[e].children[e]})),delete s.caption.children.table,delete s.script,di[e]=s,s)}((e=e||{}).schema);!1===e.verify_html&&(e.valid_elements="*[*]");var u=wi(e.valid_styles),c=wi(e.invalid_styles,"map"),l=wi(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",g=a("non_empty_elements",m+" pre",p),v=a("move_caret_before_on_enter_elements",m+" table",p),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),w=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");mi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")}));var x=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},C=function(e){var n,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,A=/[*?+]/;if(e){var _=bi(e,",");for(t["@"]&&(y=t["@"].attributes,b=t["@"].attributesOrder),n=0,o=_.length;n<o;n++)if(s=C.exec(_[n])){if(g=s[1],f=s[2],v=s[3],l=s[5],u={attributes:h={},attributesOrder:m=[]},"#"===g&&(u.paddEmpty=!0),"-"===g&&(u.removeEmpty=!0),"!"===s[4]&&(u.removeEmptyAttrs=!0),y&&(se(y,(function(e,t){h[t]=e})),m.push.apply(m,b)),l)for(i=0,a=(l=bi(l,"|")).length;i<a;i++)if(s=S.exec(l[i])){if(c={},p=s[1],d=s[2].replace(/[\\:]:/g,":"),g=s[3],w=s[4],"!"===p&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(d),c.required=!0),"-"===p){delete h[d],m.splice(yi(m,d),1);continue}g&&("="===g&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:d,value:w}),c.defaultValue=w),":"===g&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:d,value:w}),c.forcedValue=w),"<"===g&&(c.validValues=hi(w,"?"))),A.test(d)?(u.attributePatterns=u.attributePatterns||[],c.pattern=x(d),u.attributePatterns.push(c)):(h[d]||m.push(d),h[d]=c)}y||"@"!==f||(y=h,b=m),v&&(u.outputName=f,t[v]=u),A.test(f)?(u.pattern=x(f),r.push(u)):t[f]=u}}},S=function(e){t={},r=[],C(e),mi(s,(function(e,t){n[t]=e.children}))},A=function(e){var r=/^(~)?(.+)$/;e&&(di.text_block_elements=di.block_elements=null,mi(bi(e,","),(function(e){var i=r.exec(e),a="~"===i[1],s=a?"span":"div",u=i[2];if(n[u]=n[s],o[u]=s,a||(b[u.toUpperCase()]={},b[u]={}),!t[u]){var c=t[s];delete(c=gi({},c)).removeEmptyAttrs,delete c.removeEmpty,t[u]=c}mi(n,(function(e,t){e[s]&&(n[t]=e=gi({},n[t]),e[u]=e[s])}))})))},_=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;di[e.schema]=null,t&&mi(bi(t,","),(function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],mi(bi(i[3],"|"),(function(e){"-"===o?delete t[e]:t[e]={}})))}))},P=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if((o=r[n]).pattern.test(e))return o};e.valid_elements?S(e.valid_elements):(mi(s,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children})),"html5"!==e.schema&&mi(bi("strong/b em/i"),(function(e){var n=bi(e,"/");t[n[1]].outputName=n[0]})),mi(bi("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=!0)})),mi(bi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=!0})),mi(bi("span"),(function(e){t[e].removeEmptyAttrs=!0}))),A(e.custom_elements),_(e.valid_children),C(e.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),mi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=bi(e))})),e.invalid_elements&&mi(vi(e.invalid_elements),(function(e){t[e]&&delete t[e]})),P("span")||C("span[!data-mce-type|*]");return{children:n,elements:t,getValidStyles:function(){return u},getValidClasses:function(){return l},getBlockElements:function(){return b},getInvalidStyles:function(){return c},getShortEndedElements:function(){return p},getTextBlockElements:function(){return y},getTextInlineElements:function(){return w},getBoolAttrs:function(){return h},getElementRule:P,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return g},getMoveCaretBeforeOnEnterElements:function(){return v},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:function(e,t){var n,r,o=P(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:C,setValidElements:S,addCustomElements:A,addValidChildren:_}},Ci=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Si=function(e,t){var n,r,o,i=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},f="\ufeff";e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var d="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<d.length;n++)l[d[n]]=f+n,l[f+n]=d[n];return{toHex:function(e){return e.replace(a,Ci)},parse:function(t){var r,o,d,p,h,m,g,v,y={},b=e.url_converter,w=e.url_converter_scope||i,x=function(e,t,r){var o=y[e+"-top"+t];if(o){var i=y[e+"-right"+t];if(i){var a=y[e+"-bottom"+t];if(a){var s=y[e+"-left"+t];if(s){var u=[o,i,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(y[e+t]=-1===n?u[0]:u.join(" "),delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t])}}}}},C=function(e){var t,n=y[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}},S=function(e){return p=!0,l[e]},A=function(e,t){return p&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return l[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},_=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},P=function(e){return e.replace(/\\[0-9a-f]+/gi,_)},O=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=A(i)).replace(/\'/g,"\\'")+"'";if(n=A(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return b&&(n=b.call(w,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,S).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,S)}));r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),d=r[2].replace(c,""),o&&d){if(o=P(o),d=P(d),-1!==o.indexOf(f)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===o&&"700"===d?d="bold":"color"!==o&&"background-color"!==o||(d=d.toLowerCase()),d=(d=d.replace(a,Ci)).replace(s,O),y[o]=p?A(d,!0):d}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),h="border",g="border-style",v="border-color",C(m="border-width")&&C(g)&&C(v)&&(y[h]=y[m]+" "+y[g]+" "+y[v],delete y[m],delete y[g],delete y[v]),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,s=i.length;a<s;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")};return t&&r?(i("*"),i(t)):se(e,(function(e,r){!e||o&&!function(e,t){var n=o["*"];return!(n&&n[e]||(n=o[t])&&n[e])}(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},Ai=/^(?:mouse|contextmenu)|click/,_i={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Pi=I,Oi=k,Ei=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ti=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Di=function(e,t){var n,r=t||{};for(n in e)_i[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return e.composedPath()}),e&&function(e){return Ai.test(e.type)}(e)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.defaultPrevented=!0,r.isDefaultPrevented=Oi,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0,r.isPropagationStopped=Oi,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Oi,r.stopPropagation()},!1===function(e){return e.isDefaultPrevented===Oi||e.isDefaultPrevented===Pi}(r)&&(r.isDefaultPrevented=!0===r.defaultPrevented?Oi:Pi,r.isPropagationStopped=!0===r.cancelBubble?Oi:Pi,r.isImmediatePropagationStopped=Pi),void 0===r.metaKey&&(r.metaKey=!1),r},Ii=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){Ti(e,"DOMContentLoaded",i),Ti(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Ei(e,"DOMContentLoaded",i),n.domLoaded||Ei(e,"load",i)}},ki=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,r){var o,i,a,s,u,c,l,f=this,d=window,p=function(e){f.executeHandlers(Di(e||d.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?o=e[f.expando]:(o=f.count++,e[f.expando]=o,f.events[o]={}),r=r||e;var h=t.split(" ");for(a=h.length;a--;)c=p,u=l=!1,"DOMContentLoaded"===(s=h[a])&&(s="ready"),f.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,Di({type:s})):(f.hasMouseEnterLeave||(u=f.mouseEnterLeave[s])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Di(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,o))}),f.hasFocusIn||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){(e=Di(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,o)}),(i=f.events[o][s])?"ready"===s&&f.domLoaded?n(Di({type:s})):i.push({func:n,scope:r}):(f.events[o][s]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=l,i.nativeHandler=c,"ready"===s?Ii(e,c,f):Ei(e,u||s,c,l)));return e=i=null,n}},e.prototype.unbind=function(e,t,n){var r,o,i,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var u=e[this.expando];if(u){if(s=this.events[u],t){var c=t.split(" ");for(o=c.length;o--;)if(r=s[a=c[o]]){if(n)for(i=r.length;i--;)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;(r=r.slice(0,i).concat(r.slice(i+1))).nativeHandler=l,r.fakeName=f,r.capture=d,s[a]=r}n&&0!==r.length||(delete s[a],Ti(e,r.fakeName||a,r.nativeHandler,r.capture))}}else se(s,(function(t,n){Ti(e,t.fakeName||n,t.nativeHandler,t.capture)})),s={};for(a in s)if(ge(s,a))return this;delete this.events[u];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Di(null,n);o.type=t,o.target=e;do{(r=e[this.expando])&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Mi="sizzle"+-new Date,Ni=window.document,Ri=0,Bi=0,Li=ga(),Fi=ga(),ji=ga(),Vi=function(e,t){return e===t&&(Mr=!0),0},Ui="undefined",zi=1<<31,Gi={}.hasOwnProperty,Wi=[],Hi=Wi.pop,qi=Wi.push,Ki=Wi.push,Xi=Wi.slice,Yi=Wi.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Zi="[\\x20\\t\\r\\n\\f]",Ji="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$i="\\[[\\x20\\t\\r\\n\\f]*("+Ji+")(?:"+Zi+"*([*^$|!~]?=)"+Zi+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ji+"))|)"+Zi+"*\\]",Qi=":("+Ji+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$i+")*)|.*)\\)|)",ea=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ta=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),na=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),ra=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),oa=new RegExp(Qi),ia=new RegExp("^"+Ji+"$"),aa={ID:new RegExp("^#("+Ji+")"),CLASS:new RegExp("^\\.("+Ji+")"),TAG:new RegExp("^("+Ji+"|[*])"),ATTR:new RegExp("^"+$i),PSEUDO:new RegExp("^"+Qi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},sa=/^(?:input|select|textarea|button)$/i,ua=/^h\d$/i,ca=/^[^{]+\{\s*\[native \w/,la=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fa=/[+~]/,da=/'|\\/g,pa=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ha=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Ki.apply(Wi=Xi.call(Ni.childNodes),Ni.childNodes),Wi[Ni.childNodes.length].nodeType}catch(e){Ki={apply:Wi.length?function(e,t){qi.apply(e,Xi.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var ma=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,p;if((t?t.ownerDocument||t:Ni)!==Rr&&Nr(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||Rr).nodeType)&&9!==s)return[];if(Lr&&!r){if(o=la.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Vr(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Ki.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Ar.getElementsByClassName)return Ki.apply(n,t.getElementsByClassName(a)),n}if(Ar.qsa&&(!Fr||!Fr.test(e))){if(f=l=Mi,d=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=Er(e),(l=t.getAttribute("id"))?f=l.replace(da,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+Ca(c[u]);d=fa.test(e)&&wa(t.parentNode)||t,p=c.join(",")}if(p)try{return Ki.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return Dr(e.replace(ea,"$1"),t,n,r)};function ga(){var e=[];return function t(n,r){return e.push(n+" ")>_r.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function va(e){return e[Mi]=!0,e}function ya(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||zi)-(~e.sourceIndex||zi);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ba(e){return va((function(t){return t=+t,va((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function wa(e){return e&&typeof e.getElementsByTagName!==Ui&&e}function xa(){}function Ca(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Sa(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Bi++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,c=[Ri,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=t[Mi]||(t[Mi]={}))[r])&&s[0]===Ri&&s[1]===i)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function Aa(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function _a(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Pa(e,t,n,r,o,i){return r&&!r[Mi]&&(r=Pa(r)),o&&!o[Mi]&&(o=Pa(o,i)),va((function(i,a,s,u){var c,l,f,d=[],p=[],h=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ma(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:_a(m,d,e,s,u),v=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(c=_a(v,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(v[p[l]]=!(g[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,u)}for(l=v.length;l--;)(f=v[l])&&(c=o?Yi.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=_a(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):Ki.apply(a,v)}))}function Oa(e){for(var t,n,r,o=e.length,i=_r.relative[e[0].type],a=i||_r.relative[" "],s=i?1:0,u=Sa((function(e){return e===t}),a,!0),c=Sa((function(e){return Yi.call(t,e)>-1}),a,!0),l=[function(e,n,r){var o=!i&&(r||n!==Ir)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,o}];s<o;s++)if(n=_r.relative[e[s].type])l=[Sa(Aa(l),n)];else{if((n=_r.filter[e[s].type].apply(null,e[s].matches))[Mi]){for(r=++s;r<o&&!_r.relative[e[r].type];r++);return Pa(s>1&&Aa(l),s>1&&Ca(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ea,"$1"),n,s<r&&Oa(e.slice(s,r)),r<o&&Oa(e=e.slice(r)),r<o&&Ca(e))}l.push(n)}return Aa(l)}Ar=ma.support={},Or=ma.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Nr=ma.setDocument=function(e){var t,n=e?e.ownerDocument||e:Ni,r=n.defaultView;return n!==Rr&&9===n.nodeType&&n.documentElement?(Rr=n,Br=n.documentElement,Lr=!Or(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){Nr()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){Nr()}))),Ar.attributes=!0,Ar.getElementsByTagName=!0,Ar.getElementsByClassName=ca.test(n.getElementsByClassName),Ar.getById=!0,_r.find.ID=function(e,t){if(typeof t.getElementById!==Ui&&Lr){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_r.filter.ID=function(e){var t=e.replace(pa,ha);return function(e){return e.getAttribute("id")===t}},_r.find.TAG=Ar.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Ui)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},_r.find.CLASS=Ar.getElementsByClassName&&function(e,t){if(Lr)return t.getElementsByClassName(e)},jr=[],Fr=[],Ar.disconnectedMatch=!0,Fr=Fr.length&&new RegExp(Fr.join("|")),jr=jr.length&&new RegExp(jr.join("|")),t=ca.test(Br.compareDocumentPosition),Vr=t||ca.test(Br.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Vi=t?function(e,t){if(e===t)return Mr=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Ar.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Ni&&Vr(Ni,e)?-1:t===n||t.ownerDocument===Ni&&Vr(Ni,t)?1:kr?Yi.call(kr,e)-Yi.call(kr,t):0:4&r?-1:1)}:function(e,t){if(e===t)return Mr=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,s=[e],u=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:kr?Yi.call(kr,e)-Yi.call(kr,t):0;if(i===a)return ya(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;s[o]===u[o];)o++;return o?ya(s[o],u[o]):s[o]===Ni?-1:u[o]===Ni?1:0},n):Rr},ma.matches=function(e,t){return ma(e,null,null,t)},ma.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Rr&&Nr(e),t=t.replace(ra,"='$1']"),Ar.matchesSelector&&Lr&&(!jr||!jr.test(t))&&(!Fr||!Fr.test(t)))try{var n=undefined.call(e,t);if(n||Ar.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ma(t,Rr,null,[e]).length>0},ma.contains=function(e,t){return(e.ownerDocument||e)!==Rr&&Nr(e),Vr(e,t)},ma.attr=function(e,t){(e.ownerDocument||e)!==Rr&&Nr(e);var n=_r.attrHandle[t.toLowerCase()],r=n&&Gi.call(_r.attrHandle,t.toLowerCase())?n(e,t,!Lr):void 0;return void 0!==r?r:Ar.attributes||!Lr?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ma.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ma.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Mr=!Ar.detectDuplicates,kr=!Ar.sortStable&&e.slice(0),e.sort(Vi),Mr){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return kr=null,e},Pr=ma.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Pr(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Pr(t);return n},(_r=ma.selectors={cacheLength:50,createPseudo:va,match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(pa,ha),e[3]=(e[3]||e[4]||e[5]||"").replace(pa,ha),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ma.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ma.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return aa.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&oa.test(n)&&(t=Er(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(pa,ha).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Li[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+Zi+"|$)"))&&Li(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Ui&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ma.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(l=g[Mi]||(g[Mi]={}))[e]||[])[0]===Ri&&c[1],d=c[0]===Ri&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[Ri,p,d];break}}else if(y&&(c=(t[Mi]||(t[Mi]={}))[e])&&c[0]===Ri)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[Mi]||(f[Mi]={}))[e]=[Ri,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=_r.pseudos[e]||_r.setFilters[e.toLowerCase()]||ma.error("unsupported pseudo: "+e);return r[Mi]?r(t):r.length>1?(n=[e,e,"",t],_r.setFilters.hasOwnProperty(e.toLowerCase())?va((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=Yi.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:va((function(e){var t=[],n=[],r=Tr(e.replace(ea,"$1"));return r[Mi]?va((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:va((function(e){return function(t){return ma(e,t).length>0}})),contains:va((function(e){return e=e.replace(pa,ha),function(t){return(t.textContent||t.innerText||Pr(t)).indexOf(e)>-1}})),lang:va((function(e){return ia.test(e||"")||ma.error("unsupported lang: "+e),e=e.replace(pa,ha).toLowerCase(),function(t){var n;do{if(n=Lr?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Br},focus:function(e){return e===Rr.activeElement&&(!Rr.hasFocus||Rr.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_r.pseudos.empty(e)},header:function(e){return ua.test(e.nodeName)},input:function(e){return sa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ba((function(){return[0]})),last:ba((function(e,t){return[t-1]})),eq:ba((function(e,t,n){return[n<0?n+t:n]})),even:ba((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ba((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ba((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:ba((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=_r.pseudos.eq,W(["radio","checkbox","file","password","image"],(function(e){_r.pseudos[e]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(e)})),W(["submit","reset"],(function(e){_r.pseudos[e]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(e)})),xa.prototype=_r.filters=_r.pseudos,_r.setFilters=new xa,Er=ma.tokenize=function(e,t){var n,r,o,i,a,s,u,c=Fi[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=_r.preFilter;a;){for(i in n&&!(r=ta.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=na.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ea," ")}),a=a.slice(n.length)),_r.filter)_r.filter.hasOwnProperty(i)&&(!(r=aa[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?ma.error(e):Fi(e,s).slice(0)},Tr=ma.compile=function(e,t){var n,r=[],o=[],i=ji[e+" "];if(!i){for(t||(t=Er(e)),n=t.length;n--;)(i=Oa(t[n]))[Mi]?r.push(i):o.push(i);(i=ji(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,s,u){var c,l,f,d=0,p="0",h=o&&[],m=[],g=Ir,v=o||r&&_r.find.TAG("*",u),y=Ri+=null==g?1:Math.random()||.1,b=v.length;for(u&&(Ir=i!==Rr&&i);p!==b&&null!=(c=v[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,i,a)){s.push(c);break}u&&(Ri=y)}n&&((c=!f&&c)&&d--,o&&h.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(h,m,i,a);if(o){if(d>0)for(;p--;)h[p]||m[p]||(m[p]=Hi.call(s));m=_a(m)}Ki.apply(s,m),u&&!o&&m.length>0&&d+t.length>1&&ma.uniqueSort(s)}return u&&(Ri=y,Ir=g),h};return n?va(o):o}(o,r))).selector=e}return i},Dr=ma.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&Er(e=c.selector||e);if(n=n||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&Ar.getById&&9===t.nodeType&&Lr&&_r.relative[i[1].type]){if(!(t=(_r.find.ID(a.matches[0].replace(pa,ha),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=aa.needsContext.test(e)?0:i.length;o--&&(a=i[o],!_r.relative[s=a.type]);)if((u=_r.find[s])&&(r=u(a.matches[0].replace(pa,ha),fa.test(i[0].type)&&wa(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Ca(i)))return Ki.apply(n,r),n;break}}return(c||Tr(e,l))(r,t,!Lr,n,fa.test(e)&&wa(t.parentNode)||t),n},Ar.sortStable=Mi.split("").sort(Vi).join("")===Mi,Ar.detectDuplicates=!!Mr,Nr(),Ar.sortDetached=!0;var Ea=document,Ta=Array.prototype.push,Da=Array.prototype.slice,Ia=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ka=ki.Event,Ma=At.makeMap("children,contents,next,prev"),Na=function(e){return void 0!==e},Ra=function(e){return"string"==typeof e},Ba=function(e,t){var n,r=(t=t||Ea).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o},La=function(e,t,n,r){var o;if(Ra(t))t=Ba(t,Ja(e[0]));else if(t.length&&!t.nodeType){if(t=ts.makeArray(t),r)for(o=t.length-1;o>=0;o--)La(e,t[o],n,r);else for(o=0;o<t.length;o++)La(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Fa=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},ja=function(e,t,n){var r,o;return t=ts(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)})),e},Va=At.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ua=At.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),za={for:"htmlFor",class:"className",readonly:"readOnly"},Ga={float:"cssFloat"},Wa={},Ha={},qa=function(e,t){return new ts.fn.init(e,t)},Ka=/^\s*|\s*$/g,Xa=function(e){return null==e?"":(""+e).replace(Ka,"")},Ya=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},Za=function(e,t){var n=[];return Ya(e,(function(e,r){t(r,e)&&n.push(r)})),n},Ja=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ea};qa.fn=qa.prototype={constructor:qa,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return ts(e).attr(t);o.context=t=document}if(Ra(e)){if(o.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ia.exec(e)))return ts(t).find(e);if(n[1])for(r=Ba(e,Ja(t)).firstChild;r;)Ta.call(o,r),r=r.nextSibling;else{if(!(r=Ja(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return At.toArray(this)},add:function(e,t){var n,r,o=this;if(Ra(e))return o.add(ts(e));if(!1!==t)for(n=ts.unique(o.toArray().concat(ts.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Ta.apply(o,ts.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)Ya(e,(function(e,t){r.attr(e,t)}));else{if(!Na(t)){if(r[0]&&1===r[0].nodeType){if((n=Wa[e])&&n.get)return n.get(r[0],e);if(Ua[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=Wa[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=za[e]||e))Ya(e,(function(e,t){n.prop(e,t)}));else{if(!Na(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"==typeof e)Ya(e,(function(e,t){o.css(e,t)}));else if(Na(t))e=i(e),"number"!=typeof t||Va[e]||(t=t.toString()+"px"),o.each((function(){var n=this.style;if((r=Ha[e])&&r.set)r.set(this,t);else{try{this.style[Ga[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=o[0],(r=Ha[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],ka.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Na(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){ts(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Na(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return La(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return La(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?La(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?La(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return ts(e).append(this),this},prependTo:function(e){return ts(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ja(this,e)},wrapAll:function(e){return ja(this,e,!0)},wrapInner:function(e){return this.each((function(){ts(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){ts(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),ts(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?Ya(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o=Fa(r,e);if(o!==t){var i=r.className;o?r.className=Xa((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}))),n},hasClass:function(e){return Fa(this[0],e)},each:function(e){return Ya(this,e)},on:function(e,t){return this.each((function(){ka.bind(this,e,t)}))},off:function(e,t){return this.each((function(){ka.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?ka.fire(this,e.type,e):ka.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ts(Da.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)ts.find(e,this[t],r);return ts(r)},filter:function(e){return ts("function"==typeof e?Za(this.toArray(),(function(t,n){return e(n,t)})):ts.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ts&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&ts(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),ts(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Ta,sort:Array.prototype.sort,splice:Array.prototype.splice},At.extend(qa,{extend:At.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:At.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:At.isArray,each:Ya,trim:Xa,grep:Za,find:ma,expr:ma.selectors,unique:ma.uniqueSort,text:ma.getText,contains:ma.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?ts.find.matchesSelector(t[0],e)?[t[0]]:[]:ts.find.matches(e,t)}});var $a=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof ts&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&ts(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Qa=function(e,t,n,r){var o=[];for(r instanceof ts&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&ts(e).is(r))break}o.push(e)}return o},es=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Ya({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $a(e,"parentNode")},next:function(e){return es(e,"nextSibling",1)},prev:function(e){return es(e,"previousSibling",1)},children:function(e){return Qa(e.firstChild,"nextSibling",1)},contents:function(e){return At.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){qa.fn[e]=function(n){var r=[];this.each((function(){var e=t.call(r,this,n,r);e&&(ts.isArray(e)?r.push.apply(r,e):r.push(e))})),this.length>1&&(Ma[e]||(r=ts.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=ts(r);return n?o.filter(n):o}})),Ya({parentsUntil:function(e,t){return $a(e,"parentNode",t)},nextUntil:function(e,t){return Qa(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Qa(e,"previousSibling",1,t).slice(1)}},(function(e,t){qa.fn[e]=function(n,r){var o=[];this.each((function(){var e=t.call(o,this,n,o);e&&(ts.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=ts.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=ts(o);return r?i.filter(r):i}})),qa.fn.is=function(e){return!!e&&this.filter(e).length>0},qa.fn.init.prototype=qa.fn,qa.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return ts.extend(n,this),n},qa.attrHooks=Wa,qa.cssHooks=Ha;var ts=qa,ns=At.each,rs=At.grep,os=bt.ie,is=/^([a-z0-9],?)+$/i,as=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ss=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},us=function(e,t){void 0===t&&(t={});var n={},r=window,o={},i=0,a=Qr.forElement(Pt.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],u=t.schema?t.schema:xi({}),c=Si({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),l=t.ownEvents?new ki:ki.Event,f=u.getBlockElements(),p=ts.overrideDefaults((function(){return{context:e,element:z.getRoot()}})),h=function(t){return t&&e&&d(t)?e.getElementById(t):t},m=function(e){return p("string"==typeof e?h(e):e)},g=function(e,t,n){var r,o,i=m(e);return i.length&&(o=(r=G[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},v=function(e){var t=h(e);return t?t.attributes:[]},b=function(e,n,r){""===r&&(r=null);var o=m(e),i=o.attr(n);if(o.length){var a=G[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},w=function(){return t.root_element||e.body},x=function(t,n){return ir(e.body,h(t),n)},S=function(e,t,n){var r=m(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=bt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},A=function(e){var t,n;return e=h(e),t=S(e,"width"),n=S(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},_=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(is.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return ma(t,i[0].ownerDocument||i[0],null,i).length>0},P=function(e,t,n,r){var o,i=[],a=h(e);for(r=void 0===r,n=n||("BODY"!==w().nodeName?w().parentNode:null),At.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return _(e,o)});a&&!(a===n||y(a.nodeType)||Bn(a)||Ln(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},O=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return _(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},E=function(e,t,n){var r,o="string"==typeof e?h(e):e;if(!o)return!1;if(At.isArray(o)&&(o.length||0===o.length))return r=[],ns(o,(function(e,o){e&&r.push(t.call(n,"string"==typeof e?h(e):e,o))})),r;var i=n||this;return t.call(i,o)},T=function(e,t){m(e).each((function(e,n){ns(t,(function(e,t){b(n,t,e)}))}))},D=function(e,t){var n=m(e);os?n.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){ts("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},I=function(t,n,r,o,i){return E(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return T(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&D(a,o)),i?a:t.appendChild(a)}))},k=function(t,n,r){return I(e.createElement(t),t,n,r,!0)},M=fi.encodeAllRaw,N=function(e,t){var n=m(e);return t?n.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},R=function(e,t,n){m(e).toggleClass(t,n).each((function(){""===this.className&&ts(this).attr("class",null)}))},B=function(e,t,n){return E(t,(function(t){return At.is(t,"array")&&(e=e.cloneNode(!0)),n&&ns(rs(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},L=function(e){if(Pn(e)){var t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1},F=function(){return e.createRange()},j=function(n,o,i,a){if(At.isArray(n)){for(var u=n.length,c=[];u--;)c[u]=j(n[u],o,i,a);return c}return!t.collect||n!==e&&n!==r||s.push([n,o,i,a]),l.bind(n,o,i,a||z)},V=function(t,n,o){if(At.isArray(t)){for(var i=t.length,a=[];i--;)a[i]=V(t[i],n,o);return a}if(s.length>0&&(t===e||t===r))for(i=s.length;i--;){var u=s[i];t!==u[0]||n&&n!==u[1]||o&&o!==u[2]||l.unbind(u[0],u[1],u[2])}return l.unbind(t,n,o)},U=function(e){if(e&&Pn(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},z={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:s,styles:c,schema:u,events:l,isBlock:function(e){if("string"==typeof e)return!!f[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!f[e.nodeName])}return!1},$:p,$$:m,root:null,clone:function(t,n){if(!os||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return ns(v(t),(function(e){b(r,e.nodeName,g(t,e.nodeName))})),r},getRoot:w,getViewPort:function(e){var t=Sn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=h(e);var t=x(e),n=A(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:A,getParent:function(e,t,n){var r=P(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:P,get:h,getNext:function(e,t){return O(e,t,"nextSibling")},getPrev:function(e,t){return O(e,t,"previousSibling")},select:function(n,r){return ma(n,h(r)||t.root_element||e,[])},is:_,add:I,create:k,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+M(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:N,setStyle:function(e,n,r){var o=d(n)?m(e).css(n,r):m(e).css(n);t.update_styles&&as(c,o)},getStyle:S,setStyles:function(e,n){var r=m(e).css(n);t.update_styles&&as(c,r)},removeAllAttribs:function(e){return E(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:b,setAttribs:T,getAttrib:g,getPos:x,parseStyle:function(e){return c.parse(e)},serializeStyle:function(e,t){return c.serialize(e,t)},addStyle:function(t){var r,o;if(z!==us.DOM&&e===document){if(n[t])return;n[t]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=e.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:function(e){e||(e=""),W(e.split(","),(function(e){o[e]=!0,a.load(e,C)}))},addClass:function(e,t){m(e).addClass(t)},removeClass:function(e,t){R(e,t,!1)},hasClass:function(e,t){return m(e).hasClass(t)},toggleClass:R,show:function(e){m(e).show()},hide:function(e){m(e).hide()},isHidden:function(e){return"none"===m(e).css("display")},uniqueId:function(e){return(e||"mce_")+i++},setHTML:D,getOuterHTML:function(e){var t="string"==typeof e?h(e):e;return Pn(t)?t.outerHTML:ts("<div></div>").append(ts(t).clone()).html()},setOuterHTML:function(e,t){m(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}N(ts(this).html(t),!0)}))},decode:fi.decode,encode:M,insertAfter:function(e,t){var n=h(t);return E(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},replace:B,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=k(t),ns(v(e),(function(t){b(n,t.nodeName,g(e,t.nodeName))})),B(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return c.toHex(At.trim(e))},run:E,getAttribs:v,isEmpty:function(e,t){var n,r,o=0;if(L(e))return!1;if(e=e.firstChild){var i=new eo(e,e.parentNode),a=u?u.getWhiteSpaceElements():{};t=t||(u?u.getNonEmptyElements():null);do{if(n=e.nodeType,Pn(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=i.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(L(e))return!1}if(8===n)return!1;if(3===n&&!Uo(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Uo(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:F,nodeIndex:ss,split:function(e,t,n){var r,o,i,a=F();if(e&&t)return a.setStart(e.parentNode,ss(e)),a.setEnd(t.parentNode,ss(t)),r=a.extractContents(),(a=F()).setStart(t.parentNode,ss(t)+1),a.setEnd(e.parentNode,ss(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(Jo(z,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Jo(z,o),e),N(e),n||t},bind:j,unbind:V,fire:function(e,t,n){return l.fire(e,t,n)},getContentEditable:U,getContentEditableParent:function(e){for(var t=w(),n=null;e&&e!==t&&null===(n=U(e));e=e.parentNode);return n},destroy:function(){if(s.length>0)for(var e=s.length;e--;){var t=s[e];l.unbind(t[0],t[1],t[2])}se(o,(function(e,t){a.unload(t),delete o[t]})),ma.setDocument&&ma.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},G=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){null===n||"object"!=typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i}(c,t,(function(){return z}));return z};us.DOM=us(document),us.nodeIndex=ss;var cs=us.DOM,ls=At.each,fs=At.grep,ds=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var r,o=cs,i=function(){o.remove(a),r&&(r.onerror=r.onload=r=null)},a=o.uniqueId();(r=document.createElement("script")).id=a,r.type="text/javascript",r.src=At._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){i(),t()},r.onerror=function(){i(),w(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){ls(o.scriptLoadedCallbacks[t],(function(t){w(t[e])&&t[e].call(t.scope)})),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t=fs(e);if(e.length=0,ls(t,(function(e){2!==o.states[e]?3!==o.states[e]?1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,(function(){o.states[e]=2,o.loading--,a("success",e),s()}),(function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),s()}))):a("failure",e):a("success",e)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,ls(n,(function(e){0===i.length?w(e.success)&&e.success.call(e.scope):w(e.failure)&&e.failure.call(e.scope,i)}))}};s()},e.ScriptLoader=new e,e}(),ps=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},hs={},ms=ps("en"),gs=function(){return me(hs,ms.get())},vs={getData:function(){return ue(hs,(function(e){return Pe({},e)}))},setCode:function(e){e&&ms.set(e)},getCode:function(){return ms.get()},add:function(e,t){var n=hs[e];n||(hs[e]=n={}),se(t,(function(e,t){n[t.toLowerCase()]=e}))},translate:function(e){var t,n=gs().getOr({}),r=function(e){return w(e)?Object.prototype.toString.call(e):o(e)?"":""+e},o=function(e){return""===e||null==e},i=function(e){var t=r(e);return me(n,t.toLowerCase()).map(r).getOr(t)},a=function(e){return e.replace(/{context:\w+}$/,"")};if(o(e))return"";if(p(t=e)&&ge(t,"raw"))return r(e.raw);if(function(e){return h(e)&&e.length>1}(e)){var s=e.slice(1);return a(i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return ge(s,t)?r(s[t]):e})))}return a(i(e))},isRtl:function(){return gs().bind((function(e){return me(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return ge(hs,e)}},ys=function(){var e=[],t={},n={},r=[],o=function(e,t){var n=q(r,(function(n){return n.name===e&&n.state===t}));W(n,(function(e){return e.callback()}))},i=function(e){var t;return n[e]&&(t=n[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},s=function(e,r,u,c,l){if(!t[e]){var f="string"==typeof r?r:r.prefix+r.resource+r.suffix;0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=ys.baseURL+"/"+f),t[e]=f.substring(0,f.lastIndexOf("/"));var d=function(){o(e,"loaded"),function(e,t,n,r){var o=i(e);W(o,(function(e){var n=a(t,e);s(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(ds))}(e,r,u,c)};n[e]?d():ds.ScriptLoader.add(f,d,c,l)}},u=function(e,o,i){void 0===i&&(i="added"),ge(n,e)&&"added"===i||ge(t,e)&&"loaded"===i?o():r.push({name:e,state:i,callback:o})};return{items:e,urls:t,lookup:n,_listeners:r,get:function(e){if(n[e])return n[e].instance},dependencies:i,requireLangPack:function(e,n){!1!==ys.languageLoad&&u(e,(function(){var r=vs.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||ds.ScriptLoader.add(t[e]+"/langs/"+r+".js")}),"loaded")},add:function(t,r,i){var a=r;return e.push(a),n[t]={instance:a,dependencies:i},o(t,"added"),a},remove:function(e){delete t[e],delete n[e]},createUrl:a,addComponents:function(e,n){var r=t[e];W(n,(function(e){ds.ScriptLoader.add(r+"/"+e)}))},load:s,waitFor:u}};ys.languageLoad=!0,ys.baseURL="",ys.PluginManager=ys(),ys.ThemeManager=ys();var bs=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))}}},ws=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)}}},xs=function(e,t){var n=Xn(e,t);return void 0===n||""===n?[]:n.split(" ")},Cs=function(e){return void 0!==e.dom.classList},Ss=function(e,t){return function(e,t,n){var r=xs(e,t).concat([n]);return qn(e,t,r.join(" ")),!0}(e,"class",t)},As=function(e,t){return function(e,t,n){var r=q(xs(e,t),(function(e){return e!==n}));return r.length>0?qn(e,t,r.join(" ")):Zn(e,t),!1}(e,"class",t)},_s=function(e,t){Cs(e)?e.dom.classList.add(t):Ss(e,t)},Ps=function(e){0===(Cs(e)?e.dom.classList:function(e){return xs(e,"class")}(e)).length&&Zn(e,"class")},Os=function(e,t){return Cs(e)&&e.dom.classList.contains(t)},Es=function(e,t){var n=[];return W(Xt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Es(e,t))})),n},Ts=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Tt(n)?[]:G(n.querySelectorAll(e),Pt.fromDom)}(t,e)},Ds=A("mce-annotation"),Is=A("data-mce-annotation"),ks=A("data-mce-annotation-uid"),Ms=function(e,t){var n=e.selection.getRng(),r=Pt.fromDom(n.startContainer),o=Pt.fromDom(e.getBody()),i=t.fold((function(){return"."+Ds()}),(function(e){return"["+Is()+'="'+e+'"]'})),a=Yt(r,n.startOffset).getOr(r),s=qr(a,i,(function(e){return Dt(e,o)})),u=function(e,t){return function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)}(e,t)?B.some(Xn(e,t)):B.none()};return s.bind((function(t){return u(t,""+ks()).bind((function(n){return u(t,""+Is()).map((function(t){var r=Ns(e,n);return{uid:n,name:t,elements:r}}))}))}))},Ns=function(e,t){var n=Pt.fromDom(e.getBody());return Ts(n,"["+ks()+'="'+t+'"]')},Rs=function(e,t){var n=ps({}),r=function(e,t){o(e,(function(e){return t(e),e}))},o=function(e,t){var r=n.get(),o=t(r.hasOwnProperty(e)?r[e]:{listeners:[],previous:ps(B.none())});r[e]=o,n.set(r)},i=ws((function(){var t,i,a,s=n.get(),u=(t=ie(s),(a=L.call(t,0)).sort(i),a);W(u,(function(t){o(t,(function(n){var o=n.previous.get();return Ms(e,B.some(t)).fold((function(){o.isSome()&&(!function(e){r(e,(function(t){W(t.listeners,(function(t){return t(!1,e)}))}))}(t),n.previous.set(B.none()))}),(function(e){var t=e.uid,i=e.name,a=e.elements;o.is(t)||(!function(e,t,n){r(e,(function(r){W(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:G(n,(function(e){return e.dom}))})}))}))}(i,t,a),n.previous.set(B.some(t)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){i.cancel()})),e.on("NodeChange",(function(){i.throttle()}));return{addListener:function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}},Bs=function(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){W(e,(function(e){(function(e){return B.from(e.attr(Is())).bind(t.lookup)})(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},Ls=0,Fs=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Ls+String(t)},js=function(e,t){var n,r,o=Vt(e).dom,i=Pt.fromDom(o.createDocumentFragment()),a=(n=t,(r=(o||document).createElement("div")).innerHTML=n,Xt(Pt.fromDom(r)));ln(i,a),fn(e),cn(e,i)},Vs=function(e,t){return Pt.fromDom(e.dom.cloneNode(t))},Us=function(e){return Vs(e,!1)},zs=function(e){return Vs(e,!0)},Gs=function(e,t,n){void 0===n&&(n=I);var r=new eo(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!Nn(t)&&!n(t));return B.from(t).filter(Nn)};return{current:function(){return B.from(r.current()).filter(Nn)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},Ws=function(e,t){var n=t||function(t){return e.isBlock(t)||Fn(t)||Un(t)},r=function(e,t,n,o){if(Nn(e)){var i=o(e,t,e.data);if(-1!==i)return B.some({container:e,offset:i})}return n().bind((function(e){return r(e.container,e.offset,n,o)}))};return{backwards:function(e,t,o,i){var a=Gs(e,i,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()},forwards:function(e,t,o,i){var a=Gs(e,i,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()}}},Hs=function(e,t,n){return e.isSome()&&t.isSome()?B.some(n(e.getOrDie(),t.getOrDie())):B.none()},qs=Math.round,Ks=function(e){return e?{left:qs(e.left),top:qs(e.top),bottom:qs(e.bottom),right:qs(e.right),width:qs(e.width),height:qs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Xs=function(e,t){return e=Ks(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Ys=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Zs=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Ys(t.top-e.bottom,e,t)},Js=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ys(t.bottom-e.top,e,t)},$s=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Qs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},eu=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},tu=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),nu=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&tu.test(e)},ru=Pn,ou=Lo,iu=En("display","block table"),au=En("float","left right"),su=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(ru,ou,O(au)),uu=O(En("white-space","pre pre-line pre-wrap")),cu=Nn,lu=Fn,fu=us.nodeIndex,du=eu,pu=function(e){return"createRange"in e?e.createRange():us.DOM.createRng()},hu=function(e){return e&&/[\r\n\t ]/.test(e)},mu=function(e){return!!e.setStart&&!!e.setEnd},gu=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(hu(e.toString())&&uu(n.parentNode)&&Nn(n)&&(t=n.data,hu(t[r-1])||hu(t[r+1])))},vu=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},yu=function(e){var t,n=e.getClientRects();return t=n.length>0?Ks(n[0]):Ks(e.getBoundingClientRect()),!mu(e)&&lu(e)&&vu(t)?function(e){var t=e.ownerDocument,n=pu(t),r=t.createTextNode(po),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Ks(n.getBoundingClientRect());return o.removeChild(r),i}(e):vu(t)&&mu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Nn(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),yu(i)}return null}(e):t},bu=function(e,t){var n=Xs(e,t);return n.width=1,n.right=n.left+1,n},wu=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(r.length>0&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=pu(e.ownerDocument);if(t<e.data.length){if(nu(e.data[t]))return r;if(nu(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!gu(n)))return o(bu(yu(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),gu(n)||o(bu(yu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),gu(n)||o(bu(yu(n),!0)))};if(cu(e.container()))return i(e.container(),e.offset()),r;if(ru(e.container()))if(e.isAtEnd())n=du(e.container(),e.offset()),cu(n)&&i(n,n.data.length),su(n)&&!lu(n)&&o(bu(yu(n),!1));else{if(n=du(e.container(),e.offset()),cu(n)&&i(n,0),su(n)&&e.isAtEnd())return o(bu(yu(n),!1)),r;t=du(e.container(),e.offset()-1),su(t)&&!lu(t)&&(iu(t)||iu(n)||!su(n))&&o(bu(yu(t),!1)),su(n)&&o(bu(yu(n),!0))}return r},xu=function(e,t,n){var r=function(){return n||(n=wu(xu(e,t))),n};return{container:A(e),offset:A(t),toRange:function(){var n=pu(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return cu(e),0===t},isAtEnd:function(){return cu(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return du(e,n?t-1:t)}}};xu.fromRangeStart=function(e){return xu(e.startContainer,e.startOffset)},xu.fromRangeEnd=function(e){return xu(e.endContainer,e.endOffset)},xu.after=function(e){return xu(e.parentNode,fu(e)+1)},xu.before=function(e){return xu(e.parentNode,fu(e))},xu.isAbove=function(e,t){return Hs(ne(t.getClientRects()),re(e.getClientRects()),Zs).getOr(!1)},xu.isBelow=function(e,t){return Hs(re(t.getClientRects()),ne(e.getClientRects()),Js).getOr(!1)},xu.isAtStart=function(e){return!!e&&e.isAtStart()},xu.isAtEnd=function(e){return!!e&&e.isAtEnd()},xu.isTextPosition=function(e){return!!e&&Nn(e.container())},xu.isElementPosition=function(e){return!1===xu.isTextPosition(e)};var Cu,Su=function(e,t){Nn(t)&&0===t.data.length&&e.remove(t)},Au=function(e,t,n){Ln(n)?function(e,t,n){var r=B.from(n.firstChild),o=B.from(n.lastChild);t.insertNode(n),r.each((function(t){return Su(e,t.previousSibling)})),o.each((function(t){return Su(e,t.nextSibling)}))}(e,t,n):function(e,t,n){t.insertNode(n),Su(e,n.previousSibling),Su(e,n.nextSibling)}(e,t,n)},_u=Nn,Pu=Dn,Ou=us.nodeIndex,Eu=function(e){var t=e.parentNode;return Pu(t)?Eu(t):t},Tu=function(e){return e?Se(e.childNodes,(function(e,t){return Pu(t)&&"BR"!==t.nodeName?e=e.concat(Tu(t)):e.push(t),e}),[]):[]},Du=function(e){return function(t){return e===t}},Iu=function(e){return(_u(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var t,n;t=Tu(Eu(e)),n=Ae(t,Du(e),e),t=t.slice(0,n+1);var r=Se(t,(function(e,n,r){return _u(n)&&_u(t[r-1])&&e++,e}),0);return t=xe(t,On([e.nodeName])),(n=Ae(t,Du(e),e))-r}(e)+"]"},ku=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),_u(n)?o=function(e,t){for(;(e=e.previousSibling)&&_u(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(Iu(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)r.push(t);return r}(e,n),a=xe(a,O(Dn)),(s=s.concat(we(a,(function(e){return Iu(e)})))).reverse().join("/")+","+o},Mu=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=Se(o,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),function(e,t,n){var r=Tu(e);return r=xe(r,(function(e,t){return!_u(e)||!_u(r[t-1])})),(r=xe(r,On([t])))[n]}(e,n[1],parseInt(n[2],10))):null}),e);return i?_u(i)?function(e,t){for(var n,r=e,o=0;_u(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!_u(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return _u(e)&&t>e.data.length&&(t=e.data.length),xu(e,t)}(i,parseInt(n,10)):(n="after"===n?Ou(i)+1:Ou(i),xu(i.parentNode,n)):null},Nu=Un,Ru=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Nn(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Nn(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Bu=function(e,t,n){var r=0;return At.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},Lu=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Pn(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},Fu=function(e){return Lu(e,!0),Lu(e,!1),e},ju=function(e,t){var n;if(Pn(e)&&(e=eu(e,t),Nu(e)))return e;if(xo(e)){if(Nn(e)&&bo(e)&&(e=e.parentNode),n=e.previousSibling,Nu(n))return n;if(n=e.nextSibling,Nu(n))return n}},Vu=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Nu(r)||"IMG"===o)return{name:o,index:Bu(n.dom,o,r)};var a=function(e){return ju(e.startContainer,e.startOffset)||ju(e.endContainer,e.endOffset)}(i);return a?{name:o=a.tagName,index:Bu(n.dom,o,a)}:function(e,t,n,r){var o=t.dom,i={};return i.start=Ru(o,e,n,r,!0),t.isCollapsed()||(i.end=Ru(o,e,n,r,!1)),i}(e,n,t,i)},Uu=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},zu=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Bu(n,s,a)};var u=Fu(r.cloneRange());if(!i){u.collapse(!1);var c=Uu(n,o+"_end",t);Au(n,u,c)}(r=Fu(r)).collapse(!0);var l=Uu(n,o+"_start",t);return Au(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},Gu=function(e,t,n){return 2===t?Vu(go,n,e):3===t?function(e){var t=e.getRng();return{start:ku(e.dom.getRoot(),xu.fromRangeStart(t)),end:ku(e.dom.getRoot(),xu.fromRangeEnd(t))}}(e):t?function(e){return{rng:e.getRng()}}(e):zu(e,!1)},Wu=P(Vu,_,!0),Hu=us.DOM,qu=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Ku=function(e){return e.getParam("content_security_policy","")},Xu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Yu=function(e){return e.getParam("forced_root_block_attrs",{})},Zu=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Ju=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},$u=function(e){return e.getParam("icons","","string")},Qu=function(e){return e.getParam("images_upload_url","","string")},ec=function(e){return e.getParam("images_upload_base_path","","string")},tc=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},nc=function(e){return e.getParam("images_upload_handler",null,"function")},rc=function(e){return e.getParam("content_css_cors",!1,"boolean")},oc=function(e){return e.getParam("referrer_policy","","string")},ic=function(e){return e.getParam("language","en","string")},ac=function(e){return e.getParam("indent_use_margin",!1)},sc=function(e){var t=e.getParam("font_css",[]);return h(t)?t:G(t.split(","),Le)},uc=function(e){var t=e.getParam("object_resizing");return!1!==t&&!bt.iOS&&(d(t)?t:"table,img,figure.image,div,video,iframe")},cc=function(e){return e.getParam("event_root")},lc=function(e){return e.getParam("theme")},fc=function(e){return e.getParam("validate")},dc=function(e){return!1!==e.getParam("inline_boundaries")},pc=function(e){return e.getParam("content_css_cors")},hc=function(e){return e.getParam("plugins","","string")},mc=Pn,gc=Nn,vc=function(e){var t=e.parentNode;t&&t.removeChild(e)},yc=function(e){var t=go(e);return{count:e.length-t.length,text:t}},bc=function(e){for(var t;-1!==(t=e.data.lastIndexOf(ho));)e.deleteData(t,1)},wc=function(e,t){return Ac(e),t},xc=function(e,t){var n=t.container(),r=function(e,t){var n=V(e,t);return-1===n?B.none():B.some(n)}(oe(n.childNodes),e).map((function(e){return e<t.offset()?xu(n,t.offset()-1):t})).getOr(t);return Ac(e),r},Cc=function(e,t){return gc(e)&&t.container()===e?function(e,t){var n=yc(e.data.substr(0,t.offset())),r=yc(e.data.substr(t.offset()));return(n.text+r.text).length>0?(bc(e),xu(e,t.offset()-n.count)):t}(e,t):wc(e,t)},Sc=function(e,t){return xu.isTextPosition(t)?Cc(e,t):function(e,t){return t.container()===e.parentNode?xc(e,t):wc(e,t)}(e,t)},Ac=function(e){mc(e)&&xo(e)&&(Co(e)?e.removeAttribute("data-mce-caret"):vc(e)),gc(e)&&(bc(e),0===e.data.length&&vc(e))},_c=lt().browser,Pc=Un,Oc=Gn,Ec=zn,Tc=function(e,t,n){var r,o,i,a,s,u=Xs(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),o=e.scrollLeft-s.left,i=e.scrollTop-s.top),u.left+=o,u.right+=o,u.top+=i,u.bottom+=i,u.width=1,(a=t.offsetWidth-t.clientWidth)>0&&(n&&(a*=-1),u.left+=a,u.right+=a),u},Dc=function(e,t,n,r){var o,i,a=ps(B.none()),s=Xu(e),u=s.length>0?s:"p",c=function(){!function(e){for(var t=Ts(Pt.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;Oo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=o.nextSibling,Po(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}}(t),i&&(Ac(i),i=null),a.get().each((function(e){ts(e.caret).remove(),a.set(B.none())})),o&&(Jr.clearInterval(o),o=null)},l=function(){o=Jr.setInterval((function(){r()?ts("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ts("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:function(e,r){var o,s;if(c(),Ec(r))return null;if(!n(r))return i=function(e,t){var n,r=e.ownerDocument.createTextNode(ho),o=e.parentNode;if(t){if(n=e.previousSibling,yo(n)){if(xo(n))return n;if(Oo(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,yo(n)){if(xo(n))return n;if(Po(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(r,e),s=r.ownerDocument.createRange(),kc(i.nextSibling)?(s.setStart(i,0),s.setEnd(i,0)):(s.setStart(i,1),s.setEnd(i,1)),s;i=_o(u,r,e),o=Tc(t,r,e),ts(i).css("top",o.top);var f=ts('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(B.some({caret:f,element:r,before:e})),a.get().each((function(t){e&&ts(t.caret).addClass("mce-visual-caret-before")})),l(),(s=r.ownerDocument.createRange()).setStart(i,0),s.setEnd(i,0),s},hide:c,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(e){var n=Tc(t,e.element,e.before);ts(e.caret).css(Pe({},n))}))},destroy:function(){return Jr.clearInterval(o)}}},Ic=function(){return _c.isIE()||_c.isEdge()||_c.isFirefox()},kc=function(e){return Pc(e)||Oc(e)},Mc=function(e){return kc(e)||In(e)&&Ic()},Nc=Un,Rc=Gn,Bc=En("display","block table table-cell table-caption list-item"),Lc=xo,Fc=bo,jc=Pn,Vc=Lo,Uc=function(e){return e>0},zc=function(e){return e<0},Gc=function(e,t){for(var n;n=e(t);)if(!Fc(n))return n;return null},Wc=function(e,t,n,r,o){var i=new eo(e,r),a=Nc(e)||Fc(e);if(zc(t)){if(a&&n(e=Gc(i.prev.bind(i),!0)))return e;for(;e=Gc(i.prev.bind(i),o);)if(n(e))return e}if(Uc(t)){if(a&&n(e=Gc(i.next.bind(i),!0)))return e;for(;e=Gc(i.next.bind(i),o);)if(n(e))return e}return null},Hc=function(e,t){for(;e&&e!==t;){if(Bc(e))return e;e=e.parentNode}return null},qc=function(e,t,n){return Hc(e.container(),n)===Hc(t.container(),n)},Kc=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return jc(n)?n.childNodes[r+e]:null},Xc=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Yc=function(e,t,n){return Hc(t,e)===Hc(n,e)},Zc=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Lc(r)&&(r=r[o]),Nc(r)||Rc(r)){if(Yc(t,r,n))return r;break}if(Vc(r))break;n=n.parentNode}return null},Jc=P(Xc,!0),$c=P(Xc,!1),Qc=function(e,t,n){var r,o,i,a=P(Zc,!0,t),s=P(Zc,!1,t);o=n.startContainer;var u=n.startOffset;if(bo(o)){if(jc(o)||(o=o.parentNode),"before"===(i=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,Mc(r)))return Jc(r);if("after"===i&&(r=o.previousSibling,Mc(r)))return $c(r)}if(!n.collapsed)return n;if(Nn(o)){if(Lc(o)){if(1===e){if(r=s(o))return Jc(r);if(r=a(o))return $c(r)}if(-1===e){if(r=a(o))return $c(r);if(r=s(o))return Jc(r)}return n}if(Oo(o)&&u>=o.data.length-1)return 1===e&&(r=s(o))?Jc(r):n;if(Po(o)&&u<=1)return-1===e&&(r=a(o))?$c(r):n;if(u===o.data.length)return(r=s(o))?Jc(r):n;if(0===u)return(r=a(o))?$c(r):n}return n},el=function(e,t){return B.from(Kc(e?0:-1,t)).filter(Nc)},tl=function(e,t,n){var r=Qc(e,t,n);return-1===e?xu.fromRangeStart(r):xu.fromRangeEnd(r)},nl=function(e){return B.from(e.getNode()).map(Pt.fromDom)},rl=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},ol=function(e,t){var n=qc(e,t);return!(n||!Fn(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Cu||(Cu={}));var il,al=Un,sl=Nn,ul=Pn,cl=Fn,ll=Lo,fl=function(e){return No(e)||function(e){return!!Fo(e)&&!0!==X(oe(e.getElementsByTagName("*")),(function(e,t){return e||To(t)}),!1)}(e)},dl=jo,pl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},hl=function(e,t){if(Uc(e)){if(ll(t.previousSibling)&&!sl(t.previousSibling))return xu.before(t);if(sl(t))return xu(t,0)}if(zc(e)){if(ll(t.nextSibling)&&!sl(t.nextSibling))return xu.after(t);if(sl(t))return xu(t,t.data.length)}return zc(e)?cl(t)?xu.before(t):xu.after(t):xu.before(t)},ml=function(e,t,n){var r,o,i,a;if(!ul(n)||!t)return null;if(t.isEqual(xu.after(n))&&n.lastChild){if(a=xu.after(n.lastChild),zc(e)&&ll(n.lastChild)&&ul(n.lastChild))return cl(n.lastChild)?xu.before(n.lastChild):a}else a=t;var s=a.container(),u=a.offset();if(sl(s)){if(zc(e)&&u>0)return xu(s,--u);if(Uc(e)&&u<s.length)return xu(s,++u);r=s}else{if(zc(e)&&u>0&&(o=pl(s,u-1),ll(o)))return!fl(o)&&(i=Wc(o,e,dl,o))?sl(i)?xu(i,i.data.length):xu.after(i):sl(o)?xu(o,o.data.length):xu.before(o);if(Uc(e)&&u<s.childNodes.length&&(o=pl(s,u),ll(o)))return cl(o)?function(e,t){var n=t.nextSibling;return n&&ll(n)?sl(n)?xu(n,0):xu.before(n):ml(Cu.Forwards,xu.after(t),e)}(n,o):!fl(o)&&(i=Wc(o,e,dl,o))?sl(i)?xu(i,0):xu.before(i):sl(o)?xu(o,0):xu.after(o);r=o||a.getNode()}if((Uc(e)&&a.isAtEnd()||zc(e)&&a.isAtStart())&&(r=Wc(r,e,k,n,!0),dl(r,n)))return hl(e,r);o=Wc(r,e,dl,n);var c=_e(q(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(s,n),al));return!c||o&&c.contains(o)?o?hl(e,o):null:a=Uc(e)?xu.after(c):xu.before(c)},gl=function(e){return{next:function(t){return ml(Cu.Forwards,t,e)},prev:function(t){return ml(Cu.Backwards,t,e)}}},vl=function(e){return xu.isTextPosition(e)?0===e.offset():Lo(e.getNode())},yl=function(e){if(xu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Lo(e.getNode(!0))},bl=function(e,t){return!xu.isTextPosition(e)&&!xu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},wl=function(e,t,n){return e?!bl(t,n)&&(r=t,!(!xu.isTextPosition(r)&&Fn(r.getNode())))&&yl(t)&&vl(n):!bl(n,t)&&vl(t)&&yl(n);var r},xl=function(e,t,n){var r=gl(t);return B.from(e?r.next(n):r.prev(n))},Cl=function(e,t,n){return xl(e,t,n).bind((function(r){return qc(n,r,t)&&wl(e,n,r)?xl(e,t,r):B.some(r)}))},Sl=function(e,t,n,r){return Cl(e,t,n).bind((function(n){return r(n)?Sl(e,t,n,r):B.some(n)}))},Al=function(e,t){var n,r=e?t.firstChild:t.lastChild;return Nn(r)?B.some(xu(r,e?0:r.data.length)):r?Lo(r)?B.some(e?xu.before(r):Fn(n=r)?xu.before(n):xu.after(n)):function(e,t,n){var r=e?xu.before(n):xu.after(n);return xl(e,t,r)}(e,t,r):B.none()},_l=P(xl,!0),Pl=P(xl,!1),Ol=P(Al,!0),El=P(Al,!1),Tl="_mce_caret",Dl=function(e){return Pn(e)&&e.id===Tl},Il=function(e,t){for(;t&&t!==e;){if(t.id===Tl)return t;t=t.parentNode}return null},kl=function(e,t){return Pn(t)&&e.isBlock(t)&&!t.innerHTML&&!bt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Ml=function(e,t){return El(e).fold(I,(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},Nl=function(e,t,n){return!(!function(e){return!1===e.hasChildNodes()}(t)||!Il(e,t))&&(function(e,t){var n=e.ownerDocument.createTextNode(ho);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)}(t,n),!0)},Rl=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;o>=1;o--){if(s=i.childNodes,Nl(c,i,r))return!0;if(u[o]>s.length-1)return!!Nl(c,i,r)||Ml(i,r);i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Bl=function(e){return Nn(e)&&e.data.length>0},Ll=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):Bl(c.nextSibling)?(r=c.nextSibling,o=0):Bl(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),s=r,u=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):Bl(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),s=r,u=o),!l){for(a=c.previousSibling,i=c.nextSibling,At.each(At.grep(c.childNodes),(function(e){Nn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&Nn(a)&&!bt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return B.some(xu(s,u))}return B.none()},Fl=function(e,t){var n=e.dom;if(t){if(function(e){return At.isArray(e.start)}(t))return function(e,t){var n=e.createRng();return Rl(e,!0,t,n)&&Rl(e,!1,t,n)?B.some(n):B.none()}(n,t);if(function(e){return d(e.start)}(t))return B.some(function(e,t){var n,r=e.createRng();return n=Mu(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Mu(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r}(n,t));if(function(e){return e.hasOwnProperty("id")}(t))return function(e,t){var n=Ll(e,"start",t),r=Ll(e,"end",t);return Hs(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart(kl(e,t.container()),t.offset()),r.setEnd(kl(e,n.container()),n.offset()),r}))}(n,t);if(function(e){return e.hasOwnProperty("name")}(t))return function(e,t){return B.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))}(n,t);if(function(e){return e.hasOwnProperty("rng")}(t))return B.some(t.rng)}return B.none()},jl=function(e,t,n){return Gu(e,t,n)},Vl=function(e,t){Fl(e,t).each((function(t){e.setRng(t)}))},Ul=function(e){return Pn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},zl=(il=po,function(e){return il===e}),Gl=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},Wl=function(e){return!Gl(e)&&!zl(e)},Hl=function(e){return!!e.nodeType},ql=function(e,t,n){var r,o,i,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(i=s.childNodes).length?(s=i[a],r=new eo(s,e.getParent(s,e.isBlock))):(s=i[i.length-1],(r=new eo(s,e.getParent(s,e.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!Zl(o))return n.setStart(o,0),void t.setRng(n)},Kl=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!Zl(e))return e}},Xl=function(e,t){return Hl(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Yl=function(e,t,n){return e.schema.isValidChild(t,n)},Zl=function(e,t){if(void 0===t&&(t=!1),b(e)&&Nn(e)){var n=t?e.data.replace(/ /g,""):e.data;return Uo(n)}return!1},Jl=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},$l=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Ql=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},ef=function(e,t,n){return Ql(e,e.getStyle(t,n),n)},tf=function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},nf=function(e,t,n){return e.getParents(t,n,e.getRoot())},rf=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return pe(e,(function(e,t){return z(r,(function(e){return e===t}))}))};return z(e.formatter.get(t),(function(t){var r=o(t);return z(e.formatter.get(n),(function(e){var t=o(e);return function(e,t,n){return void 0===n&&(n=u),s(n).eq(e,t)}(r,t)}))}))},of=function(e){return ve(e,"block")},af=function(e){return ve(e,"selector")},sf=function(e){return ve(e,"inline")},uf=function(e,t){return z(t.childNodes,e.isBlock)},cf=Ul,lf=nf,ff=Zl,df=Xl,pf=function(e,t){for(var n=t;n;){if(Pn(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},hf=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},mf=function(e,t,n){return hf(e,t,n,(function(e){return zl(e)||Gl(e)}))},gf=function(e,t,n){return hf(e,t,n,Wl)},vf=function(e,t,n,r,o,i){var a,s=e.getParent(n,e.isBlock)||t,u=function(t,n,r){var i=Ws(e),u=o?i.backwards:i.forwards;return B.from(u(t,n,(function(e,t){return cf(e.parentNode)?-1:(a=e,r(o,e,t))}),s))};return u(n,r,mf).bind((function(e){return i?u(e.container,e.offset+(o?-1:0),gf):B.some(e)})).orThunk((function(){return a?B.some({container:a,offset:o?0:a.length}):B.none()}))},yf=function(e,t,n,r,o){Nn(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=lf(e,r),a=0;a<i.length;a++)for(var s=0;s<t.length;s++){var u=t[s];if((!("collapsed"in u)||u.collapsed===n.collapsed)&&e.is(i[a],u.selector))return i[a]}return r},bf=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(Nn(n)?n.parentNode:n,(function(t){return t!==a&&df(e,t)}),s)}if(o&&t[0].wrapper&&(o=lf(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!$l(o,"br")););return o||n},wf=function(e,t,n,r){var o=n.parentNode;return!b(n[r])&&(!(o!==t&&!y(o)&&!e.isBlock(o))||wf(e,t,o,r))},xf=function(e,t,n,r,o){var i,a,s=n,u=o?"previousSibling":"nextSibling",c=e.getRoot();if(Nn(n)&&!ff(n)&&(o?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(i=s[u];i;i=i[u]){var l=Nn(i)&&!wf(e,c,i,u);if(!cf(i)&&(!Fn(a=i)||!a.getAttribute("data-mce-bogus")||a.nextSibling)&&!ff(i,l))return s}if(s===c||s.parentNode===c){n=s;break}s=s.parentNode}return n},Cf=function(e){return cf(e.parentNode)||cf(e)},Sf=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,s=t.endOffset,u=e.dom;(Pn(o)&&o.hasChildNodes()&&(o=eu(o,i),Nn(o)&&(i=0)),Pn(a)&&a.hasChildNodes()&&(a=eu(a,t.collapsed?s:s-1),Nn(a)&&(s=a.nodeValue.length)),o=pf(u,o),a=pf(u,a),Cf(o)&&(o=cf(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Nn(o)&&(i=t.collapsed?o.length:0)),Cf(a)&&(a=cf(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Nn(a)&&(s=t.collapsed?0:a.length)),t.collapsed)&&(vf(u,e.getBody(),o,i,!0,r).each((function(e){var t=e.container,n=e.offset;o=t,i=n})),vf(u,e.getBody(),a,s,!1,r).each((function(e){var t=e.container,n=e.offset;a=t,s=n})));return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Nn(o)&&0!==i||(o=xf(u,n,o,i,!0)),n[0].inline&&Nn(a)&&s!==a.nodeValue.length||(a=xf(u,n,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=yf(u,n,t,o,"previousSibling"),a=yf(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=bf(e,n,o,"previousSibling"),a=bf(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=xf(u,n,o,i,!0)),u.isBlock(a)||(a=xf(u,n,a,s,!1)))),Pn(o)&&(i=u.nodeIndex(o),o=o.parentNode),Pn(a)&&(s=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},Af=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},_f=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=function(e){var t;return 3===(t=e[0]).nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},u=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var c=u(i===e?i:i[o],o);c.length&&(r||c.reverse(),n(s(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Af(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Af(i,a-1)),r===i)return n(s([r]));for(var f=e.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var p=c(r,f)||r,h=c(i,f)||i;l(r,p,!0);var m=u(p===r?p:p.nextSibling,"nextSibling",h===i?h.nextSibling:h);m.length&&n(s(m)),l(i,h)},Pf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Of=function(e){return q(function(e){return J(e,(function(e){var t=Qs(e);return t?[Pt.fromDom(t)]:[]}))}(e),lo)},Ef=function(e,t){var n=Ts(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:Of(e)},Tf=function(e){return Ef(Pf(e.selection.getSel()),Pt.fromDom(e.getBody()))},Df=function(e){return Zt(e).fold(A([e]),(function(t){return[e].concat(Df(t))}))},If=function(e){return Jt(e).fold(A([e]),(function(t){return"br"===Mt(t)?Wt(t).map((function(t){return[e].concat(If(t))})).getOr([]):[e].concat(If(t))}))},kf=function(e,t){return Hs(function(e){var t=e.startContainer,n=e.startOffset;return Nn(t)?0===n?B.some(Pt.fromDom(t)):B.none():B.from(t.childNodes[n]).map(Pt.fromDom)}(t),function(e){var t=e.endContainer,n=e.endOffset;return Nn(t)?n===t.data.length?B.some(Pt.fromDom(t)):B.none():B.from(t.childNodes[n-1]).map(Pt.fromDom)}(t),(function(t,n){var r=Y(Df(e),P(Dt,t)),o=Y(If(e),P(Dt,n));return r.isSome()&&o.isSome()})).getOr(!1)},Mf=function(e,t,n,r){var o=n,i=new eo(n,o),a=pe(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!U(["td","th","table"],t.toLowerCase())}));do{if(Nn(n)&&0!==At.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Nf=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Rf=function(e,t){var n=Tf(e);n.length>0?W(n,(function(n){var r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)})):t(e.selection.getRng(),!1)},Bf=function(e,t,n){var r=zu(e,t);n(r),e.moveToBookmark(r)},Lf=function(e,t){var n=function(t){return e(t)?B.from(t.dom.nodeValue):B.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}}(Lt,"text"),Ff=function(e){return Lf.get(e)},jf=function(e,t,n,r){return Gt(t).fold((function(){return"skipping"}),(function(o){return"br"===r||function(e){return Lt(e)&&Ff(e)===ho}(t)?"valid":function(e){return Bt(e)&&Os(e,Ds())}(t)?"existing":Dl(t.dom)?"caret":Yl(e,n,r)&&Yl(e,Mt(o),n)?"valid":"invalid-child"}))},Vf=function(e,t,n,r){var o=t.uid,i=void 0===o?Fs("mce-annotation"):o,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["uid"]),s=Pt.fromTag("span",e);_s(s,Ds()),qn(s,""+ks(),i),qn(s,""+Is(),n);var u=r(i,a),c=u.attributes,l=void 0===c?{}:c,f=u.classes,d=void 0===f?[]:f;return Kn(s,l),function(e,t){W(t,(function(t){_s(e,t)}))}(s,d),s},Uf=function(e,t,n,r,o){var i=[],a=Vf(e.getDoc(),o,n,r),s=ps(B.none()),u=function(){s.set(B.none())},c=function(e){W(e,l)},l=function(t){switch(jf(e,t,"span",Mt(t))){case"invalid-child":u();var n=Xt(t);c(n),u();break;case"valid":!function(e,t){an(e,t),cn(t,e)}(t,s.get().getOrThunk((function(){var e=Us(a);return i.push(e),s.set(B.some(e)),e})))}};return _f(e.dom,t,(function(e){u(),function(e){var t=G(e,Pt.fromDom);c(t)}(e)})),i},zf=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection,i=o.getRng(),a=Tf(e).length>0;if(i.collapsed&&!a&&function(e,t){var n=Sf(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)}(e,i),o.getRng().collapsed&&!a){var s=Vf(e.getDoc(),r,t,n.decorate);js(s,po),o.getRng().insertNode(s.dom),o.select(s.dom)}else Bf(o,!1,(function(){Rf(e,(function(o){Uf(e,o,t,n.decorate,r)}))}))}))},Gf=function(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?B.from(t[e]).map((function(e){return e.settings})):B.none()}});Bs(e,n);var r=Rs(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each((function(n){zf(e,t,n,r)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){Ms(e,B.some(t)).each((function(e){var t=e.elements;W(t,pn)}))},getAll:function(t){var n=function(e,t){var n=Pt.fromDom(e.getBody()),r=Ts(n,"["+Is()+'="'+t+'"]'),o={};return W(r,(function(e){var t=Xn(e,ks()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])})),o}(e,t);return ue(n,(function(e){return G(e,(function(e){return e.dom}))}))}}},Wf=function(e){return{getBookmark:P(jl,e),moveToBookmark:P(Vl,e)}};Wf.isBookmarkNode=Ul;var Hf=function(e,t){for(;t&&t!==e;){if(Vn(t)||Un(t))return t;t=t.parentNode}return null},qf=function(e,t,n){if(n.collapsed)return!1;if(bt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Pn(r))return z(r.getClientRects(),(function(n){return $s(n,e,t)}))}return z(n.getClientRects(),(function(n){return $s(n,e,t)}))},Kf=function(e,t,n){return e.fire(t,n)},Xf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Xf.metaKeyPressed(e)},metaKeyPressed:function(e){return bt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Yf=Un,Zf=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v="data-mce-selected",y=t.dom,w=At.each,x=t.getDoc(),C=document,S=Math.abs,A=Math.round,_=t.getBody(),P={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},O=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},E=function(e){return Gn(e)||y.hasClass(e,"mce-preview-object")},T=function(e){var n=e.target;(function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return O(e.target)&&!qf(n.clientX,n.clientY,t)}return O(e.target)&&!qf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},D=function(e){return y.is(e,"figure.image")?[e.querySelector("img")]:y.hasClass(e,"mce-preview-object")&&b(e.firstElementChild)?[e,e.firstElementChild]:[e]},I=function(e){var n=uc(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(y.hasClass(e,"mce-preview-object")?Et(Pt.fromDom(e.firstElementChild),n):Et(Pt.fromDom(e),n))))},k=function(e,n,r){if(b(r)){var o=D(e);W(o,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?y.setStyle(e,n,r):y.setAttrib(e,n,""+r)}))}},M=function(e,t,n){k(e,"width",t),k(e,"height",n)},N=function(e){var a,v,b,w;a=e.screenX-s,v=e.screenY-u,p=a*i[2]+c,h=v*i[3]+l,p=p<5?5:p,h=h<5?5:h,((O(n)||E(n))&&!1!==function(e){return e.getParam("resize_img_proportional",!0,"boolean")}(t)?!Xf.modifierPressed(e):Xf.modifierPressed(e))&&(S(a)>S(v)?(h=A(p*f),p=A(h/f)):(p=A(h/f),h=A(p*f))),M(r,p,h),b=(b=i.startPos.x+a)>0?b:0,w=(w=i.startPos.y+v)>0?w:0,y.setStyles(o,{left:b,top:w,display:"block"}),o.innerHTML=p+" &times; "+h,i[2]<0&&r.clientWidth<=p&&y.setStyle(r,"left",undefined+(c-p)),i[3]<0&&r.clientHeight<=h&&y.setStyle(r,"top",undefined+(l-h)),(a=_.scrollWidth-m)+(v=_.scrollHeight-g)!==0&&y.setStyles(o,{left:b-a,top:w-v}),d||(!function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}(t,n,c,l,"corner-"+i.name),d=!0)},R=function(){var e=d;d=!1,e&&(k(n,"width",p),k(n,"height",h)),y.unbind(x,"mousemove",N),y.unbind(x,"mouseup",R),C!==x&&(y.unbind(C,"mousemove",N),y.unbind(C,"mouseup",R)),y.remove(r),y.remove(o),y.remove(a),B(n),e&&(!function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}(t,n,p,h,"corner-"+i.name),y.setAttrib(n,"style",y.getAttrib(n,"style"))),t.nodeChanged()},B=function(e){V();var d=y.getPos(e,_),b=d.x,S=d.y,A=e.getBoundingClientRect(),O=A.width||A.right-A.left,T=A.height||A.bottom-A.top;n!==e&&(L(),n=e,p=h=0);var k=t.fire("ObjectSelected",{target:e}),B=y.getAttrib(n,v,"1");I(e)&&!k.isDefaultPrevented()?w(P,(function(e,t){var d,p=function(d){var p,h=D(n)[0];s=d.screenX,u=d.screenY,c=h.clientWidth,l=h.clientHeight,f=l/c,(i=e).name=t,i.startPos={x:O*e[0]+b,y:T*e[1]+S},m=_.scrollWidth,g=_.scrollHeight,a=y.add(_,"div",{class:"mce-resize-backdrop"}),y.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=E(p=n)?y.create("img",{src:bt.transparentSrc}):p.cloneNode(!0),y.addClass(r,"mce-clonedresizable"),y.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",y.setStyles(r,{left:b,top:S,margin:0}),M(r,O,T),r.removeAttribute(v),_.appendChild(r),y.bind(x,"mousemove",N),y.bind(x,"mouseup",R),C!==x&&(y.bind(C,"mousemove",N),y.bind(C,"mouseup",R)),o=y.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},c+" &times; "+l)};(d=y.get("mceResizeHandle"+t))&&y.remove(d),d=y.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===bt.ie&&(d.contentEditable=!1),y.bind(d,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)})),e.elm=d,y.setStyles(d,{left:O*e[0]+b-d.offsetWidth/2,top:T*e[1]+S-d.offsetHeight/2})})):L(),y.getAttrib(n,v)||n.setAttribute(v,B)},L=function(){V(),n&&n.removeAttribute(v),se(P,(function(e,t){var n=y.get("mceResizeHandle"+t);n&&(y.unbind(n),y.remove(n))}))},F=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};d||t.removed||(w(y.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(v)})),r="mousedown"===n.type?n.target:e.getNode(),o(r=y.$(r).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],_)&&(U(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?B(r):L())},j=function(e){return Yf(Hf(t.getBody(),e))},V=function(){se(P,(function(e){e.elm&&(y.unbind(e.elm),delete e.elm)}))},U=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(function(){if(U(),bt.browser.isIE()||bt.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||j(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}));var e=function(e){var n=function(e){Jr.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(j(e.target)||Gn(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};y.bind(_,"mscontrolselect",e),t.on("remove",(function(){return y.unbind(_,"mscontrolselect",e)}))}var r=Jr.throttle((function(e){t.composing||F(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",(function(e){n&&"TABLE"===n.nodeName&&r(e)})),t.on("hide blur",L),t.on("contextmenu longpress",T,!0)})),t.on("remove",V);return{isResizable:I,showResizeRect:B,hideResizeRect:L,updateResizeRect:F,destroy:function(){n=r=a=null}}},Jf=function(e){return Vn(e)||Un(e)},$f=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),(r=(r=At.toArray(i.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(e){}}return null}(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Un(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(n,t,Jf))?null:e}(r,n.body)}return r},Qf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},ed=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},td=function(e,t,n){return ed(e,t,(function(e){return e.nodeName===n}))},nd=function(e){return e&&"TABLE"===e.nodeName},rd=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},od=function(e,t){return xo(e)&&!1===ed(e,t,Dl)},id=function(e,t,n){for(var r=new eo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Fn(t))return!0},ad=function(e,t,n,r,o){var i,a,s=e.getRoot(),u=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||s;if(r&&Fn(o)&&t&&e.isEmpty(c))return B.some(xu(o.parentNode,e.nodeIndex(o)));for(var l=new eo(o,c);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||od(a,s))return B.none();if(Nn(a)&&a.nodeValue.length>0)return!1===td(a,s,"A")?B.some(xu(a,r?a.nodeValue.length:0)):B.none();if(e.isBlock(a)||u[a.nodeName.toLowerCase()])return B.none();i=a}return n&&i?B.some(xu(i,0)):B.none()},sd=function(e,t,n,r){var o,i,a,s,u=e.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=Pn(o)&&i===o.childNodes.length,f=e.schema.getNonEmptyElements();if(s=n,xo(o))return B.none();if(Pn(o)&&i>o.childNodes.length-1&&(s=!1),Bn(o)&&(o=u,i=0),o===u){if(s&&(a=o.childNodes[i>0?i-1:0])){if(xo(a))return B.none();if(f[a.nodeName]||nd(a))return B.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Nn(o)&&l?o.data.length:0,!t&&o===u.lastChild&&nd(o))return B.none();if(function(e,t){for(;t&&t!==e;){if(Un(t))return!0;t=t.parentNode}return!1}(u,o)||xo(o))return B.none();if(o.hasChildNodes()&&!1===nd(o)){a=o;var d=new eo(o,u);do{if(Un(a)||xo(a)){c=!1;break}if(Nn(a)&&a.nodeValue.length>0){i=s?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!rd(a)){i=e.nodeIndex(a),o=a.parentNode,s||i++,c=!0;break}}while(a=s?d.next():d.prev())}}}return t&&(Nn(o)&&0===i&&ad(e,l,t,!0,o).each((function(e){o=e.container(),i=e.offset(),c=!0})),Pn(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!Fn(a)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(a,"A")||id(e,a,!1)||id(e,a,!0)||ad(e,l,t,!0,a).each((function(e){o=e.container(),i=e.offset(),c=!0})))),s&&!t&&Nn(o)&&i===o.nodeValue.length&&ad(e,l,t,!1,o).each((function(e){o=e.container(),i=e.offset(),c=!0})),c?B.some(xu(o,i)):B.none()},ud=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=xu.fromRangeStart(t);return sd(e,n,!0,r).each((function(e){n&&xu.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||sd(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),Qf(t,r)?B.none():B.some(r)},cd=function(e,t){return e.splitText(t)},ld=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Nn(t)?n>0&&n<t.nodeValue.length&&(t=(r=cd(t,n)).previousSibling,o>n?(t=r=cd(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Nn(t)&&n>0&&n<t.nodeValue.length&&(t=cd(t,n),n=0),Nn(r)&&o>0&&o<r.nodeValue.length&&(o=(r=cd(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},fd=function(e){return{walk:function(t,n){return _f(e,t,n)},split:ld,normalize:function(t){return ud(e,t).fold(I,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}};fd.compareRanges=Qf,fd.getCaretRangeFromPoint=$f,fd.getSelectedNode=Qs,fd.getNode=eu;var dd,pd=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=$n(n,e);return parseFloat(o)||0}return r},r=function(e,t){return X(t,(function(t,n){var r=$n(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!x(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Wn(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}("height",(function(e){var t=e.dom;return hn(e)?t.getBoundingClientRect().height:t.offsetHeight})),hd=function(e,t){return e.view(t).fold(A([]),(function(t){var n=e.owner(t),r=hd(e,n);return[t].concat(r)}))},md=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?B.none():B.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Pt.fromDom)},owner:function(e){return Ut(e)}}),gd=function(e){var t=Pt.fromDom(document),n=bn(t),r=function(e,t){var n=t.owner(e);return hd(t,n)}(e,md),o=yn(e),i=K(r,(function(e,t){var n=yn(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return gn(i.left+o.left+n.left,i.top+o.top+n.top)},vd=function(e){return"textarea"===Mt(e)},yd=function(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return gn(n.offsetLeft,n.offsetTop);var i=vn(null==r?void 0:r.pageYOffset,o.scrollTop),a=vn(null==r?void 0:r.pageXOffset,o.scrollLeft),s=vn(o.clientTop,n.clientTop),u=vn(o.clientLeft,n.clientLeft);return yn(e).translate(a-u,i-s)}(e),r=function(e){return pd.get(e)}(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},bd=function(e,t){var n=function(e,t){var n=Xt(e);if(0===n.length||vd(e))return{element:e,offset:t};if(t<n.length&&!vd(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return vd(r)?{element:e,offset:t}:"img"===Mt(r)?{element:r,offset:1}:Lt(r)?{element:r,offset:Ff(r).length}:{element:r,offset:Xt(r).length}}(e,t),r=Pt.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return an(n.element,r),yd(r,(function(){return dn(r)}))},wd=function(e,t,n,r){Ad(e,(function(o,i){return Cd(e,t,n,r)}),n)},xd=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};(function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()})(e,i)||(n(t,bn(t).top,r,o),function(e,t){e.fire("AfterScrollIntoView",t)}(e,i))},Cd=function(e,t,n,r){var o=Pt.fromDom(e.getBody()),i=Pt.fromDom(e.getDoc());o.dom.offsetWidth;var a=bd(Pt.fromDom(n.startContainer),n.startOffset);xd(e,i,t,a,r),a.cleanup()},Sd=function(e,t,n,r){var o=Pt.fromDom(e.getDoc());xd(e,o,n,function(e){return yd(Pt.fromDom(e),C)}(t),r)},Ad=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(Pt.fromDom(r),Pt.fromDom(i));var s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},_d=function(e,t,n,r){var o=e.pos;if(n)wn(o.left,o.top,r);else{var i=o.top-t+e.height;wn(o.left,i,r)}},Pd=function(e,t,n,r,o){var i=n+t,a=r.pos.top,s=r.bottom,u=s-a>=n;if(a<t)_d(r,n,!1!==o,e);else if(a>i){_d(r,n,u?!1!==o:!0===o,e)}else s>i&&!u&&_d(r,n,!0===o,e)},Od=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Pd(e,t,o,n,r)},Ed=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Pd(e,t,o,n,r);var i=gd(n.element),a=Sn(window);i.top<a.y?xn(n.element,!1!==r):i.top>a.bottom&&xn(n.element,!0===r)},Td=function(e,t,n){return wd(e,Od,t,n)},Dd=function(e,t,n){return Sd(e,t,Od,n)},Id=function(e,t,n){return wd(e,Ed,t,n)},kd=function(e,t,n){return Sd(e,t,Ed,n)},Md=function(e,t,n){(e.inline?Td:Id)(e,t,n)},Nd=function(e){var t=tn(e).dom;return e.dom===t.activeElement},Rd=function(e){return void 0===e&&(e=Pt.fromDom(document)),B.from(e.dom.activeElement).map(Pt.fromDom)},Bd=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Ld=yr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fd=(Ld.before,Ld.on,Ld.after,function(e){return e.fold(_,_,_)}),jd=yr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vd={domRange:jd.domRange,relative:jd.relative,exact:jd.exact,exactFromRange:function(e){return jd.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return Pt.fromDom(e.startContainer)},relative:function(e,t){return Fd(e)},exact:function(e,t,n,r){return e}})}(e);return zt(t)},range:Bd},Ud=lt().browser,zd=function(e,t){var n=Lt(t)?Ff(t).length:Xt(t).length+1;return e>n?n:e<0?0:e},Gd=function(e){return Vd.range(e.start,zd(e.soffset,e.start),e.finish,zd(e.foffset,e.finish))},Wd=function(e,t){return!_n(t.dom)&&(kt(e,t)||Dt(e,t))},Hd=function(e){return function(t){return Wd(e,t.start)&&Wd(e,t.finish)}},qd=function(e){return!0===e.inline||Ud.isIE()},Kd=function(e){return Vd.range(Pt.fromDom(e.startContainer),e.startOffset,Pt.fromDom(e.endContainer),e.endOffset)},Xd=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?B.from(t.getRangeAt(0)):B.none()).map(Kd)}(zt(e).dom).filter(Hd(e))},Yd=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),B.some(t)}catch(e){return B.none()}},Zd=function(e){var t=qd(e)?Xd(Pt.fromDom(e.getBody())):B.none();e.bookmark=t.isSome()?t:e.bookmark},Jd=function(e){return(e.bookmark?e.bookmark:B.none()).bind((function(t){return function(e,t){return B.from(t).filter(Hd(e)).map(Gd)}(Pt.fromDom(e.getBody()),t)})).bind(Yd)},$d={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Qd=function(e,t){lt().browser.isIE()?function(e){e.on("focusout",(function(){Zd(e)}))}(e):function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}(e,t),e.on("keyup NodeChange",(function(t){(function(e){return"nodechange"===e.type&&e.selectionChange})(t)||Zd(e)}))},ep=function(e){var t=bs((function(){Zd(e)}),0);e.on("init",(function(){e.inline&&function(e,t){var n=function(){t.throttle()};us.DOM.bind(document,"mouseup",n),e.on("remove",(function(){us.DOM.unbind(document,"mouseup",n)}))}(e,t),Qd(e,t)})),e.on("remove",(function(){t.cancel()}))},tp=us.DOM,np=function(e,t){var n=function(e){return e.getParam("custom_ui_selector","","string")}(e);return null!==tp.getParent(t,(function(t){return function(e){return $d.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)}))},rp=function(e,t){var n=t.editor;ep(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){Jr.setEditorTimeout(n,(function(){var t=e.focusedEditor;np(n,function(e){try{var t=tn(Pt.fromDom(e.getElement()));return Rd(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}}(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),dd||(dd=function(t){var n=e.activeEditor;n&&function(e){if(en()&&b(e.target)){var t=Pt.fromDom(e.target);if(Bt(t)&&on(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ne(n)}}return B.from(e.target)}(t).each((function(t){t.ownerDocument===document&&(t===document.body||np(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},tp.bind(document,"focusin",dd))},op=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(tp.unbind(document,"focusin",dd),dd=null)},ip=function(e,t){return function(e){return e.collapsed?B.from(eu(e.startContainer,e.startOffset)).map(Pt.fromDom):B.none()}(t).bind((function(t){return co(t)?B.some(t):!1===kt(e,t)?B.some(e):B.none()}))},ap=function(e,t){ip(Pt.fromDom(e.getBody()),t).bind((function(e){return Ol(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},sp=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},up=function(e){return Nd(e)||(t=e,Rd(tn(t)).filter((function(e){return t.dom.contains(e.dom)}))).isSome();var t},cp=function(e){return e.inline?function(e){var t=e.getBody();return t&&up(Pt.fromDom(t))}(e):function(e){return e.iframeElement&&Nd(Pt.fromDom(e.iframeElement))}(e)},lp=function(e){return cp(e)||function(e){var t=tn(Pt.fromDom(e.getElement()));return Rd(t).filter((function(t){return!(void 0!==(n=t.dom.classList)&&(n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body")))&&np(e,t.dom);var n})).isSome()}(e)},fp=function(e){return e.editorManager.setActive(e)},dp=function(e,t){e.removed||(t?fp(e):function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===cp(e)&&Jd(e).each((function(t){e.selection.setRng(t),r=t}));var o=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}(e,t.getNode());if(e.$.contains(n,o))return sp(o),ap(e,r),void fp(e);e.inline||(bt.opera||sp(n),e.getWin().focus()),(bt.gecko||e.inline)&&(sp(n),ap(e,r)),fp(e)}(e))},pp=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return B.from(i).map(Pt.fromDom).map((function(e){return r&&t.collapsed?e:Yt(e,o(e,a)).getOr(e)})).bind((function(e){return Bt(e)?B.some(e):Gt(e).filter(Bt)})).map((function(e){return e.dom})).getOr(e)},hp=function(e,t,n){return pp(e,t,!0,n,(function(e,t){return Math.min(e.dom.childNodes.length,t)}))},mp=function(e,t,n){return pp(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},gp=function(e,t){for(var n=e;e&&Nn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},vp=function(e,t){return G(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},yp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},bp=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},wp=function(e){if(!Uo(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},xp=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Cp=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,yp[t]||1);return n&&se(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&se(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var s=t[i];"id"!==s.name&&(o[o.length]={name:s.name,value:s.value},o.map[s.name]=s.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=bp(n,this))n.name===e&&t.push(n);return t},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=bp(n,e))t.push(n);for(var r=t.length;r--;){(n=t[r]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(xp(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(xp(o))return!1}if(8===o.type)return!1;if(3===o.type&&!wp(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&Uo(o.value))return!1;if(n&&n(o))return!1}while(o=bp(o,r));return!0},e.prototype.walk=function(e){return bp(this,null,e)},e}(),Sp=function(e,t){return e.replace(t.re,(function(e){return me(t.uris,e).getOr(e)}))},Ap=["img","video"],_p=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?function(e,t){return!(y(e)?U(Ap,t):e)}(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Pp=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(s.lastIndex=r=n;o=s.exec(t);){if(r=s.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},Op=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null},Ep=function(e,t){void 0===t&&(t=xi()),!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var n=e.comment?e.comment:C,r=e.cdata?e.cdata:C,o=e.text?e.text:C,i=e.start?e.start:C,a=e.end?e.end:C,s=e.pi?e.pi:C,u=e.doctype?e.doctype:C,c=function(c,l){void 0===l&&(l="html");for(var f,d,p,h,m,g,v,y,b,w,x,C,S,A,_,P,O,E,T,D=c.html,I=0,k=[],M=0,N=fi.decode,R=At.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,L="html"===l?0:1,F=function(e){var t,n;for(t=k.length;t--&&k[t].name!==e;);if(t>=0){for(n=k.length-1;n>=t;n--)(e=k[n]).valid&&a(e.name);k.length=t}},j=function(e,t){return o(Sp(e,c),t)},V=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),n(Sp(t,c)))},U=function(e,t){var n=e||"",r=!Re(n,"--"),o=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length}(D,r,t);return e=D.substr(t,o-t),V(r?n+e:e),o+1},z=function(t,n,r,o,i){var a,s;if(r=function(e){return Sp(e,c)}((n=n.toLowerCase())in K?n:N(r||o||i||"")),X&&!y&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(n)){if(!(a=A[n])&&_){for(s=_.length;s--&&!(a=_[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(R[n]&&!e.allow_script_urls){var u=r.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(B.test(u))return;if(_p(e,u,t))return}y&&(n in R||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))},G=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,H=t.getShortEndedElements(),q=e.self_closing_elements||t.getSelfClosingElements(),K=t.getBoolAttrs(),X=e.validate,Y=e.remove_internals,Z=e.fix_self_closing,J=t.getSpecialElements(),$=D+">";f=G.exec($);){var Q=f[0];if(I<f.index&&j(N(D.substr(I,f.index-I))),d=f[7])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),F(d);else if(d=f[8]){if(f.index+Q.length>D.length){j(N(D.substr(f.index))),I=f.index+Q.length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),b=d in H,Z&&q[d]&&k.length>0&&k[k.length-1].name===d&&F(d);var ee=Op(W,f[9]);if(null!==ee){if("all"===ee){I=Pp(t,D,G.lastIndex),G.lastIndex=I;continue}x=!1}if(!X||(w=t.getElementRule(d))){if(x=!0,X&&(A=w.attributes,_=w.attributePatterns),(S=f[9])?((y=-1!==S.indexOf("data-mce-type"))&&Y&&(x=!1),(h=[]).map={},S.replace(W,(function(e,t,n,r,o){return z(d,t,n,r,o),""}))):(h=[]).map={},X&&!y){if(P=w.attributesRequired,O=w.attributesDefault,E=w.attributesForced,w.removeEmptyAttrs&&!h.length&&(x=!1),E)for(m=E.length;m--;)v=(C=E[m]).name,"{$uid}"===(T=C.value)&&(T="mce_"+M++),h.map[v]=T,h.push({name:v,value:T});if(O)for(m=O.length;m--;)(v=(C=O[m]).name)in h.map||("{$uid}"===(T=C.value)&&(T="mce_"+M++),h.map[v]=T,h.push({name:v,value:T}));if(P){for(m=P.length;m--&&!(P[m]in h.map););-1===m&&(x=!1)}if(C=h.map["data-mce-bogus"]){if("all"===C){I=Pp(t,D,G.lastIndex),G.lastIndex=I;continue}x=!1}}x&&i(d,h,b)}else x=!1;if(p=J[d]){p.lastIndex=I=f.index+Q.length,(f=p.exec(D))?(x&&(g=D.substr(I,f.index-I)),I=f.index+f[0].length):(g=D.substr(I),I=D.length),x&&(g.length>0&&j(g,!0),a(d)),G.lastIndex=I;continue}b||(S&&S.indexOf("/")===S.length-1?x&&a(d):k.push({name:d,valid:x}))}else if(d=f[1])V(d);else if(d=f[2]){if(!(1===L||e.preserve_cdata||k.length>0&&t.isValidChild(k[k.length-1].name,"#cdata"))){I=U("",f.index+2),G.lastIndex=I;continue}r(d)}else if(d=f[3])u(d);else{if((d=f[4])||"<!"===Q){I=U(d,f.index+Q.length),G.lastIndex=I;continue}if(d=f[5]){if(1!==L){I=U("?",f.index+2),G.lastIndex=I;continue}s(d,f[6])}}I=f.index+Q.length}for(I<D.length&&j(N(D.substr(I))),m=k.length-1;m>=0;m--)(d=k[m]).valid&&a(d.name)};return{parse:function(e,t){void 0===t&&(t="html"),c(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Fs("img"),a=0,s=0;t=n.exec(e);){var u=t[0],c=i+"_"+s++;o[c]=u,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+u.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(e),t)}}};Ep.findEndTag=Pp;var Tp=function(e,t){var n,r,o,i,a=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema;a=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(e.getTempAttrs(),a);for(var c=u.getShortEndedElements();i=s.exec(a);)r=s.lastIndex,o=i[0].length,n=c[i[1]]?r:Ep.findEndTag(u,a,r),a=a.substring(0,r-o)+a.substring(n),s.lastIndex=r-o;return go(a)},Dp=Tp,Ip=function(e,t,n,r){var o;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),o="raw"===t.format?At.trim(Dp(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":go(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):function(e,t){var n=Xu(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")}(e,e.serializer.serialize(r,t)),U(["text","tree"],t.format)||fo(Pt.fromDom(r))?t.content=o:t.content=At.trim(o),t.no_events||e.fire("GetContent",t),t.content},kp=At.each,Mp=function(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return kp(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Ul(t)&&!Ul(n)))}}},Np=At.makeMap,Rp=function(e){var t=[],n=(e=e||{}).indent,r=Np(e.indent_before||""),o=Np(e.indent_after||""),i=fi.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,u){var c,l,f,d;if(n&&r[e]&&t.length>0&&(d=t[t.length-1]).length>0&&"\n"!==d&&t.push("\n"),t.push("<",e),s)for(c=0,l=s.length;c<l;c++)f=s[c],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!u||a?">":" />",u&&n&&o[e]&&t.length>0&&(d=t[t.length-1]).length>0&&"\n"!==d&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1]).length>0&&"\n"!==r&&t.push("\n")},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Bp=function(e,t){void 0===t&&(t=xi());var n=Rp(e);(e=e||{}).validate=!("validate"in e)||e.validate;return{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,s,u,c,l,f,d,p,h,m=i[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,u=e.attributes,o&&u&&u.length>1&&((f=[]).map={},h=t.getElementRule(e.name))){for(d=0,p=h.attributesOrder.length;d<p;d++)(c=h.attributesOrder[d])in u.map&&(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=u.length;d<p;d++)(c=u[d].name)in f.map||(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));u=f}if(n.start(e.name,u,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},Lp=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(e){Lp.add(e)}));var Fp=["font","text-decoration","text-emphasis"],jp=function(e,t){return ie(e.parseStyle(e.getAttrib(t,"style")))},Vp=function(e,t){return $(jp(e,t),(function(e){return!function(e){return Lp.has(e)}(e)}))},Up=function(e,t,n){var r=jp(e,t),o=jp(e,n),i=function(r){var o=e.getStyle(t,r),i=e.getStyle(n,r);return Ve(o)&&Ve(i)&&o!==i};return z(r,(function(e){var t=function(t){return z(t,(function(t){return t===e}))};if(!t(o)&&t(Fp)){var n=q(o,(function(e){return z(Fp,(function(t){return Re(e,t)}))}));return z(n,i)}return i(e)}))},zp=function(e,t,n){return B.from(n.container()).filter(Nn).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))},Gp=P(zp,!0,Gl),Wp=P(zp,!1,Gl),Hp=function(e){var t=e.container();return Nn(t)&&(0===t.data.length||mo(t.data)&&Wf.isBookmarkNode(t.parentNode))},qp=function(e,t){return function(n){return B.from(Kc(e?0:-1,n)).filter(t).isSome()}},Kp=function(e){return jn(e)&&"block"===$n(Pt.fromDom(e),"display")},Xp=function(e){return Un(e)&&!function(e){return Pn(e)&&"all"===e.getAttribute("data-mce-bogus")}(e)},Yp=qp(!0,Kp),Zp=qp(!1,Kp),Jp=qp(!0,Gn),$p=qp(!1,Gn),Qp=qp(!0,In),eh=qp(!1,In),th=qp(!0,Xp),nh=qp(!1,Xp),rh=function(e){var t=Ts(e,"br"),n=q(function(e){for(var t=[],n=e.dom;n;)t.push(Pt.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),io);t.length===n.length&&W(n,dn)},oh=function(e){fn(e),cn(e,Pt.fromHtml('<br data-mce-bogus="1">'))},ih=function(e){Jt(e).each((function(t){Wt(t).each((function(n){ro(e)&&io(t)&&ro(n)&&dn(t)}))}))},ah=function(e,t,n){return kt(t,e)?function(e,t){for(var n=w(t)?t:I,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Pt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,(function(e){return n(e)||Dt(e,t)})).slice(0,-1):[]},sh=function(e,t){return ah(e,t,I)},uh=function(e,t){return[e].concat(sh(e,t))},ch=function(e,t,n){return Sl(e,t,n,Hp)},lh=function(e,t){return Y(uh(Pt.fromDom(t.container()),e),ro)},fh=function(e,t,n){return ch(e,t.dom,n).forall((function(e){return lh(t,n).fold((function(){return!1===qc(e,n,t.dom)}),(function(r){return!1===qc(e,n,t.dom)&&kt(r,Pt.fromDom(e.container()))}))}))},dh=function(e,t,n){return lh(t,n).fold((function(){return ch(e,t.dom,n).forall((function(e){return!1===qc(e,n,t.dom)}))}),(function(t){return ch(e,t.dom,n).isNone()}))},ph=P(dh,!1),hh=P(dh,!0),mh=P(fh,!1),gh=P(fh,!0),vh=function(e){return nl(e).exists(io)},yh=function(e,t,n){var r=q(uh(Pt.fromDom(n.container()),t),ro),o=ne(r).getOr(t);return xl(e,o.dom,n).filter(vh)},bh=function(e,t){return nl(t).exists(io)||yh(!0,e,t).isSome()},wh=function(e,t){return function(e){return B.from(e.getNode(!0)).map(Pt.fromDom)}(t).exists(io)||yh(!1,e,t).isSome()},xh=P(yh,!1),Ch=P(yh,!0),Sh=function(e){return xu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Ah=function(e,t){var n=q(uh(Pt.fromDom(t.container()),e),ro);return ne(n).getOr(e)},_h=function(e,t){return Sh(t)?Wp(t):Wp(t)||Pl(Ah(e,t).dom,t).exists(Wp)},Ph=function(e,t){return Sh(t)?Gp(t):Gp(t)||_l(Ah(e,t).dom,t).exists(Gp)},Oh=function(e){return nl(e).bind((function(e){return zr(e,Bt)})).exists((function(e){return function(e){return U(["pre","pre-wrap"],e)}($n(e,"white-space"))}))},Eh=function(e,t){return function(e,t){return Pl(e.dom,t).isNone()}(e,t)||function(e,t){return _l(e.dom,t).isNone()}(e,t)||ph(e,t)||hh(e,t)||wh(e,t)||bh(e,t)},Th=function(e,t){return!Oh(t)&&(ph(e,t)||mh(e,t)||wh(e,t)||_h(e,t))},Dh=function(e,t){return!Oh(t)&&(hh(e,t)||gh(e,t)||bh(e,t)||Ph(e,t))},Ih=function(e,t){return Th(e,t)||Dh(e,function(e){var t=e.container(),n=e.offset();return Nn(t)&&n<t.data.length?xu(t,n+1):e}(t))},kh=function(e,t){return zl(e.charAt(t))},Mh=function(e){var t=e.container();return Nn(t)&&Ne(t.data,po)},Nh=function(e){var t=e.data,n=function(e){var t=e.split("");return G(t,(function(e,n){return zl(e)&&n>0&&n<t.length-1&&Wl(t[n-1])&&Wl(t[n+1])?" ":e})).join("")}(t);return n!==t&&(e.data=n,!0)},Rh=function(e,t){return B.some(t).filter(Mh).bind((function(t){var n=t.container();return function(e,t){var n=t.data,r=xu(t,0);return!(!kh(n,0)||Ih(e,r)||(t.data=" "+n.slice(1),0))}(e,n)||Nh(n)||function(e,t){var n=t.data,r=xu(t,n.length-1);return!(!kh(n,n.length-1)||Ih(e,r)||(t.data=n.slice(0,-1)+" ",0))}(e,n)?B.some(t):B.none()}))},Bh=function(e){var t=Pt.fromDom(e.getBody());e.selection.isCollapsed()&&Rh(t,xu.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},Lh=function(e,t,n){if(0!==n){var r=Pt.fromDom(e),o=Ur(r,ro).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Dh(o,xu(e,e.data.length)),s=0===t&&Th(o,xu(e,0));e.replaceData(t,n,function(e,t,n){return X(e,(function(r,o){return Gl(o)||zl(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+po}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(i,s,a))}},Fh=function(e,t){var n=e.data.slice(t),r=n.length-Fe(n).length;return Lh(e,t,r)},jh=function(e,t){var n=e.data.slice(0,t),r=n.length-je(n).length;return Lh(e,t-r,r)},Vh=function(e,t,n,r){void 0===r&&(r=!0);var o=je(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),dn(Pt.fromDom(a)),n&&Fh(i,o),i},Uh=function(e,t){return function(e,t){var n=e.container(),r=e.offset();return!1===xu.isTextPosition(e)&&n===t.parentNode&&r>xu.before(t).offset()}(t,e)?xu(t.container(),t.offset()-1):t},zh=function(e){return Lo(e.previousSibling)?B.some((t=e.previousSibling,Nn(t)?xu(t,t.data.length):xu.after(t))):e.previousSibling?El(e.previousSibling):B.none();var t},Gh=function(e){return Lo(e.nextSibling)?B.some((t=e.nextSibling,Nn(t)?xu(t,0):xu.before(t))):e.nextSibling?Ol(e.nextSibling):B.none();var t},Wh=function(e,t){return zh(t).orThunk((function(){return Gh(t)})).orThunk((function(){return function(e,t){var n=xu.before(t.previousSibling?t.previousSibling:t.parentNode);return Pl(e,n).fold((function(){return _l(e,xu.after(t))}),B.some)}(e,t)}))},Hh=function(e,t){return Gh(t).orThunk((function(){return zh(t)})).orThunk((function(){return function(e,t){return _l(e,xu.after(t)).fold((function(){return Pl(e,xu.before(t))}),B.some)}(e,t)}))},qh=function(e,t,n){return function(e,t,n){return e?Hh(t,n):Wh(t,n)}(e,t,n).map(P(Uh,n))},Kh=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},Xh=function(e,t){return t&&ge(e.schema.getBlockElements(),Mt(t))},Yh=function(e){if(Ko(e)){var t=Pt.fromHtml('<br data-mce-bogus="1">');return fn(e),cn(e,t),B.some(xu.before(t.dom))}return B.none()},Zh=function(e,t,n){var r,o,i,a,s=Wt(e).filter(Lt),u=Ht(e).filter(Lt);return dn(e),(r=s,o=u,i=t,a=function(e,t,r){var o=e.dom,i=t.dom,a=o.data.length;return Vh(o,i,n),r.container()===i?xu(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?B.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):B.none()).orThunk((function(){return n&&(s.each((function(e){return jh(e.dom,e.dom.length)})),u.each((function(e){return Fh(e.dom,0)}))),t}))},Jh=function(e,t,n,r){void 0===r&&(r=!0);var o,i=qh(t,e.getBody(),n.dom),a=Ur(n,P(Xh,e),(o=e.getBody(),function(e){return e.dom===o})),s=Zh(n,i,function(e,t){return ge(e.schema.getTextInlineElements(),Mt(t))}(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(Yh).fold((function(){r&&Kh(e,t,s)}),(function(n){r&&Kh(e,t,B.some(n))}))},$h=function(e,t){return{start:e,end:t}},Qh=yr([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),em=function(e,t){return qr(Pt.fromDom(e),"td,th",t)},tm=function(e,t){return Wr(e,"table",t)},nm=function(e){return!Dt(e.start,e.end)},rm=function(e,t){return tm(e.start,t).bind((function(n){return tm(e.end,t).bind((function(e){return t=Dt(n,e),r=n,t?B.some(r):B.none();var t,r}))}))},om=function(e){return Ts(e,"td,th")},im=function(e,t){var n=em(t.startContainer,e),r=em(t.endContainer,e);return t.collapsed?B.none():Hs(n,r,$h).fold((function(){return n.fold((function(){return r.bind((function(t){return tm(t,e).bind((function(e){return ne(om(e)).map((function(e){return $h(e,t)}))}))}))}),(function(t){return tm(t,e).bind((function(e){return re(om(e)).map((function(e){return $h(t,e)}))}))}))}),(function(t){return am(e,t)?B.none():function(e,t){return tm(e.start,t).bind((function(t){return re(om(t)).map((function(t){return $h(e.start,t)}))}))}(t,e)}))},am=function(e,t){return rm(t,e).isSome()},sm=function(e,t,n){return e.filter((function(e){return nm(e)&&am(n,e)})).orThunk((function(){return im(n,t)})).bind((function(e){return function(e,t){return rm(e,t).map((function(t){return function(e,t,n){return{rng:e,table:t,cells:n}}(e,t,om(t))}))}(e,n)}))},um=function(e,t){return Z(e,(function(e){return Dt(e,t)}))},cm=function(e,t,n){return e.filter((function(e){return function(e,t){return!nm(e)&&rm(e,t).exists((function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))}(e,n)&&kf(e.start,t)})).map((function(e){return e.start}))},lm=function(e){return function(e){return Hs(um(e.cells,e.rng.start),um(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))}(e).map((function(t){var n=e.cells;return t.length===n.length?Qh.removeTable(e.table):Qh.emptyCells(t)}))},fm=function(e,t){var n=function(e){return function(t){return Dt(e,t)}}(e),r=function(e,t){var n=em(e.startContainer,t),r=em(e.endContainer,t);return Hs(n,r,$h)}(t,n);return cm(r,t,n).map((function(e){return Qh.deleteCellSelection(t,e)})).orThunk((function(){return sm(r,t,n).bind(lm)}))},dm=function(e){var t;return(8===Nt(t=e)||"#comment"===Mt(t)?Wt(e):Jt(e)).bind(dm).orThunk((function(){return B.some(e)}))},pm=function(e,t){return W(t,oh),e.selection.setCursorLocation(t[0].dom,0),!0},hm=function(e,t,n){t.deleteContents();var r,o=dm(n).getOr(n),i=Pt.fromDom(e.dom.getParent(o.dom,e.dom.isBlock));if(Ko(i)&&(oh(i),e.selection.setCursorLocation(i.dom,0)),!Dt(n,i)){var a=Gt(i).is(n)?[]:Gt(r=i).map(Xt).map((function(e){return q(e,(function(e){return!Dt(r,e)}))})).getOr([]);W(a.concat(Xt(n)),(function(e){Dt(e,i)||kt(e,i)||dn(e)}))}return!0},mm=function(e,t){return Jh(e,!1,t),!0},gm=function(e,t,n,r){return ym(t,r).fold((function(){return function(e,t,n){return fm(t,n).map((function(t){return t.fold(P(mm,e),P(pm,e),P(hm,e))}))}(e,t,n)}),(function(t){return function(e,t){return bm(e,t)}(e,t)})).getOr(!1)},vm=function(e,t){return Y(uh(t,e),lo)},ym=function(e,t){return Y(uh(t,e),(function(e){return"caption"===Mt(e)}))},bm=function(e,t){return oh(t),e.selection.setCursorLocation(t.dom,0),B.some(!0)},wm=function(e,t,n,r,o){return Cl(n,e.getBody(),o).bind((function(i){return function(e,t,n,r){return Ol(e.dom).bind((function(o){return El(e.dom).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(e,t){return bm(e,t)}(e,r):function(e,t,n){return ym(e,Pt.fromDom(n.getNode())).map((function(e){return!1===Dt(e,t)}))}(t,r,i)})).or(B.some(!0))},xm=function(e,t,n,r){var o=xu.fromRangeStart(e.selection.getRng());return vm(n,r).bind((function(r){return Ko(r)?bm(e,r):function(e,t,n,r,o){return Cl(n,e.getBody(),o).bind((function(e){return vm(t,Pt.fromDom(e.getNode())).map((function(e){return!1===Dt(e,r)}))}))}(e,n,t,r,o)})).getOr(!1)},Cm=function(e,t){return e?Qp(t):eh(t)},Sm=function(e,t,n){var r=Pt.fromDom(e.getBody());return ym(r,n).fold((function(){return xm(e,t,r,n)||function(e,t){var n=xu.fromRangeStart(e.selection.getRng());return Cm(t,n)||xl(t,e.getBody(),n).exists((function(e){return Cm(t,e)}))}(e,t)}),(function(n){return function(e,t,n,r){var o=xu.fromRangeStart(e.selection.getRng());return Ko(r)?bm(e,r):wm(e,n,t,r,o)}(e,t,r,n).getOr(!1)}))},Am=function(e,t){var n=Pt.fromDom(e.selection.getStart(!0)),r=Tf(e);return e.selection.isCollapsed()&&0===r.length?Sm(e,t,n):function(e,t){var n=Pt.fromDom(e.getBody()),r=e.selection.getRng(),o=Tf(e);return 0!==o.length?pm(e,o):gm(e,n,r,t)}(e,n)},_m=function(e){var t=xu.fromRangeStart(e),n=xu.fromRangeEnd(e),r=e.commonAncestorContainer;return xl(!1,r,n).map((function(o){return!qc(t,n,r)&&qc(t,o,r)?function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o}(t.container(),t.offset(),o.container(),o.offset()):e})).getOr(e)},Pm=function(e){return e.collapsed?e:_m(e)},Om=function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||e.value===po}(t.firstChild)},Em=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Om(e,t))}(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Tm=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return e.data===po||Fn(e)}(e.firstChild)},Dm=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||Tm(t))?e.slice(0,-1):e;var t},Im=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},km=function(e,t){var n=xu.after(e),r=gl(t).prev(n);return r?r.toRange():null},Mm=function(e,t,n){var r=e.parentNode;return At.each(t,(function(t){r.insertBefore(t,e)})),function(e,t){var n=xu.before(e),r=gl(t).next(n);return r?r.toRange():null}(e,n)},Nm=function(e,t,n,r){var o,i=function(e,t,n){var r=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(r))}(t,e,r),a=Im(t,n.startContainer),s=Dm((o=i.firstChild,At.grep(o.childNodes,(function(e){return"LI"===e.nodeName})))),u=t.getRoot(),c=function(e){var r=xu.fromRangeStart(n),o=gl(t.getRoot()),i=1===e?o.prev(r):o.next(r);return!i||Im(t,i.getNode())!==a};return c(1)?Mm(a,s,u):c(2)?function(e,t,n,r){return r.insertAfter(t.reverse(),e),km(t[0],n)}(a,s,u,t):function(e,t,n,r){var o=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]}(e,r),i=e.parentNode;return i.insertBefore(o[0],e),At.each(t,(function(t){i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e),km(t[t.length-1],n)}(a,s,u,n)},Rm=zn,Bm=function(e){var t=e.dom,n=Pm(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,Rm);!function(e,t,n){return null!==n&&n===e.getParent(t.endContainer,Rm)&&kf(Pt.fromDom(n),t)}(t,n,r)?e.getDoc().execCommand("Delete",!1,null):hm(e,n,Pt.fromDom(r))},Lm=function(e,t,n){var r,o,i,a,s,u,c=e.selection,l=e.dom;/^ | $/.test(t)&&(t=function(e,t,n){var r=Pt.fromDom(e.getRoot());return n=Th(r,xu.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Dh(r,xu.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(l,c.getRng(),t));var f=e.parser,d=n.merge,p=Bp({validate:fc(e)},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},(i=e.fire("BeforeSetContent",i)).isDefaultPrevented())e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=i.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h);var m=(s=c.getRng()).startContainer||(s.parentElement?s.parentElement():null),g=e.getBody();m===g&&c.isCollapsed()&&l.isBlock(g.firstChild)&&function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}(e,g.firstChild)&&l.isEmpty(g.firstChild)&&((s=l.createRng()).setStart(g.firstChild,0),s.setEnd(g.firstChild,0),c.setRng(s)),c.isCollapsed()||Bm(e);var v,y={context:(r=c.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},w=f.parse(t,y);if(!0===n.paste&&Em(e.schema,w)&&function(e,t){return!!Im(e,t)}(l,r))return s=Nm(p,l,c.getRng(),w),c.setRng(s),void e.fire("SetContent",i);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(w),"mce_marker"===(u=w.lastChild).attr("id"))for(a=u,u=u.prev;u;u=u.walk(!0))if(3===u.type||!l.isBlock(u.name)){e.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(a,u,"br"===u.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),y.invalid){for(e.selection.setContent(h),r=c.getNode(),o=e.getBody(),9===r.nodeType?r=u=o:u=r;u!==o;)r=u,u=u.parentNode;t=r===o?o.innerHTML:l.getOuterHTML(r),t=p.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return p.serialize(w)})))),r===o?l.setHTML(o,t):l.setOuterHTML(r,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t=p.serialize(w),r);!function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=Mp(r);At.each(r.select("*[data-mce-fragment]"),(function(e){if(b(n[e.nodeName.toLowerCase()])&&Vp(r,e))for(var t=e.parentNode;b(t)&&t!==o&&!Up(r,e,t);t=t.parentNode)if(i.compare(t,e)){r.remove(e,!0);break}}))}}(e,d),function(e,t){var n,r,o=e.dom,i=e.selection;if(t){i.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===o.getContentEditable(t))return t;return null}(t);if(a)return o.remove(t),void i.select(a);var s=o.createRng(),u=t.previousSibling;u&&3===u.nodeType?(s.setStart(u,u.nodeValue.length),bt.ie||(r=t.nextSibling)&&3===r.nodeType&&(u.appendData(r.data),r.parentNode.removeChild(r))):(s.setStartBefore(t),s.setEndBefore(t));var c=o.getParent(t,o.isBlock);o.remove(t),c&&o.isEmpty(c)&&(e.$(c).empty(),s.setStart(c,0),s.setEnd(c,0),Rm(c)||function(e){return!!e.getAttribute("data-mce-fragment")}(c)||!(n=function(t){var n=xu.fromRangeStart(t);if(n=gl(e.getBody()).next(n))return n.toRange()}(s))?o.add(c,o.create("br",{"data-mce-bogus":"1"})):(s=n,o.remove(c))),i.setRng(s)}}(e,l.get("mce_marker")),v=e.getBody(),At.each(v.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),function(e,t){B.from(e.getParent(t,"td,th")).map(Pt.fromDom).each(ih)}(l,c.getStart()),e.fire("SetContent",i),e.addVisual()}},Fm=function(e,t){t(e),e.firstChild&&Fm(e.firstChild,t),e.next&&Fm(e.next,t)},jm=function(e,t,n){var r=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&Fm(n.firstChild,(function(n){W(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),W(t,(function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(e,t,n);W(r,(function(e){W(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},Vm=function(e){return e instanceof Cp},Um=function(e,t){e.dom.setHTML(e.getBody(),t),function(e){cp(e)&&Ol(e.getBody()).each((function(t){var n=t.getNode(),r=In(n)?Ol(n).getOr(t):t;e.selection.setRng(r.toRange())}))}(e)},zm=function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Vm(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),Vm(t)||(t=n.content),B.from(e.getBody()).fold(A(t),(function(r){return Vm(t)?function(e,t,n,r){jm(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=Bp({validate:e.validate},e.schema).serialize(n);return r.content=fo(Pt.fromDom(t))?o:At.trim(o),Um(e,r.content),r.no_events||e.fire("SetContent",r),n}(e,r,t,n):function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),(o=Xu(e))&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,Yu(e),n)):n||(n='<br data-mce-bogus="1">'),Um(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=Bp({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=fo(Pt.fromDom(t))?n:At.trim(n),Um(e,r.content),r.no_events||e.fire("SetContent",r)),r.content}(e,r,t,n)}))},Gm=function(e,t){return function(e,t){var n=e.dom;return n.parentNode?Gr(Pt.fromDom(n.parentNode),(function(n){return!Dt(e,n)&&t(n)})):B.none()}(e,t).isSome()},Wm=function(e){return w(e)?e:I},Hm=function(e,t,n){var r=t(e),o=Wm(n);return r.orThunk((function(){return o(e)?B.none():function(e,t,n){for(var r=e.dom,o=Wm(n);r.parentNode;){r=r.parentNode;var i=Pt.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return B.none()}(e,t,o)}))},qm=$l,Km=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Xm=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!Km(e,t,n)||(t.parentNode===o||!!Jm(e,t,n,r,!0))})),Jm(e,t,n,r))},Ym=function(e,t,n){return!!qm(t,n.inline)||(!!qm(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Zm=function(e,t,n,r,o,i){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):ef(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!qm(s,Ql(e,Jl(c[a],i),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):ef(e,t,c[u]))return n;return n},Jm=function(e,t,n,r,o){var i,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Ym(e.dom,t,i)&&Zm(l,t,i,"attributes",o,r)&&Zm(l,t,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,Jl(u[s],r)))return;return i}},$m=function(e,t,n,r){if(r)return Xm(e,r,t,n);if(r=e.selection.getNode(),Xm(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!Xm(e,o,t,n))},Qm=function(e,t){var n=function(t){return Dt(t,Pt.fromDom(e.getBody()))};return B.from(e.selection.getStart(!0)).bind((function(r){return Hm(Pt.fromDom(r),(function(n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return B.none()}(t,(function(t){return function(t,n){return Jm(e,t.dom,n)?B.some(n):B.none()}(n,t)}))}),n)})).getOrNull()},eg=function(e,t,n){return X(n,(function(n,r){var o=function(e,t){return z(e.formatter.get(t),(function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return z(["styles","attributes"],(function(n){return me(e,n).exists((function(e){var n=h(e)?e:he(e);return z(n,t)}))}))}))}(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n}),[])},tg=ho,ng="_mce_caret",rg=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==tg||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},og=function(e){if(e){var t=new eo(e,e);for(e=t.current();e;e=t.next())if(Nn(e))return e}return null},ig=function(e){var t=Pt.fromTag("span");return Kn(t,{id:ng,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&cn(t,Pt.fromText(tg)),t},ag=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(rg(t))Jh(e,!1,Pt.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),s=i.startContainer,u=i.startOffset,c=i.endContainer,l=i.endOffset,f=function(e){var t=og(e);return t&&t.nodeValue.charAt(0)===tg&&t.deleteData(0,1),t}(t);r.remove(t,!0),s===f&&u>0&&i.setStart(f,u-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&oh(Pt.fromDom(a)),o.setRng(i)}},sg=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)ag(e,t,n);else if(!(t=Il(e.getBody(),o.getStart())))for(;t=r.get(ng);)ag(e,t,!1)},ug=function(e,t){return e.appendChild(t),t},cg=function(e,t){var n=K(e,(function(e,t){return ug(e,t.cloneNode(!1))}),t);return ug(n,n.ownerDocument.createTextNode(tg))},lg=function(e,t,n,r){var o,i,a,s=e.dom,u=e.selection,c=[],l=u.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(Jm(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var p=u.getBookmark();l.collapse(!0);var h=Sf(e,l,e.formatter.get(t),!0);h=ld(h),e.formatter.remove(t,n,h,r),u.moveToBookmark(p)}else{var m=Il(e.getBody(),a),g=ig(!1).dom;!function(e,t,n){var r=e.dom,o=r.getParent(n,P(Xl,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(rh(Pt.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))}(e,g,null!==m?m:a);var v=function(e,t,n,r,o,i){var a=e.formatter,s=e.dom,u=q(ie(a.get()),(function(e){return e!==r&&!Ne(e,"removeformat")})),c=eg(e,n,u);if(q(c,(function(t){return!rf(e,t,r)})).length>0){var l=n.cloneNode(!1);return s.add(t,l),a.remove(r,o,l,i),s.remove(l),B.some(l)}return B.none()}(e,g,a,t,n,r),y=cg(c.concat(v.toArray()),g);ag(e,m,!1),u.setCursorLocation(y,1),s.isEmpty(a)&&s.remove(a)}},fg=function(e){e.on("mouseup keydown",(function(t){!function(e,t){var n=e.selection,r=e.getBody();sg(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==tg||sg(e,Il(r,n.getStart())),37!==t&&39!==t||sg(e,Il(r,n.getStart()))}(e,t.keyCode)}))},dg=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Mt(t))&&!Dl(t.dom)&&!Dn(t.dom)},pg={},hg=xe,mg=be;!function(e,t){pg[e]||(pg[e]=[]),pg[e].push(t)}("pre",(function(e){var t,n=e.selection.getRng(),r=On(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),mg(hg(hg(t,r),(function(e){return r(e.previousSibling)&&-1!==Ce(t,e.previousSibling)})),(function(e){var t,n;t=e.previousSibling,ts(n=e).remove(),ts(t).append("<br><br>").append(n.childNodes)})))}));var gg=At.each,vg=function(e){return Pn(e)&&!Ul(e)&&!Dl(e)&&!Dn(e)},yg=function(e,t){var n;for(n=e;n;n=n[t]){if(Nn(n)&&0!==n.nodeValue.length)return e;if(Pn(n)&&!Ul(n))return n}return e},bg=function(e,t,n){var r,o,i=Mp(e);if(t&&n&&(t=yg(t,"previousSibling"),n=yg(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),At.each(At.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},wg=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var o=bg(e,Kl(r),r);bg(e,o,Kl(o,!0))}},xg=function(e,t,n){gg(e.childNodes,(function(e){vg(e)&&(t(e)&&n(e),e.hasChildNodes()&&xg(e,t,n))}))},Cg=function(e,t){return function(n){return!(!n||!ef(e,n,t))}},Sg=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)}(e,r)}},Ag=yr([{keep:[]},{rename:["name"]},{removed:[]}]),_g=/^(src|href|style)$/,Pg=At.each,Og=$l,Eg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Tg=function(e,t,n){var r,o;if(r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Pn(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Nn(r)&&n&&o>=r.nodeValue.length&&(r=new eo(r,e.getBody()).next()||r),Nn(r)&&!n&&0===o&&(r=new eo(r,e.getBody()).prev()||r),r},Dg=function(e,t){var n=t?"firstChild":"lastChild";if(function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},Ig=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},kg=function(e,t,n,r,o){var i=Pt.fromDom(t),a=Pt.fromDom(e.create(r,o)),s=n?Kt(i):qt(i);return ln(a,s),n?(an(i,a),un(a,i)):(sn(i,a),cn(a,i)),a.dom},Mg=function(e,t,n,r){return!(t=Kl(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Ng=function(e,t,n,r,o){var i,a=e.dom;if(!function(e,t,n){return!!Og(t,n.inline)||!!Og(t,n.block)||(n.selector?Pn(t)&&e.is(t,n.selector):void 0)}(a,r,t)&&!function(e,t){return t.links&&"A"===e.nodeName}(r,t))return Ag.keep();var s=r;if(t.inline&&"all"===t.remove&&h(t.preserve_attributes)){var u=q(a.getAttribs(s),(function(e){return U(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(s),W(u,(function(e){return a.setAttrib(s,e.name,e.value)})),u.length>0)return Ag.rename("span")}if("all"!==t.remove){Pg(t.styles,(function(e,r){e=Ql(a,Jl(e,n),r+""),x(r)&&(r=e,o=null),(t.remove_similar||!o||Og(ef(a,o,r),e))&&a.setStyle(s,r,""),i=!0})),i&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),Pg(t.attributes,(function(e,r){var i;if(e=Jl(e,n),x(r)&&(r=e,o=null),t.remove_similar||!o||Og(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(s,r))&&(i="",W(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i))return void a.setAttrib(s,r,i);if(_g.test(r)&&s.removeAttribute("data-mce-"+r),"style"===r&&On(["li"])(s)&&"none"===a.getStyle(s,"list-style-type"))return s.removeAttribute(r),void a.setStyle(s,"list-style-type","none");"class"===r&&s.removeAttribute("className"),s.removeAttribute(r)}})),Pg(t.classes,(function(e){e=Jl(e,n),o&&!a.hasClass(o,e)||a.removeClass(s,e)}));for(var c=a.getAttribs(s),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return Ag.keep()}}return"none"!==t.remove?(function(e,t,n){var r,o=t.parentNode,i=e.dom,a=Xu(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&Og(t,n.list_block)||W(oe(t.childNodes),(function(t){Yl(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Ig(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0}))):i.isBlock(t)&&!i.isBlock(o)&&(Mg(i,t,!1)||Mg(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),Mg(i,t,!0)||Mg(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!Og(n.inline,t)||i.remove(t,!0)}(e,s,t),Ag.removed()):Ag.keep()},Rg=function(e,t,n,r,o){return Ng(e,t,n,r,o).fold(I,(function(t){return e.dom.rename(r,t),!0}),k)},Bg=function(e,t,n,r){return Ng(e,t,n,r,r).fold(A(r),(function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)}),A(null))},Lg=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],s=!0,u=e.dom,c=e.selection,l=function(r){var s=function(e,t,n,r,o){var i;return W(nf(e.dom,t.parentNode).reverse(),(function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=Jm(e,t,n,r,o);a&&!1!==a.split&&(i=t)}})),i}(e,r,t,n,o);return function(e,t,n,r,o,i,a,s){var u,c,l,f=e.dom;if(n){for(var d=n.parentNode,p=r.parentNode;p&&p!==d;p=p.parentNode){u=f.clone(p,!1);for(var h=0;h<t.length&&null!==(u=Bg(e,t[h],s,u));h++);u&&(c&&u.appendChild(c),l||(l=u),c=u)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),a.inline&&wg(f,a,0,c))}return r}(e,i,s,r,r,!0,a,n)},f=function(t){var r,o,c=t.parentNode;Nn(t)&&uf(u,c)&&Rg(e,a,n,c,c),Pn(t)&&u.getContentEditable(t)&&(r=s,s="true"===u.getContentEditable(t),o=!0);var l=oe(t.childNodes);if(s&&!o)for(var d=0;d<i.length&&!Rg(e,i[d],n,t,t);d++);if(a.deep&&l.length){for(d=0;d<l.length;d++)f(l[d]);o&&(s=r)}},d=function(e){var t=u.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return function(e){return Ul(e)&&Pn(e)&&("_start"===e.id||"_end"===e.id)}(n)&&(n=n[e?"firstChild":"lastChild"]),Nn(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),u.remove(t,!0),n},p=function(t){var n,r,o=Sf(e,t,i,t.collapsed);if(a.split){if(o=ld(o),(n=Tg(e,o,!0))!==(r=Tg(e,o))){if(n=Dg(n,!0),r=Dg(r,!1),Eg(u,n,r)){var s=B.from(n.firstChild).getOr(n);return l(kg(u,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void d(!0)}if(Eg(u,r,n)){s=B.from(r.lastChild).getOr(r);return l(kg(u,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void d(!1)}n=Ig(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Ig(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=u.createRng();c.setStartAfter(n),c.setEndBefore(r),_f(u,c,(function(e){W(e,(function(e){Ul(e)||Ul(e.parentNode)||l(e)}))})),l(n),l(r),n=d(!0),r=d()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=u.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=u.nodeIndex(r)+1}_f(u,o,(function(t){W(t,(function(t){f(t);W(["underline","line-through","overline"],(function(n){Pn(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&tf(u,t.parentNode)===n&&Rg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))};if(r)if(Hl(r)){var h=u.createRng();h.setStartBefore(r),h.setEndAfter(r),p(h)}else p(r);else if("false"!==u.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!Tf(e).length?lg(e,t,n,o):(Bf(c,!0,(function(){Rf(e,p)})),a.inline&&$m(e,t,n,c.getStart())&&ql(u,c,c.getRng()),e.nodeChanged());else{r=c.getNode();for(var m=0;m<i.length&&(!i[m].ceFalseOverride||!Rg(e,i[m],n,r,r));m++);}},Fg=At.each,jg=function(e,t,n,r){Fg(t,(function(t){Fg(e.dom.select(t.inline,r),(function(r){vg(r)&&Rg(e,t,n,r,t.exact?r:null)})),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";gg(e.select(r,n),(function(n){vg(n)&&gg(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}}(e.dom,t,r)}))},Vg=At.each,Ug=function(e,t){return ve(e,t)},zg=function(e,t,n,r){var o=e.formatter.get(t),i=o[0],a=!r&&e.selection.isCollapsed(),s=e.dom,u=e.selection,c=function(e,t){if(t=t||i,e){if(t.onformat&&t.onformat(e,t,n,r),Vg(t.styles,(function(t,r){s.setStyle(e,r,Jl(t,n))})),t.styles){var o=s.getAttrib(e,"style");o&&s.setAttrib(e,"data-mce-style",o)}Vg(t.attributes,(function(t,r){s.setAttrib(e,r,Jl(t,n))})),Vg(t.classes,(function(t){t=Jl(t,n),s.hasClass(e,t)||s.addClass(e,t)}))}},l=function(e,t){var n=!1;return!!af(i)&&(Vg(e,(function(e){if(!("collapsed"in e)||e.collapsed===a)return s.is(t,e.selector)&&!Dl(t)?(c(t,e),n=!0,!1):void 0})),n)},f=function(r,a,s,u){var f=[],d=!0,p=i.inline||i.block,h=r.create(p);c(h),_f(r,a,(function(a){var s,m=function(a){var g=!1,v=d,y=a.nodeName.toLowerCase(),b=a.parentNode.nodeName.toLowerCase();if(Pn(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),g=!0),Fn(a)&&!function(e,t,n,r){if(function(e){return e.getParam("format_empty_lines",!1,"boolean")}(e)&&sf(t)){var o=Pe(Pe({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=Gm(Pt.fromDom(n),(function(e){return Dl(e.dom)}));return ve(o,r)&&Ko(Pt.fromDom(n.parentNode),!1)&&!i}return!1}(e,i,a,b))return s=null,void(of(i)&&r.remove(a));if(i.wrapper&&Jm(e,a,t,n))s=null;else{if(d&&!g&&of(i)&&!i.wrapper&&Xl(e,y)&&Yl(e,b,p)){var w=r.rename(a,p);return c(w),f.push(w),void(s=null)}if(af(i)){var x=l(o,a);if(Nn(a)&&uf(r,a.parentNode)&&l(o,a.parentNode),!Ug(i,"inline")||x)return void(s=null)}!d||g||!Yl(e,p,y)||!Yl(e,b,p)||!u&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||Dl(a)||Ug(i,"inline")&&r.isBlock(a)?(s=null,Vg(At.grep(a.childNodes),m),g&&(d=v),s=null):(s||(s=r.clone(h,!1),a.parentNode.insertBefore(s,a),f.push(s)),s.appendChild(a))}};Vg(a,m)})),!0===i.links&&Vg(f,(function(e){var t=function(e){"A"===e.nodeName&&c(e,i),Vg(At.grep(e.childNodes),t)};t(e)})),Vg(f,(function(a){var s=function(e){var t=!1;return Vg(e.childNodes,(function(e){if(function(e){return e&&1===e.nodeType&&!Ul(e)&&!Dl(e)&&!Dn(e)}(e))return t=e,!1})),t},u=function(e){var t=0;return Vg(e.childNodes,(function(e){(function(e){return b(e)&&Nn(e)&&0===e.length})(e)||Ul(e)||t++})),t}(a);!(f.length>1)&&r.isBlock(a)||0!==u?(sf(i)||i.wrapper)&&(i.exact||1!==u||(a=function(e){var t,n=s(e);return n&&!Ul(n)&&Ym(r,n,i)&&(t=r.clone(n,!1),c(t),r.replace(t,e,!0),r.remove(n,!0)),t||e}(a)),jg(e,o,n,a),function(e,t,n,r,o){Jm(e,o.parentNode,n,r)&&Rg(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(i){if(Jm(e,i,n,r))return Rg(e,t,r,o),!0}))}(e,i,t,n,a),function(e,t,n,r){t.styles&&t.styles.backgroundColor&&xg(r,Cg(e,"fontSize"),Sg(e,"backgroundColor",Jl(t.styles.backgroundColor,n)))}(r,i,n,a),function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=tf(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(At.walk(r,o,"childNodes"),o(r))}(r,i,0,a),function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(xg(r,Cg(e,"fontSize"),Sg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))}(r,i,0,a),wg(r,i,0,a)):r.remove(a,!0)}))};if("false"!==s.getContentEditable(u.getNode())){if(i){if(r)if(Hl(r)){if(!l(o,r)){var d=s.createRng();d.setStartBefore(r),d.setEndAfter(r),f(s,Sf(e,d,o),0,!0)}}else f(s,r,0,!0);else if(a&&sf(i)&&!Tf(e).length)!function(e,t,n){var r,o,i=e.selection,a=i.getRng(),s=a.startOffset,u=a.startContainer.nodeValue;(r=Il(e.getBody(),i.getStart()))&&(o=og(r));var c,l,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&s>0&&s<u.length&&f.test(u.charAt(s))&&f.test(u.charAt(s-1))){var d=i.getBookmark();a.collapse(!0);var p=Sf(e,a,e.formatter.get(t));p=ld(p),e.formatter.apply(t,n,p),i.moveToBookmark(d)}else r&&o.nodeValue===tg||(c=e.getDoc(),l=ig(!0).dom,o=(r=c.importNode(l,!0)).firstChild,a.insertNode(r),s=1),e.formatter.apply(t,n,r),i.setCursorLocation(o,s)}(e,t,n);else{var p=u.getNode(),h=o[0];e.settings.forced_root_block||!h.defaultBlock||s.getParent(p,s.isBlock)||zg(e,h.defaultBlock),u.setRng(Pm(u.getRng())),Bf(u,!0,(function(t){Rf(e,(function(t,n){var r=n?t:Sf(e,t,o);f(s,r)}))})),ql(s,u,u.getRng()),e.nodeChanged()}!function(e,t){mg(pg[e],(function(e){e(t)}))}(t,e)}}else{r=u.getNode();for(var m=0,g=o.length;m<g;m++){var v=o[m];if(v.ceFalseOverride&&af(v)&&s.is(r,v.selector))return void c(r,v)}}},Gg=function(e,t,n,r){var o=ie(n.get()),i={},a={},s=q(nf(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));se(r,(function(t,n){At.each(s,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(W(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:s})})),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Km(e,r,n)&&void 0}))}));var u=Wg(n.get(),a,t,s);n.set(Pe(Pe({},i),u))},Wg=function(e,t,n,r){return de(e,(function(e,o){return!!ge(t,o)||(W(e,(function(e){e(!1,{node:n,format:o,parents:r})})),!1)})).t},Hg=function(e,t,n,r,o){return null===t.get()&&function(e,t){var n=ps({});e.set({}),t.on("NodeChange",(function(r){Gg(t,r.element,n,e.get())}))}(t,e),function(e,t,n,r){var o=e.get();W(t.split(","),(function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)})),e.set(o)}(t,n,r,o),{unbind:function(){return function(e,t,n){var r=e.get();W(t.split(","),(function(e){r[e].callbacks=q(r[e].callbacks,(function(e){return e!==n})),0===r[e].callbacks.length&&delete r[e]})),e.set(r)}(t,n,r)}}},qg=function(e,t){var n=(t||document).createDocumentFragment();return W(e,(function(e){n.appendChild(e.dom)})),Pt.fromDom(n)},Kg=function(e,t,n){return{element:e,width:t,rows:n}},Xg=function(e,t){return{element:e,cells:t}},Yg=function(e,t){return{x:e,y:t}},Zg=function(e,t){var n=parseInt(Xn(e,t),10);return isNaN(n)?1:n},Jg=function(e,t,n){var r=e.rows;return!!(r[n]?r[n].cells:[])[t]},$g=function(e){return X(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)},Qg=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Dt(o[i],t))return B.some(Yg(i,r));return B.none()},ev=function(e,t,n,r,o){for(var i=[],a=e.rows,s=n;s<=o;s++){var u=a[s].cells,c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(Xg(a[s].element,c))}return i},tv=function(e){var t=Kg(Us(e),0,[]);return W(Ts(e,"tr"),(function(e,n){W(Ts(e,"td,th"),(function(r,o){!function(e,t,n,r,o){for(var i=Zg(o,"rowspan"),a=Zg(o,"colspan"),s=e.rows,u=n;u<n+i;u++){s[u]||(s[u]=Xg(zs(r),[]));for(var c=t;c<t+a;c++)s[u].cells[c]=u===n&&c===t?o:Us(o)}}(t,function(e,t,n){for(;Jg(e,t,n);)t++;return t}(t,o,n),n,e,r)}))})),Kg(t.element,$g(t.rows),t.rows)},nv=function(e){return function(e,t){var n=Us(e.element),r=Pt.fromTag("tbody");return ln(r,t),cn(n,r),n}(e,function(e){return G(e.rows,(function(e){var t=G(e.cells,(function(e){var t=zs(e);return Zn(t,"colspan"),Zn(t,"rowspan"),t})),n=Us(e.element);return ln(n,t),n}))}(e))},rv=function(e,t,n){return Qg(e,t).bind((function(t){return Qg(e,n).map((function(n){return function(e,t,n){var r=t.x,o=t.y,i=n.x,a=n.y,s=o<a?ev(e,r,o,i,a):ev(e,r,a,i,o);return Kg(e.element,$g(s),s)}(e,t,n)}))}))},ov=function(e,t){return Y(e,(function(e){return"li"===Mt(e)&&kf(e,t)})).fold(A([]),(function(t){return function(e){return Y(e,(function(e){return"ul"===Mt(e)||"ol"===Mt(e)}))}(e).map((function(e){var t=Pt.fromTag(Mt(e)),n=pe(tr(e),(function(e,t){return Re(t,"list-style")}));return Jn(t,n),[Pt.fromTag("li"),t]})).getOr([])}))},iv=function(e,t){var n=Pt.fromDom(t.commonAncestorContainer),r=uh(n,e),o=q(r,(function(e){return oo(e)||no(e)})),i=ov(r,t),a=o.concat(i.length?i:function(e){return uo(e)?Gt(e).filter(so).fold(A([]),(function(t){return[e,t]})):so(e)?[e]:[]}(n));return G(a,Us)},av=function(){return qg([])},sv=function(e,t){return n=Pt.fromDom(t.cloneContents()),r=iv(e,t),o=X(r,(function(e,t){return cn(t,e),t}),n),r.length>0?qg([o]):o;var n,r,o},uv=function(e,t){return(n=e,r=t[0],Wr(r,"table",P(Dt,n))).bind((function(e){var n=t[0],r=t[t.length-1],o=tv(e);return rv(o,n,r).map((function(e){return qg([nv(e)])}))})).getOrThunk(av);var n,r},cv=function(e,t){var n=Ef(t,e);return n.length>0?uv(e,n):function(e,t){return t.length>0&&t[0].collapsed?av():sv(e,t[0])}(e,t)},lv=function(e,t){return t>=0&&t<e.length&&Gl(e.charAt(t))},fv=function(e,t){var n=go(e.innerText);return t?function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}(n):n},dv=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return function(e){return B.from(e.selection.getRng()).map((function(t){var n=B.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}(n),i=bt.browser.isIE()&&"pre"!==o,a=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),s=fv(a,i),u=go(a.textContent);if(e.dom.remove(a),lv(u,0)||lv(u,u.length-1)){var c=n.getOr(r),l=fv(c,i),f=l.indexOf(s);return-1===f?s:(lv(l,f-1)?" ":"")+s+(lv(l,f+s.length)?" ":"")}return s})).getOr("")}(e);n.getInner=!0;var r=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=vp(e,Pf(o)),a=t.contextual?cv(Pt.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)}(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},pv=function(e){return Pn(e)?e.outerHTML:Nn(e)?fi.encodeRaw(e.data,!1):Rn(e)?"\x3c!--"+e.data+"--\x3e":""},hv=function(e,t,n){var r=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},mv=function(e,t){var n,r,o,i,a,s,u,c,l,f=G(oe(t.childNodes),pv);return function(e,t){var n=0;W(e,(function(e){0===e[0]?n++:1===e[0]?(hv(t,e[1],n),n++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,n)}))}((r=e,o=(n=f).length+r.length+2,i=new Array(o),a=new Array(o),s=function(e,t,o,i,a){var u=c(e,t,o,i);if(null===u||u.start===t&&u.diag===t-i||u.end===e&&u.diag===e-o)for(var l=e,f=o;l<t||f<i;)l<t&&f<i&&n[l]===r[f]?(a.push([0,n[l]]),++l,++f):t-e>i-o?(a.push([2,n[l]]),++l):(a.push([1,r[f]]),++f);else{s(e,u.start,o,u.start-u.diag,a);for(var d=u.start;d<u.end;++d)a.push([0,n[d]]);s(u.end,t,u.end-u.diag,i,a)}},u=function(e,t,o,i){for(var a=e;a-t<i&&a<o&&n[a]===r[a-t];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(e,a,t)},c=function(e,t,o,s){var c=t-e,l=s-o;if(0===c||0===l)return null;var f,d,p,h,m,g=c-l,v=l+c,y=(v%2==0?v:v+1)/2;for(i[1+y]=e,a[1+y]=t+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){for(p=d+y,d===-f||d!==f&&i[p-1]<i[p+1]?i[p]=i[p+1]:i[p]=i[p-1]+1,m=(h=i[p])-e+o-d;h<t&&m<s&&n[h]===r[m];)i[p]=++h,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&a[p-g]<=i[p])return u(a[p-g],d+e-o,t,s)}for(d=g-f;d<=g+f;d+=2){for(p=d+y-g,d===g-f||d!==g+f&&a[p+1]<=a[p-1]?a[p]=a[p+1]-1:a[p]=a[p-1],m=(h=a[p]-1)-e+o-d;h>=e&&m>=o&&n[h]===r[m];)a[p]=h--,m--;if(g%2==0&&-f<=d&&d<=f&&a[p]<=i[p+g])return u(a[p],d+e-o,t,s)}}},l=[],s(0,n.length,0,r.length,l),l),t),t},gv=ps(B.none()),vv=function(e){var t,n=(t=e.getBody(),q(G(oe(t.childNodes),pv),(function(e){return e.length>0}))),r=J(n,(function(t){var n=Tp(e.serializer,t);return n.length>0?[n]:[]})),o=r.join("");return-1!==o.indexOf("</iframe>")?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(r):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(o)},yv=function(e,t,n){"fragmented"===t.type?mv(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},bv=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},wv=function(e){var t=Pt.fromTag("body",gv.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo");return gv.set(B.some(e)),e})));return js(t,bv(e)),W(Ts(t,"*[data-mce-bogus]"),pn),t.dom.innerHTML},xv=function(e,t){return!(!e||!t)&&(!!function(e,t){return bv(e)===bv(t)}(e,t)||function(e,t){return wv(e)===wv(t)}(e,t))},Cv=function(e){return 0===e.get()},Sv=function(e,t,n){Cv(n)&&(e.typing=t)},Av=function(e,t){e.typing&&(Sv(e,!1,t),e.add())},_v=function(e){return{undoManager:{beforeChange:function(t,n){return function(e,t,n){Cv(t)&&n.set(B.some(Wu(e.selection)))}(e,t,n)},addUndoLevel:function(t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var s=vv(e);if(i=i||{},i=At.extend(i,s),!1===Cv(r)||e.removed)return null;var u=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&xv(u,i))return null;t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var c=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=Wu(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:u,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",f),e.fire("change",f)):e.fire("AddUndo",f),i}(e,t,n,r,o,i,a)},undo:function(t,n,r){return function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,Sv(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],yv(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o}(e,t,n,r)},redo:function(t,n){return function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],yv(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r}(e,t,n)},clear:function(t,n){return function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")}(e,t,n)},reset:function(e){return function(e){e.clear(),e.add()}(e)},hasUndo:function(t,n){return function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!xv(vv(e),t.data[0])}(e,t,n)},hasRedo:function(e,t){return function(e,t){return t.get()<e.data.length-1&&!e.typing}(e,t)},transact:function(e,t,n){return function(e,t,n){return Av(e,t),e.beforeChange(),e.ignore(n),e.add()}(e,t,n)},ignore:function(e,t){return function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(e,t)},extra:function(t,n,r,o){return function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];yv(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}}(e,t,n,r,o)}},formatter:{match:function(t,n,r){return $m(e,t,n,r)},matchAll:function(t,n){return function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(function(i){for(var a=0;a<t.length;a++){var s=t[a];!o[s]&&Jm(e,i,s,n)&&(o[s]=!0,r.push(s))}}),e.dom.getRoot()),r}(e,t,n)},matchNode:function(t,n,r,o){return Jm(e,t,n,r,o)},canApply:function(t){return function(e,t){var n,r,o,i,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=nf(u,n),i=s.length-1;i>=0;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(u.is(r[o],a))return!0}return!1}(e,t)},closest:function(t){return Qm(e,t)},apply:function(t,n,r){return zg(e,t,n,r)},remove:function(t,n,r,o){return Lg(e,t,n,r,o)},toggle:function(t,n,r){return function(e,t,n,r){var o=e.formatter.get(t);!$m(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?zg(e,t,n,r):Lg(e,t,n,r)}(e,t,n,r)},formatChanged:function(t,n,r,o){return Hg(e,t,n,r,o)}},editor:{getContent:function(t,n){return function(e,t,n){return B.from(e.getBody()).fold(A("tree"===t.format?new Cp("body",11):""),(function(r){return Ip(e,t,n,r)}))}(e,t,n)},setContent:function(t,n){return zm(e,t,n)},insertContent:function(t,n){return Lm(e,t,n)},addVisual:function(t){return function(e,t){var n=e.dom,r=b(t)?t:e.getBody();v(e.hasVisual)&&(e.hasVisual=function(e){return e.getParam("visual",!0,"boolean")}(e)),W(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=function(e){return e.getParam("visual_table_class","mce-item-table","string")}(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){var i=n.getAttrib(t,"name")||t.id,a=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}(e);i&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}}})),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})}(e,t)}},selection:{getContent:function(t,n){return dv(e,t,n)}},raw:{getModel:function(){return B.none()}}}},Pv=function(e){return ge(e.plugins,"rtc")},Ov=function(e){var t=e;return function(e){return me(e.plugins,"rtc").bind((function(e){return B.from(e.setup)}))}(e).fold((function(){return t.rtcInstance=_v(e),B.none()}),(function(e){return B.some(e().then((function(e){return t.rtcInstance=function(e){var t=function(e){return p(e)?e:{}},n=E("Unimplemented feature for rtc"),r=e.undoManager,o=e.formatter,i=e.editor,a=e.selection,s=e.raw;return{undoManager:{beforeChange:C,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(e,t,n){return r.transact(n)},ignore:function(e,t){return r.ignore(t)},extra:function(e,t,n,o){return r.extra(n,o)}},formatter:{match:function(e,n,r){return o.match(e,t(n))},matchAll:n,matchNode:n,canApply:function(e){return o.canApply(e)},closest:function(e){return o.closest(e)},apply:function(e,n,r){return o.apply(e,t(n))},remove:function(e,n,r,i){return o.remove(e,t(n))},toggle:function(e,n,r){return o.toggle(e,t(n))},formatChanged:function(e,t,n,r){return o.formatChanged(t,n,r)}},editor:{getContent:function(e,t){return i.getContent(e)},setContent:function(e,t){return i.setContent(e,t)},insertContent:function(e,t){return i.insertContent(e)},addVisual:C},selection:{getContent:function(e,t){return a.getContent(t)}},raw:{getModel:function(){return B.some(s.getRawModel())}}}}(e),e.rtc.isRemote}),(function(e){return t.rtcInstance=function(){var e=A(null),t=A("");return{undoManager:{beforeChange:C,addUndoLevel:e,undo:e,redo:e,clear:C,reset:C,hasUndo:I,hasRedo:I,transact:e,ignore:C,extra:C},formatter:{match:I,matchAll:A([]),matchNode:I,canApply:I,closest:t,apply:C,remove:C,toggle:C,formatChanged:A({unbind:C})},editor:{getContent:t,setContent:t,insertContent:C,addVisual:C},selection:{getContent:t},raw:{getModel:A(B.none())}}}(),Kr.reject(e)})))}))},Ev=function(e){return e.rtcInstance?e.rtcInstance:_v(e)},Tv=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Dv=function(e,t){return void 0===t&&(t={}),function(e,t,n){return Tv(e).selection.getContent(t,n)}(e,t.format?t.format:"html",t)},Iv=function(e){return 0===e.dom.length?(dn(e),B.none()):B.some(e)},kv=function(e,t,n,r){e.bind((function(e){return(r?jh:Fh)(e.dom,r?e.dom.length:0),t.filter(Lt).map((function(t){return function(e,t,n,r){var o=e.dom,i=t.dom,a=r?o.length:i.length;r?(Vh(o,i,!1,!r),n.setStart(i,a)):(Vh(i,o,!1,!r),n.setEnd(i,a))}(e,t,n,r)}))})).orThunk((function(){return function(e,t){return e.filter((function(e){return Wf.isBookmarkNode(e.dom)})).bind(t?Ht:Wt)}(t,r).or(t).filter(Lt).map((function(e){return function(e,t){Gt(e).each((function(n){var r=e.dom;t&&Th(n,xu(r,0))?Fh(r,0):!t&&Dh(n,xu(r,r.length))&&jh(r,r.length)}))}(e,r)}))}))},Mv=function(e,t,n){void 0===n&&(n={});var r=function(e,t){return Pe(Pe({format:"html"},e),{set:!0,selection:!0,content:t})}(n,t);if(r.no_events||!(r=e.fire("BeforeSetContent",r)).isDefaultPrevented()){n.content=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,Pe(Pe({isRootContent:!0,forced_root_block:!1},o),t));return Bp({validate:e.validate},e.schema).serialize(i)}return t.content}(e,r);var o=e.selection.getRng();!function(e,t){var n=B.from(t.firstChild).map(Pt.fromDom),r=B.from(t.lastChild).map(Pt.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Wt).filter(Lt).bind(Iv),i=r.bind(Ht).filter(Lt).bind(Iv);kv(o,n,e,!0),kv(i,r,e,!1),e.collapse(!1)}(o,o.createContextualFragment(n.content)),e.selection.setRng(o),Md(e,o),r.no_events||e.fire("SetContent",r)}else e.fire("SetContent",r)},Nv=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=q(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}};var Rv,Bv,Lv=function(e){return!!e.select},Fv=function(e){return!(!e||!e.ownerDocument)&&kt(Pt.fromDom(e.ownerDocument),Pt.fromDom(e))},jv=function(e,t,n,r){var o,i,a=function(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",(function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};At.each(n,(function(t,n){At.each(i,(function(o){if(e.is(o,n))return r[n]||(At.each(t,(function(e){e(!0,{node:o,selector:n,parents:i})})),r[n]=t),a[n]=t,!1}))})),At.each(r,(function(e,t){a[t]||(delete r[t],At.each(e,(function(e){e(!1,{node:o,selector:t,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){Nv(n,o,i),Nv(r,o,i)}}}}}(e,r).selectorChangedWithUnbind,s=function(e,t){return Mv(r,e,t)},u=function(e){var t=l();t.collapse(!!e),f(t)},c=function(){return t.getSelection?t.getSelection():t.document.selection},l=function(){var n,a,s,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},l=t.document;if(void 0!==r.bookmark&&!1===cp(r)){var f=Jd(r);if(f.isSome())return f.map((function(e){return vp(r,[e])[0]})).getOr(l.createRange())}try{(n=c())&&!_n(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange(),a=vp(r,[a])[0])}catch(e){}return a||(a=l.createRange?l.createRange():l.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&i&&(0===u(a.START_TO_START,a,o)&&0===u(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},f=function(e,t){var n;if(function(e){return!!e&&(!!Lv(e)||Fv(e.startContainer)&&Fv(e.endContainer))}(e)){var a=Lv(e)?e:null;if(a){i=null;try{a.select()}catch(e){}}else{var s=c();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,s){i=e;try{s.removeAllRanges(),s.addRange(e)}catch(e){}!1===t&&s.extend&&(s.collapse(e.endContainer,e.endOffset),s.extend(e.startContainer,e.startOffset)),o=s.rangeCount>0?s.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!s.setBaseAndExtent||bt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(s.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),s.anchorNode===e.startContainer&&s.focusNode===e.endContainer||s.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},d=function(){var t=c(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||_n(n)||_n(r))return!0;var o=e.createRng();o.setStart(n,t.anchorOffset),o.collapse(!0);var i=e.createRng();return i.setStart(r,t.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},p={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:u,setCursorLocation:function(t,n){var o=e.createRng();b(t)&&b(n)?(o.setStart(t,n),o.setEnd(t,n),f(o),u(!1)):(Mf(e,o,r.getBody(),!0),f(o))},getContent:function(e){return Dv(r,e)},setContent:s,getBookmark:function(e,t){return h.getBookmark(e,t)},moveToBookmark:function(e){return h.moveToBookmark(e)},select:function(t,n){return function(e,t,n){return B.from(t).map((function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Mf(e,o,t,!0),Mf(e,o,t,!1)),o}))}(e,t,n).each(f),t},isCollapsed:function(){var e=l(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:d,setNode:function(t){return s(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?gp(r.nextSibling,!0):r.parentNode,o=0===a?gp(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n}(r.getBody(),l())},getSel:c,setRng:f,getRng:l,getStart:function(e){return hp(r.getBody(),l(),e)},getEnd:function(e){return mp(r.getBody(),l(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||hp(a,t,t.collapsed),e.isBlock),r=e.getParent(r||mp(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var s=new eo(n,a);(o=s.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i}(e,l(),t,n)},normalize:function(){var t=l(),n=c();if(!(Pf(n).length>1)&&Nf(r)){var o=ud(e,t);return o.each((function(e){f(e,d())})),o.getOr(t)}return t},selectorChanged:function(e,t){return a(e,t),p},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){(e.inline?Dd:kd)(e,t,n)}(r,e,t)},placeCaretAt:function(e,t){return f($f(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=l();return e.collapsed?xu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=o=i=null,m.destroy()}},h=Wf(p),m=Zf(p,r);return p.bookmarkManager=h,p.controlSelection=m,p},Vv=function(e,t,n){e.addNodeFilter("font",(function(e){W(e,(function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),function(e,t){W(t,(function(t){e.attr(t,null)}))}(e,["color","face","size"])}))}))},Uv=function(e,t){var n=Si();t.convert_fonts_to_spans&&Vv(e,n,At.explode(t.font_size_legacy_values)),function(e,t){e.addNodeFilter("strike",(function(e){W(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))}(e,n)},zv=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},Gv=function(e,t){var n;try{n=atob(t)}catch(e){return B.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return B.some(new Blob([r],{type:e}))},Wv=function(e){return 0===e.indexOf("blob:")?function(e){return new Kr((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===o.status?t(o.response):r()},o.onerror=r,o.send()}catch(e){r()}}))}(e):0===e.indexOf("data:")?(t=e,new Kr((function(e){var n=zv(t),r=n.type,o=n.data;Gv(r,o).fold((function(){return e(new Blob([]))}),e)}))):null;var t},Hv=0,qv=function(e){return(e||"blobid")+Hv++},Kv=function(e,t,n,r){var o,i;if(0!==t.src.indexOf("blob:")){var a=zv(t.src),s=a.data,u=a.type;o=s,(i=e.getByData(o,u))?n({image:t,blobInfo:i}):Wv(t.src).then((function(r){i=e.create(qv(),r,o),e.add(i),n({image:t,blobInfo:i})}),(function(e){r(e)}))}else(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):Wv(t.src).then((function(r){(function(e){return new Kr((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))})(r).then((function(a){o=zv(a).data,i=e.create(qv(),r,o),e.add(i),n({image:t,blobInfo:i})}))}),(function(e){r(e)}))},Xv=function(e,t){var n={};return{findAll:function(r,o){o||(o=k);var i=q(function(e){return e?oe(e.getElementsByTagName("img")):[]}(r),(function(t){var n=t.src;return!!bt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===bt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))})),a=G(i,(function(e){if(void 0!==n[e.src])return new Kr((function(t){n[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new Kr((function(n,r){Kv(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return Kr.all(a)}}},Yv=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Cp("br",1)).shortEnded=!0:r.empty().append(new Cp("#text",3)).value=po},Zv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Jv=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))},$v=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");(function(e){return e.attr("src")===bt.transparentSrc||e.attr("data-mce-placeholder")})(e)||function(e){return e.attr("data-mce-bogus")}(e)||function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?B.some({type:t[1],data:decodeURIComponent(t[2])}):B.none()}(r).filter((function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),se(e.attributes.map,(function(e,t){n.setAttribute(t,e)})),t.images_dataimg_filter(n)}return!0}(e,t)})).bind((function(e){var t=e.type,r=e.data;return B.from(n.getByData(r,t)).orThunk((function(){return Gv(t,r).map((function(e){var t=n.create(qv(),e,r);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return W(e,r)}))},Qv=At.makeMap,ey=At.each,ty=At.explode,ny=At.extend,ry=function(e,t){void 0===t&&(t=xi());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t,a,s;(a=e.name)in n&&((s=o[a])?s.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&((s=i[a])?s.push(e):i[a]=[e]);return e},s={schema:t,addAttributeFilter:function(e,t){ey(ty(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){ey(ty(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(s,u){var c,l,f,d,p,h,m,g,v,y=[];u=u||{},o={},i={};var b=ny(Qv("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,C=e.validate,S=function(e){return!1===e?"":!0===e?"p":e}("forced_root_block"in u?u.forced_root_block:e.forced_root_block),A=t.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,O=/[ \t\r\n]+/g,E=/^[ \t\r\n]+$/;g=A.hasOwnProperty(u.context)||A.hasOwnProperty(e.root_name);var T=function(e,t){var r,i=new Cp(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},D=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if((o=n.value.replace(P,"")).length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},I=Ep({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){v.append(T("#cdata",4)).value=e},text:function(e,t){var n;g||(e=e.replace(O," "),function(e,t){return e&&(t[e.name]||"br"===e.name)}(v.lastChild,b)&&(e=e.replace(_,""))),0!==e.length&&((n=T("#text",3)).raw=!!t,v.append(n).value=e)},comment:function(e){v.append(T("#comment",8)).value=e},pi:function(e,t){v.append(T(e,7)).value=t,D(v)},doctype:function(e){v.append(T("#doctype",10)).value=e,D(v)},start:function(e,n,o){var a,s,u,c,l=C?t.getElementRule(e):{};if(l){for((a=T(l.outputName||e,1)).attributes=n,a.shortEnded=o,v.append(a),(c=x[v.name])&&x[a.name]&&!c[a.name]&&y.push(a),s=r.length;s--;)(u=r[s].name)in n.map&&((h=i[u])?h.push(a):i[u]=[a]);b[e]&&D(a),o||(v=a),!g&&A[e]&&(g=!0)}},end:function(n){var r,o,i,a,s=C?t.getElementRule(n):{};if(s){if(b[n]&&!g){if((r=v.firstChild)&&3===r.type)if((o=r.value.replace(_,"")).length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||E.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if((o=r.value.replace(P,"")).length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||E.test(o))&&(r.remove(),r=i),r=i}if(g&&A[n]&&(g=!1),s.removeEmpty&&Jv(t,w,A,v))return a=v.parent,b[v.name]?v.empty().remove():v.unwrap(),void(v=a);s.paddEmpty&&(function(e){return Zv(e,"#text")&&e.firstChild.value===po}(v)||Jv(t,w,A,v))&&Yv(e,u,b,v),v=v.parent}}},t),k=v=new Cp(u.context||e.root_name,11);if(I.parse(s,u.format),C&&y.length&&(u.context?u.invalid=!0:function(e){var n,r,o,i,s,u,c,l,f,d,p,h=Qv("tr,td,th,tbody,thead,tfoot,table"),m=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),y=t.getSpecialElements();for(n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!h[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),s=u=a(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(u.name,i[f].name)?(c=a(i[f].clone()),u.append(c)):c=u,l=i[f].firstChild;l&&l!==i[f+1];)p=l.next,c.append(l),l=p;u=c}Jv(t,m,g,s)?o.insert(r,i[0],!0):(o.insert(s,i[0],!0),o.insert(r,s)),o=i[0],(Jv(t,m,g,o)||Zv(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ol"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ol"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(a(new Cp("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(a(new Cp("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}}(y)),S&&("body"===k.name||u.isRootContent)&&function(){var n,r,o=k.firstChild,i=function(e){e&&((o=e.firstChild)&&3===o.type&&(o.value=o.value.replace(_,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(P,"")))};if(t.isValidChild(k.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!b[o.name]&&!o.attr("data-mce-type")?(r||((r=T(S,1)).attr(e.forced_root_block_attrs),k.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!u.invalid){for(m in o)if(o.hasOwnProperty(m)){for(h=n[m],d=(c=o[m]).length;d--;)c[d].parent||c.splice(d,1);for(l=0,f=h.length;l<f;l++)h[l](c,m,u)}for(l=0,f=r.length;l<f;l++)if((h=r[l]).name in i){for(d=(c=i[h.name]).length;d--;)c[d].parent||c.splice(d,1);for(d=0,p=h.callbacks.length;d<p;d++)h.callbacks[d](c,h.name,u)}}return k}};return function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,s,u,c,l,f,d,p=e.length,h=At.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(h.body=1,i=0;i<p;i++)if(s=(a=e[i]).parent,h[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){"br"===l&&(a=null);break}c=c.prev}a&&(a.remove(),Jv(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&Yv(t,o,h,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&(u=s,!h[s.name]);)s=s.parent;u===s&&!0!==t.padd_empty_with_br&&((d=new Cp("#text",3)).value=po,a.replace(d))}})),e.addAttributeFilter("href",(function(e){var n,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;){var i=e[o];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",(r=void 0,r=(n=i.attr("rel"))?At.trim(n):"",/\b(noopener)\b/g.test(r)?r:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(r)))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Cp("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t,r,o,i,a,s,u,c=e.length,l=n.getValidClasses();c--;){for(r=(t=e[c]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],u=!1,(s=l["*"])&&s[i]&&(u=!0),s=l[t.name],!u&&s&&s[i]&&(u=!0),u&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})),$v(e,t)}(s,e),function(e,t){t.inline_styles&&Uv(e,t)}(s,e),s},oy=function(e,t,n){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(e,n)?function(e,t,n){var r,o,i=e.dom;t=t.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),At.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,!0))})),t="BODY"!==t.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),function(e,t){e.fire("PreProcess",t)}(e,Pe(Pe({},n),{node:t})),o&&(i.doc=o),t}(e,t,n):t},iy=function(e,t,n){-1===At.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},ay=function(e,t,n,r,o){return function(e,t,n){return!t.no_events&&e?function(e,t){return e.fire("PostProcess",t)}(e,Pe(Pe({},t),{content:n})).content:n}(e,o,function(e,t,n){return Bp(e,t).serialize(n)}(t,n,r))},sy=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:us.DOM,o=t&&t.schema?t.schema:xi(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i=ry(e,o);!function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){for(var o,i,a=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;a--;)void 0!==(i=(o=e[a]).attr(s))?(o.attr(r,i.length>0?i:null),o.attr(s,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):u&&(i=u.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))})),e.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attr("data-mce-type")||n.cleanup||(B.from(r.firstChild).exists((function(e){return!mo(e.value)}))?r.unwrap():r.remove())})),e.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=fi.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){for(var r,o,i,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=e[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){for(var r,o=e.length;o--;)r=e[o],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){W(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}(i,e,r);return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n,a){void 0===a&&(a={});var s=Pe({format:"html"},a),u=oy(t,n,s),c=function(e,t,n){var r=go(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||fo(Pt.fromDom(t))?r:At.trim(r)}(r,u,s),l=function(e,t,n){var r=n.selection?Pe({forced_root_block:!1},n):n,o=e.parse(t,r);return function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}}(o),o}(i,c,s);return"tree"===s.format?l:ay(t,e,o,l,s)},addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:P(iy,i,n),getTempAttrs:A(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},uy=function(e,t){var n=sy(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},cy=function(e,t){return void 0===t&&(t={}),function(e,t,n){return Ev(e).editor.getContent(t,n)}(e,t,t.format?t.format:"html")},ly=function(e,t,n){return void 0===n&&(n={}),function(e,t,n){return Ev(e).editor.setContent(t,n)}(e,t,n)},fy=us.DOM,dy=function(e){return B.from(e).each((function(e){return e.destroy()}))},py=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&fy.remove(o.nextSibling),function(e){e.fire("remove")}(e),e.editorManager.remove(e),!e.inline&&r&&function(e){fy.setStyle(e.id,"display",e.orgDisplay)}(e),function(e){e.fire("detach")}(e),fy.remove(e.getContainer()),dy(t),dy(n),e.destroy()}},hy=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),dy(n),dy(r)),function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),fy.unbind(t,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},my=Object.prototype.hasOwnProperty,gy=(Rv=function(e,t){return p(e)&&p(t)?gy(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)my.call(o,i)&&(n[i]=Rv(n[i],o[i]))}return n}),vy=lt().deviceType,yy=vy.isTouch(),by=vy.isPhone(),wy=vy.isTablet(),xy=["lists","autolink","autosave"],Cy={table_grid:!1,object_resizing:!1,resize:!1},Sy=function(e){var t=h(e)?e.join(" "):e,n=G(d(t)?t.split(" "):[],Le);return q(n,(function(e){return e.length>0}))},Ay=function(e,t){var n=de(t,(function(t,n){return U(e,n)}));return function(e,t){return{sections:A(e),settings:A(t)}}(n.t,n.f)},_y=function(e,t){return e.sections().hasOwnProperty(t)},Py=function(e,t){return me(e,"toolbar_mode").orThunk((function(){return me(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)},Oy=function(e,t){var n={resize:!1,toolbar_mode:Py(e,"scrolling"),toolbar_sticky:!1};return Pe(Pe(Pe({},Cy),n),t?{menubar:!1}:{})},Ey=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?At.extend({},e.external_plugins,n):n},Ty=function(e,t,n,r){return e&&function(e,t,n){var r=e.sections();return _y(e,t)&&r[t].theme===n}(t,"mobile","mobile")?q(r,P(U,xy)):e&&_y(t,"mobile")?r:n},Dy=function(e,t,n,r){var o=Sy(n.forced_plugins),i=Sy(r.plugins),a=function(e,t){return _y(e,t)?e.sections()[t]:{}}(t,"mobile"),s=a.plugins?Sy(a.plugins):i,u=function(e,t){return[].concat(Sy(e)).concat(Sy(t))}(o,Ty(e,t,i,s));if(bt.browser.isIE()&&U(u,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return At.extend(r,{plugins:u.join(" ")})},Iy=function(e,t,n,r,o){var i=e?{mobile:Oy(o.mobile||{},t)}:{},a=Ay(["mobile"],gy(i,o)),s=At.extend(n,r,a.settings(),function(e,t){return e&&_y(t,"mobile")}(e,a)?function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return At.extend({},n,o)}(a,"mobile"):{},{validate:!0,external_plugins:Ey(r,a.settings())});return Dy(e,a,r,s)},ky=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:Py(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Pe(Pe({},i),r?Cy:{})}(o,t,n,yy,e);return Iy(by||wy,by,i,r,o)},My=function(e,t,n){return B.from(t.settings[n]).filter(e)},Ny=function(e,t,n,r){var o,i=t in e.settings?e.settings[t]:n;return"hash"===r?function(e){var t={};return"string"==typeof e?W(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[At.trim(n[0])]=At.trim(n[1]):t[At.trim(n[0])]=At.trim(n[0])})):t=e,t}(i):"string"===r?My(d,e,t).getOr(n):"number"===r?My(x,e,t).getOr(n):"boolean"===r?My(g,e,t).getOr(n):"object"===r?My(p,e,t).getOr(n):"array"===r?My(h,e,t).getOr(n):"string[]"===r?My((o=d,function(e){return h(e)&&$(e,o)}),e,t).getOr(n):"function"===r?My(w,e,t).getOr(n):i},Ry=(Bv={},{add:function(e,t){Bv[e]=t},get:function(e){return Bv[e]?Bv[e]:{icons:{}}},has:function(e){return ge(Bv,e)}}),By=function(e,t){return t.dom[e]},Ly=function(e,t){return parseInt($n(t,e),10)},Fy=P(By,"clientWidth"),jy=P(By,"clientHeight"),Vy=P(Ly,"margin-top"),Uy=P(Ly,"margin-left"),zy=function(e,t,n){var r,o=Pt.fromDom(e.getBody()),i=e.inline?o:(r=o,Pt.fromDom(Ut(r).dom.documentElement)),a=function(e,t,n,r){var o=function(e){return e.dom.getBoundingClientRect()}(t);return{x:n-(e?o.left+t.dom.clientLeft+Uy(t):0),y:r-(e?o.top+t.dom.clientTop+Vy(t):0)}}(e.inline,i,t,n);return function(e,t,n){var r=Fy(e),o=jy(e);return t>=0&&n>=0&&t<=r&&n<=o}(i,a.x,a.y)},Gy=function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,B.from(t).map(Pt.fromDom)).map(hn).getOr(!1)},Wy=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},r=function(){return B.from(t[0])},o=function(){t.length>0&&n().reposition(t)},i=function(e){Z(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},a=function(a,s){if(void 0===s&&(s=!0),!e.removed&&Gy(e))return s&&e.fire("BeforeOpenNotification",{notification:a}),Y(t,(function(e){return t=n().getArgs(e),r=a,!(t.type!==r.type||t.text!==r.text||t.progressBar||t.timeout||r.progressBar||r.timeout);var t,r})).getOrThunk((function(){e.editorManager.setActive(e);var s=n().open(a,(function(){i(s),o(),r().fold((function(){return e.focus()}),(function(e){return Pt.fromDom(e.getEl()).dom.focus()}))}));return function(e){t.push(e)}(s),o(),e.fire("OpenNotification",{notification:Pe({},s)}),s}))};return function(e){e.on("SkinLoaded",(function(){var t=function(e){return e.getParam("service_message")}(e);t&&a({text:t,type:"warning",timeout:0},!1)})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){Jr.requestAnimationFrame(o)})),e.on("remove",(function(){W(t.slice(),(function(e){n().close(e)}))}))}(e),{open:a,close:function(){r().each((function(e){n().close(e),i(e),o()}))},getNotifications:function(){return t}}},Hy=ys.PluginManager,qy=ys.ThemeManager;var Ky,Xy=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):void 0}},o=function(n){t.push(n),function(t){e.fire("OpenWindow",{dialog:t})}(n)},i=function(n){!function(t){e.fire("CloseWindow",{dialog:t})}(n),0===(t=q(t,(function(e){return e!==n}))).length&&e.focus()},a=function(t){e.editorManager.setActive(e),Zd(e);var n=t();return o(n),n};return e.on("remove",(function(){W(t,(function(e){n().close(e)}))})),{open:function(e,t){return a((function(){return n().open(e,t,i)}))},openUrl:function(e){return a((function(){return n().openUrl(e,i)}))},alert:function(e,t,o){var i=n();i.alert(e,r(o||i,t))},confirm:function(e,t,o){var i=n();i.confirm(e,r(o||i,t))},close:function(){B.from(t[t.length-1]).each((function(e){n().close(e),i(e)}))}}},Yy=function(e,t){e.notificationManager.open({type:"error",text:t})},Zy=function(e,t){e._skinLoaded?Yy(e,t):e.on("SkinLoaded",(function(){Yy(e,t)}))},Jy=function(e,t,n){Kf(e,t,{message:n}),console.error(n)},$y=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Qy=function(e,t,n){Jy(e,"PluginLoadError",$y("plugin",t,n))},eb=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Oe([e],t)):r.log.apply(r,Oe([e],t)))},tb=function(e){return nb(e,function(e){var t=e.getParam("content_css");return d(t)?G(t.split(","),Le):h(t)?t:!1===t||e.inline?[]:["default"]}(e))},nb=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return G(t,(function(t){return function(e){return/^[a-z0-9\-]+$/i.test(e)}(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)}))},rb=function(e){e.contentCSS=e.contentCSS.concat(tb(e),function(e){return nb(e,sc(e))}(e))},ob=function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}},ib=0,ab=function(e){return e+ib+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t},sb=function(e,t){var n={},r=function(e,n,r,o){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var e,o,a=JSON.parse(i.responseText);if(a&&"string"==typeof a.location)n((e=t.basePath,o=a.location,e?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o));else r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},a=function(e,t){At.each(n[e],(function(e){e(t)})),delete n[e]},s=function(r,s){return r=At.grep(r,(function(t){return!e.isUploaded(t.blobUri())})),Kr.all(At.map(r,(function(r){return e.isPending(r.blobUri())?function(e){var t=e.blobUri();return new Kr((function(e){n[t]=n[t]||[],n[t].push(e)}))}(r):function(t,n,r){return e.markPending(t.blobUri()),new Kr((function(s){var u;try{var c=function(){u&&u.close()};n(t,(function(n){c(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),o(t,n)),s(o(t,n))}),(function(n,r){var o=r||{};c(),e.removeFailed(t.blobUri()),a(t.blobUri(),i(t,n,o)),s(i(t,n,o))}),(function(e){e<0||e>100||B.from(u).orThunk((function(){return B.from(r).map(T)})).each((function(t){u=t,t.progressBar.value(e)}))}))}catch(e){s(i(t,e.message,{}))}}))}(r,t.handler,s)})))};return!1===w(t.handler)&&(t.handler=r),{upload:function(e,n){return t.url||t.handler!==r?s(e,n):new Kr((function(e){e([])}))}}},ub=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},cb=function(e,t){return sb(t,{url:Qu(e),basePath:ec(e),credentials:tc(e),handler:nc(e)})},lb=function(e){var t,n,r=function(){var e=[],t=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t,n=e.id||ab("blobid"),r=e.name||n,o=e.blob;return{id:A(n),name:A(r),filename:A(e.filename||r+"."+(t=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[t.toLowerCase()]||"dat")),blob:A(o),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(o)),uri:A(e.uri)}},n=function(t){return Y(e,t).getOrUndefined()},r=function(e){return n((function(t){return t.id()===e}))};return{create:function(e,n,r,o,i){if(d(e))return t({id:e,name:o,filename:i,blob:n,base64:r});if(p(e))return t(e);throw new Error("Unknown input type")},add:function(t){r(t.id())||e.push(t)},get:r,getByUri:function(e){return n((function(t){return t.blobUri()===e}))},getByData:function(e,t){return n((function(n){return n.base64()===e&&n.blob().type===t}))},findFirst:n,removeByUri:function(t){e=q(e,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){W(e,(function(e){URL.revokeObjectURL(e.blobUri())})),e=[]}}}(),o=ob(),i=[],a=function(e){var t=ps(null);return e.on("change AddUndo",(function(e){t.set(Pe({},e.level))})),{fireIfChanged:function(){var n=e.undoManager.data;re(n).filter((function(e){return!xv(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:te(n,n.length-2).getOrNull()})}))}}}(e),s=function(t){return function(n){return e.selection?t(n):[]}},u=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){var r='src="'+n+'"'+(n===bt.transparentSrc?' data-mce-placeholder="1"':"");return e=u(e,'src="'+t+'"',r),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){W(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=G(e.fragments,(function(e){return c(e,t,n)})):e.content=c(e.content,t,n)}))},f=function(n){return t||(t=cb(e,o)),g().then(s((function(o){var i=G(o,(function(e){return e.blobInfo}));return t.upload(i,ub(e)).then(s((function(t){var i=[],s=G(t,(function(t,n){var a=o[n].blobInfo,s=o[n].image;return t.status&&function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")}(e)?(r.removeByUri(s.src),function(t,n){var r,o=e.convertURL(n,"src");l(t.src,n),e.$(t).attr({src:Ju(e)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})}(s,t.url)):t.error&&(t.error.options.remove&&(l(s.getAttribute("src"),bt.transparentSrc),i.push(s)),function(e,t){Zy(e,vs.translate(["Failed to upload image: {0}",t]))}(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:a}}));return s.length>0&&a.fireIfChanged(),i.length>0&&(Pv(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){W(i,(function(t){e.dom.remove(t),r.removeByUri(t.src)}))}))),n&&n(s),s})))})))},h=function(t){if(Zu(e))return f(t)},m=function(t){return!1!==$(i,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||function(e){return e.getParam("images_dataimg_filter",k,"function")}(e)(t))},g=function(){return n||(n=Xv(o,r)),n.findAll(e.getBody(),m).then(s((function(t){return t=q(t,(function(t){return"string"!=typeof t||(Zy(e,t),!1)})),W(t,(function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},v=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);return a||(a=X(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':t}))};return e.on("SetContent",(function(){Zu(e)?h():g()})),e.on("RawSaveContent",(function(e){e.content=v(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=v(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){W(e,(function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:r,addFilter:function(e){i.push(e)},uploadImages:f,uploadImagesAuto:h,scanForImages:g,destroy:function(){r.destroy(),o.destroy(),n=t=null}}},fb=function(e){var t={},n=function(e,r){e&&("string"!=typeof e?At.each(e,(function(e,t){n(t,e)})):(h(r)||(r=[r]),At.each(r,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),t[e]=r))};return n(function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Pn(e)&&e.hasAttribute("href")},onformat:function(t,n,r){At.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return At.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t}(e.dom)),n(function(e){return e.getParam("formats")}(e)),{get:function(e){return e?t[e]:t},has:function(e){return ge(t,e)},register:n,unregister:function(e){return e&&t[e]&&delete t[e],t}}},db=At.each,pb=us.DOM,hb=function(e,t){var n,r,o,i=t&&t.schema||xi({}),a=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=pb.create(r.name);return function(e,t){t.classes.length&&pb.addClass(e,t.classes.join(" ")),pb.setAttribs(e,t.attrs)}(t,r),t},s=function(e,t,n){var r,o,u=t.length>0&&t[0],c=u&&u.name,l=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==At.inArray(o,t)?t:o[0])}(e,c);if(l)c===l?(o=t[0],t=t.slice(1)):o=l;else if(u)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=pb.create("div")).appendChild(e),At.each(n,(function(t){var n=a(t);r.insertBefore(n,e)}))),s(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=a(r),(o=pb.create("div")).appendChild(s(n,e.slice(1),r.siblings)),o):""},mb=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=At.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==At.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},gb=function(e,t){var n,r,o,i="",a=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return d(t)?t:""}(e);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var u=me(t,"preview");if(u.is(!1))return"";a=u.getOr(a)}n=t.block||t.inline||"span";var c,l=(c=t.selector)&&"string"==typeof c?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),At.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=At.map(e.split(/(?:~\+|~|\+)/),mb),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[];l.length?(l[0].name||(l[0].name=n),n=t.selector,r=hb(l,e)):r=hb([n],e);var f=pb.select(n,r)[0]||r.firstChild;return db(t.styles,(function(e,t){var n=s(e);n&&pb.setStyle(f,t,n)})),db(t.attributes,(function(e,t){var n=s(e);n&&pb.setAttrib(f,t,n)})),db(t.classes,(function(e){var t=s(e);pb.hasClass(f,t)||pb.addClass(f,t)})),e.fire("PreviewFormats"),pb.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=pb.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,db(a.split(" "),(function(t){var n=pb.getStyle(f,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=pb.getStyle(e.getBody(),t,!0),"#ffffff"===pb.toHex(n).toLowerCase())||"color"===t&&"#000000"===pb.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),pb.remove(r),i},vb=function(e){var t=fb(e),n=ps(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),fg(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){!function(e,t,n,r){Tv(e).formatter.apply(t,n,r)}(e,t,n,r)},remove:function(t,n,r,o){!function(e,t,n,r,o){Tv(e).formatter.remove(t,n,r,o)}(e,t,n,r,o)},toggle:function(t,n,r){!function(e,t,n,r){Tv(e).formatter.toggle(t,n,r)}(e,t,n,r)},match:function(t,n,r){return function(e,t,n,r){return Tv(e).formatter.match(t,n,r)}(e,t,n,r)},closest:function(t){return function(e,t){return Tv(e).formatter.closest(t)}(e,t)},matchAll:function(t,n){return function(e,t,n){return Tv(e).formatter.matchAll(t,n)}(e,t,n)},matchNode:function(t,n,r,o){return function(e,t,n,r,o){return Tv(e).formatter.matchNode(t,n,r,o)}(e,t,n,r,o)},canApply:function(t){return function(e,t){return Tv(e).formatter.canApply(t)}(e,t)},formatChanged:function(t,r,o){return function(e,t,n,r,o){return void 0===o&&(o=!1),Tv(e).formatter.formatChanged(t,n,r,o)}(e,n,t,r,o)},getCssText:P(gb,e)}},yb=function(e){var t=ps(B.none()),n=ps(0),r=ps(0),o={data:[],typing:!1,beforeChange:function(){!function(e,t,n){Tv(e).undoManager.beforeChange(t,n)}(e,n,t)},add:function(i,a){return function(e,t,n,r,o,i,a){return Tv(e).undoManager.addUndoLevel(t,n,r,o,i,a)}(e,o,r,n,t,i,a)},undo:function(){return function(e,t,n,r){return Tv(e).undoManager.undo(t,n,r)}(e,o,n,r)},redo:function(){return function(e,t,n){return Tv(e).undoManager.redo(t,n)}(e,r,o.data)},clear:function(){!function(e,t,n){Tv(e).undoManager.clear(t,n)}(e,o,r)},reset:function(){!function(e,t){Tv(e).undoManager.reset(t)}(e,o)},hasUndo:function(){return function(e,t,n){return Tv(e).undoManager.hasUndo(t,n)}(e,o,r)},hasRedo:function(){return function(e,t,n){return Tv(e).undoManager.hasRedo(t,n)}(e,o,r)},transact:function(t){return function(e,t,n,r){return Tv(e).undoManager.transact(t,n,r)}(e,o,n,t)},ignore:function(t){!function(e,t,n){Tv(e).undoManager.ignore(t,n)}(e,n,t)},extra:function(t,n){!function(e,t,n,r,o){Tv(e).undoManager.extra(t,n,r,o)}(e,o,r,t,n)}};return Pv(e)||function(e,t,n){var r=ps(!1),o=function(e){Sv(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(Av(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===xv(vv(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&o(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),Sv(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&o(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}(e,o,n),function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")}(e),o},bb=[9,27,Xf.HOME,Xf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Xf.DOWN,Xf.UP,Xf.LEFT,Xf.RIGHT].concat(bt.browser.isFirefox()?[224]:[]),wb="data-mce-placeholder",xb=function(e){return"keydown"===e.type||"keyup"===e.type},Cb=function(e){var t=e.keyCode;return t===Xf.BACKSPACE||t===Xf.DELETE},Sb=function(e){var t=e.dom,n=Xu(e),r=function(e){return e.getParam("placeholder",Hu.getAttrib(e.getElement(),"placeholder"),"string")}(e),o=function(i,a){if(!function(e){if(xb(e)){var t=e.keyCode;return!Cb(e)&&(Xf.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||U(bb,t))}return!1}(i)){var s=e.getBody(),u=!function(e){return xb(e)&&!(Cb(e)||"keyup"===e.type&&229===e.keyCode)}(i)&&function(e,t,n){if(Ko(Pt.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(t,s,n);(""!==t.getAttrib(s,wb)!==u||a)&&(t.setAttrib(s,wb,u?r:null),t.setAttrib(s,"aria-placeholder",u?r:null),function(e,t){e.fire("PlaceholderToggle",{state:t})}(e,u),e.on(u?"keydown":"keyup",o),e.off(u?"keyup":"keydown",o))}};r&&e.on("init",(function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(function(t){return Jr.setEditorTimeout(e,(function(){return o(t)}))}))}))},Ab=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_b=function(e,t){return Et(Pt.fromDom(t),function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(e))},Pb=function(e){return"rtl"===us.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Ab.test(t));var t},Ob=function(e,t,n){var r=function(e,t,n){return q(us.DOM.getParents(n.container(),"*",t),e)}(e,t,n);return B.from(r[r.length-1])},Eb=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?wo(n)?Nn(n.nextSibling)?xu(n.nextSibling,0):xu.after(n):So(t)?xu(n,r+1):t:wo(n)?Nn(n.previousSibling)?xu(n.previousSibling,n.previousSibling.data.length):xu.before(n):Ao(t)?xu(n,r-1):t},Tb=P(Eb,!0),Db=P(Eb,!1),Ib=function(e,t){return kt(e,t)?zr(t,(function(e){return ao(e)||uo(e)}),function(e){return function(t){return Dt(e,Pt.fromDom(t.dom.parentNode))}}(e)):B.none()},kb=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},Mb=function(e,t){return{from:e,to:t}},Nb=function(e,t){var n=Pt.fromDom(e),r=Pt.fromDom(t.container());return Ib(n,r).map((function(e){return function(e,t){return{block:e,position:t}}(e,t)}))},Rb=function(e,t,n){var r=Nb(e,xu.fromRangeStart(n)),o=r.bind((function(n){return xl(t,e,n.position).bind((function(n){return Nb(e,n).map((function(n){return function(e,t,n){return Fn(n.position.getNode())&&!1===Ko(n.block)?Al(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?xl(t,e,r).bind((function(t){return Nb(e,t)})):B.some(n)})).getOr(n):n}(e,t,n)}))}))}));return Hs(r,o,Mb).filter((function(e){return function(e){return!1===Dt(e.from.block,e.to.block)}(e)&&function(e){return Gt(e.from.block).bind((function(t){return Gt(e.to.block).filter((function(e){return Dt(t,e)}))})).isSome()}(e)&&function(e){return!1===Un(e.from.block.dom)&&!1===Un(e.to.block.dom)}(e)}))},Bb=function(e){var t=Xt(e);return Z(t,ro).fold((function(){return t}),(function(e){return t.slice(0,e)}))},Lb=function(e){var t=Bb(e);return W(t,dn),t},Fb=function(e,t){var n=uh(t,e);return Y(n.reverse(),(function(e){return Ko(e)})).each(dn)},jb=function(e,t,n,r){if(Ko(n))return oh(n),Ol(n.dom);0===q(qt(r),(function(e){return!Ko(e)})).length&&Ko(t)&&an(r,Pt.fromTag("br"));var o=Pl(n.dom,xu.before(r.dom));return W(Lb(t),(function(e){an(r,e)})),Fb(e,t),o},Vb=function(e,t,n){if(Ko(n))return dn(n),Ko(t)&&oh(t),Ol(t.dom);var r=El(n.dom);return W(Lb(t),(function(e){cn(n,e)})),Fb(e,t),r},Ub=function(e,t){return kt(t,e)?function(e,t){var n=uh(t,e);return B.from(n[n.length-1])}(t,e):B.none()},zb=function(e,t){Al(e,t.dom).map((function(e){return e.getNode()})).map(Pt.fromDom).filter(io).each(dn)},Gb=function(e,t,n){return zb(!0,t),zb(!1,n),Ub(t,n).fold(P(Vb,e,t,n),P(jb,e,t,n))},Wb=function(e,t,n,r){return t?Gb(e,r,n):Gb(e,n,r)},Hb=function(e,t){var n=Pt.fromDom(e.getBody()),r=function(e,t,n){return n.collapsed?Rb(e,t,n):B.none()}(n.dom,t,e.selection.getRng()).bind((function(e){return Wb(n,t,e.from.block,e.to.block)}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},qb=function(e,t){var n=Pt.fromDom(t),r=P(Dt,e);return Ur(n,lo,r).isSome()},Kb=function(e,t){var n=Pl(e.dom,xu.fromRangeStart(t)).isNone(),r=_l(e.dom,xu.fromRangeEnd(t)).isNone();return!function(e,t){return qb(e,t.startContainer)||qb(e,t.endContainer)}(e,t)&&n&&r},Xb=function(e){var t=Pt.fromDom(e.getBody()),n=e.selection.getRng();return Kb(t,n)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(e,t){var n=t.getRng();return Hs(Ib(e,Pt.fromDom(n.startContainer)),Ib(e,Pt.fromDom(n.endContainer)),(function(r,o){return!1===Dt(r,o)&&(n.deleteContents(),Wb(e,!0,r,o).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)}(t,e.selection)},Yb=function(e,t){return!e.selection.isCollapsed()&&Xb(e)},Zb=Vn,Jb=Un,$b=function(e,t,n,r,o){return B.from(t._selectionOverrides.showCaret(e,n,r,o))},Qb=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?B.none():B.some(function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t))},ew=function(e,t,n){var r=Qc(1,e.getBody(),t),o=xu.fromRangeStart(r),i=o.getNode();if(kc(i))return $b(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(kc(a))return $b(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),(function(e){return Jb(e)||Zb(e)}));return kc(s)?$b(1,e,s,!1,n):B.none()},tw=function(e,t,n){return t.collapsed?ew(e,t,n).getOr(t):t},nw=function(e){return th(e)||Jp(e)},rw=function(e){return nh(e)||$p(e)},ow=function(e,t,n,r,o,i){return $b(r,e,i.getNode(!o),o,!0).each((function(n){if(t.collapsed){var r=t.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),function(e,t){Nn(t)&&0===t.data.length&&e.remove(t)}(e.dom,n),!0},iw=function(e,t){return function(e,t){var n=e.selection.getRng();if(!Nn(n.commonAncestorContainer))return!1;var r=t?Cu.Forwards:Cu.Backwards,o=gl(e.getBody()),i=P(rl,t?o.next:o.prev),a=t?nw:rw,s=tl(r,e.getBody(),n),u=Eb(t,i(s));if(!u||!ol(s,u))return!1;if(a(u))return ow(e,n,s.getNode(),r,t,u);var c=i(u);return!!(c&&a(c)&&ol(u,c))&&ow(e,n,s.getNode(),r,t,c)}(e,t)},aw=yr([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),sw=function(e,t,n,r){var o=r.getNode(!1===t);return Ib(Pt.fromDom(e),Pt.fromDom(n.getNode())).map((function(e){return Ko(e)?aw.remove(e.dom):aw.moveToElement(o)})).orThunk((function(){return B.some(aw.moveToElement(o))}))},uw=function(e,t,n){return xl(t,e,n).bind((function(r){return o=r.getNode(),lo(Pt.fromDom(o))||uo(Pt.fromDom(o))||function(e,t,n,r){var o=function(t){return oo(Pt.fromDom(t))&&!qc(n,r,e)};return el(!t,n).fold((function(){return el(t,r).fold(I,o)}),o)}(e,t,n,r)?B.none():t&&Un(r.getNode())||!1===t&&Un(r.getNode(!0))?sw(e,t,n,r):t&&nh(n)||!1===t&&th(n)?B.some(aw.moveToPosition(r)):B.none();var o}))},cw=function(e,t,n){return function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Pn(n)&&n.getAttribute("data-mce-caret")===r}(t,n)?function(e,t){return e&&Un(t.nextSibling)?B.some(aw.moveToElement(t.nextSibling)):!1===e&&Un(t.previousSibling)?B.some(aw.moveToElement(t.previousSibling)):B.none()}(t,n.getNode(!1===t)).fold((function(){return uw(e,t,n)}),B.some):uw(e,t,n).bind((function(t){return function(e,t,n){return n.fold((function(e){return B.some(aw.remove(e))}),(function(e){return B.some(aw.moveToElement(e))}),(function(n){return qc(t,n,e)?B.none():B.some(aw.moveToPosition(n))}))}(e,n,t)}))},lw=function(e,t){return B.from(Hf(e.getBody(),t))},fw=function(e,t){var n=e.selection.getNode();return lw(e,n).filter(Un).fold((function(){return function(e,t,n){var r=Qc(t?1:-1,e,n),o=xu.fromRangeStart(r),i=Pt.fromDom(e);return!1===t&&nh(o)?B.some(aw.remove(o.getNode(!0))):t&&th(o)?B.some(aw.remove(o.getNode())):!1===t&&th(o)&&wh(i,o)?xh(i,o).map((function(e){return aw.remove(e.getNode())})):t&&nh(o)&&bh(i,o)?Ch(i,o).map((function(e){return aw.remove(e.getNode())})):cw(e,t,o)}(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Jh(e,t,Pt.fromDom(n)),!0}}(e,t),function(e,t){return function(n){var r=t?xu.before(n):xu.after(n);return e.selection.setRng(r.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))}))}),k)},dw=function(e,t){var n=e.selection.getNode();return!!Un(n)&&lw(e,n.parentNode).filter(Un).fold((function(){var n;return n=Pt.fromDom(e.getBody()),W(Ts(n,".mce-offscreen-selection"),dn),Jh(e,t,Pt.fromDom(e.selection.getNode())),kb(e),!0}),k)},pw=function(e){var t=e.dom,n=e.selection,r=Hf(e.getBody(),n.getNode());if(Vn(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(xu.before(o).toRange())}return!0},hw=function(e,t){return e.selection.isCollapsed()?fw(e,t):dw(e,t)},mw=function(e,t){return!!e.selection.isCollapsed()&&function(e,t){var n=xu.fromRangeStart(e.selection.getRng());return xl(t,e.getBody(),n).filter((function(e){return t?Yp(e):Zp(e)})).bind((function(e){return B.from(Kc(t?0:-1,e))})).exists((function(t){return e.selection.select(t),!0}))}(e,t)},gw=Nn,vw=function(e){return gw(e)&&e.data[0]===ho},yw=function(e){return gw(e)&&e.data[e.data.length-1]===ho},bw=function(e){return e.ownerDocument.createTextNode(ho)},ww=function(e,t){return e?function(e){if(gw(e.previousSibling))return yw(e.previousSibling)||e.previousSibling.appendData(ho),e.previousSibling;if(gw(e))return vw(e)||e.insertData(0,ho),e;var t=bw(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(gw(e.nextSibling))return vw(e.nextSibling)||e.nextSibling.insertData(0,ho),e.nextSibling;if(gw(e))return yw(e)||e.appendData(ho),e;var t=bw(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},xw=P(ww,!0),Cw=P(ww,!1),Sw=function(e,t){return Nn(e.container())?ww(t,e.container()):ww(t,e.getNode())},Aw=function(e,t){var n=t.get();return n&&e.container()===n&&wo(n)},_w=function(e,t){return t.fold((function(t){Ac(e.get());var n=xw(t);return e.set(n),B.some(xu(n,n.length-1))}),(function(t){return Ol(t).map((function(t){if(Aw(t,e))return xu(e.get(),1);Ac(e.get());var n=Sw(t,!0);return e.set(n),xu(n,1)}))}),(function(t){return El(t).map((function(t){if(Aw(t,e))return xu(e.get(),e.get().length-1);Ac(e.get());var n=Sw(t,!1);return e.set(n),xu(n,n.length-1)}))}),(function(t){Ac(e.get());var n=Cw(t);return e.set(n),B.some(xu(n,1))}))},Pw=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return B.none()},Ow=yr([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ew=function(e,t){var n=Hc(t,e);return n||e},Tw=function(e,t,n){var r=Tb(n),o=Ew(t,r.container());return Ob(e,o,r).fold((function(){return _l(o,r).bind(P(Ob,e,o)).map((function(e){return Ow.before(e)}))}),B.none)},Dw=function(e,t){return null===Il(e,t)},Iw=function(e,t,n){return Ob(e,t,n).filter(P(Dw,t))},kw=function(e,t,n){var r=Db(n);return Iw(e,t,r).bind((function(e){return Pl(e,r).isNone()?B.some(Ow.start(e)):B.none()}))},Mw=function(e,t,n){var r=Tb(n);return Iw(e,t,r).bind((function(e){return _l(e,r).isNone()?B.some(Ow.end(e)):B.none()}))},Nw=function(e,t,n){var r=Db(n),o=Ew(t,r.container());return Ob(e,o,r).fold((function(){return Pl(o,r).bind(P(Ob,e,o)).map((function(e){return Ow.after(e)}))}),B.none)},Rw=function(e){return!1===Pb(Lw(e))},Bw=function(e,t,n){return Pw([Tw,kw,Mw,Nw],[e,t,n]).filter(Rw)},Lw=function(e){return e.fold(_,_,_,_)},Fw=function(e){return e.fold(A("before"),A("start"),A("end"),A("after"))},jw=function(e){return e.fold(Ow.before,Ow.before,Ow.after,Ow.after)},Vw=function(e){return e.fold(Ow.start,Ow.start,Ow.end,Ow.end)},Uw=function(e,t,n,r,o,i){return Hs(Ob(t,n,r),Ob(t,n,o),(function(t,r){return t!==r&&function(e,t,n){var r=Hc(t,e),o=Hc(n,e);return r&&r===o}(n,t,r)?Ow.after(e?t:r):i})).getOr(i)},zw=function(e,t){return e.fold(k,(function(e){return r=t,!(Fw(n=e)===Fw(r)&&Lw(n)===Lw(r));var n,r}))},Gw=function(e,t){return e?t.fold(S(B.some,Ow.start),B.none,S(B.some,Ow.after),B.none):t.fold(B.none,S(B.some,Ow.before),B.none,S(B.some,Ow.end))},Ww=function(e,t,n,r){var o=Eb(e,r),i=Bw(t,n,o);return Bw(t,n,o).bind(P(Gw,e)).orThunk((function(){return function(e,t,n,r,o){var i=Eb(e,o);return xl(e,n,i).map(P(Eb,e)).fold((function(){return r.map(jw)}),(function(o){return Bw(t,n,o).map(P(Uw,e,t,n,i,o)).filter(P(zw,r))})).filter(Rw)}(e,t,n,i,r)}))},Hw=(P(Ww,!1),P(Ww,!0),function(e,t,n){var r=e?1:-1;return t.setRng(xu(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}),qw=function(e,t){var n=t.selection.getRng(),r=e?xu.fromRangeEnd(n):xu.fromRangeStart(n);return!!function(e){return w(e.selection.getSel().modify)}(t)&&(e&&So(r)?Hw(!0,t.selection,r):!(e||!Ao(r))&&Hw(!1,t.selection,r))};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Ky||(Ky={}));var Kw,Xw=function(e,t){return e===Cu.Backwards?Q(t):t},Yw=function(e,t,n){return e===Cu.Forwards?t.next(n):t.prev(n)},Zw=function(e,t,n,r){return Fn(r.getNode(t===Cu.Forwards))?Ky.Br:!1===qc(n,r)?Ky.Block:Ky.Wrap},Jw=function(e,t,n,r){for(var o,i=gl(n),a=r,s=[];a&&(o=Yw(t,i,a));){if(Fn(o.getNode(!1)))return t===Cu.Forwards?{positions:Xw(t,s).concat([o]),breakType:Ky.Br,breakAt:B.some(o)}:{positions:Xw(t,s),breakType:Ky.Br,breakAt:B.some(o)};if(o.isVisible()){if(e(a,o)){var u=Zw(0,t,a,o);return{positions:Xw(t,s),breakType:u,breakAt:B.some(o)}}s.push(o),a=o}else a=o}return{positions:Xw(t,s),breakType:Ky.Eol,breakAt:B.none()}},$w=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===Cu.Backwards?o.concat(r):[r].concat(o)})).getOr([])},Qw=function(e,t){return X(e,(function(e,n){return e.fold((function(){return B.some(n)}),(function(r){return Hs(ne(r.getClientRects()),ne(n.getClientRects()),(function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r})).or(e)}))}),B.none())},ex=function(e,t){return ne(t.getClientRects()).bind((function(t){return Qw(e,t.left)}))},tx=P(Jw,xu.isAbove,-1),nx=P(Jw,xu.isBelow,1),rx=P($w,-1,tx),ox=P($w,1,nx),ix=function(e){var t=function(t){return G(t,(function(t){return(t=Ks(t)).node=e,t}))};if(Pn(e))return t(e.getClientRects());if(Nn(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},ax=function(e){return J(e,ix)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Kw||(Kw={}));var sx,ux,cx=function(e,t,n,r,o,i){var a=0,s=[],u=function(r){var i,u,l;for(l=ax([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(u=l[i],!n(u,c)){if(s.length>0&&t(u,_e(s))&&a++,u.line=a,o(u))return!0;s.push(u)}},c=_e(i.getClientRects());if(!c)return s;var l=i.getNode();return u(l),function(e,t,n,r){for(;r=Wc(r,e,jo,t);)if(n(r))return}(e,r,u,l),s},lx=P(cx,Kw.Up,Zs,Js),fx=P(cx,Kw.Down,Js,Zs),dx=function(e){return function(t){return function(e,t){return t.line>e}(e,t)}},px=function(e){return function(t){return function(e,t){return t.line===e}(e,t)}},hx=Un,mx=Wc,gx=function(e,t){return Math.abs(e.left-t)},vx=function(e,t){return Math.abs(e.right-t)},yx=function(e,t){return e>=t.left&&e<=t.right},bx=function(e,t){return e>=t.top&&e<=t.bottom},wx=function(e,t){return Se(e,(function(e,n){var r=Math.min(gx(e,t),vx(e,t)),o=Math.min(gx(n,t),vx(n,t));return yx(t,n)?n:yx(t,e)?e:o===r&&hx(n.node)||o<r?n:e}))},xx=function(e,t,n,r,o){var i=mx(r,e,jo,t,!o);do{if(!i||n(i))return}while(i=mx(i,e,jo,t))},Cx=function(e,t,n){var r=ax(function(e){return q(oe(e.getElementsByTagName("*")),Mc)}(e)),o=q(r,P(bx,n)),i=wx(o,t);if(i){var a=!In(i.node)&&!Gn(i.node);if((i=wx(function(e,t,n){void 0===n&&(n=!0);var r=[],o=function(e,n){var o=q(ax([n]),(function(n){return!e(n,t)}));return r=r.concat(o),0===o.length};return r.push(t),xx(Kw.Up,e,P(o,Zs),t.node,n),xx(Kw.Down,e,P(o,Js),t.node,n),r}(e,i,a),t))&&Mc(i.node))return function(e,t){return{node:e.node,before:gx(e,t)<vx(e,t)}}(i,t)}return null},Sx=function(e,t){e.selection.setRng(t),Md(e,e.selection.getRng())},Ax=function(e,t,n){return B.some(tw(e,t,n))},_x=function(e,t,n,r,o,i){var a=t===Cu.Forwards,s=gl(e.getBody()),u=P(rl,a?s.next:s.prev),c=a?r:o;if(!n.collapsed){var l=Qs(n);if(i(l))return $b(t,e,l,t===Cu.Backwards,!1)}var f=tl(t,e.getBody(),n);if(c(f))return Qb(e,f.getNode(!a));var d=Eb(a,u(f)),p=function(e){return bo(e.startContainer)}(n);if(!d)return p?B.some(n):B.none();if(c(d))return $b(t,e,d.getNode(!a),a,!1);var h=u(d);return h&&c(h)&&ol(d,h)?$b(t,e,h.getNode(!a),a,!1):p?Ax(e,d.toRange(),!1):B.none()},Px=function(e,t,n,r,o,i){var a=tl(t,e.getBody(),n),s=_e(a.getClientRects()),u=t===Kw.Down;if(!s)return B.none();var c,l=(u?fx:lx)(e.getBody(),dx(1),a),f=q(l,px(1)),d=s.left,p=wx(f,d);if(p&&i(p.node)){var h=Math.abs(d-p.left),m=Math.abs(d-p.right);return $b(t,e,p.node,h<m,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):Qs(n)){var g=function(e,t,n,r){var o,i,a,s,u,c=gl(t),l=[],f=0,d=function(e){return _e(e.getClientRects())};1===e?(o=c.next,i=Js,a=Zs,s=xu.after(r)):(o=c.prev,i=Zs,a=Js,s=xu.before(r));var p=d(s);do{if(s.isVisible()&&!a(u=d(s),p)){if(l.length>0&&i(u,_e(l))&&f++,(u=Ks(u)).position=s,u.line=f,n(u))return l;l.push(u)}}while(s=o(s));return l}(t,e.getBody(),dx(1),c),v=wx(q(g,px(1)),d);if(v)return Ax(e,v.position.toRange(),!1);if(v=_e(q(g,px(0))))return Ax(e,v.position.toRange(),!1)}return 0===f.length?Ox(e,u).filter(u?o:r).map((function(t){return tw(e,t.toRange(),!1)})):B.none()},Ox=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=xu.fromRangeEnd(n),i=nx(r,o);return re(i.positions)}o=xu.fromRangeStart(n),i=tx(r,o);return ne(i.positions)},Ex=function(e,t,n){return Ox(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))},Tx=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Dx=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Ix=function(e,t,n){return _w(t,n).map((function(t){return Tx(e,t),n}))},kx=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=xu.fromRangeStart(e.selection.getRng());xu.isTextPosition(n)&&!1===function(e){return So(e)||Ao(e)}(n)&&(Tx(e,Sc(t.get(),n)),t.set(null))}},Mx=function(e,t,n){return!!dc(e)&&function(e,t,n){var r=e.getBody(),o=xu.fromRangeStart(e.selection.getRng()),i=P(_b,e);return Ww(n,i,r,o).bind((function(n){return Ix(e,t,n)}))}(e,t,n).isSome()},Nx=function(e,t,n){return!!dc(t)&&qw(e,t)},Rx=function(e){var t=ps(null),n=P(_b,e);return e.on("NodeChange",(function(r){!dc(e)||bt.browser.isIE()&&r.initial||(function(e,t,n){var r=G(Ts(Pt.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),o=q(r,e),i=q(n,e);W(ee(o,i),P(Dx,!1)),W(ee(i,o),P(Dx,!0))}(n,e.dom,r.parents),kx(e,t),function(e,t,n,r){if(t.selection.isCollapsed()){var o=q(r,e);W(o,(function(r){var o=xu.fromRangeStart(t.selection.getRng());Bw(e,t.getBody(),o).bind((function(e){return Ix(t,n,e)}))}))}}(n,e,t,r.parents))})),t},Bx=P(Nx,!0),Lx=P(Nx,!1),Fx=function(e,t,n){if(dc(e)){var r=Ox(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?xu.fromRangeEnd(n):xu.fromRangeStart(n)}));return Bw(P(_b,e),e.getBody(),r).exists((function(t){var r=jw(t);return _w(n,r).exists((function(t){return Tx(e,t),!0}))}))}return!1},jx=function(e,t){return function(n){return _w(t,n).exists((function(t){return Tx(e,t),!0}))}},Vx=function(e,t,n,r){var o=e.getBody(),i=P(_b,e);e.undoManager.ignore((function(){e.selection.setRng(function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(n,r)),e.execCommand("Delete"),Bw(i,o,xu.fromRangeStart(e.selection.getRng())).map(Vw).map(jx(e,t))})),e.nodeChanged()},Ux=function(e,t,n,r){var o=function(e,t){return Hc(t,e)||e}(e.getBody(),r.container()),i=P(_b,e),a=Bw(i,o,r);return a.bind((function(e){return n?e.fold(A(B.some(Vw(e))),B.none,A(B.some(jw(e))),B.none):e.fold(B.none,A(B.some(jw(e))),B.none,A(B.some(Vw(e))))})).map(jx(e,t)).getOrThunk((function(){var s=Cl(n,o,r),u=s.bind((function(e){return Bw(i,o,e)}));return Hs(a,u,(function(){return Ob(i,o,r).exists((function(t){return!!function(e){return Hs(Ol(e),El(e),(function(t,n){var r=Eb(!0,t),o=Eb(!1,n);return _l(e,r).forall((function(e){return e.isEqual(o)}))})).getOr(!0)}(t)&&(Jh(e,n,Pt.fromDom(t)),!0)}))})).orThunk((function(){return u.bind((function(o){return s.map((function(o){return n?Vx(e,t,r,o):Vx(e,t,o,r),!0}))}))})).getOr(!1)}))},zx=function(e,t,n){if(e.selection.isCollapsed()&&dc(e)){var r=xu.fromRangeStart(e.selection.getRng());return Ux(e,t,n,r)}return!1},Gx=function(e){return 1===Xt(e).length},Wx=function(e,t,n,r){var o=P(dg,t),i=G(q(r,o),(function(e){return e.dom}));if(0===i.length)Jh(t,e,n);else{var a=function(e,t){var n=ig(!1),r=cg(t,n.dom);return an(Pt.fromDom(e),n),dn(Pt.fromDom(e)),xu(r,0)}(n.dom,i);t.selection.setRng(a.toRange())}},Hx=function(e,t){var n=Pt.fromDom(e.getBody()),r=Pt.fromDom(e.selection.getStart()),o=q(function(e,t){var n=uh(t,e);return Z(n,ro).fold(A(n),(function(e){return n.slice(0,e)}))}(n,r),Gx);return re(o).exists((function(n){var r,i=xu.fromRangeStart(e.selection.getRng());return!(!function(e,t,n){return Hs(Ol(n),El(n),(function(r,o){var i=Eb(!0,r),a=Eb(!1,o),s=Eb(!1,t);return e?_l(n,s).exists((function(e){return e.isEqual(a)&&t.isEqual(i)})):Pl(n,s).exists((function(e){return e.isEqual(i)&&t.isEqual(a)}))})).getOr(!0)}(t,i,n.dom)||(r=n,Dl(r.dom)&&rg(r.dom)))&&(Wx(t,e,n,o),!0)}))},qx=function(e,t){return!!e.selection.isCollapsed()&&Hx(e,t)},Kx=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Jh(e,t,Pt.fromDom(n)),!0},Xx=function(e,t){return e.selection.isCollapsed()?function(e,t){var n=t?Jp:$p,r=t?Cu.Forwards:Cu.Backwards,o=tl(r,e.getBody(),e.selection.getRng());return n(o)?Kx(e,t,o.getNode(!t)):B.from(Eb(t,o)).filter((function(e){return n(e)&&ol(o,e)})).exists((function(n){return Kx(e,t,n.getNode(!t))}))}(e,t):function(e,t){var n=e.selection.getNode();return!!Gn(n)&&Kx(e,t,n)}(e,t)},Yx=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Zx=function(e,t){return(e||"table"===Mt(t)?"margin":"padding")+("rtl"===$n(t,"direction")?"-right":"-left")},Jx=function(e){var t=Qx(e);return!e.mode.isReadOnly()&&(t.length>1||function(e,t){return $(t,(function(t){var n=Zx(ac(e),t),r=er(t,n).map(Yx).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0}))}(e,t))},$x=function(e){return so(e)||uo(e)},Qx=function(e){return q(G(e.selection.getSelectedBlocks(),Pt.fromDom),(function(e){return!$x(e)&&!function(e){return Gt(e).map($x).getOr(!1)}(e)&&zr(e,(function(e){return Vn(e.dom)||Un(e.dom)})).exists((function(e){return Vn(e.dom)}))}))},eC=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=function(e){return e.getParam("indentation","40px","string")}(e),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),u=ac(e),c=Xu(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),W(Qx(e),(function(e){!function(e,t,n,r,o,i){var a=Zx(n,Pt.fromDom(i));if("outdent"===t){var s=Math.max(0,Yx(i.style[a])-r);e.setStyle(i,a,s?s+o:"")}else s=Yx(i.style[a])+r+o,e.setStyle(i,a,s)}(n,t,u,s,a,e.dom)}))},tC=function(e,t){if(e.selection.isCollapsed()&&Jx(e)){var n=e.dom,r=e.selection.getRng(),o=xu.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&ph(Pt.fromDom(i),o))return eC(e,"outdent"),!0}return!1},nC=function(e,t){e.getDoc().execCommand(t,!1,null)},rC=function(e,t){e.addCommand("delete",(function(){!function(e,t){tC(e)||hw(e,!1)||iw(e,!1)||zx(e,t,!1)||Hb(e,!1)||Am(e)||mw(e,!1)||Xx(e,!1)||Yb(e)||qx(e,!1)||(nC(e,"Delete"),kb(e))}(e,t)})),e.addCommand("forwardDelete",(function(){!function(e,t){hw(e,!0)||iw(e,!0)||zx(e,t,!0)||Hb(e,!0)||Am(e)||mw(e,!0)||Xx(e,!0)||Yb(e)||qx(e,!0)||nC(e,"ForwardDelete")}(e,t)}))},oC=function(e){return void 0===e.touches||1!==e.touches.length?B.none():B.some(e.touches[0])},iC=function(e){var t=ps(B.none()),n=ps(!1),r=ws((function(t){e.fire("longpress",Pe(Pe({},t),{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){oC(e).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(B.some(i))}))}),!0),e.on("touchmove",(function(o){r.cancel(),oC(o).each((function(r){t.get().each((function(o){(function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(r,o)&&(t.set(B.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",Pe(Pe({},o),{type:"tap"}))}))}),!0)},aC=function(e,t){return e.hasOwnProperty(t.nodeName)},sC=function(e,t){return!!Nn(t)||!!Pn(t)&&(!aC(e,t)&&!Ul(t))},uC=function(e,t){if(Nn(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||aC(e,t.nextSibling)))return!0}return!1},cC=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,s=a.getBlockElements(),u=i.getStart(),c=e.getBody(),l=Xu(e);if(u&&Pn(u)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!function(e,t,n){return z(sh(Pt.fromDom(n),Pt.fromDom(t)),(function(t){return aC(e,t.dom)}))}(s,c,u)){var d=i.getRng(),p=d.startContainer,h=d.startOffset,m=d.endContainer,g=d.endOffset,v=cp(e);for(u=c.firstChild;u;)if(sC(s,u)){if(uC(s,u)){n=u,u=u.nextSibling,o.remove(n);continue}t||(t=o.create(l,Yu(e)),u.parentNode.insertBefore(t,u),r=!0),n=u,u=u.nextSibling,t.appendChild(n)}else t=null,u=u.nextSibling;r&&v&&(d.setStart(p,h),d.setEnd(m,g),i.setRng(d),e.nodeChanged())}}},lC=function(e,t){t.hasAttribute("data-mce-caret")&&(Eo(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},fC=function(e,t){var n=function(e){return Hr(Pt.fromDom(e.getBody()),"*[data-mce-caret]").fold(A(null),(function(e){return e.dom}))}(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void lC(e,n)):void(Co(n)&&(lC(e,n),e.undoManager.add()))},dC=Un,pC=function(e,t,n){var r=gl(e.getBody()),o=P(rl,1===t?r.next:r.prev);if(n.collapsed&&function(e){return""!==Xu(e)}(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!o(xu.fromRangeStart(n))){var a=function(e){var t=e.dom.create(Xu(e));return(!bt.ie||bt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(e);1===t?e.$(i).after(a):e.$(i).before(a),e.selection.select(a,!0),e.selection.collapse()}}},hC=function(e,t){var n=t?Cu.Forwards:Cu.Backwards,r=e.selection.getRng();return function(e,t,n){return _x(t,e,n,th,nh,dC)}(n,e,r).orThunk((function(){return pC(e,n,r),B.none()}))},mC=function(e,t){var n=t?1:-1,r=e.selection.getRng();return function(e,t,n){return Px(t,e,n,(function(e){return th(e)||Qp(e)}),(function(e){return nh(e)||eh(e)}),dC)}(n,e,r).orThunk((function(){return pC(e,n,r),B.none()}))},gC=function(e,t){return hC(e,t).exists((function(t){return Sx(e,t),!0}))},vC=function(e,t){return mC(e,t).exists((function(t){return Sx(e,t),!0}))},yC=function(e,t){return Ex(e,t,t?nh:th)},bC=function(e){return U(["figcaption"],Mt(e))},wC=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},xC=function(e,t,n){n?cn(e,t):un(e,t)},CC=function(e,t,n,r){return""===t?function(e,t){var n=Pt.fromTag("br");return xC(e,n,t),wC(n)}(e,r):function(e,t,n,r){var o=Pt.fromTag(n),i=Pt.fromTag("br");return Kn(o,r),cn(o,i),xC(e,o,t),wC(i)}(e,r,t,n)},SC=function(e,t,n){return t?function(e,t){return nx(e,t).breakAt.isNone()}(e.dom,n):function(e,t){return tx(e,t).breakAt.isNone()}(e.dom,n)},AC=function(e,t){var n=Pt.fromDom(e.getBody()),r=xu.fromRangeStart(e.selection.getRng()),o=Xu(e),i=Yu(e);return function(e,t){var n=P(Dt,t);return zr(Pt.fromDom(e.container()),ro,n).filter(bC)}(r,n).exists((function(){if(SC(n,t,r)){var a=CC(n,o,i,t);return e.selection.setRng(a),!0}return!1}))},_C=function(e,t){return!!e.selection.isCollapsed()&&AC(e,t)},PC=function(e,t){return J(function(e){return G(e,(function(e){return Pe({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:C},e)}))}(e),(function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,t)?[e]:[]}))},OC=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},EC=function(e,t){return Y(PC(e,t),(function(e){return e.action()}))},TC=function(e,t){var n=t?Cu.Forwards:Cu.Backwards,r=e.selection.getRng();return _x(e,n,r,Jp,$p,Gn).exists((function(t){return Sx(e,t),!0}))},DC=function(e,t){var n=t?1:-1,r=e.selection.getRng();return Px(e,n,r,Jp,$p,Gn).exists((function(t){return Sx(e,t),!0}))},IC=function(e,t){return Ex(e,t,t?$p:Jp)},kC=function(e,t,n,r,o){var i=Ts(Pt.fromDom(n),"td,th,caption").map((function(e){return e.dom}));return function(e,t,n){return X(e,(function(e,r){return e.fold((function(){return B.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return B.some(i<o?r:e)}))}),B.none())}(q(function(e,t){return J(t,(function(t){var n=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}(Ks(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))}(e,i),(function(e){return t(e,o)})),r,o).map((function(e){return e.cell}))},MC=P(kC,(function(e){return e.bottom}),(function(e,t){return e.y<t})),NC=P(kC,(function(e){return e.top}),(function(e,t){return e.y>t})),RC=function(e,t){return ne(t.getClientRects()).bind((function(t){return MC(e,t.left,t.top)})).bind((function(e){return ex(El(n=e).map((function(e){return tx(n,e).positions.concat(e)})).getOr([]),t);var n}))},BC=function(e,t){return re(t.getClientRects()).bind((function(t){return NC(e,t.left,t.top)})).bind((function(e){return ex(Ol(n=e).map((function(e){return[e].concat(nx(n,e).positions)})).getOr([]),t);var n}))},LC=function(e,t,n){var r=e(t,n);return function(e){return e.breakType===Ky.Wrap&&0===e.positions.length}(r)||!Fn(n.getNode())&&function(e){return e.breakType===Ky.Br&&1===e.positions.length}(r)?!function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))}(e,t,r):r.breakAt.isNone()},FC=P(LC,tx),jC=P(LC,nx),VC=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;return!(!Ic()||!function(e,t,n){var r=xu.fromRangeStart(t);return Al(!e,n).exists((function(e){return e.isEqual(r)}))}(t,o,n))&&($b(i,e,n,!t,!1).each((function(t){Sx(e,t)})),!0)},UC=function(e,t){var n=t.getNode(e);return Pn(n)&&"TABLE"===n.nodeName?B.some(n):B.none()},zC=function(e,t,n){var r=UC(!!t,n),o=!1===t;r.fold((function(){return Sx(e,n.toRange())}),(function(r){return Al(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return Sx(e,n.toRange())}),(function(o){return function(e,t,n,r){var o=Xu(t);o?t.undoManager.transact((function(){var r=Pt.fromTag(o);Kn(r,Yu(t)),cn(r,Pt.fromTag("br")),e?sn(Pt.fromDom(n),r):an(Pt.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),Sx(t,i)})):Sx(t,r.toRange())}(t,e,r,n)}))}))},GC=function(e,t,n,r){var o=e.selection.getRng(),i=xu.fromRangeStart(o),a=e.getBody();if(!t&&FC(r,i)){var s=function(e,t,n){return RC(t,n).orThunk((function(){return ne(n.getClientRects()).bind((function(n){return Qw(rx(e,xu.before(t)),n.left)}))})).getOr(xu.before(t))}(a,n,i);return zC(e,t,s),!0}if(t&&jC(r,i)){s=function(e,t,n){return BC(t,n).orThunk((function(){return ne(n.getClientRects()).bind((function(n){return Qw(ox(e,xu.after(t)),n.left)}))})).getOr(xu.after(t))}(a,n,i);return zC(e,t,s),!0}return!1},WC=function(e,t,n){return B.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return B.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(!1)},HC=function(e,t){return WC(e,t,VC)},qC=function(e,t){return WC(e,t,GC)},KC=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){var r=lt().os;EC([{keyCode:Xf.RIGHT,action:OC(gC,e,!0)},{keyCode:Xf.LEFT,action:OC(gC,e,!1)},{keyCode:Xf.UP,action:OC(vC,e,!1)},{keyCode:Xf.DOWN,action:OC(vC,e,!0)},{keyCode:Xf.RIGHT,action:OC(HC,e,!0)},{keyCode:Xf.LEFT,action:OC(HC,e,!1)},{keyCode:Xf.UP,action:OC(qC,e,!1)},{keyCode:Xf.DOWN,action:OC(qC,e,!0)},{keyCode:Xf.RIGHT,action:OC(TC,e,!0)},{keyCode:Xf.LEFT,action:OC(TC,e,!1)},{keyCode:Xf.UP,action:OC(DC,e,!1)},{keyCode:Xf.DOWN,action:OC(DC,e,!0)},{keyCode:Xf.RIGHT,action:OC(Mx,e,t,!0)},{keyCode:Xf.LEFT,action:OC(Mx,e,t,!1)},{keyCode:Xf.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:OC(Bx,e,t)},{keyCode:Xf.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:OC(Lx,e,t)},{keyCode:Xf.UP,action:OC(_C,e,!1)},{keyCode:Xf.DOWN,action:OC(_C,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},XC=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){EC([{keyCode:Xf.BACKSPACE,action:OC(tC,e,!1)},{keyCode:Xf.BACKSPACE,action:OC(hw,e,!1)},{keyCode:Xf.DELETE,action:OC(hw,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(iw,e,!1)},{keyCode:Xf.DELETE,action:OC(iw,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(zx,e,t,!1)},{keyCode:Xf.DELETE,action:OC(zx,e,t,!0)},{keyCode:Xf.BACKSPACE,action:OC(Am,e,!1)},{keyCode:Xf.DELETE,action:OC(Am,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(mw,e,!1)},{keyCode:Xf.DELETE,action:OC(mw,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(Xx,e,!1)},{keyCode:Xf.DELETE,action:OC(Xx,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(Yb,e,!1)},{keyCode:Xf.DELETE,action:OC(Yb,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(Hb,e,!1)},{keyCode:Xf.DELETE,action:OC(Hb,e,!0)},{keyCode:Xf.BACKSPACE,action:OC(qx,e,!1)},{keyCode:Xf.DELETE,action:OC(qx,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&function(e,t){EC([{keyCode:Xf.BACKSPACE,action:OC(pw,e)},{keyCode:Xf.DELETE,action:OC(pw,e)}],t)}(e,t)}))},YC=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(po),t.firstChild)}var s=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var u=new eo(t,t);n=u.current();){if(Nn(n)){s.setStart(n,0),s.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=u.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else Fn(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Md(e,s)}},ZC=function(e){return B.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},JC=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},$C=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},QC=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},eS=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Pn(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},tS=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;$C(s=n)&&$C(s.parentNode)&&(o="LI");var u=o?t(o):i.create("BR");if(eS(n,r,!0)&&eS(n,r,!1))if(JC(n,"LI")){var c=QC(n);i.insertAfter(u,c),!function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}(n)?i.remove(n):i.remove(c)}else i.replace(u,n);else if(eS(n,r,!0))JC(n,"LI")?(i.insertAfter(u,QC(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(eS(n,r,!1))i.insertAfter(u,QC(n)),i.remove(r);else{n=QC(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var f=l.extractContents();"LI"===o&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(f,"LI")?(u=f.firstChild,i.insertAfter(f,n)):(i.insertAfter(f,n),i.insertAfter(u,n)),i.remove(r)}YC(e,u)}},nS=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},rS=function(e){e.innerHTML='<br data-mce-bogus="1">'},oS=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},iS=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},aS=function(e,t,n){return!1===Nn(t)?n:e?1===n&&t.data.charAt(n-1)===ho?0:n:n===t.data.length-1&&t.data.charAt(n)===ho?t.data.length:n},sS=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},uS=function(e,t){var n=Xu(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){var r=e.dom;B.from(n.style).map(r.parseStyle).each((function(e){var n=tr(Pt.fromDom(t)),o=Pe(Pe({},n),e);r.setStyles(t,o)}));var o=B.from(n.class).map((function(e){return e.split(/\s+/)})),i=B.from(t.className).map((function(e){return q(e.split(/\s+/),(function(e){return""!==e}))}));Hs(o,i,(function(e,n){var o=q(n,(function(t){return!U(e,t)})),i=Oe(e,o);r.setAttrib(t,"class",i.join(" "))}));var a=["style","class"],s=pe(n,(function(e,t){return!U(a,t)}));r.setAttribs(t,s)}(e,t,Yu(e))},cS=function(e,t){var n,r,o,i,a,s,u,c,l,f,d=e.dom,p=e.schema,h=p.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,o,a,s=r,u=p.getTextInlineElements();if(a=n=t||"TABLE"===c||"HR"===c?d.create(t||l):i.cloneNode(!1),!1===function(e){return e.getParam("keep_styles",!0)}(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(u[s.nodeName]){if(Dl(s)||Ul(s))continue;o=s.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((s=s.parentNode)&&s!==x);return uS(e,n),rS(a),n},v=function(e){var t,n,a=aS(e,r,o);if(Nn(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!e)return!0;if(e&&Pn(r)&&r===i.firstChild)return!0;if(oS(r,"TABLE")||oS(r,"HR"))return f&&!e||!f&&e;var s=new eo(r,i);for(Nn(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());t=s.current();){if(Pn(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(Nn(t)&&!Uo(t.nodeValue))return!1;e?s.prev():s.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==C?g(l):g(),function(e){return e.getParam("end_container_on_empty_block",!1)}(e)&&iS(d,u)&&d.isEmpty(i)?a=d.split(u,i):d.insertAfter(a,i),YC(e,a)};ud(d,m).each((function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)})),r=m.startContainer,o=m.startOffset,l=Xu(e);var b=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);Pn(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&Nn(r)?r.nodeValue.length:0);var x=sS(d,r);if(x){(l&&!b||!l&&b)&&(r=function(e,t,n,r,o){var i,a,s,u,c,l,f=t||"P",d=e.dom,p=sS(d,r);if(!(a=d.getParent(r,d.isBlock))||!iS(d,a)){if(l=(a=a||p)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),uS(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!d.isBlock(u);)s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),uS(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!d.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,l,m,r,o)),i=d.getParent(r,d.isBlock),u=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var C=u?u.nodeName.toUpperCase():"";"LI"!==C||w||(i=u,u=u.parentNode,c=C),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i)?tS(e,g,u,i,l):l&&i===e.getBody()||(l=l||"P",bo(i)?(a=Eo(i),d.isEmpty(i)&&rS(i),uS(e,a),YC(e,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),YC(e,oS(i,"HR")?a:i)):((n=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,aS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,aS(!1,e.endContainer,e.endOffset)),t}(m).cloneRange()).setEndAfter(i),function(e){W(Es(Pt.fromDom(e),Lt),(function(e){var t=e.dom;t.nodeValue=go(t.nodeValue)}))}(s=n.extractContents()),function(e){do{Nn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(s),a=s.firstChild,d.insertAfter(s,i),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Pn(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||nS(e,o))&&e.remove(o)}}(d,h,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(d,i),d.isEmpty(i)&&rS(i),a.normalize(),d.isEmpty(a)?(d.remove(a),y()):(uS(e,a),YC(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},lS=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Md(e,r)},fS=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();ud(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==d||p||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new eo(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Au(i,a,n),lS(e,n,r),e.undoManager.add()},dS=function(e,t){var n=Pt.fromTag("br");an(Pt.fromDom(t),n),e.undoManager.add()},pS=function(e,t){hS(e.getBody(),t)||sn(Pt.fromDom(t),Pt.fromTag("br"));var n=Pt.fromTag("br");sn(Pt.fromDom(t),n),lS(e,n.dom,!1),e.undoManager.add()},hS=function(e,t){return n=xu.after(t),!!Fn(n.getNode())||_l(e,xu.after(t)).map((function(e){return Fn(e.getNode())})).getOr(!1);var n},mS=function(e){return e&&"A"===e.nodeName&&"href"in e},gS=function(e){return e.fold(I,mS,mS,I)},vS=function(e,t){t.fold(C,P(dS,e),P(pS,e),C)},yS=function(e,t){var n=function(e){var t=P(_b,e),n=xu.fromRangeStart(e.selection.getRng());return Bw(t,e.getBody(),n).filter(gS)}(e);n.isSome()?n.each(P(vS,e)):fS(e,t)},bS=function(e,t){return ZC(e).filter((function(e){return t.length>0&&Et(Pt.fromDom(e),t)})).isSome()},wS=yr([{br:[]},{block:[]},{none:[]}]),xS=function(e,t){return function(e){return bS(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},CS=function(e){return function(t,n){return""===Xu(t)===e}},SS=function(e){return function(t,n){return function(e){return ZC(e).filter((function(e){return uo(Pt.fromDom(e))})).isSome()}(t)===e}},AS=function(e,t){return function(n,r){return function(e){return ZC(e).fold(A(""),(function(e){return e.nodeName.toUpperCase()}))}(n)===e.toUpperCase()===t}},_S=function(e){return AS("pre",e)},PS=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},OS=function(e,t){return function(e){return bS(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},ES=function(e,t){return t},TS=function(e){var t=Xu(e),n=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},DS=function(e,t){return function(n,r){return X(e,(function(e,t){return e&&t(n,r)}),!0)?B.some(t):B.none()}},IS=function(e,t){(function(e,t){return Pw([DS([xS],wS.none()),DS([AS("summary",!0)],wS.br()),DS([_S(!0),PS(!1),ES],wS.br()),DS([_S(!0),PS(!1)],wS.block()),DS([_S(!0),PS(!0),ES],wS.block()),DS([_S(!0),PS(!0)],wS.br()),DS([SS(!0),ES],wS.br()),DS([SS(!0)],wS.block()),DS([CS(!0),ES,TS],wS.block()),DS([CS(!0)],wS.br()),DS([OS],wS.br()),DS([CS(!1),ES],wS.br()),DS([TS],wS.block())],[e,!(!t||!t.shiftKey)]).getOr(wS.none())})(e,t).fold((function(){yS(e,t)}),(function(){cS(e,t)}),C)},kS=function(e){e.on("keydown",(function(t){t.keyCode===Xf.ENTER&&function(e,t){var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),IS(e,t)})))}(e,t)}))},MS=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){EC([{keyCode:Xf.END,action:OC(yC,e,!0)},{keyCode:Xf.HOME,action:OC(yC,e,!1)},{keyCode:Xf.END,action:OC(IC,e,!0)},{keyCode:Xf.HOME,action:OC(IC,e,!1)},{keyCode:Xf.END,action:OC(Fx,e,!0,t)},{keyCode:Xf.HOME,action:OC(Fx,e,!1,t)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},NS=lt().browser,RS=function(e){!function(e){var t=bs((function(){e.composing||Bh(e)}),0);NS.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))}(e),e.on("input",(function(t){!1===t.isComposing&&Bh(e)}))},BS=lt(),LS=function(e){return e.stopImmediatePropagation()},FS=function(e){return e.keyCode===Xf.PAGE_UP||e.keyCode===Xf.PAGE_DOWN},jS=function(e,t,n){n&&!e.get()?t.on("NodeChange",LS,!0):!n&&e.get()&&t.off("NodeChange",LS),e.set(n)},VS=function(e,t){if(!BS.os.isOSX()){var n=ps(!1);e.on("keydown",(function(t){FS(t)&&jS(n,e,!0)})),e.on("keyup",(function(r){!1===r.isDefaultPrevented()&&function(e,t,n){EC([{keyCode:Xf.PAGE_UP,action:OC(Fx,e,!1,t)},{keyCode:Xf.PAGE_DOWN,action:OC(Fx,e,!0,t)}],n)}(e,t,r),FS(r)&&n.get()&&(jS(n,e,!1),e.nodeChanged())}))}},US=function(e,t){var n=t.container(),r=t.offset();return Nn(n)?(n.insertData(r,e),B.some(xu(n,r+e.length))):nl(t).map((function(n){var r=Pt.fromText(e);return t.isAtEnd()?sn(n,r):an(n,r),xu(r.dom,e.length)}))},zS=P(US,po),GS=P(US," "),WS=function(e,t){return function(n){return function(e,t){return!Oh(t)&&(Eh(e,t)||_h(e,t)||Ph(e,t))}(e,n)?zS(t):GS(t)}},HS=function(e){var t=xu.fromRangeStart(e.selection.getRng()),n=Pt.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=P(_b,e),o=xu.fromRangeStart(e.selection.getRng());return Bw(r,e.getBody(),o).bind(function(e){return function(t){return t.fold((function(t){return Pl(e.dom,xu.before(t))}),(function(e){return Ol(e)}),(function(e){return El(e)}),(function(t){return _l(e.dom,xu.after(t))}))}}(n)).bind(WS(n,t)).exists(function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}}(e))}return!1},qS=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&function(e,t){EC([{keyCode:Xf.SPACEBAR,action:OC(HS,e)}],t).each((function(e){t.preventDefault()}))}(e,t)}))},KS=function(e){var t=Rx(e);return function(e){e.on("keyup compositionstart",P(fC,e))}(e),KC(e,t),XC(e,t),kS(e),qS(e),RS(e),MS(e,t),VS(e,t),t},XS=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Qf(o,t)||e.fire("SelectionChange"),t=o})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!bt.range&&e.selection.isCollapsed()||Nf(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&Nf(e)&&("IMG"===e.selection.getNode().nodeName?Jr.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),YS=function(e){!function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}(e),function(e){e.parser.addNodeFilter("details",(function(e){W(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){W(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",d(t)?t:null),e.attr("data-mce-open",null)}))}))}(e)},ZS=function(e){return Pn(e)&&ao(Pt.fromDom(e))},JS=function(e){e.on("click",(function(t){t.detail>=3&&function(e){var t=e.selection.getRng(),n=xu.fromRangeStart(t),r=xu.fromRangeEnd(t);if(xu.isElementPosition(n)){var o=n.container();ZS(o)&&Ol(o).each((function(e){return t.setStart(e.container(),e.offset())}))}xu.isElementPosition(r)&&(o=n.container(),ZS(o)&&El(o).each((function(e){return t.setEnd(e.container(),e.offset())})));e.selection.setRng(Pm(t))}(e)}))},$S=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},QS=function(e,t){return n=function(e){return e.inline?$S(e.getBody()):{left:0,top:0}}(e),r=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=$S(e.getContentAreaContainer()),r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o}(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o},eA=Un,tA=Vn,nA=function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},rA=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},oA=function(e,t){return function(n){if(function(e){return 0===e.button}(n)){var r=Y(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(eA,tA)).getOr(null);if(s=t.getBody(),eA(u=r)&&u!==s){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:nA(t,r,r.offsetWidth,r.offsetHeight)})}}var s,u}},iA=function(e,t){return function(n){e.on((function(e){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!eA(t)}(t,(a=t.selection,3===(s=a.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s),e.element)){var r=(o=e.element,(i=o.cloneNode(!0)).removeAttribute("data-mce-selected"),i);t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((function(){rA(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}var o,i,a,s})),aA(e)}},aA=function(e){e.on((function(e){rA(e.ghost)})),e.clear()},sA=function(e){var t,n=(t=ps(B.none()),{clear:function(){return t.set(B.none())},set:function(e){return t.set(B.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}),r=us.DOM,o=document,i=oA(n,e),a=function(e,t){var n=Jr.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var o,i,a=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&a>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var s=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,QS(t,r));o=e.ghost,i=t.getBody(),o.parentNode!==i&&i.appendChild(o),function(e,t,n,r,o,i){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(s=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-s+"px"}(e.ghost,s,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}))}}(n,e),s=iA(n,e),u=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")})),aA(e)}}(n,e);e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",s),r.bind(o,"mousemove",a),r.bind(o,"mouseup",u),e.on("remove",(function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",u)}))},uA=function(e){sA(e),function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(eA(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()}))}(e),function(e){return e.getParam("block_unsupported_drop",!0,"boolean")}(e)&&function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;n&&(U(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&Zy(e,"Dropped file type is not supported"))}},n=function(n){np(e,n.target)&&t(n)},r=function(){var r=us.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];W(s,(function(e){r.bind(i,e,n),o.bind(a,e,t)})),e.on("remove",(function(){W(s,(function(e){r.unbind(i,e,n),o.unbind(a,e,t)}))}))};e.on("init",(function(){Jr.setEditorTimeout(e,r,0)}))}(e)},cA=Vn,lA=Un,fA=function(e,t){return Hf(e.getBody(),t)},dA=function(e){var t,n=e.selection,r=e.dom,o=r.isBlock,i=e.getBody(),a=Dc(e,i,o,(function(){return cp(e)})),s="sel-"+r.uniqueId(),u="data-mce-selected",c=function(e){return e!==i&&(lA(e)||Gn(e))&&r.isChildOf(e,i)},l=function(e){e&&n.setRng(e)},f=n.getRng,d=function(t,r,o,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:r,direction:t,before:o}).isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===t),a.show(o,r))},p=function(e){return xo(e)||Po(e)||Oo(e)},h=function(e){return p(e.startContainer)||p(e.endContainer)},m=function(t){var n=e.schema.getShortEndedElements(),o=r.createRng(),i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset;return ge(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),ge(n,s.nodeName.toLowerCase())?0===u?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,u),o},g=function(o){var i=o.cloneNode(!0),a=e.fire("ObjectSelected",{target:o,targetClone:i});if(a.isDefaultPrevented())return null;var c=function(t,o,i){var a=e.$,u=Hr(Pt.fromDom(e.getBody()),"#"+s).fold((function(){return a([])}),(function(e){return a([e.dom])}));0===u.length&&(u=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody());var c=r.createRng();o===i&&bt.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(o),c.setStartAfter(u[0].firstChild.firstChild),c.setEndAfter(o)):(u.empty().append(po).append(o).append(po),c.setStart(u[0].firstChild,1),c.setEnd(u[0].lastChild,0)),u.css({top:r.getPos(t,e.getBody()).y}),u[0].focus();var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c}(o,a.targetClone,i),l=Pt.fromDom(o);return W(Ts(Pt.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Dt(l,e)||Zn(e,u)})),r.getAttrib(o,u)||o.setAttribute(u,"1"),t=o,b(),c},v=function(e,t){if(!e)return null;if(e.collapsed){if(!h(e)){var n=t?1:-1,o=tl(n,i,e),a=o.getNode(!t);if(Mc(a))return d(n,a,!!t&&!o.isAtEnd(),!1);var s=o.getNode(t);if(Mc(s))return d(n,s,!t&&!o.isAtEnd(),!1)}return null}var u=e.startContainer,l=e.startOffset,f=e.endOffset;if(3===u.nodeType&&0===l&&lA(u.parentNode)&&(u=u.parentNode,l=r.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(f===l+1&&u===e.endContainer){var p=u.childNodes[l];if(c(p))return g(p)}return null},y=function(){t&&t.removeAttribute(u),Hr(Pt.fromDom(e.getBody()),"#"+s).each(dn),t=null},b=function(){a.hide()};return bt.ceFalse&&!Pv(e)&&function(){e.on("mouseup",(function(t){var n=f();n.collapsed&&zy(e,t.clientX,t.clientY)&&ew(e,n,!1).each(l)})),e.on("click",(function(t){var o=fA(e,t.target);o&&(lA(o)&&(t.preventDefault(),e.focus()),cA(o)&&r.isChildOf(o,n.getNode())&&y())})),e.on("blur NewBlock",y),e.on("ResizeWindow FullscreenStateChanged",a.reposition);var u=function(e){var t=gl(e);if(!e.firstChild)return!1;var n,r=xu.before(e.firstChild),o=t.next(r);return o&&!(th(n=o)||nh(n)||Jp(n)||$p(n))},p=function(t,n){var i,a,s=r.getParent(t,o),c=r.getParent(n,o);return!(!s||t===c||!r.isChildOf(s,c)||!1!==lA(fA(e,s)))||s&&(i=s,a=c,!(r.getParent(i,o)===r.getParent(a,o)))&&u(s)};e.on("tap",(function(t){var n=t.target,r=fA(e,n);lA(r)?(t.preventDefault(),Qb(e,r).each(v)):c(n)&&Qb(e,n).each(v)}),!0),e.on("mousedown",(function(t){var o=t.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==zy(e,t.clientX,t.clientY)){var a=fA(e,o);if(a)lA(a)?(t.preventDefault(),Qb(e,a).each(v)):(y(),cA(a)&&t.shiftKey||qf(t.clientX,t.clientY,n.getRng())||(b(),n.placeCaretAt(t.clientX,t.clientY)));else if(c(o))Qb(e,o).each(v);else if(!1===Mc(o)){y(),b();var s=Cx(i,t.clientX,t.clientY);if(s&&!p(o,s.node)){t.preventDefault();var u=d(1,s.node,s.before,!1);e.getBody().focus(),l(u)}}}})),e.on("keypress",(function(e){Xf.modifierPressed(e)||lA(n.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=m(e.range);var t=v(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(function(e){var t,n=e.range,o=n.startContainer.parentNode;h(n)||"mcepastebin"===o.id||b(),t=o,r.hasClass(t,"mce-offscreen-selection")||y()})),e.on("copy",(function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!bt.ie){var o=(t=r.get(s))?t.getElementsByTagName("*")[0]:t;o&&(e.preventDefault(),n.clearData(),n.setData("text/html",o.outerHTML),n.setData("text/plain",o.outerText||o.innerText))}})),uA(e),function(e){var t=bs((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=tw(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))}(e),function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(Gn(n)){var r=Hf(e.getBody(),n),o=Un(r)?r:n;e.selection.getNode()!==o&&Qb(e,o).each((function(t){return e.selection.setRng(t)}))}}))}))}(e)}(),{showCaret:d,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Eo(e),l(f()),n.scrollIntoView(e))},hideFakeCaret:b,destroy:function(){a.destroy(),t=null}}},pA=function(e){var t,n,r=At.each,o=Xf.BACKSPACE,i=Xf.DELETE,a=e.dom,s=e.selection,u=e.parser,c=bt.gecko,l=bt.ie,f=bt.webkit,d="data:text/mce-internal,",p=l?"Text":"URL",h=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},m=function(e){return e.isDefaultPrevented()},g=function(){var t=function(e){var t=a.create("body"),n=e.cloneContents();return t.appendChild(n),s.serializer.serialize(t,{format:"html"})};e.on("keydown",(function(n){var r,s,u=n.keyCode;if(!m(n)&&(u===i||u===o)){if(r=e.selection.isCollapsed(),s=e.getBody(),r&&!a.isEmpty(s))return;if(!r&&!function(n){var r=t(n),o=a.createRng();return o.selectNode(e.getBody()),r===t(o)}(e.selection.getRng()))return;n.preventDefault(),e.setContent(""),s.firstChild&&a.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}}))},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},y=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!m(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Jr.setEditorTimeout(e,(function(){n.focus()}))}}))},b=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),s.select(n))}))},w=function(){e.on("keydown",(function(e){if(!m(e)&&e.keyCode===o&&s.isCollapsed()&&0===s.getRng().startOffset){var t=s.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},x=function(){(function(e){return e.getParam("readonly")})(e)||e.on("BeforeExecCommand mousedown",(function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),uc(e)||h("enableObjectResizing",!1)}))},S=function(){e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r(a.select("a"),(function(e){var t=e.parentNode,n=a.getRoot();if(t.lastChild===e){for(;t&&!a.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}}))}))},A=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))},P=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(bt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},O=function(){bt.mac&&e.on("keydown",(function(t){!Xf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},E=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},T=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},D=function(){e.on("dragstart",(function(t){!function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&s.select(t.target),(n=e.selection.getContent()).length>0&&(r=d+escape(e.id)+","+escape(n),t.dataTransfer.setData(p,r)))}(t)})),e.on("drop",(function(t){if(!m(t)){var n=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(p))&&t.indexOf(d)>=0?(t=t.substr(d.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(t);if(n&&n.id!==e.id){t.preventDefault();var r=$f(t.x,t.y,e.getDoc());s.setRng(r),o=n.html,i=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):e.execCommand("mceInsertContent",!1,o)}}var o,i}))},I=C;return Pv(e)?(f&&(b(),T(),v(),bt.iOS&&(_(),P(),E())),c&&(y(),x(),A(),O())):(e.on("keydown",(function(t){var n,r;if(!m(t)&&t.keyCode===Xf.BACKSPACE){var o=(n=s.getRng()).startContainer,i=n.startOffset,u=a.getRoot();if(r=o,n.collapsed&&0===i){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==u;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),(n=a.createRng()).setStart(o,0),n.setEnd(o,0),s.setRng(n))}}})),g(),bt.windowsPhone||e.on("keyup focusin mouseup",(function(e){Xf.modifierPressed(e)||s.normalize()}),!0),f&&(e.inline||a.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=s.getRng(),e.getBody().focus(),"mousedown"===t.type){if(xo(n.startContainer))return;s.placeCaretAt(t.clientX,t.clientY)}else s.setRng(n)})),b(),Xu(e)&&e.on("init",(function(){h("DefaultParagraphSeparator",Xu(e))})),T(),w(),u.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),bt.iOS?(_(),P(),E()):v()),bt.ie>=11&&(P(),w()),bt.ie&&(v(),h("AutoUrlDetect",!1),D()),c&&(e.on("keydown",(function(t){if(!m(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){var n=s.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(a.remove(r),t.preventDefault())}}})),y(),t=function(){var t=a.getAttribs(s.getStart().cloneNode(!1));return function(){var n=s.getStart();n!==e.getBody()&&(a.setAttrib(n,"style",null),r(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}},n=function(){return!s.isCollapsed()&&a.getParent(s.getStart(),a.isBlock)!==a.getParent(s.getEnd(),a.isBlock)},e.on("keypress",(function(r){var o;if(!m(r)&&(8===r.keyCode||46===r.keyCode)&&n())return o=t(),e.getDoc().execCommand("delete",!1,null),o(),r.preventDefault(),!1})),a.bind(e.getDoc(),"cut",(function(r){var o;!m(r)&&n()&&(o=t(),Jr.setEditorTimeout(e,(function(){o()})))})),x(),S(),A(),O(),w())),{refreshContentEditable:I,isHidden:function(){if(!c||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},hA=us.DOM,mA=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},gA=function(e){return pe(e,(function(e){return!1===v(e)}))},vA=function(e){var t=e.settings,n=e.editorUpload.blobCache;return gA({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:mA(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},yA=function(e){var t=e.dom.getRoot();e.inline||Nf(e)&&e.selection.getStart(!0)!==t||Ol(t).each((function(t){var n=t.getNode(),r=In(n)?Ol(n).getOr(t):t;bt.browser.isIE()?function(e,t){var n=Pt.fromDom(e.getBody()),r=(qd(e)?B.from(t):B.none()).map(Kd).filter(Hd(n));e.bookmark=r.isSome()?r:e.bookmark}(e,r.toRange()):e.selection.setRng(r.toRange())}))},bA=function(e){e.bindPendingEventDelegates(),e.initialized=!0,function(e){e.fire("Init")}(e),e.focus(!0),yA(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&Jr.setEditorTimeout(e,(function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()}),100)}(e)},wA=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},xA=function(e,t){var n=wA(e),r=sc(e),o=function(){n.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(r)},i=function(){e.removed?o():(e.on("remove",o),bA(e))};Kr.all(function(e,t,n){var r=[new Kr((function(n,r){return wA(e).loadAll(t,n,r)}))];return e.inline?r:r.concat([new Kr((function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)}))])}(e,t,r)).then(i).catch(i)},CA=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();t.browser_spellcheck||t.gecko_spellcheck||(n.body.spellcheck=!1,hA.setAttrib(r,"spellcheck","false")),e.quirks=pA(e),function(e){e.fire("PostRender")}(e);var o=function(e){return e.getParam("directionality",vs.isRtl()?"rtl":void 0)}(e);if(void 0!==o&&(r.dir=o),t.protect&&e.on("BeforeSetContent",(function(e){At.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),Pv(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0){var i="";At.each(e.contentStyles,(function(e){i+=e+"\r\n"})),e.dom.addStyle(i)}xA(e,e.contentCSS),t.content_style&&function(e,t){var n=Pt.fromDom(e.getBody()),r=nn(tn(n)),o=Pt.fromTag("style");qn(o,"type","text/css"),cn(o,Pt.fromText(t)),cn(r,o),e.on("remove",(function(){dn(o)}))}(e,t.content_style)},SA=function(e,t){var n=e.settings,r=e.getElement(),o=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(hA.addClass(r,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===hA.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=lb(e),e.schema=xi(n),e.dom=us(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:rc(e),referrerPolicy:oc(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=function(e){var t=ry(vA(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){for(var r,o,i=t.length,a=e.dom,s="data-mce-"+n;i--;)if((o=(r=t[i]).attr(n))&&!r.attr(s)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(s,o),r.attr(n,o)):"tabindex"===n?(r.attr(s,o),r.attr(n,null)):r.attr(s,e.convertURL(o,n,r.name))}})),t.addNodeFilter("script",(function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Cp("br",1)).shortEnded=!0)}})),t}(e),e.serializer=uy(function(e){var t=e.settings;return Pe(Pe({},vA(e)),gA({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}(e),e),e.selection=jv(e.dom,e.getWin(),e.serializer,e),e.annotator=Gf(e),e.formatter=vb(e),e.undoManager=yb(e),e._nodeChangeDispatcher=new XS(e),e._selectionOverrides=dA(e),iC(e),YS(e),Pv(e)||JS(e);var a=function(e){return Pv(e)?ps(null):KS(e)}(e);rC(e,a),function(e){Xu(e)&&e.on("NodeChange",P(cC,e))}(e),Sb(e),function(e){e.fire("PreInit")}(e),Ov(e).fold((function(){CA(e)}),(function(t){e.setProgressState(!0),t.then((function(t){e.setProgressState(!1),CA(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),CA(e)}))}))},AA=us.DOM,_A=function(e){var t=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(e)+"<html><head>";(function(e){return e.getParam("document_base_url","")})(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=function(e){return qu(e,"body_id","tinymce")}(e),r=function(e){return qu(e,"body_class","")}(e);return Ku(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Ku(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'},PA=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=function(e,t,n,r){var o=Pt.fromTag("iframe");return Kn(o,r),Kn(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),_s(o,"tox-edit-area__iframe"),o}(e.id,n,t.height,function(e){return e.getParam("iframe_attrs",{})}(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var o=function(e,t){if(document.domain!==window.location.hostname&&bt.browser.isIE()){var n=ab("mce");e[n]=function(){SA(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return AA.setAttrib(t,"src",r),!0}return!1}(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=_A(e),AA.add(t.iframeContainer,r),o},OA=us.DOM,EA=function(e,t,n){var r=Hy.get(n),o=Hy.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=At.trim(n),r&&-1===At.inArray(t,n)){if(At.each(Hy.dependencies(n),(function(n){EA(e,t,n)})),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){!function(e,t,n){var r=vs.translate(["Failed to initialize plugin: {0}",t]);Kf(e,"PluginLoadError",{message:r}),eb(r,n),Zy(e,r)}(e,n,t)}}},TA=function(e){return e.replace(/^\-/,"")},DA=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},IA=function(e){var t=e.getElement();return e.inline?DA(null):function(e){var t=OA.create("div");return OA.insertAfter(t,e),DA(t)}(t)},kA=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,d(lc(e))?function(e){return e.theme.renderUI()}(e):w(lc(e))?function(e){var t=e.getElement(),n=lc(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):IA(e)},MA=function(e){e.fire("ScriptsLoaded"),function(e){var t=At.trim($u(e)),n=e.ui.registry.getAll().icons,r=Pe(Pe({},Ry.get("default").icons),Ry.get(t).icons);se(r,(function(t,r){ge(n,r)||e.ui.registry.addIcon(r,t)}))}(e),function(e){var t=lc(e);if(d(t)){e.settings.theme=TA(t);var n=qy.get(t);e.theme=new n(e,qy.urls[t]),e.theme.init&&e.theme.init(e,qy.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}(e),function(e){var t=[];At.each(hc(e).split(/[ ,]/),(function(n){EA(e,t,TA(n))}))}(e);var t=kA(e);!function(e,t){var n={show:B.from(t.show).getOr(C),hide:B.from(t.hide).getOr(C),disable:B.from(t.disable).getOr(C),isDisabled:B.from(t.isDisabled).getOr(I),enable:function(){e.mode.isReadOnly()||B.from(t.enable).map(D)}};e.ui=Pe(Pe({},e.ui),n)}(e,B.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,rb(e),e.inline?SA(e):function(e,t){var n=PA(e,t);t.editorContainer&&(AA.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=AA.isHidden(t.editorContainer)),e.getElement().style.display="none",AA.setAttrib(e.id,"aria-hidden","true"),n||SA(e)}(e,n)},NA=us.DOM,RA=function(e){return"-"===e.charAt(0)},BA=function(e,t){var n=ic(t),r=function(e){return e.getParam("language_url","","string")}(t);if(!1===vs.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,C,void 0,(function(){!function(e,t,n){Jy(e,"LanguageLoadError",$y("language",t,n))}(t,o,n)}))}},LA=function(e,t,n){return B.from(t).filter((function(e){return e.length>0&&!Ry.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:B.some(t)}}))},FA=function(e,t,n){var r=LA(t,"default",n),o=function(e){return B.from(function(e){return e.getParam("icons_url","","string")}(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:B.none()}}))}(t).orThunk((function(){return LA(t,$u(t),"")}));W(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([r,o]),(function(n){e.add(n.url,C,void 0,(function(){!function(e,t,n){Jy(e,"IconsLoadError",$y("icons",t,n))}(t,n.url,n.name.getOrUndefined())}))}))},jA=function(e,t){var n=ds.ScriptLoader;!function(e,t,n,r){var o=lc(t);if(d(o)){if(!RA(o)&&!qy.urls.hasOwnProperty(o)){var i=function(e){return e.getParam("theme_url")}(t);i?qy.load(o,t.documentBaseURI.toAbsolute(i)):qy.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue((function(){qy.waitFor(o,r)}))}else r()}(n,e,t,(function(){BA(n,e),FA(n,e,t),function(e,t){At.each(function(e){return e.getParam("external_plugins")}(e),(function(t,n){Hy.load(n,t,C,void 0,(function(){Qy(e,t,n)})),e.settings.plugins+=" "+n})),At.each(hc(e).split(/[ ,]/),(function(n){if((n=At.trim(n))&&!Hy.urls[n])if(RA(n)){n=n.substr(1,n.length);var r=Hy.dependencies(n);At.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=Hy.createUrl(r,n);Hy.load(o.resource,o,C,void 0,(function(){Qy(e,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};Hy.load(n,o,C,void 0,(function(){Qy(e,o.prefix+o.resource+o.suffix,n)}))}}))}(e,t),n.loadQueue((function(){e.removed||MA(e)}),e,(function(){e.removed||MA(e)}))}))},VA=function(e){var t=e.id;vs.setCode(ic(e));var n=function(){NA.unbind(window,"ready",n),e.render()};if(ki.Event.domLoaded){if(e.getElement()&&bt.contentEditable){var r=Pt.fromDom(e.getElement()),o=function(e){return X(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}(r);e.on("remove",(function(){H(r.dom.attributes,(function(e){return Zn(r,e.name)})),Kn(r,o)})),e.ui.styleSheetLoader=function(e,t){return Qr.forElement(e,{contentCssCors:pc(t),referrerPolicy:oc(t)})}(r,e),!function(e){return e.getParam("inline")}(e)?(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden"):e.inline=!0;var i=e.getElement().form||NA.getParent(t,"form");i&&(e.formElement=i,function(e){return e.getParam("hidden_input")}(e)&&!Mn(e.getElement())&&(NA.insertAfter(NA.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},NA.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!function(e){return e.getParam("submit_patch")}(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=Xy(e),e.notificationManager=Wy(e),function(e){return"xml"===e.getParam("encoding")}(e)&&e.on("GetContent",(function(e){e.save&&(e.content=NA.encode(e.content))})),function(e){return e.getParam("add_form_submit_trigger")}(e)&&e.on("submit",(function(){e.initialized&&e.save()})),function(e){return e.getParam("add_unload_trigger")}(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),jA(e,e.suffix)}}else NA.bind(window,"ready",n)},UA=function(e,t){return function(e,t){return Tv(e).editor.addVisual(t)}(e,t)},zA={"font-size":"size","font-family":"face"},GA=function(e,t,n){return Hm(Pt.fromDom(n),(function(t){return function(t){return er(t,e).orThunk((function(){return"font"===Mt(t)?me(zA,e).bind((function(e){return Yn(t,e)})):B.none()}))}(t)}),(function(e){return Dt(Pt.fromDom(t),e)}))},WA=function(e){return function(t,n){return B.from(n).map(Pt.fromDom).filter(Bt).bind((function(n){return GA(e,t,n.dom).or(function(e,t){return B.from(us.DOM.getStyle(t,e,!0))}(e,n.dom))})).getOr("")}},HA=WA("font-size"),qA=S((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),WA("font-family")),KA=function(e){return Ol(e.getBody()).map((function(e){var t=e.container();return Nn(t)?t.parentNode:t}))},XA=function(e,t){return function(e){return B.from(e.selection.getRng()).bind((function(t){var n=e.getBody();return t.startContainer===n&&0===t.startOffset?B.none():B.from(e.selection.getStart(!0))}))}(e).orThunk(P(KA,e)).map(Pt.fromDom).filter(Bt).map(t)},YA=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=function(e){return At.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(e),o=function(e){return At.explode(e.getParam("font_size_classes",""))}(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},ZA=function(e){var t=e.split(/\s*,\s*/);return G(t,(function(e){return-1===e.indexOf(" ")||Re(e,'"')||Re(e,"'")?e:"'"+e+"'"})).join(",")},JA=function(e,t){var n=function(e){var t;return"string"!=typeof e?(t=At.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}}(t);!function(e,t,n){Ev(e).editor.insertContent(t,n)}(e,n.content,n.details)},$A=At.each,QA=At.map,e_=At.inArray,t_=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){var s;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?(s=a.editor,Jd(s).each((function(e){return s.selection.setRng(e)}))):a.editor.focus(),(r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var u=e.toLowerCase();if(o=a.commands.exec[u])return o(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if($A(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;$A(e,(function(e,r){$A(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":C,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");bt.mac&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),$A("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){!function(e,t){var n=YA(e,t);e.formatter.toggle("fontname",{value:ZA(n)}),e.nodeChanged()}(e,r)},FontSize:function(t,n,r){!function(e,t){e.formatter.toggle("fontsize",{value:YA(e,t)}),e.nodeChanged()}(e,r)},LineHeight:function(t,n,r){!function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()}(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){JA(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){IS(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){eC(e,t)},mceRepaint:C,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),Vn);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return yS(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),o=QA(r,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==e_(o,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return Jx(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return function(e){return XA(e,(function(t){return qA(e.getBody(),t.dom)})).getOr("")}(e)}),this),t.addQueryValueHandler("FontSize",(function(){return function(e){return XA(e,(function(t){return HA(e.getBody(),t.dom)})).getOr("")}(e)}),this),t.addQueryValueHandler("LineHeight",(function(){return function(e){return XA(e,(function(t){var n=Pt.fromDom(e.getBody());return Hm(t,(function(e){return er(e,"line-height")}),P(Dt,n)).getOrThunk((function(){var e=parseFloat($n(t,"line-height")),n=parseFloat($n(t,"font-size"));return String(e/n)}))})).getOr("")}(e)}),this)},e}(),n_="data-mce-contenteditable",r_=function(e,t,n){var r,o;Os(e,t)&&!1===n?(o=t,Cs(r=e)?r.dom.classList.remove(o):As(r,o),Ps(r)):n&&_s(e,t)},o_=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},i_=function(e,t){e.dom.contentEditable=t?"true":"false"},a_=function(e,t){var n=Pt.fromDom(e.getBody());r_(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),function(e){B.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}(e),e.readonly=!0,i_(n,!1),W(Ts(n,'*[contenteditable="true"]'),(function(e){qn(e,n_,"true"),i_(e,!1)}))):(e.readonly=!1,i_(n,!0),function(e){W(Ts(e,'*[data-mce-contenteditable="true"]'),(function(e){Zn(e,n_),i_(e,!0)}))}(n),o_(e,"StyleWithCSS",!1),o_(e,"enableInlineTableEditing",!1),o_(e,"enableObjectResizing",!1),lp(e)&&e.focus(),function(e){e.selection.setRng(e.selection.getRng())}(e),e.nodeChanged())},s_=function(e){return e.readonly},u_=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){s_(e)&&W(t,(function(e){e.attr(n_,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(n_,(function(t){s_(e)&&W(t,(function(e){e.attr("contenteditable",e.attr(n_))}))})),e.serializer.addTempAttr(n_)},c_=function(e,t){if(function(e){return"click"===e.type}(t)&&!Xf.metaKeyPressed(t)){var n=Pt.fromDom(t.target);(function(e,t){return qr(t,"a",(function(t){return Dt(t,Pt.fromDom(e.getBody()))})).bind((function(e){return Yn(e,"href")}))})(e,n).each((function(n){if(t.preventDefault(),/^#/.test(n)){var r=e.dom.select(n+',[name="'+((Re(o=n,i="#")?function(e,t){return e.substring(t)}(o,i.length):o)+'"]'));r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var o,i}))}},l_=At.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),f_=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||I}return e.isNative=function(e){return!!l_[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=k},r.stopPropagation=function(){r.isPropagationStopped=k},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=k},r.isDefaultPrevented=I,r.isPropagationStopped=I,r.isImmediatePropagationStopped=I),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var s=o[i];if(s.once&&this.off(n,s.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===s.func.call(this.scope,r))return r.preventDefault(),r}return r},e.prototype.on=function(e,t,n,r){if(!1===t&&(t=I),t){var o={func:t};r&&At.extend(o,r);for(var i=e.toLowerCase().split(" "),a=i.length;a--;){var s=i[a],u=this.bindings[s];u||(u=this.bindings[s]=[],this.toggleEvent(s,!0)),n?u.unshift(o):u.push(o)}}return this},e.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return se(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t)for(var s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),this.bindings[i]=a);else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else se(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),d_=function(e){return e._eventDispatcher||(e._eventDispatcher=new f_({scope:e,toggleEvent:function(t,n){f_.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},p_={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=d_(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return d_(this).on(e,t,n)},off:function(e,t){return d_(this).off(e,t)},once:function(e,t){return d_(this).once(e,t)},hasEventListeners:function(e){return d_(this).has(e)}},h_=us.DOM,m_=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=cc(e);return n?(e.eventRoot||(e.eventRoot=h_.select(n)[0]),e.eventRoot):e.getBody()},g_=function(e,t,n){!function(e){return!e.hidden&&!s_(e)}(e)?s_(e)&&c_(e,n):e.fire(t,n)},v_=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=m_(e,t);if(cc(e)){if(sx||(sx={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||sx&&(se(sx,(function(t,n){e.dom.unbind(m_(e,n))})),sx=null)}))),sx[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||h_.isChildOf(r,a))&&g_(o[i],t,n)}},sx[t]=n,h_.bind(r,t,n)}else n=function(n){g_(e,t,n)},h_.bind(r,t,n),e.delegates[t]=n}},y_=Pe(Pe({},p_),{bindPendingEventDelegates:function(){var e=this;At.each(e._pendingNativeEvents,(function(t){v_(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?v_(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(m_(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(se(e.delegates,(function(t,n){e.dom.unbind(m_(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),b_=["design","readonly"],w_=function(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(e){return void console.error("problem while activating editor mode "+r+":",e)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&a_(e,i.editorReadOnly),t.set(r),function(e,t){e.fire("SwitchMode",{mode:t})}(e,r)},x_=function(e){var t=ps("design"),n=ps({design:{activate:C,deactivate:C,editorReadOnly:!1},readonly:{activate:C,deactivate:C,editorReadOnly:!0}});return function(e){e.serializer?u_(e):e.on("PreInit",(function(){u_(e)}))}(e),function(e){e.on("ShowCaret",(function(t){s_(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){s_(e)&&t.preventDefault()}))}(e),{isReadOnly:function(){return s_(e)},set:function(r){return function(e,t,n,r){if(r!==n.get()){if(!ge(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?w_(e,n,t,r):e.on("init",(function(){return w_(e,n,t,r)}))}}(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(function(e,t,n){var r;if(U(b_,t))throw new Error("Cannot override default mode "+t);return Pe(Pe({},e),((r={})[t]=Pe(Pe({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),r))}(n.get(),e,t))}}},C_=At.each,S_=At.explode,A_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},__=At.makeMap("alt,ctrl,shift,meta,access"),P_=function(e){var t,n={};C_(S_(e.toLowerCase(),"+"),(function(e){e in __?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=A_[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in __)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,bt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(bt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},O_=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(C_(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return C_(S_(At.trim(e)),(function(e){var n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:At.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(e,t,n,r){var o=At.map(S_(e,">"),P_);return o[o.length-1]=At.extend(o[o.length-1],{func:n,scope:r||this.editor}),At.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),E_=function(){var e=function(){var e={},t={},n={},r={},o={},i={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=Pe(Pe({},r),{type:t})}};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(e,t){return r[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},T_=At.each,D_=At.trim,I_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),k_={ftp:21,http:80,https:443,mailto:25},M_=function(){function e(t,n){t=D_(t),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(a,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);T_(I_,(function(e,t){var n=u[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=k_[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=s.length;n<r;n++)i+=n!==o-1?"/"+s[n]:s[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),u=t.split("/");for(T_(s,(function(e){e&&i.push(e)})),s=i,n=u.length-1,i=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?o>0?o--:i.push(u[n]):o++);return 0!==(r=(n=s.length-o)<=0?Q(i).join("/"):s.slice(0,n).join("/")+"/"+Q(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),N_=us.DOM,R_=At.extend,B_=At.each,L_=At.resolve,F_=bt.ie,j_=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,R_(this,y_),this.settings=ky(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(ds.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),us.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ys.languageLoad=this.settings.language_load,ys.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new M_(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new O_(this),this.editorCommands=new t_(this),this.settings.cache_suffix&&(bt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:E_(),styleSheetLoader:void 0,show:C,hide:C,enable:C,disable:C,isDisabled:I};var o=x_(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ts.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){VA(this)},e.prototype.focus=function(e){dp(this,e)},e.prototype.hasFocus=function(){return cp(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?L_(r):0,i=L_(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return vs.translate(e)},e.prototype.getParam=function(e,t,n){return Ny(this,e,t,n)},e.prototype.hasPlugin=function(e,t){return!!U(hc(this).split(/[ ,]/),e)&&(!t||void 0!==Hy.get(e))},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(N_.show(e.getContainer()),N_.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(F_&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(N_.hide(e.getContainer()),N_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){(e=e||{}).load=!0;var o=Mn(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Mn(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=N_.getParent(r.id,"form"))&&B_(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return ly(this,e,t)},e.prototype.getContent=function(e){return cy(this,e)},e.prototype.insertContent=function(e,t){t&&(e=R_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?ly(this,this.startContent,{format:"raw"}):ly(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=N_.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=N_.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){UA(this,e)},e.prototype.remove=function(){py(this)},e.prototype.destroy=function(e){hy(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),V_=us.DOM,U_=At.explode,z_=At.each,G_=At.extend,W_=0,H_=!1,q_=[],K_=[],X_=function(e){var t=e.type;z_($_.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))},Y_=function(e){e!==H_&&(e?ts(window).on("resize scroll",X_):ts(window).off("resize scroll",X_),H_=e)},Z_=function(e){var t=K_;delete q_[e.id];for(var n=0;n<q_.length;n++)if(q_[n]===e){q_.splice(n,1);break}return K_=q(K_,(function(t){return e!==t})),$_.activeEditor===e&&($_.activeEditor=K_.length>0?K_[0]:null),$_.focusedEditor===e&&($_.focusedEditor=null),t.length!==K_.length},J_="CSS1Compat"!==document.compatMode,$_=Pe(Pe({},p_),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ts,majorVersion:"5",minorVersion:"8.1",releaseDate:"2021-05-20",editors:q_,i18n:vs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n=this,r="";t=M_.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o,i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,r=i.suffix;else{for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u;if(""!==(u=a[s].src||"")){var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/"));break}}}if(!e&&document.currentScript)-1!==(u=document.currentScript.src).indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/"))}n.baseURL=new M_(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new M_(n.baseURL),n.suffix=r,(o=n).on("AddEditor",P(rp,o)),o.on("RemoveEditor",P(op,o))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&se(r,(function(e,t){ys.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,r=At.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e){var t=e.id;return t||(t=me(e,"name").filter((function(e){return!V_.get(e)})).getOrThunk(V_.uniqueId),e.setAttribute("id",t)),t},i=function(e,t){return t.constructor===RegExp?t.test(e.className):V_.hasClass(e,t)},a=function(e){t=e},s=function(){var t,u=0,c=[],l=function(e,r,o){var i=new j_(e,r,n);c.push(i),i.on("init",(function(){++u===t.length&&a(c)})),i.targetElm=i.targetElm||o,i.render()};V_.unbind(window,"ready",s),function(t){var r=e[t];if(r)r.apply(n,[])}("onpageload"),t=ts.unique(function(e){var t=[];if(bt.browser.isIE()&&bt.browser.version.major<11)return eb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(J_)return eb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return z_(e.types,(function(e){t=t.concat(V_.select(e.selector))})),t;if(e.selector)return V_.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";n.length>0&&z_(U_(n),(function(e){var n=V_.get(e);n?t.push(n):z_(document.forms,(function(n){z_(n.elements,(function(n){n.name===e&&(e="mce_editor_"+W_++,V_.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":z_(V_.select("textarea"),(function(n){e.editor_deselector&&i(n,e.editor_deselector)||e.editor_selector&&!i(n,e.editor_selector)||t.push(n)}))}return t}(e)),e.types?z_(e.types,(function(n){At.each(t,(function(t){return!V_.is(t,n.selector)||(l(o(t),G_({},e,n),t),!1)}))})):(At.each(t,(function(e){var t;(t=n.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Z_(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(t=At.grep(t,(function(e){return!n.get(e.id)}))).length?a([]):z_(t,(function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in r}(e,t)?l(o(t),e,t):eb("Could not initialize inline editor on invalid inline target element",t)})))};return n.settings=e,V_.bind(window,"ready",s),new Kr((function(e){t?e(t):a=function(t){e(t)}}))},get:function(e){return 0===arguments.length?K_.slice(0):d(e)?Y(K_,(function(t){return t.id===e})).getOr(null):x(e)&&K_[e]?K_[e]:null},add:function(e){var t=this;return q_[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(q_[e.id]=e),q_.push(e),K_.push(e)),Y_(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),ux||(ux=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",ux))),e},createEditor:function(e,t){return this.add(new j_(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!d(e))return n=e,m(r.get(n.id))?null:(Z_(n)&&r.fire("RemoveEditor",{editor:n}),0===K_.length&&window.removeEventListener("beforeunload",ux),n.remove(),Y_(K_.length>0),n);z_(V_.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))}else for(t=K_.length-1;t>=0;t--)r.remove(K_[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new j_(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){z_(K_,(function(e){e.save()}))},addI18n:function(e,t){vs.add(e,t)},translate:function(e){return vs.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new M_(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new M_(this.baseURL)}});$_.setup();var Q_,eP,tP,nP,rP=Math.min,oP=Math.max,iP=Math.round,aP=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,c=(n||"").split("");return"b"===c[0]&&(o+=u),"r"===c[1]&&(r+=s),"c"===c[0]&&(o+=iP(u/2)),"c"===c[1]&&(r+=iP(s/2)),"b"===c[3]&&(o-=a),"r"===c[4]&&(r-=i),"c"===c[3]&&(o-=iP(a/2)),"c"===c[4]&&(r-=iP(i/2)),sP(r,o,i,a)},sP=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},uP={inflate:function(e,t,n){return sP(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:aP,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=aP(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=oP(e.x,t.x),r=oP(e.y,t.y),o=rP(e.x+e.w,t.x+t.w),i=rP(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:sP(n,r,o-n,i-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,s=t.x+t.w,u=t.y+t.h,c=oP(0,t.x-r),l=oP(0,t.y-o),f=oP(0,i-s),d=oP(0,a-u);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),sP(r,o,(i-=f)-r,(a-=d)-o)},create:sP,fromClientRect:function(e){return sP(e.left,e.top,e.width,e.height)}},cP=(Q_={},eP={},{load:function(e,t){var n='Script at URL "'+t+'" failed to load',r='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==Q_[e])return Q_[e];var o=new Kr((function(o,i){var a=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))}},a=i(e),s=i(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout((function(){return s.apply(null,e)}),n))},resolve:a,reject:s}}(o,i);eP[e]=a.resolve,ds.ScriptLoader.loadScript(t,(function(){return a.start(r)}),(function(){return a.reject(n)}))}));return Q_[e]=o,o},add:function(e,t){void 0!==eP[e]&&(eP[e](t),delete eP[e]),Q_[e]=Kr.resolve(t)}}),lP=At.each,fP=At.extend,dP=function(){};dP.extend=tP=function(e){var t=this.prototype,n=function(){var e,t,n,r=this;if(!nP&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)},r=function(){return this};nP=!0;var o=new this;return nP=!1,e.Mixins&&(lP(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),t.Mixins&&(e.Mixins=t.Mixins.concat(e.Mixins))),e.Methods&&lP(e.Methods.split(","),(function(t){e[t]=r})),e.Properties&&lP(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&lP(e.Statics,(function(e,t){n[t]=e})),e.Defaults&&t.Defaults&&(e.Defaults=fP({},t.Defaults,e.Defaults)),se(e,(function(e,n){"function"==typeof e&&t[n]?o[n]=function(e,n){return function(){var r=this,o=r._super;r._super=t[e];var i=n.apply(r,arguments);return r._super=o,i}}(n,e):o[n]=e})),n.prototype=o,n.constructor=n,n.extend=tP,n};var pP,hP=Math.min,mP=Math.max,gP=Math.round,vP={serialize:function(e){var t=JSON.stringify(e);return d(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},parse:function(e){try{return JSON.parse(e)}catch(e){}}},yP={callbacks:{},count:0,send:function(e){var t=this,n=us.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},bP=Pe(Pe({},p_),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Jr.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",bP.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&At.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=bP.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();Jr.setTimeout(r,10)}}),wP=At.extend,xP=function(){function e(e){this.settings=wP({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=wP(this.settings,e);r.success=function(e,o){void 0===(e=vP.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=vP.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",bP.send(r)},e}();try{var CP="__storage_test__";(pP=window.localStorage).setItem(CP,CP),pP.removeItem(CP)}catch(e){pP=function(){var e={},t=[],n={getItem:function(t){return e[t]||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}var SP={geom:{Rect:uP},util:{Promise:Kr,Delay:Jr,Tools:At,VK:Xf,URI:M_,Class:dP,EventDispatcher:f_,Observable:p_,I18n:vs,XHR:bP,JSON:vP,JSONRequest:xP,JSONP:yP,LocalStorage:pP,Color:function(e){var t={},n=0,r=0,o=0,i=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=mP(0,hP(t,1)),i=mP(0,hP(i,1)),0!==t){var a=e/60,s=i*t,u=s*(1-Math.abs(a%2-1)),c=i-s;switch(Math.floor(a)){case 0:n=s,r=u,o=0;break;case 1:n=u,r=s,o=0;break;case 2:n=0,r=s,o=u;break;case 3:n=0,r=u,o=s;break;case 4:n=u,r=0,o=s;break;case 5:n=s,r=0,o=u;break;default:n=r=o=0}n=gP(255*(n+c)),r=gP(255*(r+c)),o=gP(255*(o+c))}else n=r=o=gP(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:o}},t.toHsv=function(){return function(e,t,n){var r,o;o=0;var i=hP(e/=255,hP(t/=255,n/=255)),a=mP(e,mP(t,n));return i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:gP(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(a-i))),s:gP(100*r),v:gP(100*o)})}(n,r,o)},t.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},t.parse=i,t},ImageUploader:function(e){var t=ob(),n=cb(e,t);return{upload:function(t,r){return void 0===r&&(r=!0),n.upload(t,r?ub(e):void 0)}}}},dom:{EventUtils:ki,Sizzle:ma,DomQuery:ts,TreeWalker:eo,TextSeeker:Ws,DOMUtils:us,ScriptLoader:ds,RangeUtils:fd,Serializer:uy,StyleSheetLoader:$r,ControlSelection:Zf,BookmarkManager:Wf,Selection:jv,Event:ki.Event},html:{Styles:Si,Entities:fi,Node:Cp,Schema:xi,SaxParser:Ep,DomParser:ry,Writer:Rp,Serializer:Bp},Env:bt,AddOnManager:ys,Annotator:Gf,Formatter:vb,UndoManager:yb,EditorCommands:t_,WindowManager:Xy,NotificationManager:Wy,EditorObservable:y_,Shortcuts:O_,Editor:j_,FocusManager:$d,EditorManager:$_,DOM:us.DOM,ScriptLoader:ds.ScriptLoader,PluginManager:Hy,ThemeManager:qy,IconManager:Ry,Resource:cP,trim:At.trim,isArray:At.isArray,is:At.is,toArray:At.toArray,makeMap:At.makeMap,each:At.each,map:At.map,grep:At.grep,inArray:At.inArray,extend:At.extend,create:At.create,walk:At.walk,createNS:At.createNS,resolve:At.resolve,explode:At.explode,_addCacheSuffix:At._addCacheSuffix,isOpera:bt.opera,isWebKit:bt.webkit,isIE:bt.ie,isGecko:bt.gecko,isMac:bt.mac},AP=At.extend($_,SP);!function(e){window.tinymce=e,window.tinyMCE=e}(AP),function(t){try{e.exports=t}catch(e){}}(AP)}()},3628:(e,t,n)=>{var r=n(5851).Buffer,o=n(2790);self,e.exports=function(){var e={1553:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return D()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={};function g(){}function v(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,i)&&(b=x);var C=y.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,a,s){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return v.prototype=C.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},S(A.prototype),A.prototype[a]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(C),u(C,s,"Generator"),C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7757:function(e,t,n){e.exports=n(1553)},2637:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,{LUFactor3x3:function(){return gt},LUSolve3x3:function(){return vt},Pi:function(){return Ae},add:function(){return qe},angleBetweenVectors:function(){return ut},areBoundsInitialized:function(){return tn},areEquals:function(){return Ot},areMatricesEqual:function(){return Et},arrayMax:function(){return Me},arrayMin:function(){return ke},arrayRange:function(){return Ne},beginCombination:function(){return Ve},binomial:function(){return je},boundsIsWithinOtherBounds:function(){return ln},ceil:function(){return Te},ceilLog2:function(){return Re},clampAndNormalizeValue:function(){return an},clampValue:function(){return rn},clampVector:function(){return on},computeBoundsFromPoints:function(){return nn},createUninitializedBounds:function(){return bn},cross:function(){return et},default:function(){return _n},degreesFromRadians:function(){return Pe},determinant2x2:function(){return mt},determinant3x3:function(){return _t},diagonalize3x3:function(){return Rt},distance2BetweenPoints:function(){return st},dot:function(){return $e},dot2D:function(){return it},estimateMatrixCondition:function(){return Ut},extentIsWithinOtherExtent:function(){return cn},factorial:function(){return Be},float2CssRGBA:function(){return An},floatRGB2HexCode:function(){return Cn},floatToHex2:function(){return xn},floor:function(){return Ee},gaussian:function(){return He},gaussianAmplitude:function(){return lt},gaussianWeight:function(){return ft},getAdjustedScalarRange:function(){return un},getMajorAxisIndex:function(){return wn},getScalarTypeFittingRange:function(){return sn},getSeed:function(){return Ge},hex2float:function(){return Ht},hsv2rgb:function(){return Kt},identity3x3:function(){return At},inf:function(){return pn},invert3x3:function(){return St},invertMatrix:function(){return Vt},isFinite:function(){return gn},isInf:function(){return mn},isNaN:function(){return vn},isNan:function(){return yn},isPowerOfTwo:function(){return Fe},jacobi:function(){return zt},jacobiN:function(){return It},lab2rgb:function(){return Qt},lab2xyz:function(){return Xt},linearSolve3x3:function(){return yt},luFactorLinearSystem:function(){return Lt},luSolveLinearSystem:function(){return Ft},matrix3x3ToQuaternion:function(){return kt},max:function(){return Ie},min:function(){return De},multiply3x3_mat3:function(){return wt},multiply3x3_vect3:function(){return bt},multiplyAccumulate:function(){return Ze},multiplyAccumulate2D:function(){return Je},multiplyMatrix:function(){return xt},multiplyQuaternion:function(){return Mt},multiplyScalar:function(){return Xe},multiplyScalar2D:function(){return Ye},nearestPowerOfTwo:function(){return Le},negInf:function(){return hn},nextCombination:function(){return Ue},norm:function(){return tt},norm2D:function(){return pt},normalize:function(){return nt},normalize2D:function(){return ht},orthogonalize3x3:function(){return Nt},outer:function(){return Qe},outer2D:function(){return dt},perpendiculars:function(){return rt},pointIsWithinBounds:function(){return fn},projectVector:function(){return ot},projectVector2D:function(){return at},quaternionToMatrix3x3:function(){return Pt},radiansFromDegrees:function(){return _e},random:function(){return We},randomSeed:function(){return ze},rgb2hsv:function(){return qt},rgb2lab:function(){return $t},rgb2xyz:function(){return Jt},round:function(){return Oe},roundNumber:function(){return Tt},roundVector:function(){return Dt},signedAngleBetweenVectors:function(){return ct},singularValueDecomposition3x3:function(){return Bt},solve3PointCircle:function(){return dn},solveHomogeneousLeastSquares:function(){return Gt},solveLeastSquares:function(){return Wt},solveLinearSystem:function(){return jt},subtract:function(){return Ke},transpose3x3:function(){return Ct},uninitializeBounds:function(){return en},xyz2lab:function(){return Yt},xyz2rgb:function(){return Zt}});var o={};n.r(o),n.d(o,{add:function(){return Bo},angle:function(){return fi},bezier:function(){return ri},ceil:function(){return Vo},clone:function(){return Io},copy:function(){return No},create:function(){return Do},cross:function(){return ei},dist:function(){return wi},distance:function(){return Ko},div:function(){return bi},divide:function(){return jo},dot:function(){return Qo},equals:function(){return mi},exactEquals:function(){return hi},floor:function(){return Uo},forEach:function(){return Ai},fromValues:function(){return Mo},hermite:function(){return ni},inverse:function(){return Jo},len:function(){return Ci},length:function(){return ko},lerp:function(){return ti},max:function(){return Go},min:function(){return zo},mul:function(){return yi},multiply:function(){return Fo},negate:function(){return Zo},normalize:function(){return $o},random:function(){return oi},rotateX:function(){return ui},rotateY:function(){return ci},rotateZ:function(){return li},round:function(){return Wo},scale:function(){return Ho},scaleAndAdd:function(){return qo},set:function(){return Ro},sqrDist:function(){return xi},sqrLen:function(){return Si},squaredDistance:function(){return Xo},squaredLength:function(){return Yo},str:function(){return pi},sub:function(){return vi},subtract:function(){return Lo},transformMat3:function(){return ai},transformMat4:function(){return ii},transformQuat:function(){return si},zero:function(){return di}});var i={};n.r(i),n.d(i,{add:function(){return la},adjoint:function(){return Mi},clone:function(){return Pi},copy:function(){return Oi},create:function(){return _i},determinant:function(){return Ni},equals:function(){return ma},exactEquals:function(){return ha},frob:function(){return ca},fromQuat:function(){return ta},fromQuat2:function(){return Yi},fromRotation:function(){return Wi},fromRotationTranslation:function(){return Xi},fromRotationTranslationScale:function(){return Qi},fromRotationTranslationScaleOrigin:function(){return ea},fromScaling:function(){return Gi},fromTranslation:function(){return zi},fromValues:function(){return Ei},fromXRotation:function(){return Hi},fromYRotation:function(){return qi},fromZRotation:function(){return Ki},frustum:function(){return na},getRotation:function(){return $i},getScaling:function(){return Ji},getTranslation:function(){return Zi},identity:function(){return Di},invert:function(){return ki},lookAt:function(){return aa},mul:function(){return ga},multiply:function(){return Ri},multiplyScalar:function(){return da},multiplyScalarAndAdd:function(){return pa},ortho:function(){return ia},perspective:function(){return ra},perspectiveFromFieldOfView:function(){return oa},rotate:function(){return Fi},rotateX:function(){return ji},rotateY:function(){return Vi},rotateZ:function(){return Ui},scale:function(){return Li},set:function(){return Ti},str:function(){return ua},sub:function(){return va},subtract:function(){return fa},targetTo:function(){return sa},translate:function(){return Bi},transpose:function(){return Ii}});var a={};n.r(a),n.d(a,{add:function(){return za},adjoint:function(){return Oa},clone:function(){return wa},copy:function(){return xa},create:function(){return ya},determinant:function(){return Ea},equals:function(){return Ka},exactEquals:function(){return qa},frob:function(){return Ua},fromMat2d:function(){return Ba},fromMat4:function(){return ba},fromQuat:function(){return La},fromRotation:function(){return Na},fromScaling:function(){return Ra},fromTranslation:function(){return Ma},fromValues:function(){return Ca},identity:function(){return Aa},invert:function(){return Pa},mul:function(){return Xa},multiply:function(){return Ta},multiplyScalar:function(){return Wa},multiplyScalarAndAdd:function(){return Ha},normalFromMat4:function(){return Fa},projection:function(){return ja},rotate:function(){return Ia},scale:function(){return ka},set:function(){return Sa},str:function(){return Va},sub:function(){return Ya},subtract:function(){return Ga},translate:function(){return Da},transpose:function(){return _a}});var s=[];s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0;c<u.length;c++)s[u.charCodeAt(c)]=c;function l(e){return void 0!==s[e.charCodeAt(0)]}function f(e,t,n,r){for(var o=t.start,i=t.count,a=i%4,u=Math.floor(i/4),c=o,f=null,d=n,p=0;p<u;p++){for(;!l(e[c]);)c++;for(f=s[e.charCodeAt(c++)]<<18;!l(e[c]);)c++;for(f|=s[e.charCodeAt(c++)]<<12;!l(e[c]);)c++;for(f|=s[e.charCodeAt(c++)]<<6;!l(e[c]);)c++;f|=s[e.charCodeAt(c++)],r[d++]=f>>16&255,r[d++]=f>>8&255,r[d++]=255&f}switch(a){case 3:for(;!l(e[c]);)c++;for(f=s[e.charCodeAt(c++)]<<10;!l(e[c]);)c++;for(f|=s[e.charCodeAt(c++)]<<4;!l(e[c]);)c++;f|=s[e.charCodeAt(c++)]>>2,r[d++]=f>>8&255,r[d++]=255&f;break;case 2:for(;!l(e[c]);)c++;for(f=s[e.charCodeAt(c++)]<<2;!l(e[c]);)c++;f|=s[e.charCodeAt(c++)]>>4,r[d++]=255&f;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return d}var d={toArrayBuffer:function(e){for(var t=function(e){for(var t=e.length,n=[],r=null,o=0;o<t;o++)l(e[o])?(r||(r={start:o,count:0}),r.count++,r.end=o):"="===e[o]&&r&&(n.push(r),r=null);return r&&n.push(r),n}(e),n=t[t.length-1].end+1,r=(4-n%4)%4,o=new ArrayBuffer(3*(n+r)/4-r),i=new Uint8Array(o),a=0,s=0;s<t.length;s++)a+=f(e,t[s],a,i),a+=(4-t[s].count%4)%4;return o}};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e,t,n){return(x=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S={vtkObject:function(){return null}};function A(e){if(null==e)return e;if(e.isA)return e;if(!e.vtkClass)return n.g.console&&n.g.console.error&&n.g.console.error("Invalid VTK object"),null;var t=S[e.vtkClass];if(!t)return n.g.console&&n.g.console.error&&n.g.console.error("No vtk class found for Object of type ".concat(e.vtkClass)),null;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);Object.keys(r).forEach((function(e){r[e]&&"object"===v(r[e])&&r[e].vtkClass&&(r[e]=A(r[e]))}));var o=t(r);return o&&o.modified&&o.modified(),o}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}A.register=function(e,t){S[e]=t};var O=0,E=Symbol("void"),T={};function D(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach((function(e){T[e]=D})),n.g.console=console.hasOwnProperty("log")?console:T;var I={debug:D,error:n.g.console.error||D,info:n.g.console.info||D,log:n.g.console.log||D,warn:n.g.console.warn||D};function k(){I.debug.apply(I,arguments)}function M(){I.error.apply(I,arguments)}function N(){I.warn.apply(I,arguments)}var R={},B=Object.create(null);function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(B[e]||Float64Array,n)}function F(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=B[e]||Float64Array).from.apply(t,r)}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function V(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=[].concat(e[t]))}))}function U(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}function z(e){return e.isA?e.getState():e}function G(e){setTimeout(e,0)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V(t);var n=[];function r(e){n[e]=null}function o(e){return Object.freeze({unsubscribe:function(){r(e)}})}return Number.isInteger(t.mtime)||(t.mtime=++O),t.classHierarchy=["vtkObject"],e.isDeleted=function(){return!!t.deleted},e.modified=function(r){t.deleted?M("instance deleted - cannot call any method"):r&&r<e.getMTime()||(t.mtime=++O,n.forEach((function(t){return t&&t(e)})))},e.onModified=function(e){if(t.deleted)return M("instance deleted - cannot call any method"),null;var r=n.length;return n.push(e),o(r)},e.getMTime=function(){return t.mtime},e.isA=function(e){for(var n=t.classHierarchy.length;n--;)if(t.classHierarchy[n]===e)return!0;return!1},e.getClassName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.classHierarchy[t.classHierarchy.length-1-e]},e.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return Object.keys(n).forEach((function(a){var s=o?null:e["set".concat(j(a))];s&&Array.isArray(n[a])&&s.length>1?i=s.apply(void 0,y(n[a]))||i:s?i=s(n[a])||i:(-1!==["mtime"].indexOf(a)||r||N("Warning: Set value to model directly ".concat(a,", ").concat(n[a])),t[a]=n[a],i=!0)})),i},e.get=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return t;var o={};return n.forEach((function(e){o[e]=t[e]})),o},e.getReferenceByName=function(e){return t[e]},e.delete=function(){Object.keys(t).forEach((function(e){return delete t[e]})),n.forEach((function(e,t){return r(t)})),t.deleted=!0},e.getState=function(){var n=P(P({},t),{},{vtkClass:e.getClassName()});Object.keys(n).forEach((function(e){null===n[e]||void 0===n[e]||"_"===e[0]?delete n[e]:n[e].isA?n[e]=n[e].getState():Array.isArray(n[e])&&(n[e]=n[e].map(z))}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r},e.shallowCopy=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.getClassName()!==e.getClassName())throw new Error("Cannot ShallowCopy ".concat(n.getClassName()," into ").concat(e.getClassName()));var o=n.get(),i=Object.keys(t).sort();Object.keys(o).sort().forEach((function(e){var n=i.indexOf(e);-1===n?r&&k("add ".concat(e," in shallowCopy")):i.splice(n,1),t[e]=o[e]})),i.length&&r&&k("Untouched keys: ".concat(i.join(", "))),e.modified()},e}function H(e,t,n){n.forEach((function(n){"object"===v(n)?e["get".concat(j(n.name))]=function(){return t[n.name]}:e["get".concat(j(n))]=function(){return t[n]}}))}B.Float32Array=Float32Array,B.Float64Array=Float64Array,B.Uint8Array=Uint8Array,B.Int8Array=Int8Array,B.Uint16Array=Uint16Array,B.Int16Array=Int16Array,B.Uint32Array=Uint32Array,B.Int32Array=Int32Array,B.Uint8ClampedArray=Uint8ClampedArray;var q={enum:function(e,t,n){return function(r){if("string"==typeof r){if(void 0!==n.enum[r])return t[n.name]!==n.enum[r]&&(t[n.name]=n.enum[r],e.modified(),!0);throw M("Set Enum with invalid argument ".concat(n,", ").concat(r)),new RangeError("Set Enum with invalid string argument")}if("number"==typeof r){if(t[n.name]!==r){if(-1!==Object.keys(n.enum).map((function(e){return n.enum[e]})).indexOf(r))return t[n.name]=r,e.modified(),!0;throw M("Set Enum outside numeric range ".concat(n,", ").concat(r)),new RangeError("Set Enum outside numeric range")}return!1}throw M("Set Enum with invalid argument (String/Number) ".concat(n,", ").concat(r)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function K(e){if("object"===v(e)){var t=q[e.type];if(t)return function(n,r){return t(n,r,e)};throw M("No setter for field ".concat(e)),new TypeError("No setter for field")}return function(t,n){return function(r){return n.deleted?(M("instance deleted - cannot call any method"),!1):n[e]!==r&&(n[e]=r,t.modified(),!0)}}}function X(e,t,n){n.forEach((function(n){"object"===v(n)?e["set".concat(j(n.name))]=K(n)(e,t):e["set".concat(j(n))]=K(n)(e,t)}))}function Y(e,t,n){H(e,t,n),X(e,t,n)}function Z(e,t,n){n.forEach((function(n){e["get".concat(j(n))]=function(){return[].concat(t[n])},e["get".concat(j(n),"ByReference")]=function(){return t[n]}}))}function J(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach((function(n){e["set".concat(j(n))]=function(){if(t.deleted)return M("instance deleted - cannot call any method"),!1;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=a;if(1===u.length&&u[0].length&&(u=u[0]),u.length!==r){if(!(u.length<r&&void 0!==o))throw new RangeError("Invalid number of values for array setter (".concat(n,")"));for(u=Array.from(u);u.length<r;)u.push(o)}return!(!t[n].some((function(e,t){return e!==u[t]}))&&t[n].length===u.length||(t[n]=Array.from(u),e.modified(),0))},e["set".concat(j(n),"From")]=function(e){var r=t[n];e.forEach((function(e,t){r[t]=e}))}}))}function $(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;Z(e,t,n),J(e,t,n,r,o)}function Q(e,t,n,r){function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.deleted?M("instance deleted - cannot call any method"):r>=t.numberOfInputs?M("algorithm ".concat(e.getClassName()," only has ").concat(t.numberOfInputs," input ports. To add more input ports, use addInputData()")):(t.inputData[r]!==n||t.inputConnection[r])&&(t.inputData[r]=n,t.inputConnection[r]=null,e.modified&&e.modified())}function i(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.deleted)M("instance deleted - cannot call any method");else{if(r>=t.numberOfInputs){var o="algorithm ".concat(e.getClassName()," only has ");return o+="".concat(t.numberOfInputs),void M(o+=" input ports. To add more input ports, use addInputConnection()")}t.inputData[r]=null,t.inputConnection[r]=n}}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.deleted?(M("instance deleted - cannot call any method"),null):(e.shouldUpdate()&&e.update(),t.output[n])}if(t.inputData?t.inputData=t.inputData.map(A):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(A):t.inputConnection=[],t.output?t.output=t.output.map(A):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(A):t.inputArrayToProcess=[],t.numberOfInputs=n,e.shouldUpdate=function(){for(var n=e.getMTime(),o=r,i=1/0;o--;){if(!t.output[o])return!0;var a=t.output[o].getMTime();if(a<n)return!0;a<i&&(i=a)}for(o=t.numberOfInputs;o--;)if(t.inputConnection[o]&&t.inputConnection[o].filter.shouldUpdate())return!0;for(o=t.numberOfInputs;o--;)if(e.getInputData(o)&&e.getInputData(o).getMTime()>i)return!0;return!1},t.numberOfInputs){for(var s=t.numberOfInputs;s--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=o,e.setInputConnection=i,e.addInputData=function(e){t.deleted?M("instance deleted - cannot call any method"):(t.numberOfInputs++,o(e,t.numberOfInputs-1))},e.addInputConnection=function(e){t.deleted?M("instance deleted - cannot call any method"):(t.numberOfInputs++,i(e,t.numberOfInputs-1))},e.getInputData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]},e.getInputConnection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]}}r&&(e.getOutputData=a,e.getOutputPort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(){return a(t)};return n.filter=e,n}),e.update=function(){var n=[];if(t.numberOfInputs)for(var r=0;r<t.numberOfInputs;)n[r]=e.getInputData(r),r++;e.shouldUpdate()&&e.requestData&&e.requestData(n,t.output)},e.getNumberOfInputPorts=function(){return t.numberOfInputs},e.getNumberOfOutputPorts=function(){return r||t.output.length},e.getInputArrayToProcess=function(e){var n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r["get".concat(n.fieldAssociation)]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:o}}}var ee=Symbol("Event abort");function te(e,t,n){var r=[],o=e.delete,i=1;function a(e){for(var t=0;t<r.length;++t)if(g(r[t],1)[0]===e)return void r.splice(t,1)}function s(e){return Object.freeze({unsubscribe:function(){a(e)}})}e["invoke".concat(j(n))]=function(){var n=arguments;if(t.deleted)M("instance deleted - cannot call any method");else for(var o=r.slice(),i=function(t){var r=g(o[t],3),i=r[1],a=r[2];if(!i)return"continue";if(a<0)setTimeout((function(){return i.apply(e,n)}),1-a);else if(i.apply(e,n)===ee)return"break"},a=0;a<o.length;++a){var s=i(a);if("continue"!==s&&"break"===s)break}},e["on".concat(j(n))]=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.apply)return console.error("Invalid callback for event ".concat(n)),null;if(t.deleted)return M("instance deleted - cannot call any method"),null;var a=i++;return r.push([a,e,o]),r.sort((function(e,t){return t[2]-e[2]})),s(a)},e.delete=function(){o(),r.forEach((function(e){return a(g(e,1)[0])}))}}function ne(e,t){var n=function(){var t={};return e(t,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Object.freeze(t)};return t&&A.register(t,n),n}function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return!!e})).map((function(e){return e.apply(void 0,n)}))}}function oe(e){return e&&e.isA&&e.isA("vtkObject")}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(oe(e)){if(r.indexOf(e)>=0)return n;r.push(e);var o=t(e);void 0!==o&&n.push(o);var i=e.get();Object.keys(i).forEach((function(e){var o=i[e];Array.isArray(o)?o.forEach((function(e){ie(e,t,n,r)})):ie(o,t,n,r)}))}return n}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.keystore=Object.assign(t.keystore||{},n),e.setKey=function(e,n){t.keystore[e]=n},e.getKey=function(e){return t.keystore[e]},e.getAllKeys=function(){return Object.keys(t.keystore)},e.deleteKey=function(e){return delete t.keystore[e]},e.clearKeystore=function(){return e.getAllKeys().forEach((function(e){return delete t.keystore[e]}))}}var se=1,ue="__root__";function ce(e,t){ae(e,t);var n=e.delete;t.proxyId="".concat(se++),t.ui=JSON.parse(JSON.stringify(t.ui||[])),H(e,t,["proxyId","proxyGroup","proxyName"]),Y(e,t,["proxyManager"]);var r={},o={};function i(e,t){o[t]||(o[t]=[]);for(var n=o[t],a=0;a<e.length;a++)n.push(e[a].name),r[e[a].name]=e[a],e[a].children&&e[a].children.length&&i(e[a].children,e[a].name)}function a(){return o[arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue]}function s(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,r=[],o=t.proxyId,i=a(n)||[],u=0;u<i.length;u++){var c=i[u],l=e["get".concat(j(c))],f={id:o,name:c,value:l?l():void 0},d=s(c);d.length&&(f.children=d),r.push(f)}return r}i(t.ui,ue),e.updateUI=function(n){t.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach((function(e){return delete r[e]})),Object.keys(o).forEach((function(e){return delete o[e]})),i(t.ui,ue),e.modified()},e.updateProxyProperty=function(e,t){var n=r[e];n?Object.assign(n,t):r[e]=P({},t)},e.activate=function(){if(t.proxyManager){var n="setActive".concat(j(e.getProxyGroup().slice(0,-1)));t.proxyManager[n]&&t.proxyManager[n](e)}},t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=function(e,n){n in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[n]=[]),t.propertyLinkSubscribers[n].push(e)},e.gcPropertyLinks=function(n){for(var r=t.propertyLinkSubscribers[n]||[];r.length;)r.pop().unbind(e)},t.propertyLinkMap={},e.getPropertyLink=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.propertyLinkMap[e])return t.propertyLinkMap[e];var r=null,o=[],i=0,a=!1;function s(n){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return null;var u=[],c=null;for(i=o.length;i--;){var l=o[i];l.instance===n?c=l:u.push(l)}if(!c)return null;var f=c.instance["get".concat(j(c.propertyName))]();if(!U(f,r)||s){for(r=f,a=!0;u.length;){var d=u.pop();d.instance.set(p({},d.propertyName,r))}a=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=f),f}function u(e,t){var n=[];for(i=o.length;i--;){var r=o[i];r.instance!==e||r.propertyName!==t&&void 0!==t||(r.subscription.unsubscribe(),n.push(i))}for(;n.length;)o.splice(n.pop(),1)}function c(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.onModified(s),c=o[0];return o.push({instance:n,propertyName:r,subscription:a}),i&&(t.propertyLinkMap[e].persistent&&void 0!==t.propertyLinkMap[e].value?n.set(p({},r,t.propertyLinkMap[e].value)):c&&s(c.instance,!0)),{unsubscribe:function(){return u(n,r)}}}function l(){for(;o.length;)o.pop().subscription.unsubscribe()}var f={bind:c,unbind:u,unsubscribe:l,persistent:n};return t.propertyLinkMap[e]=f,f},e.listPropertyNames=function(){return s().map((function(e){return e.name}))},e.getPropertyByName=function(e){return s().find((function(t){return t.name===e}))},e.getPropertyDomainByName=function(e){return(r[e]||{}).domain},e.getProxySection=function(){return{id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:s()}},e.delete=function(){for(var r=Object.keys(t.propertyLinkMap),o=r.length;o--;)t.propertyLinkMap[r[o]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),n()},G((function(){if(t.links)for(var n=0;n<t.links.length;n++){var r=t.links[n],o=r.link,i=r.property,a=r.persistent,s=r.updateOnBind;if("application"===r.type){var u=t.proxyManager.getPropertyLink(o,a);e.registerPropertyLinkForGC(u,"application"),u.bind(e,i,s)}}}))}function le(e,t,n){for(var r=e.delete,o=[],i=Object.keys(n),a=i.length;a--;){var s=i[a],u=n[s],c=u.modelKey,l=u.property,f=u.modified,d=void 0===f||f,p=j(l),h=j(s);e["get".concat(h)]=t[c]["get".concat(p)],e["set".concat(h)]=t[c]["set".concat(p)],d&&o.push(t[c].onModified(e.modified))}e.delete=function(){for(;o.length;)o.pop().unsubscribe();r()}}var fe={algo:Q,capitalize:j,chain:re,debounce:function(e,t,n){var r,o=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=o,c=function(){r=null,n||e.apply(u,a)},l=n&&!r;clearTimeout(r),r=setTimeout(c,t),l&&e.apply(u,a)}},enumToString:function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))},event:te,EVENT_ABORT:ee,formatBytesToProperUnit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=["TB","GB","MB","KB"],o=Number(e),i="B";o>n;)o/=n,i=r.pop();return"".concat(o.toFixed(t)," ").concat(i)},formatNumbersWithThousandSeparator:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=[],r=e;r>1e3;)n.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(t)},get:H,getArray:Z,getCurrentGlobalMTime:function(){return O},getStateArrayMapFunc:z,isVtkObject:oe,keystore:ae,newInstance:ne,newTypedArray:L,newTypedArrayFrom:F,normalizeWheel:function(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1===e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}},obj:W,proxy:ce,proxyPropertyMapping:le,proxyPropertyState:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(e){for(var n=Object.keys(e),r=n.length;r--;){var o=n[r];t[o].set(e[o])}}t.this=e;for(var i=Object.keys(r),a=i.length,s=function(){var s=i[a];t[s]=r[s];var u=n[s];e["set".concat(j(s))]=function(n){n!==t[s]&&(t[s]=n,o(u[n]),e.modified())}};a--;)s();i.length&&H(e,t,i)},safeArrays:V,set:X,setArray:J,setGet:Y,setGetArray:$,setImmediate:G,setLoggerFunction:function(e,t){I[e]&&(I[e]=t||D)},throttle:function(e,t){var n=!1,r=null;function o(){n=!1,null!==r&&(i.apply(void 0,y(r)),r=null)}function i(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n?r=a:(n=!0,e.apply(void 0,a),setTimeout(o,t))}return i},traverseInstanceTree:ie,TYPED_ARRAYS:B,uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},VOID:E,vtkDebugMacro:k,vtkErrorMacro:M,vtkInfoMacro:function(){I.info.apply(I,arguments)},vtkLogMacro:function(){I.log.apply(I,arguments)},vtkOnceErrorMacro:function(e){R[e]||(I.error(e),R[e]=!0)},vtkWarningMacro:N},de={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},pe={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},he={DefaultDataType:pe.FLOAT,DataTypeByteSize:de,VtkDataTypes:pe},me=n(6377),ge=n.n(me),ve=fe.vtkErrorMacro,ye=fe.vtkWarningMacro,be=0,we=1e-12;function xe(e){return function(){return ve("vtkMath::".concat(e," - NOT IMPLEMENTED"))}}function Ce(e,t){for(var n=0;n<3;n++){var r=e[n];e[n]=t[n],t[n]=r}}function Se(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[];t.length<e;)t.push(0);return t}var Ae=function(){return Math.PI};function _e(e){return e/180*Math.PI}function Pe(e){return 180*e/Math.PI}var Oe=Math.round,Ee=Math.floor,Te=Math.ceil,De=Math.min,Ie=Math.max;function ke(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.length;r<o;r+=t)e[r]<n&&(n=e[r]);return n}function Me(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=-1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.length;r<o;r+=t)n<e[r]&&(n=e[r]);return n}function Ne(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0,r=-1/0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.length;o<i;o+=t)e[o]<n&&(n=e[o]),r<e[o]&&(r=e[o]);return[n,r]}var Re=xe("ceilLog2"),Be=xe("factorial");function Le(e){for(var t=1;t<e;)t*=2;return t}function Fe(e){return e===Le(e)}function je(e,t){for(var n=1,r=1;r<=t;++r)n*=(e-r+1)/r;return Math.floor(n)}function Ve(e,t){if(e<t)return 0;for(var n=Se(t),r=0;r<t;++r)n[r]=r;return n}function Ue(e,t,n){for(var r=0,o=t-1;o>=0;--o)if(n[o]<e-t+o){for(var i=n[o]+1;o<t;)n[o++]=i++;r=1;break}return r}function ze(e){ge()("".concat(e),{global:!0}),be=e}function Ge(){return be}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)-e)*Math.random()}var He=xe("gaussian");function qe(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Ke(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function Xe(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e}function Ye(e,t){return e[0]*=t,e[1]*=t,e}function Ze(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r[2]=e[2]+t[2]*n,r}function Je(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function $e(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Qe(e,t,n){for(var r=0;r<3;r++)for(var o=0;o<3;o++)n[r][o]=e[r]*t[o]}function et(e,t,n){var r=e[1]*t[2]-e[2]*t[1],o=e[2]*t[0]-e[0]*t[2],i=e[0]*t[1]-e[1]*t[0];return n[0]=r,n[1]=o,n[2]=i,n}function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:for(var n=0,r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}function nt(e){var t=tt(e);return 0!==t&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function rt(e,t,n,r){var o,i,a,s=e[0]*e[0],u=e[1]*e[1],c=e[2]*e[2],l=Math.sqrt(s+u+c);s>u&&s>c?(o=0,i=1,a=2):u>c?(o=1,i=2,a=0):(o=2,i=0,a=1);var f=e[o]/l,d=e[i]/l,p=e[a]/l,h=Math.sqrt(f*f+p*p);if(0!==r){var m=Math.sin(r),g=Math.cos(r);t&&(t[o]=(p*g-f*d*m)/h,t[i]=m*h,t[a]=(-f*g-d*p*m)/h),n&&(n[o]=(-p*m-f*d*g)/h,n[i]=g*h,n[a]=(f*m-d*p*g)/h)}else t&&(t[o]=p/h,t[i]=0,t[a]=-f/h),n&&(n[o]=-f*d/h,n[i]=h,n[a]=-d*p/h)}function ot(e,t,n){var r=$e(t,t);if(0===r)return n[0]=0,n[1]=0,n[2]=0,!1;for(var o=$e(e,t)/r,i=0;i<3;i++)n[i]=t[i];return Xe(n,o),!0}function it(e,t){return e[0]*t[0]+e[1]*t[1]}function at(e,t,n){var r=it(t,t);if(0===r)return n[0]=0,n[1]=0,!1;for(var o=it(e,t)/r,i=0;i<2;i++)n[i]=t[i];return Ye(n,o),!0}function st(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function ut(e,t){var n=[0,0,0];return et(e,t,n),Math.atan2(tt(n),$e(e,t))}function ct(e,t,n){var r=[0,0,0];et(e,t,r);var o=Math.atan2(tt(r),$e(e,t));return $e(r,n)>=0?o:-o}function lt(e,t,n){var r=Math.abs(e-n);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-Math.pow(r,2)/(2*t))}function ft(e,t,n){var r=Math.abs(e-n);return Math.exp(-Math.pow(r,2)/(2*t))}function dt(e,t,n){for(var r=0;r<2;r++)for(var o=0;o<2;o++)n[r][o]=e[r]*t[o]}function pt(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ht(e){var t=pt(e);return 0!==t&&(e[0]/=t,e[1]/=t),t}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 2===t.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}function gt(e,t){for(var n,r,o,i=[0,0,0],a=0;a<3;a++)o=Math.abs(e[a][0]),(r=Math.abs(e[a][1]))>o&&(o=r),(r=Math.abs(e[a][2]))>o&&(o=r),i[a]=1/o;o=i[0]*Math.abs(e[0][0]),n=0,(r=i[1]*Math.abs(e[1][0]))>=o&&(o=r,n=1),(r=i[2]*Math.abs(e[2][0]))>=o&&(n=2),0!==n&&(Ce(e[n],e[0]),i[n]=i[0]),t[0]=n,e[1][0]/=e[0][0],e[2][0]/=e[0][0],e[1][1]-=e[1][0]*e[0][1],e[2][1]-=e[2][0]*e[0][1],o=i[1]*Math.abs(e[1][1]),n=1,(r=i[2]*Math.abs(e[2][1]))>=o&&(n=2,Ce(e[2],e[1]),i[2]=i[1]),t[1]=n,e[2][1]/=e[1][1],e[1][2]-=e[1][0]*e[0][2],e[2][2]-=e[2][0]*e[0][2]+e[2][1]*e[1][2],t[2]=2}function vt(e,t,n){var r=n[t[0]];n[t[0]]=n[0],n[0]=r,r=n[t[1]],n[t[1]]=n[1],n[1]=r-e[1][0]*n[0],r=n[t[2]],n[t[2]]=n[2],n[2]=r-e[2][0]*n[0]-e[2][1]*n[1],n[2]/=e[2][2],n[1]=(n[1]-e[1][2]*n[2])/e[1][1],n[0]=(n[0]-e[0][1]*n[1]-e[0][2]*n[2])/e[0][0]}function yt(e,t,n){var r=e[0][0],o=e[0][1],i=e[0][2],a=e[1][0],s=e[1][1],u=e[1][2],c=e[2][0],l=e[2][1],f=e[2][2],d=+mt(s,l,u,f),p=-mt(a,c,u,f),h=+mt(a,c,s,l),m=-mt(o,l,i,f),g=+mt(r,c,i,f),v=-mt(r,c,o,l),y=+mt(o,s,i,u),b=-mt(r,a,i,u),w=+mt(r,a,o,s),x=r*d+o*p+i*h,C=d*t[0]+m*t[1]+y*t[2],S=p*t[0]+g*t[1]+b*t[2],A=h*t[0]+v*t[1]+w*t[2];n[0]=C/x,n[1]=S/x,n[2]=A/x}function bt(e,t,n){var r=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2],o=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2],i=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2];n[0]=r,n[1]=o,n[2]=i}function wt(e,t,n){for(var r=[[0,0,0],[0,0,0],[0,0,0]],o=0;o<3;o++)r[0][o]=e[0][0]*t[0][o]+e[0][1]*t[1][o]+e[0][2]*t[2][o],r[1][o]=e[1][0]*t[0][o]+e[1][1]*t[1][o]+e[1][2]*t[2][o],r[2][o]=e[2][0]*t[0][o]+e[2][1]*t[1][o]+e[2][2]*t[2][o];for(var i=0;i<3;i++)n[i][0]=r[i][0],n[i][1]=r[i][1],n[i][2]=r[i][2]}function xt(e,t,n,r,o,i,a){r!==o&&ve("Number of columns of A must match number of rows of B.");for(var s=0;s<n;s++)for(var u=0;u<i;u++){a[s][u]=0;for(var c=0;c<r;c++)a[s][u]+=e[s][c]*t[c][u]}}function Ct(e,t){var n;n=e[1][0],t[1][0]=e[0][1],t[0][1]=n,n=e[2][0],t[2][0]=e[0][2],t[0][2]=n,n=e[2][1],t[2][1]=e[1][2],t[1][2]=n,t[0][0]=e[0][0],t[1][1]=e[1][1],t[2][2]=e[2][2]}function St(e,t){var n=e[0][0],r=e[0][1],o=e[0][2],i=e[1][0],a=e[1][1],s=e[1][2],u=e[2][0],c=e[2][1],l=e[2][2],f=+mt(a,c,s,l),d=-mt(i,u,s,l),p=+mt(i,u,a,c),h=-mt(r,c,o,l),m=+mt(n,u,o,l),g=-mt(n,u,r,c),v=+mt(r,a,o,s),y=-mt(n,i,o,s),b=+mt(n,i,r,a),w=n*f+r*d+o*p;t[0][0]=f/w,t[1][0]=d/w,t[2][0]=p/w,t[0][1]=h/w,t[1][1]=m/w,t[2][1]=g/w,t[0][2]=v/w,t[1][2]=y/w,t[2][2]=b/w}function At(e){for(var t=0;t<3;t++)e[t][0]=e[t][1]=e[t][2]=0,e[t][t]=1}function _t(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][0]*e[2][1]*e[1][2]-e[1][0]*e[0][1]*e[2][2]-e[2][0]*e[1][1]*e[0][2]}function Pt(e,t){var n=e[0]*e[0],r=e[0]*e[1],o=e[0]*e[2],i=e[0]*e[3],a=e[1]*e[1],s=e[2]*e[2],u=e[3]*e[3],c=e[1]*e[2],l=e[1]*e[3],f=e[2]*e[3],d=a+s+u,p=1/(n+d),h=(n-d)*p;p*=2,t[0][0]=a*p+h,t[1][0]=(c+i)*p,t[2][0]=(l-o)*p,t[0][1]=(c-i)*p,t[1][1]=s*p+h,t[2][1]=(f+r)*p,t[0][2]=(l+o)*p,t[1][2]=(f-r)*p,t[2][2]=u*p+h}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;if(e.length!==t.length)return!1;function r(e,r){return Math.abs(e-t[r])<=n}return e.every(r)}var Et=Ot;function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!"".concat(e).includes("e"))return+"".concat(Math.round("".concat(e,"e+").concat(t)),"e-").concat(t);var n="".concat(e).split("e"),r="";return+n[1]+t>0&&(r="+"),+"".concat(Math.round("".concat(+n[0],"e").concat(r).concat(+n[1]+t)),"e-").concat(t)}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[0]=Tt(e[0],n),t[1]=Tt(e[1],n),t[2]=Tt(e[2],n),t}function It(e,t,n,r){var o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w=Se(t),x=Se(t),C=function(e,t,n,r,o){v=e[t][n],g=e[r][o],e[t][n]=v-m*(g+v*p),e[r][o]=g+m*(v-g*p)};for(u=0;u<t;u++){for(s=0;s<t;s++)r[u][s]=0;r[u][u]=1}for(u=0;u<t;u++)w[u]=n[u]=e[u][u],x[u]=0;for(o=0;o<20;o++){for(h=0,u=0;u<t-1;u++)for(s=u+1;s<t;s++)h+=Math.abs(e[u][s]);if(0===h)break;for(l=o<3?.2*h/(t*t):0,u=0;u<t-1;u++)for(s=u+1;s<t;s++)if(v=100*Math.abs(e[u][s]),o>3&&Math.abs(n[u])+v===Math.abs(n[u])&&Math.abs(n[s])+v===Math.abs(n[s]))e[u][s]=0;else if(Math.abs(e[u][s])>l){for(g=n[s]-n[u],Math.abs(g)+v===Math.abs(g)?d=e[u][s]/g:(f=.5*g/e[u][s],d=1/(Math.abs(f)+Math.sqrt(1+f*f)),f<0&&(d=-d)),y=1/Math.sqrt(1+d*d),p=(m=d*y)/(1+y),g=d*e[u][s],x[u]-=g,x[s]+=g,n[u]-=g,n[s]+=g,e[u][s]=0,i=0;i<=u-1;i++)C(e,i,u,i,s);for(i=u+1;i<=s-1;i++)C(e,u,i,i,s);for(i=s+1;i<t;i++)C(e,u,i,s,i);for(i=0;i<t;i++)C(r,i,u,i,s)}for(u=0;u<t;u++)w[u]+=x[u],n[u]=w[u],x[u]=0}if(o>=20)return ye("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(i=0;i<t-1;i++){for(b=n[a=i],o=i+1;o<t;o++)n[o]>=b&&(b=n[a=o]);if(a!==i)for(n[a]=n[i],n[i]=b,o=0;o<t;o++)b=r[o][i],r[o][i]=r[o][a],r[o][a]=b}var S=(t>>1)+(1&t);for(i=0;i<t;i++){for(c=0,o=0;o<t;o++)r[o][i]>=0&&c++;if(c<S)for(o=0;o<t;o++)r[o][i]*=-1}return 1}function kt(e,t){var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];n[0][0]=e[0][0]+e[1][1]+e[2][2],n[1][1]=e[0][0]-e[1][1]-e[2][2],n[2][2]=-e[0][0]+e[1][1]-e[2][2],n[3][3]=-e[0][0]-e[1][1]+e[2][2],n[0][1]=n[1][0]=e[2][1]-e[1][2],n[0][2]=n[2][0]=e[0][2]-e[2][0],n[0][3]=n[3][0]=e[1][0]-e[0][1],n[1][2]=n[2][1]=e[1][0]+e[0][1],n[1][3]=n[3][1]=e[0][2]+e[2][0],n[2][3]=n[3][2]=e[2][1]+e[1][2];for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=[0,0,0,0],i=[0,0,0,0],a=0;a<4;a++)o[a]=n[a],i[a]=r[a];It(o,4,[0,0,0,0],i),t[0]=r[0][0],t[1]=r[1][0],t[2]=r[2][0],t[3]=r[3][0]}function Mt(e,t,n){var r=e[0]*t[0],o=e[0]*t[1],i=e[0]*t[2],a=e[0]*t[3],s=e[1]*t[0],u=e[1]*t[1],c=e[1]*t[2],l=e[1]*t[3],f=e[2]*t[0],d=e[2]*t[1],p=e[2]*t[2],h=e[2]*t[3],m=e[3]*t[0],g=e[3]*t[1],v=e[3]*t[2],y=e[3]*t[3];n[0]=r-u-p-y,n[1]=o+s+h-v,n[2]=i-l+f+g,n[3]=a+c-d+m}function Nt(e,t){for(var n=0;n<3;n++)t[0][n]=e[0][n],t[1][n]=e[1][n],t[2][n]=e[2][n];for(var r,o=Se(3),i=Se(3),a=0;a<3;a++){var s=Math.abs(t[a][0]),u=Math.abs(t[a][1]),c=Math.abs(t[a][2]);r=c>(r=u>s?u:s)?c:r,o[a]=1,0!==r&&(o[a]/=r)}var l=Math.abs(t[0][0])*o[0],f=Math.abs(t[1][0])*o[1],d=Math.abs(t[2][0])*o[2];i[0]=0,f>=(r=l)&&(r=f,i[0]=1),d>=r&&(i[0]=2),0!==i[0]&&(Ce(t[i[0]],t[0]),o[i[0]]=o[0]);var p=Math.abs(t[1][1])*o[1],h=Math.abs(t[2][1])*o[2];i[1]=1,h>=(r=p)&&(i[1]=2,Ce(t[2],t[1])),i[2]=2;var m=0;if(_t(t)<0){m=1;for(var g=0;g<3;g++)t[0][g]=-t[0][g],t[1][g]=-t[1][g],t[2][g]=-t[2][g]}var v=Se(4);if(kt(t,v),Pt(v,t),m)for(var y=0;y<3;y++)t[0][y]=-t[0][y],t[1][y]=-t[1][y],t[2][y]=-t[2][y];1!==i[1]&&Ce(t[i[1]],t[1]),0!==i[0]&&Ce(t[i[0]],t[0])}function Rt(e,t,n){var r,o,i,a,s,u,c=[Se(3),Se(3),Se(3)],l=Se(3),f=Se(3);for(r=0;r<3;r++)c[r][0]=e[r][0],c[r][1]=e[r][1],c[r][2]=e[r][2],l[r]=c[r],f[r]=n[r];if(It(l,3,t,f),t[0]!==t[1]||t[0]!==t[2]){for(Ct(n,n),r=0;r<3;r++)if(t[(r+1)%3]===t[(r+2)%3]){for(u=Math.abs(n[r][0]),a=0,o=1;o<3;o++)u<(s=Math.abs(n[r][o]))&&(u=s,a=o);return a!==r&&(s=t[a],t[a]=t[r],t[r]=s,Ce(n[r],n[a])),n[a][a]<0&&(n[a][0]=-n[a][0],n[a][1]=-n[a][1],n[a][2]=-n[a][2]),i=(a+2)%3,n[o=(a+1)%3][0]=0,n[o][1]=0,n[o][2]=0,n[o][o]=1,et(n[a],n[o],n[i]),nt(n[i]),et(n[i],n[a],n[o]),void Ct(n,n)}for(u=Math.abs(n[0][0]),a=0,r=1;r<3;r++)u<(s=Math.abs(n[r][0]))&&(u=s,a=r);for(0!==a&&(s=t[a],t[a]=t[0],t[0]=s,Ce(n[a],n[0])),Math.abs(n[1][1])<Math.abs(n[2][1])&&(s=t[2],t[2]=t[1],t[1]=s,Ce(n[2],n[1])),r=0;r<2;r++)n[r][r]<0&&(n[r][0]=-n[r][0],n[r][1]=-n[r][1],n[r][2]=-n[r][2]);_t(n)<0&&(n[2][0]=-n[2][0],n[2][1]=-n[2][1],n[2][2]=-n[2][2]),Ct(n,n)}else At(n)}function Bt(e,t,n,r){var o,i=[Se(3),Se(3),Se(3)];for(o=0;o<3;o++)i[0][o]=e[0][o],i[1][o]=e[1][o],i[2][o]=e[2][o];var a=_t(i);if(a<0)for(o=0;o<3;o++)i[0][o]=-i[0][o],i[1][o]=-i[1][o],i[2][o]=-i[2][o];Nt(i,t),Ct(i,i),wt(i,t,r),Rt(r,n,r),wt(t,r,t),Ct(r,r),a<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function Lt(e,t,n){var r,o,i,a,s,u,c,l=0,f=Se(n);for(r=0;r<n;r++){for(a=0,o=0;o<n;o++)(c=Math.abs(e[r][o]))>a&&(a=c);if(0===a)return ye("Unable to factor linear system"),0;f[r]=1/a}for(o=0;o<n;o++){for(r=0;r<o;r++){for(s=e[r][o],i=0;i<r;i++)s-=e[r][i]*e[i][o];e[r][o]=s}for(a=0,r=o;r<n;r++){for(s=e[r][o],i=0;i<o;i++)s-=e[r][i]*e[i][o];e[r][o]=s,(u=f[r]*Math.abs(s))>=a&&(a=u,l=r)}if(o!==l){for(i=0;i<n;i++)u=e[l][i],e[l][i]=e[o][i],e[o][i]=u;f[l]=f[o]}if(t[o]=l,Math.abs(e[o][o])<=we)return ye("Unable to factor linear system"),0;if(o!==n-1)for(u=1/e[o][o],r=o+1;r<n;r++)e[r][o]*=u}return 1}function Ft(e,t,n,r){var o,i,a,s,u;for(a=-1,o=0;o<r;o++){if(u=n[s=t[o]],n[s]=n[o],a>=0)for(i=a;i<=o-1;i++)u-=e[o][i]*n[i];else 0!==u&&(a=o);n[o]=u}for(o=r-1;o>=0;o--){for(u=n[o],i=o+1;i<r;i++)u-=e[o][i]*n[i];n[o]=u/e[o][o]}}function jt(e,t,n){if(2===n){var r=Se(2),o=mt(e[0][0],e[0][1],e[1][0],e[1][1]);return 0===o?0:(r[0]=(e[1][1]*t[0]-e[0][1]*t[1])/o,r[1]=(-e[1][0]*t[0]+e[0][0]*t[1])/o,t[0]=r[0],t[1]=r[1],1)}if(1===n)return 0===e[0][0]?0:(t[0]/=e[0][0],1);var i=Se(n);return 0===Lt(e,i,n)?0:(Ft(e,i,t,n),1)}function Vt(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||Se(n),i=r||Se(n);if(0===Lt(e,o,n))return 0;for(var a=0;a<n;a++){for(var s=0;s<n;s++)i[s]=0;i[a]=1,Ft(e,o,i,n);for(var u=0;u<n;u++)t[u][a]=i[u]}return 1}function Ut(e,t){for(var n=+Number.MAX_VALUE,r=-Number.MAX_VALUE,o=0;o<t;o++)for(var i=o;i<t;i++)Math.abs(e[o][i])>Ie&&(r=Math.abs(e[o][i]));for(var a=0;a<t;a++)Math.abs(e[a][a])<De&&(n=Math.abs(e[a][a]));return 0===n?Number.MAX_VALUE:r/n}function zt(e,t,n){return It(e,3,t,n)}function Gt(e,t,n,r){if(e<n)return ye("Insufficient number of samples. Underdetermined."),0;var o,i,a,s=Se(n),u=Se(n),c=Se(n);for(o=0;o<n;o++)for(c[o]=Se(n),s[o]=Se(n),i=0;i<n;i++)s[o][i]=0;for(a=0;a<e;a++)for(o=0;o<n;o++)for(i=o;i<n;i++)s[o][i]+=t[a][o]*t[a][i];for(o=0;o<n;o++)for(i=0;i<o;i++)s[o][i]=s[i][o];for(It(s,n,u,c),o=0;o<n;o++)r[o][0]=c[o][n-1];return 1}function Wt(e,t,n,r,o,i){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(e<n||e<o)return ye("Insufficient number of samples. Underdetermined."),0;var s,u,c,l,f=Se(o),d=1,p=0,h=0;if(a){for(c=0;c<o;c++)f[c]=1;for(u=0;u<e;u++)for(c=0;c<o;c++)Math.abs(r[u][c])>we&&(d=0,f[c]=0);if(d&&1===o)return ye("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),Gt(e,t,n,i);if(d)h=1;else for(c=0;c<o;c++)f[c]&&(h=1)}if(h){for(s=Se(n),c=0;c<n;c++)s[c]=[0];p=Gt(e,t,n,s)}var m=Se(n),g=Se(n),v=Se(n);for(u=0;u<n;u++){for(m[u]=Se(n),g[u]=Se(n),c=0;c<n;c++)m[u][c]=0,g[u][c]=0;for(v[u]=Se(o),c=0;c<o;c++)v[u][c]=0}for(l=0;l<e;l++)for(u=0;u<n;u++){for(c=u;c<n;c++)m[u][c]+=t[l][u]*t[l][c];for(c=0;c<o;c++)v[u][c]+=t[l][u]*r[l][c]}for(u=0;u<n;u++)for(c=0;c<u;c++)m[u][c]=m[c][u];var y=Vt(m,g,n);if(y)for(u=0;u<n;u++)for(c=0;c<o;c++)for(i[u][c]=0,l=0;l<n;l++)i[u][c]+=g[u][l]*v[l][c];if(h)for(c=0;c<o;c++)if(f[c])for(u=0;u<n;u++)i[u][c]=s[u][0];return h?p&&y:y}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,.5,1];switch(e.length){case 3:return t[0]=17*parseInt(e[0],16)/255,t[1]=17*parseInt(e[1],16)/255,t[2]=17*parseInt(e[2],16)/255,t;case 4:return t[0]=17*parseInt(e[1],16)/255,t[1]=17*parseInt(e[2],16)/255,t[2]=17*parseInt(e[3],16)/255,t;case 6:return t[0]=parseInt(e.substr(0,2),16)/255,t[1]=parseInt(e.substr(2,2),16)/255,t[2]=parseInt(e.substr(4,2),16)/255,t;case 7:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t;case 9:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t[3]=parseInt(e.substr(7,2),16)/255,t;default:return t}}function qt(e,t){var n,r,o=g(e,3),i=o[0],a=o[1],s=o[2],u=1/6,c=i,l=i;a>c?c=a:a<l&&(l=a),s>c?c=s:s<l&&(l=s);var f=c;(r=f>0?(c-l)/c:0)>0?(n=i===c?u*(a-s)/(c-l):a===c?1/3+u*(s-i)/(c-l):2/3+u*(i-a)/(c-l))<0&&(n+=1):n=0,t[0]=n,t[1]=r,t[2]=f}function Kt(e,t){var n,r,o,i=g(e,3),a=i[0],s=i[1],u=i[2],c=1/3,l=1/6,f=2/3,d=5/6;a>l&&a<=c?(r=1,n=(c-a)/l,o=0):a>c&&a<=.5?(r=1,o=(a-c)/l,n=0):a>.5&&a<=f?(o=1,r=(f-a)/l,n=0):a>f&&a<=d?(o=1,n=(a-f)/l,r=0):a>d&&a<=1?(n=1,o=(1-a)/l,r=0):(n=1,r=a/l,o=0),n=s*n+(1-s),r=s*r+(1-s),o=s*o+(1-s),n*=u,r*=u,o*=u,t[0]=n,t[1]=r,t[2]=o}function Xt(e,t){var n=g(e,3),r=(n[0]+16)/116,o=n[1]/500+r,i=r-n[2]/200;r=Math.pow(r,3)>.008856?Math.pow(r,3):(r-16/116)/7.787,o=Math.pow(o,3)>.008856?Math.pow(o,3):(o-16/116)/7.787,i=Math.pow(i,3)>.008856?Math.pow(i,3):(i-16/116)/7.787,t[0]=.9505*o,t[1]=1*r,t[2]=1.089*i}function Yt(e,t){var n=g(e,3),r=n[0]/.9505,o=n[1]/1,i=n[2]/1.089;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,t[0]=116*o-16,t[1]=500*(r-o),t[2]=200*(o-i)}function Zt(e,t){var n=g(e,3),r=n[0],o=n[1],i=n[2],a=3.2406*r+-1.5372*o+-.4986*i,s=-.9689*r+1.8758*o+.0415*i,u=.0557*r+-.204*o+1.057*i;a>.0031308?a=1.055*Math.pow(a,1/2.4)-.055:a*=12.92,s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,u>.0031308?u=1.055*Math.pow(u,1/2.4)-.055:u*=12.92;var c=a;c<s&&(c=s),c<u&&(c=u),c>1&&(a/=c,s/=c,u/=c),a<0&&(a=0),s<0&&(s=0),u<0&&(u=0),t[0]=a,t[1]=s,t[2]=u}function Jt(e,t){var n=g(e,3),r=n[0],o=n[1],i=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,o>.04045?o=Math.pow((o+.055)/1.055,2.4):o/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,t[0]=.4124*r+.3576*o+.1805*i,t[1]=.2126*r+.7152*o+.0722*i,t[2]=.0193*r+.1192*o+.9505*i}function $t(e,t){var n=[0,0,0];Jt(e,n),Yt(n,t)}function Qt(e,t){var n=[0,0,0];Xt(e,n),Zt(n,t)}function en(e){e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1}function tn(e){return!(e[1]-e[0]<0)}function nn(e,t,n){n[0]=Math.min(e[0],t[0]),n[1]=Math.max(e[0],t[0]),n[2]=Math.min(e[1],t[1]),n[3]=Math.max(e[1],t[1]),n[4]=Math.min(e[2],t[2]),n[5]=Math.max(e[2],t[2])}function rn(e,t,n){return e<t?t:e>n?n:e}function on(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r[0]=rn(e[0],t[0],n[0]),r[1]=rn(e[1],t[1],n[1]),r[2]=rn(e[2],t[2],n[2]),r}function an(e,t){var n=0;return t[0]!==t[1]&&(n=((n=e<t[0]?t[0]:e>t[1]?t[1]:e)-t[0])/(t[1]-t[0])),n}var sn=xe("GetScalarTypeFittingRange"),un=xe("GetAdjustedScalarRange");function cn(e,t){if(!e||!t)return 0;for(var n=0;n<6;n+=2)if(e[n]<t[n]||e[n]>t[n+1]||e[n+1]<t[n]||e[n+1]>t[n+1])return 0;return 1}function ln(e,t,n){if(!e||!t)return 0;for(var r=0;r<6;r+=2)if(e[r]+n[r/2]<t[r]||e[r]-n[r/2]>t[r+1]||e[r+1]+n[r/2]<t[r]||e[r+1]-n[r/2]>t[r+1])return 0;return 1}function fn(e,t,n){if(!e||!t||!n)return 0;for(var r=0;r<3;r++)if(e[r]+n[r]<t[2*r]||e[r]-n[r]>t[2*r+1])return 0;return 1}function dn(e,t,n,r){for(var o=Se(3),i=Se(3),a=Se(3),s=Se(3),u=Se(3),c=Se(3),l=0;l<3;++l)o[l]=e[l]-t[l],i[l]=t[l]-n[l],a[l]=n[l]-e[l],s[l]=-o[l],u[l]=-i[l],c[l]=-a[l];var f=tt(s),d=tt(u),p=tt(a),h=Se(3);et(o,i,h);for(var m=tt(h),g=f*d*p/(2*m),v=2*m*m,y=d*d*$e(o,c)/v,b=p*p*$e(s,i)/v,w=f*f*$e(a,u)/v,x=0;x<3;++x)r[x]=y*e[x]+b*t[x]+w*n[x];return g}var pn=1/0,hn=-1/0,mn=function(e){return!Number.isFinite(e)},gn=Number.isFinite,vn=Number.isNaN,yn=vn;function bn(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function wn(e){for(var t=-1,n=-1,r=0;r<e.length;r++){var o=Math.abs(e[r]);o>t&&(n=r,t=o)}return n}function xn(e){var t=Math.floor(255*e);return t>15?t.toString(16):"0".concat(t.toString(16))}function Cn(e){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#").concat(e.map(xn).join(""))}function Sn(e){return Math.round(255*e)}function An(e){return 3===e.length?"rgb(".concat(e.map(Sn).join(", "),")"):"rgba(".concat(Sn(e[0]||0),", ").concat(Sn(e[1]||0),", ").concat(Sn(e[2]||0),", ").concat(e[3]||0,")")}var _n={Pi:Ae,radiansFromDegrees:_e,degreesFromRadians:Pe,round:Oe,floor:Ee,ceil:Te,ceilLog2:Re,min:De,max:Ie,arrayMin:ke,arrayMax:Me,arrayRange:Ne,isPowerOfTwo:Fe,nearestPowerOfTwo:Le,factorial:Be,binomial:je,beginCombination:Ve,nextCombination:Ue,randomSeed:ze,getSeed:Ge,random:We,gaussian:He,add:qe,subtract:Ke,multiplyScalar:Xe,multiplyScalar2D:Ye,multiplyAccumulate:Ze,multiplyAccumulate2D:Je,dot:$e,outer:Qe,cross:et,norm:tt,normalize:nt,perpendiculars:rt,projectVector:ot,projectVector2D:at,distance2BetweenPoints:st,angleBetweenVectors:ut,gaussianAmplitude:lt,gaussianWeight:ft,dot2D:it,outer2D:dt,norm2D:pt,normalize2D:ht,determinant2x2:mt,LUFactor3x3:gt,LUSolve3x3:vt,linearSolve3x3:yt,multiply3x3_vect3:bt,multiply3x3_mat3:wt,multiplyMatrix:xt,transpose3x3:Ct,invert3x3:St,identity3x3:At,determinant3x3:_t,quaternionToMatrix3x3:Pt,areEquals:Ot,areMatricesEqual:Et,roundNumber:Tt,roundVector:Dt,matrix3x3ToQuaternion:kt,multiplyQuaternion:Mt,orthogonalize3x3:Nt,diagonalize3x3:Rt,singularValueDecomposition3x3:Bt,solveLinearSystem:jt,invertMatrix:Vt,luFactorLinearSystem:Lt,luSolveLinearSystem:Ft,estimateMatrixCondition:Ut,jacobi:zt,jacobiN:It,solveHomogeneousLeastSquares:Gt,solveLeastSquares:Wt,hex2float:Ht,rgb2hsv:qt,hsv2rgb:Kt,lab2xyz:Xt,xyz2lab:Yt,xyz2rgb:Zt,rgb2xyz:Jt,rgb2lab:$t,lab2rgb:Qt,uninitializeBounds:en,areBoundsInitialized:tn,computeBoundsFromPoints:nn,clampValue:rn,clampVector:on,clampAndNormalizeValue:an,getScalarTypeFittingRange:sn,getAdjustedScalarRange:un,extentIsWithinOtherExtent:cn,boundsIsWithinOtherBounds:ln,pointIsWithinBounds:fn,solve3PointCircle:dn,inf:pn,negInf:hn,isInf:mn,isNan:vn,isNaN:vn,isFinite:gn,createUninitializedBounds:bn,getMajorAxisIndex:wn,floatToHex2:xn,floatRGB2HexCode:Cn,float2CssRGBA:An};function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=[];function Tn(){var e=Number.MAX_VALUE,t=-Number.MAX_VALUE,n=0,r=0;return{add:function(o){e>o&&(e=o),t<o&&(t=o),n++,r+=o},get:function(){return{min:e,max:t,count:n,sum:r,mean:r/n}},getRange:function(){return{min:e,max:t}}}}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Tn(),o=e.length,i=0;if(t<0&&n>1){for(var a=0;a<o;a+=n){i=0;for(var s=0;s<n;s++)i+=e[a+s]*e[a+s];i=Math.pow(i,.5),r.add(i)}return r.getRange()}for(var u=t<0?0:t;u<o;u+=n)r.add(e[u]);return r.getRange()}function In(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||[];n.length<=t;)n.push(null);return n}function kn(e){return Object.prototype.toString.call(e).slice(8,-1)}var Mn={computeRange:Dn,createRangeHelper:Tn,getDataType:kn,getMaxNorm:function(e){for(var t=e.getNumberOfComponents(),n=0,r=0;r<e.getNumberOfTuples();++r){var o=tt(e.getTuple(r),t);o>n&&(n=o)}return n}};function Nn(e,t){function n(){t.ranges=null,e.modified()}t.classHierarchy.push("vtkDataArray"),e.getElementComponentSize=function(){return t.values.BYTES_PER_ELEMENT},e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(e,r,o){o!==t.values[e*t.numberOfComponents+r]&&(t.values[e*t.numberOfComponents+r]=o,n())},e.getData=function(){return t.values},e.getRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=e<0?t.numberOfComponents:e,r=null;return t.ranges||(t.ranges=In(t.ranges,t.numberOfComponents)),(r=t.ranges[n])?(t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple):(r=Dn(t.values,e,t.numberOfComponents),t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple)},e.setRange=function(e,n){t.ranges||(t.ranges=In(t.ranges,t.numberOfComponents));var r={min:e.min,max:e.max};return t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple},e.setTuple=function(e,n){for(var r=e*t.numberOfComponents,o=0;o<t.numberOfComponents;o++)t.values[r+o]=n[o]},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,r=t.numberOfComponents||1;n.length!==r&&(n.length=r);var o=e*r;if(1===r)n[0]=t.values[o];else if(2===r)n[0]=t.values[o],n[1]=t.values[o+1];else if(3===r)n[0]=t.values[o],n[1]=t.values[o+1],n[2]=t.values[o+2];else if(4===r)n[0]=t.values[o],n[1]=t.values[o+1],n[2]=t.values[o+2],n[3]=t.values[o+3];else for(var i=0;i<r;i++)n[i]=t.values[o+i];return n},e.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return Ln({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkDataArray".concat(e.getMTime())),t.name},e.setData=function(e,r){t.values=e,t.size=e.length,t.dataType=kn(e),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),n()},e.getState=function(){var n=On(On({},t),{},{vtkClass:e.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach((function(e){n[e]||delete n[e]}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r}}var Rn={name:"",numberOfComponents:1,size:0,dataType:he.DefaultDataType,rangeTuple:[0,0]};function Bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,Rn,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=F(t.dataType,t.values)):t.values=L(t.dataType,t.size),t.values&&(t.size=t.values.length,t.dataType=kn(t.values)),W(e,t),X(e,t,["name","numberOfComponents"]),Nn(e,t)}var Ln=ne(Bn,"vtkDataArray"),Fn=On(On({newInstance:Ln,extend:Bn},Mn),he);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e){var t=0;return e.filter((function(e,n){return n===t&&(t+=e+1,!0)}))}var zn={extractCellSizes:Un,getNumberOfCells:function(e){return Un(e).length}};function Gn(e,t){t.classHierarchy.push("vtkCellArray"),e.getNumberOfCells=function(e){return void 0===t.numberOfCells||e?(t.cellSizes=Un(t.values),t.numberOfCells=t.cellSizes.length,t.numberOfCells):t.numberOfCells},e.getCellSizes=function(e){return void 0===t.cellSizes||e?(t.cellSizes=Un(t.values),t.cellSizes):t.cellSizes};var n=e.setData;e.setData=function(e){n(e,1),t.numberOfCells=void 0,t.cellSizes=void 0},e.getCell=function(e){var n=e,r=t.values[n++];return t.values.subarray(n,n+r)}}function Wn(e){return Vn({empty:!0,numberOfComponents:1,dataType:pe.UNSIGNED_INT},e)}function Hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Fn.extend(e,t,Wn(n)),Gn(e,t)}var qn=Vn({newInstance:fe.newInstance(Hn,"vtkCellArray"),extend:Hn},zn);function Kn(){var e=new ArrayBuffer(4),t=new Uint8Array(e),n=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===n[0]?"LittleEndian":2712847316===n[0]?"BigEndian":null}var Xn={ENDIANNESS:Kn(),getEndianness:Kn,swapBytes:function(e,t){if(!(t<2))for(var n=new Int8Array(e),r=n.length,o=[],i=0;i<r;i+=t){for(var a=0;a<t;a++)o.push(n[i+a]);for(var s=0;s<t;s++)n[i+s]=o.pop()}}};function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),e}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qn=1e-6,er="coincide",tr="disjoint";function nr(e,t,n){var r=n[0]*(e[0]-t[0])+n[1]*(e[1]-t[1])+n[2]*(e[2]-t[2]);return Math.abs(r)}function rr(e,t,n,r){var o=[];Ke(e,t,o);var i=$e(n,o);r[0]=e[0]-i*n[0],r[1]=e[1]-i*n[1],r[2]=e[2]-i*n[2]}function or(e,t,n){var r=$e(e,t),o=$e(t,t);return 0===o&&(o=1),n[0]=e[0]-r*t[0]/o,n[1]=e[1]-r*t[1]/o,n[2]=e[2]-r*t[2]/o,n}function ir(e,t,n,r){var o=[];Ke(e,t,o);var i=$e(n,o),a=$e(n,n);0!==a?(r[0]=e[0]-i*n[0]/a,r[1]=e[1]-i*n[1]/a,r[2]=e[2]-i*n[2]/a):(r[0]=e[0],r[1]=e[1],r[2]=e[2])}function ar(e,t,n,r){var o={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],a=[];Ke(t,e,i),Ke(n,e,a);var s=$e(r,a),u=$e(r,i);return(u<0?-u:u)<=(s<0?-s*Qn:s*Qn)||(o.t=s/u,o.x[0]=e[0]+o.t*i[0],o.x[1]=e[1]+o.t*i[1],o.x[2]=e[2]+o.t*i[2],o.intersection=!0,o.betweenPoints=o.t>=0&&o.t<=1),o}function sr(e,t,n,r){var o={intersection:!1,l0:[],l1:[],error:null},i=[];et(t,r,i);var a,s=i.map((function(e){return Math.abs(e)}));if(s[0]+s[1]+s[2]<Qn){var u=[];return Ke(e,n,u),0===$e(t,u)?o.error=er:o.error=tr,o}a=s[0]>s[1]&&s[0]>s[2]?"x":s[1]>s[2]?"y":"z";var c=[],l=-$e(t,e),f=-$e(r,n);switch(a){case"x":c[0]=0,c[1]=(f*t[2]-l*r[2])/i[0],c[2]=(l*r[1]-f*t[1])/i[0];break;case"y":c[0]=(l*r[2]-f*t[2])/i[1],c[1]=0,c[2]=(f*t[0]-l*r[0])/i[1];break;case"z":c[0]=(f*t[1]-l*r[1])/i[2],c[1]=(l*r[0]-f*t[0])/i[2],c[2]=0}return o.l0=c,qe(c,i,o.l1),o.intersection=!0,o}var ur={evaluate:function(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])},distanceToPlane:nr,projectPoint:rr,projectVector:or,generalizedProjectPoint:ir,intersectWithLine:ar,intersectWithPlane:sr,DISJOINT:tr,COINCIDE:er};function cr(e,t){t.classHierarchy.push("vtkPlane"),e.distanceToPlane=function(e){return nr(e,t.origin,t.normal)},e.projectPoint=function(e,n){rr(e,t.origin,t.normal,n)},e.projectVector=function(e,n){return or(e,t.normal,n)},e.push=function(e){if(0!==e)for(var n=0;n<3;n++)t.origin[n]+=e*t.normal[n]},e.generalizedProjectPoint=function(e,n){ir(e,t.origin,t.normal,n)},e.evaluateFunction=function(e,n,r){return Array.isArray(e)?t.normal[0]*(e[0]-t.origin[0])+t.normal[1]*(e[1]-t.origin[1])+t.normal[2]*(e[2]-t.origin[2]):t.normal[0]*(e-t.origin[0])+t.normal[1]*(n-t.origin[1])+t.normal[2]*(r-t.origin[2])},e.evaluateGradient=function(e){return[t.normal[0],t.normal[1],t.normal[2]]},e.intersectWithLine=function(e,n){return ar(e,n,t.origin,t.normal)},e.intersectWithPlane=function(e,n){return sr(e,n,t.origin,t.normal)}}var lr={normal:[0,0,1],origin:[0,0,0]};function fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lr,n),fe.obj(e,t),fe.setGetArray(e,t,["normal","origin"],3),cr(e,t)}var dr=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(fr,"vtkPlane"),extend:fr},ur);function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var hr=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function mr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function gr(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function vr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function yr(e){return vr(e,hr)}function br(e){var t=g(e,6),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5];e[0]=n<(arguments.length<=1?void 0:arguments[1])?n:arguments.length<=1?void 0:arguments[1],e[1]=r>(arguments.length<=1?void 0:arguments[1])?r:arguments.length<=1?void 0:arguments[1],e[2]=o<(arguments.length<=2?void 0:arguments[2])?o:arguments.length<=2?void 0:arguments[2],e[3]=i>(arguments.length<=2?void 0:arguments[2])?i:arguments.length<=2?void 0:arguments[2],e[4]=a<(arguments.length<=3?void 0:arguments[3])?a:arguments.length<=3?void 0:arguments[3],e[5]=s>(arguments.length<=3?void 0:arguments[3])?s:arguments.length<=3?void 0:arguments[3]}function wr(e,t,n,r,o,i,a){var s=g(e,6),u=s[0],c=s[1],l=s[2],f=s[3],d=s[4],p=s[5];void 0===a?(e[0]=Math.min(t[0],u),e[1]=Math.max(t[1],c),e[2]=Math.min(t[2],l),e[3]=Math.max(t[3],f),e[4]=Math.min(t[4],d),e[5]=Math.max(t[5],p)):(e[0]=Math.min(t,u),e[1]=Math.max(n,c),e[2]=Math.min(r,l),e[3]=Math.max(o,f),e[4]=Math.min(i,d),e[5]=Math.max(a,p))}function xr(e,t,n,r){var o=g(e,6),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],l=o[5];return e[0]=t,e[1]=t>a?t:a,e[2]=n,e[3]=n>u?n:u,e[4]=r,e[5]=r>l?r:l,i!==t||s!==n||c!==r}function Cr(e,t,n,r){var o=g(e,6),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],l=o[5];return e[0]=t<i?t:i,e[1]=t,e[2]=n<s?n:s,e[3]=n,e[4]=r<c?r:c,e[5]=r,a!==t||u!==n||l!==r}function Sr(e,t){e[0]-=t,e[1]+=t,e[2]-=t,e[3]+=t,e[4]-=t,e[5]+=t}function Ar(e,t,n,r){return!!gr(e)&&(t>=0?(e[0]*=t,e[1]*=t):(e[0]=t*e[1],e[1]=t*e[0]),n>=0?(e[2]*=n,e[3]*=n):(e[2]=n*e[3],e[3]=n*e[2]),r>=0?(e[4]*=r,e[5]*=r):(e[4]=r*e[5],e[5]=r*e[4]),!0)}function _r(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function Pr(e,t){return e[2*t+1]-e[2*t]}function Or(e){return[Pr(e,0),Pr(e,1),Pr(e,2)]}function Er(e){return e.slice(0,2)}function Tr(e){return e.slice(2,4)}function Dr(e){return e.slice(4,6)}function Ir(e){var t=Or(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function kr(e){if(gr(e)){var t=Or(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function Mr(e){return[e[0],e[2],e[4]]}function Nr(e){return[e[1],e[3],e[5]]}function Rr(e,t){return e<=0&&t>=0||e>=0&&t<=0}function Br(e,t){for(var n=0,r=0;r<2;r++)for(var o=2;o<4;o++)for(var i=4;i<6;i++)t[n]=[e[r],e[o],e[i]],n++}function Lr(e,t,n){t[0]=e[0],t[1]=e[2],t[2]=e[4],n[0]=e[1],n[1]=e[3],n[2]=e[5]}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_r(e);return t[0]=e[1]-n[0],t[1]=e[3]-n[1],t[2]=e[5]-n[2],t}function jr(e,t,n,r){for(var o=[].concat(hr),i=e.getData(),a=0;a<i.length;a+=3){var s=[i[a],i[a+1],i[a+2]],u=$e(s,t);o[0]=Math.min(u,o[0]),o[1]=Math.max(u,o[1]);var c=$e(s,n);o[2]=Math.min(c,o[2]),o[3]=Math.max(c,o[3]);var l=$e(s,r);o[4]=Math.min(l,o[4]),o[5]=Math.max(l,o[5])}return o}function Vr(e,t,n,r,o){for(var i=!0,a=[],s=0,u=[],c=[0,0,0],l=0;l<3;l++)t[l]<e[2*l]?(a[l]=1,c[l]=e[2*l],i=!1):t[l]>e[2*l+1]?(a[l]=0,c[l]=e[2*l+1],i=!1):a[l]=2;if(i)return r[0]=t[0],r[1]=t[1],r[2]=t[2],o[0]=0,1;for(var f=0;f<3;f++)2!==a[f]&&0!==n[f]?u[f]=(c[f]-t[f])/n[f]:u[f]=-1;for(var d=0;d<3;d++)u[s]<u[d]&&(s=d);if(u[s]>1||u[s]<0)return 0;o[0]=u[s];for(var p=0;p<3;p++)if(s!==p){if(r[p]=t[p]+u[s]*n[p],r[p]<e[2*p]||r[p]>e[2*p+1])return 0}else r[p]=c[p];return 1}function Ur(e,t,n){for(var r=[],o=0,i=1,a=1,s=4;s<=5;++s){r[2]=e[s];for(var u=2;u<=3;++u){r[1]=e[u];for(var c=0;c<=1;++c)if(r[0]=e[c],o=dr.evaluate(n,t,r),a&&(i=o>=0?1:-1,a=0),0===o||i>0&&o<0||i<0&&o>0)return 1}}return 0}function zr(e,t){if(!gr(e)||!gr(t))return!1;for(var n,r=[0,0,0,0,0,0],o=0;o<3;o++)if(n=!1,t[2*o]>=e[2*o]&&t[2*o]<=e[2*o+1]?(n=!0,r[2*o]=t[2*o]):e[2*o]>=t[2*o]&&e[2*o]<=t[2*o+1]&&(n=!0,r[2*o]=e[2*o]),t[2*o+1]>=e[2*o]&&t[2*o+1]<=e[2*o+1]?(n=!0,r[2*o+1]=t[2*o+1]):e[2*o+1]>=t[2*o]&&e[2*o+1]<=t[2*o+1]&&(n=!0,r[2*o+1]=e[2*o+1]),!n)return!1;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],!0}function Gr(e,t){if(!gr(e)||!gr(t))return!1;for(var n=0;n<3;n++)if(!(t[2*n]>=e[2*n]&&t[2*n]<=e[2*n+1]||e[2*n]>=t[2*n]&&e[2*n]<=t[2*n+1]||t[2*n+1]>=e[2*n]&&t[2*n+1]<=e[2*n+1]||e[2*n+1]>=t[2*n]&&e[2*n+1]<=t[2*n+1]))return!1;return!0}function Wr(e,t,n,r){return!(t<e[0]||t>e[1]||n<e[2]||n>e[3]||r<e[4]||r>e[5])}function Hr(e,t,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0],i=0,a=0;a<2;a++)for(var s=2;s<4;s++)for(var u=4;u<6;u++){var c=[e[a],e[s],e[u]];o[i++]=dr.evaluate(n,t,c)}for(var l=2;l--&&!(Rr(o[r[l][0]],o[r[l][4]])&&Rr(o[r[l][1]],o[r[l][5]])&&Rr(o[r[l][2]],o[r[l][6]])&&Rr(o[r[l][3]],o[r[l][7]])););if(l<0)return!1;for(var f=Math.sign(n[l]),d=Math.abs((e[2*l+1]-e[2*l])*n[l]),p=f>0?1:0,h=0;h<4;h++)if(0!==d){var m=Math.abs(o[r[l][h]])/d;f>0&&m<p&&(p=m),f<0&&m>p&&(p=m)}var g=(1-p)*e[2*l]+p*e[2*l+1];return f>0?e[2*l]=g:e[2*l+1]=g,!0}var qr=function(){function e(t){Yn(this,e),this.bounds=t,this.bounds||(this.bounds=new Float64Array(6),vr(this.bounds,hr))}return Jn(e,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(e){return mr(this.bounds,e)}},{key:"isValid",value:function(){return gr(this.bounds)}},{key:"setBounds",value:function(e){return vr(this.bounds,e)}},{key:"reset",value:function(){return yr(this.bounds)}},{key:"addPoint",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return br(this.bounds,t)}},{key:"addBounds",value:function(e,t,n,r,o,i){return wr(this.bounds,e,t,n,r,o,i)}},{key:"setMinPoint",value:function(e,t,n){return xr(this.bounds,e,t,n)}},{key:"setMaxPoint",value:function(e,t,n){return Cr(this.bounds,e,t,n)}},{key:"inflate",value:function(e){return Sr(this.bounds,e)}},{key:"scale",value:function(e,t,n){return Ar(this.bounds,e,t,n)}},{key:"getCenter",value:function(){return _r(this.bounds)}},{key:"getLength",value:function(e){return Pr(this.bounds,e)}},{key:"getLengths",value:function(){return Or(this.bounds)}},{key:"getMaxLength",value:function(){return Ir(this.bounds)}},{key:"getDiagonalLength",value:function(){return kr(this.bounds)}},{key:"getMinPoint",value:function(){return Mr(this.bounds)}},{key:"getMaxPoint",value:function(){return Nr(this.bounds)}},{key:"getXRange",value:function(){return Er(this.bounds)}},{key:"getYRange",value:function(){return Tr(this.bounds)}},{key:"getZRange",value:function(){return Dr(this.bounds)}},{key:"getCorners",value:function(e){return Br(this.bounds,e)}},{key:"computeCornerPoints",value:function(e,t){return Lr(this.bounds,e,t)}},{key:"computeLocalBounds",value:function(e,t,n){return jr(this.bounds,e,t,n)}},{key:"computeScale3",value:function(e){return Fr(this.bounds,e)}},{key:"cutWithPlane",value:function(e,t){return Hr(this.bounds,e,t)}},{key:"intersectBox",value:function(e,t,n,r){return Vr(this.bounds,e,t,n,r)}},{key:"intersectPlane",value:function(e,t){return Ur(this.bounds,e,t)}},{key:"intersect",value:function(e){return zr(this.bounds,e)}},{key:"intersects",value:function(e){return Gr(this.bounds,e)}},{key:"containsPoint",value:function(e,t,n){return Wr(this.bounds,e,t,n)}},{key:"contains",value:function(e){return Gr(this.bounds,e)}}]),e}(),Kr={equals:mr,isValid:gr,setBounds:vr,reset:yr,addPoint:br,addBounds:wr,setMinPoint:xr,setMaxPoint:Cr,inflate:Sr,scale:Ar,getCenter:_r,getLength:Pr,getLengths:Or,getMaxLength:Ir,getDiagonalLength:kr,getMinPoint:Mr,getMaxPoint:Nr,getXRange:Er,getYRange:Tr,getZRange:Dr,getCorners:Br,computeCornerPoints:Lr,computeLocalBounds:jr,computeScale3:Fr,cutWithPlane:Hr,intersectBox:Vr,intersectPlane:Ur,intersect:zr,intersects:Gr,containsPoint:Wr,contains:function(e,t){return!!Gr(e,t)&&!!Wr.apply(void 0,[e].concat(y(Mr(t))))&&!!Wr.apply(void 0,[e].concat(y(Nr(t))))},INIT_BOUNDS:hr},Xr=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:function(e){var t=e&&e.bounds;return new qr(t)}},Kr);function Yr(e,t){t.classHierarchy.push("vtkFieldData");var n=e.getState;t.arrays&&(t.arrays=t.arrays.map((function(e){return{data:A(e.data)}}))),e.initialize=function(){e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=function(){t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=function(n){e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map((function(e){return e})),t.arrays=n.arrays().map((function(e){return{array:e}}))},e.getNumberOfArrays=function(){return t.arrays.length},e.getNumberOfActiveArrays=function(){return t.arrays.length},e.addArray=function(e){return t.arrays=[].concat(t.arrays,{data:e}),t.arrays.length-1},e.removeAllArrays=function(){t.arrays=[]},e.removeArray=function(e){t.arrays=t.arrays.filter((function(t){return e!==t.data.getName()}))},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter((function(t,n){return n!==e}))},e.getArrays=function(){return t.arrays.map((function(e){return e.data}))},e.getArray=function(t){return"number"==typeof t?e.getArrayByIndex(t):e.getArrayByName(t)},e.getArrayByName=function(e){return t.arrays.reduce((function(t,n,r){return n.data.getName()===e?n.data:t}),null)},e.getArrayWithIndex=function(e){return t.arrays.reduce((function(t,n,r){return n.data&&n.data.getName()===e?{array:n.data,index:r}:t}),{array:null,index:-1})},e.getArrayByIndex=function(e){return e>=0&&e<t.arrays.length?t.arrays[e].data:null},e.hasArray=function(t){return e.getArrayWithIndex(t).index>=0},e.getArrayName=function(e){var n=t.arrays[e];return n?n.data.getName():""},e.getCopyFieldFlags=function(){return t.copyFieldFlags},e.getFlag=function(e){return t.copyFieldFlags[e]},e.passData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach((function(n){var i=e.getFlag(n.getName());if(!1!==i&&(!t.doCopyAllOff||!0===i)&&n){var a=e.getArrayByName(n.getName());if(a){if(n.getNumberOfComponents()===a.getNumberOfComponents())if(r>-1&&r<n.getNumberOfTuples()){var s=o>-1?o:r;a.setTuple(s,n.getTuple(r))}else for(var u=0;u<n.getNumberOfTuples();++u)a.setTuple(u,n.getTuple(u))}else if(r<0||r>n.getNumberOfTuples())e.addArray(n);else{var c=n.getNumberOfComponents(),l=n.getNumberOfValues(),f=o>-1?o:r;l<f*c&&(l=(f+1)*c),(a=Fn.newInstance({name:n.getName(),dataType:n.getDataType(),numberOfComponents:n.getNumberOfComponents(),size:l})).setTuple(f,n.getTuple(r)),e.addArray(a)}}}))},e.copyFieldOn=function(e){t.copyFieldFlags[e]=!0},e.copyFieldOff=function(e){t.copyFieldFlags[e]=!1},e.copyAllOn=function(){t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=function(){!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=function(){t.copyFieldFlags={}},e.deepCopy=function(e){t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.deepCopy(e),{data:t}}))},e.copyFlags=function(e){return e.getCopyFieldFlags().map((function(e){return e}))},e.reset=function(){return t.arrays.forEach((function(e){return e.data.reset()}))},e.getMTime=function(){return t.arrays.reduce((function(e,t){return t.data.getMTime()>e?t.data.getMTime():e}),t.mtime)},e.getNumberOfComponents=function(){return t.arrays.reduce((function(e,t){return e+t.data.getNumberOfComponents()}),0)},e.getNumberOfTuples=function(){return t.arrays.length>0?t.arrays[0].getNumberOfTuples():0},e.getState=function(){var e=n();return e.arrays=t.arrays.map((function(e){return{data:e.data.getState()}})),e}}var Zr={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Zr,n),fe.obj(e,t),Yr(e,t)}var $r={newInstance:fe.newInstance(Jr,"vtkFieldData"),extend:Jr},Qr={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},eo={DEFAULT:0,SINGLE:1,DOUBLE:2},to={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:Qr,CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:eo,PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"};function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ro=to.AttributeTypes,oo=to.AttributeCopyOperations,io=fe.vtkWarningMacro;function ao(e,t){var n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(e){var t=n.find((function(t){return ro[t.toUpperCase()]===e||"number"!=typeof e&&t.toLowerCase()===e.toLowerCase()}));return void 0===t&&(t=null),t}t.classHierarchy.push("vtkDataSetAttributes"),e.checkNumberOfComponents=function(e){return!0},e.setAttribute=function(n,o){var i=r(o);if(n&&"PEDIGREEIDS"===i.toUpperCase()&&!n.isA("vtkDataArray"))return io("Cannot set attribute ".concat(i,". The attribute must be a vtkDataArray.")),-1;if(n&&!e.checkNumberOfComponents(n,i))return io("Cannot set attribute ".concat(i,". Incorrect number of components.")),-1;var a=t["active".concat(i)];if(a>=0&&a<t.arrays.length){if(t.arrays[a]===n)return a;e.removeArrayByIndex(a)}return n?(a=e.addArray(n),t["active".concat(i)]=a):t["active".concat(i)]=-1,e.modified(),t["active".concat(i)]},e.setActiveAttributeByName=function(t,n){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e.setActiveAttributeByIndex=function(n,o){var i=r(o);if(n>=0&&n<t.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){var a=e.getArrayByIndex(n);if(!a.isA("vtkDataArray"))return io("Cannot set attribute ".concat(i,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!e.checkNumberOfComponents(a,i))return io("Cannot set attribute ".concat(i,". Incorrect number of components.")),-1}return t["active".concat(i)]=n,e.modified(),n}return-1===n&&(t["active".concat(i)]=n,e.modified()),-1},e.getActiveAttribute=function(t){var n=r(t);return e["get".concat(n)]()},e.removeAllArrays=function(){t.arrays=[],n.forEach((function(e){t["active".concat(e)]=-1}))},e.removeArray=function(e){t.arrays=t.arrays.filter((function(r,o){return e!==r.data.getName()||(n.forEach((function(e){o===t["active".concat(e)]&&(t["active".concat(e)]=-1)})),!1)}))},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter((function(t,n){return n!==e})),n.forEach((function(n){e===t["active".concat(n)]&&(t["active".concat(n)]=-1)}))},n.forEach((function(n){var r="active".concat(n);e["get".concat(n)]=function(){return e.getArrayByIndex(t[r])},e["set".concat(n)]=function(t){return e.setAttribute(t,n)},e["setActive".concat(n)]=function(t){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e["copy".concat(n,"Off")]=function(){var e=n.toUpperCase();t.copyAttributeFlags[oo.PASSDATA][ro[e]]=!1}})),e.initializeAttributeCopyFlags=function(){t.copyAttributeFlags=[],Object.keys(oo).filter((function(e){return"ALLCOPY"!==e})).forEach((function(e){t.copyAttributeFlags[oo[e]]=Object.keys(ro).filter((function(e){return"NUM_ATTRIBUTES"!==e})).reduce((function(e,t){return e[ro[t]]=!0,e}),[])})),t.copyAttributeFlags[oo.COPYTUPLE][ro.GLOBALIDS]=!1,t.copyAttributeFlags[oo.INTERPOLATE][ro.GLOBALIDS]=!1,t.copyAttributeFlags[oo.COPYTUPLE][ro.PEDIGREEIDS]=!1},e.initialize=fe.chain(e.initialize,e.initializeAttributeCopyFlags),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach((function(n){t.dataArrays[n].ref||"vtkDataArray"!==t.dataArrays[n].type||e.addArray(Fn.newInstance(t.dataArrays[n]))}));var o=e.shallowCopy;e.shallowCopy=function(e,n){o(e,n),t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.shallowCopy(e,n),{data:t}}))},e.initializeAttributeCopyFlags()}var so={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,so,n),$r.extend(e,t,n),fe.setGet(e,t,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),t.arrays||(t.arrays={}),ao(e,t)}var co=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(uo,"vtkDataSetAttributes"),extend:uo},to),lo={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},fo={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7},po={FieldDataTypes:lo,FieldAssociations:fo};function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mo=["pointData","cellData","fieldData"];function go(e,t){t.classHierarchy.push("vtkDataSet"),mo.forEach((function(e){t[e]?t[e]=A(t[e]):t[e]=co.newInstance()}));var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),mo.forEach((function(n){t[n]=co.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))}}var vo={};function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vo,n),fe.obj(e,t),fe.setGet(e,t,mo),go(e,t)}var bo=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(yo,"vtkDataSet"),extend:yo},po),wo={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},xo={StructuredType:wo};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var So=xo.StructuredType,Ao=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getDataDescriptionFromExtent:function(e){for(var t=0,n=0;n<3;++n)e[2*n]<e[2*n+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?So.EMPTY:3===t?So.XYZ_GRID:2===t?e[0]===e[1]?So.YZ_PLANE:e[2]===e[3]?So.XZ_PLANE:So.XY_PLANE:1===t?e[0]<e[1]?So.X_LINE:e[2]<e[3]?So.Y_LINE:So.Z_LINE:So.SINGLE_POINT}},xo),_o=1e-6,Po="undefined"!=typeof Float32Array?Float32Array:Array,Oo=Math.random,Eo=Math.PI/180;function To(e){return e*Eo}function Do(){var e=new Po(3);return Po!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Io(e){var t=new Po(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ko(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Mo(e,t,n){var r=new Po(3);return r[0]=e,r[1]=t,r[2]=n,r}function No(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ro(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Bo(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Lo(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Fo(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function jo(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Vo(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Uo(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function zo(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Go(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Wo(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Ho(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function qo(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function Ko(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.hypot(n,r,o)}function Xo(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function Yo(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function Zo(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Jo(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function $o(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Qo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ei(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2];return e[0]=o*u-i*s,e[1]=i*a-r*u,e[2]=r*s-o*a,e}function ti(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function ni(e,t,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,u=a*(i-2)+i,c=a*(i-1),l=a*(3-2*i);return e[0]=t[0]*s+n[0]*u+r[0]*c+o[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+o[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+o[2]*l,e}function ri(e,t,n,r,o,i){var a=1-i,s=a*a,u=i*i,c=s*a,l=3*i*s,f=3*u*a,d=u*i;return e[0]=t[0]*c+n[0]*l+r[0]*f+o[0]*d,e[1]=t[1]*c+n[1]*l+r[1]*f+o[1]*d,e[2]=t[2]*c+n[2]*l+r[2]*f+o[2]*d,e}function oi(e,t){t=t||1;var n=2*Oo()*Math.PI,r=2*Oo()-1,o=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=r*t,e}function ii(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}function ai(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function si(e,t,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=o*c-i*u,f=i*s-r*c,d=r*u-o*s,p=o*d-i*f,h=i*l-r*d,m=r*f-o*l,g=2*a;return l*=g,f*=g,d*=g,p*=2,h*=2,m*=2,e[0]=s+l+p,e[1]=u+f+h,e[2]=c+d+m,e}function ui(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function ci(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function li(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function fi(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+o*o)*Math.sqrt(i*i+a*a+s*s),c=u&&Qo(e,t)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function di(e){return e[0]=0,e[1]=0,e[2]=0,e}function pi(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function hi(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function mi(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],a=t[1],s=t[2];return Math.abs(n-i)<=_o*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=_o*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=_o*Math.max(1,Math.abs(o),Math.abs(s))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var gi,vi=Lo,yi=Fo,bi=jo,wi=Ko,xi=Xo,Ci=ko,Si=Yo,Ai=(gi=Do(),function(e,t,n,r,o,i){var a,s;for(t||(t=3),n||(n=0),s=r?Math.min(r*t+n,e.length):e.length,a=n;a<s;a+=t)gi[0]=e[a],gi[1]=e[a+1],gi[2]=e[a+2],o(gi,gi,i),e[a]=gi[0],e[a+1]=gi[1],e[a+2]=gi[2];return e});function _i(){var e=new Po(16);return Po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Pi(e){var t=new Po(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Oi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ei(e,t,n,r,o,i,a,s,u,c,l,f,d,p,h,m){var g=new Po(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=o,g[5]=i,g[6]=a,g[7]=s,g[8]=u,g[9]=c,g[10]=l,g[11]=f,g[12]=d,g[13]=p,g[14]=h,g[15]=m,g}function Ti(e,t,n,r,o,i,a,s,u,c,l,f,d,p,h,m,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=d,e[12]=p,e[13]=h,e[14]=m,e[15]=g,e}function Di(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ii(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function ki(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,x=r*u-o*s,C=r*c-i*s,S=o*c-i*u,A=l*m-f*h,_=l*g-d*h,P=l*v-p*h,O=f*g-d*m,E=f*v-p*m,T=d*v-p*g,D=y*T-b*E+w*O+x*P-C*_+S*A;return D?(D=1/D,e[0]=(s*T-u*E+c*O)*D,e[1]=(o*E-r*T-i*O)*D,e[2]=(m*S-g*C+v*x)*D,e[3]=(d*C-f*S-p*x)*D,e[4]=(u*P-a*T-c*_)*D,e[5]=(n*T-o*P+i*_)*D,e[6]=(g*w-h*S-v*b)*D,e[7]=(l*S-d*w+p*b)*D,e[8]=(a*E-s*P+c*A)*D,e[9]=(r*P-n*E-i*A)*D,e[10]=(h*C-m*w+v*y)*D,e[11]=(f*w-l*C-p*y)*D,e[12]=(s*_-a*O-u*A)*D,e[13]=(n*O-r*_+o*A)*D,e[14]=(m*b-h*x-g*y)*D,e[15]=(l*x-f*b+d*y)*D,e):null}function Mi(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],g=t[14],v=t[15];return e[0]=s*(d*v-p*g)-f*(u*v-c*g)+m*(u*p-c*d),e[1]=-(r*(d*v-p*g)-f*(o*v-i*g)+m*(o*p-i*d)),e[2]=r*(u*v-c*g)-s*(o*v-i*g)+m*(o*c-i*u),e[3]=-(r*(u*p-c*d)-s*(o*p-i*d)+f*(o*c-i*u)),e[4]=-(a*(d*v-p*g)-l*(u*v-c*g)+h*(u*p-c*d)),e[5]=n*(d*v-p*g)-l*(o*v-i*g)+h*(o*p-i*d),e[6]=-(n*(u*v-c*g)-a*(o*v-i*g)+h*(o*c-i*u)),e[7]=n*(u*p-c*d)-a*(o*p-i*d)+l*(o*c-i*u),e[8]=a*(f*v-p*m)-l*(s*v-c*m)+h*(s*p-c*f),e[9]=-(n*(f*v-p*m)-l*(r*v-i*m)+h*(r*p-i*f)),e[10]=n*(s*v-c*m)-a*(r*v-i*m)+h*(r*c-i*s),e[11]=-(n*(s*p-c*f)-a*(r*p-i*f)+l*(r*c-i*s)),e[12]=-(a*(f*g-d*m)-l*(s*g-u*m)+h*(s*d-u*f)),e[13]=n*(f*g-d*m)-l*(r*g-o*m)+h*(r*d-o*f),e[14]=-(n*(s*g-u*m)-a*(r*g-o*m)+h*(r*u-o*s)),e[15]=n*(s*d-u*f)-a*(r*d-o*f)+l*(r*u-o*s),e}function Ni(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],h=e[13],m=e[14],g=e[15];return(t*a-n*i)*(f*g-d*m)-(t*s-r*i)*(l*g-d*h)+(t*u-o*i)*(l*m-f*h)+(n*s-r*a)*(c*g-d*p)-(n*u-o*a)*(c*m-f*p)+(r*u-o*s)*(c*h-l*p)}function Ri(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],h=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],w=n[1],x=n[2],C=n[3];return e[0]=b*r+w*s+x*f+C*m,e[1]=b*o+w*u+x*d+C*g,e[2]=b*i+w*c+x*p+C*v,e[3]=b*a+w*l+x*h+C*y,b=n[4],w=n[5],x=n[6],C=n[7],e[4]=b*r+w*s+x*f+C*m,e[5]=b*o+w*u+x*d+C*g,e[6]=b*i+w*c+x*p+C*v,e[7]=b*a+w*l+x*h+C*y,b=n[8],w=n[9],x=n[10],C=n[11],e[8]=b*r+w*s+x*f+C*m,e[9]=b*o+w*u+x*d+C*g,e[10]=b*i+w*c+x*p+C*v,e[11]=b*a+w*l+x*h+C*y,b=n[12],w=n[13],x=n[14],C=n[15],e[12]=b*r+w*s+x*f+C*m,e[13]=b*o+w*u+x*d+C*g,e[14]=b*i+w*c+x*p+C*v,e[15]=b*a+w*l+x*h+C*y,e}function Bi(e,t,n){var r,o,i,a,s,u,c,l,f,d,p,h,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],h=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=p,e[11]=h,e[12]=r*m+s*g+f*v+t[12],e[13]=o*m+u*g+d*v+t[13],e[14]=i*m+c*g+p*v+t[14],e[15]=a*m+l*g+h*v+t[15]),e}function Li(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Fi(e,t,n,r){var o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,x,C,S,A,_,P,O,E=r[0],T=r[1],D=r[2],I=Math.hypot(E,T,D);return I<_o?null:(E*=I=1/I,T*=I,D*=I,o=Math.sin(n),a=1-(i=Math.cos(n)),s=t[0],u=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],h=t[7],m=t[8],g=t[9],v=t[10],y=t[11],b=E*E*a+i,w=T*E*a+D*o,x=D*E*a-T*o,C=E*T*a-D*o,S=T*T*a+i,A=D*T*a+E*o,_=E*D*a+T*o,P=T*D*a-E*o,O=D*D*a+i,e[0]=s*b+f*w+m*x,e[1]=u*b+d*w+g*x,e[2]=c*b+p*w+v*x,e[3]=l*b+h*w+y*x,e[4]=s*C+f*S+m*A,e[5]=u*C+d*S+g*A,e[6]=c*C+p*S+v*A,e[7]=l*C+h*S+y*A,e[8]=s*_+f*P+m*O,e[9]=u*_+d*P+g*O,e[10]=c*_+p*P+v*O,e[11]=l*_+h*P+y*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ji(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+l*r,e[6]=s*o+f*r,e[7]=u*o+d*r,e[8]=c*o-i*r,e[9]=l*o-a*r,e[10]=f*o-s*r,e[11]=d*o-u*r,e}function Vi(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-l*r,e[2]=s*o-f*r,e[3]=u*o-d*r,e[8]=i*r+c*o,e[9]=a*r+l*o,e[10]=s*r+f*o,e[11]=u*r+d*o,e}function Ui(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+l*r,e[2]=s*o+f*r,e[3]=u*o+d*r,e[4]=c*o-i*r,e[5]=l*o-a*r,e[6]=f*o-s*r,e[7]=d*o-u*r,e}function zi(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Gi(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Wi(e,t,n){var r,o,i,a=n[0],s=n[1],u=n[2],c=Math.hypot(a,s,u);return c<_o?null:(a*=c=1/c,s*=c,u*=c,r=Math.sin(t),i=1-(o=Math.cos(t)),e[0]=a*a*i+o,e[1]=s*a*i+u*r,e[2]=u*a*i-s*r,e[3]=0,e[4]=a*s*i-u*r,e[5]=s*s*i+o,e[6]=u*s*i+a*r,e[7]=0,e[8]=a*u*i+s*r,e[9]=s*u*i-a*r,e[10]=u*u*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Hi(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qi(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ki(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Xi(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=r+r,u=o+o,c=i+i,l=r*s,f=r*u,d=r*c,p=o*u,h=o*c,m=i*c,g=a*s,v=a*u,y=a*c;return e[0]=1-(p+m),e[1]=f+y,e[2]=d-v,e[3]=0,e[4]=f-y,e[5]=1-(l+m),e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-(l+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Yi(e,t){var n=new Po(3),r=-t[0],o=-t[1],i=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=r*r+o*o+i*i+a*a;return f>0?(n[0]=2*(s*a+l*r+u*i-c*o)/f,n[1]=2*(u*a+l*o+c*r-s*i)/f,n[2]=2*(c*a+l*i+s*o-u*r)/f):(n[0]=2*(s*a+l*r+u*i-c*o),n[1]=2*(u*a+l*o+c*r-s*i),n[2]=2*(c*a+l*i+s*o-u*r)),Xi(e,t,n),e}function Zi(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Ji(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(i,a,s),e[2]=Math.hypot(u,c,l),e}function $i(e,t){var n=new Po(3);Ji(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],a=t[0]*r,s=t[1]*o,u=t[2]*i,c=t[4]*r,l=t[5]*o,f=t[6]*i,d=t[8]*r,p=t[9]*o,h=t[10]*i,m=a+l+h,g=0;return m>0?(g=2*Math.sqrt(m+1),e[3]=.25*g,e[0]=(f-p)/g,e[1]=(d-u)/g,e[2]=(s-c)/g):a>l&&a>h?(g=2*Math.sqrt(1+a-l-h),e[3]=(f-p)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+u)/g):l>h?(g=2*Math.sqrt(1+l-a-h),e[3]=(d-u)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+p)/g):(g=2*Math.sqrt(1+h-a-l),e[3]=(s-c)/g,e[0]=(d+u)/g,e[1]=(f+p)/g,e[2]=.25*g),e}function Qi(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3],u=o+o,c=i+i,l=a+a,f=o*u,d=o*c,p=o*l,h=i*c,m=i*l,g=a*l,v=s*u,y=s*c,b=s*l,w=r[0],x=r[1],C=r[2];return e[0]=(1-(h+g))*w,e[1]=(d+b)*w,e[2]=(p-y)*w,e[3]=0,e[4]=(d-b)*x,e[5]=(1-(f+g))*x,e[6]=(m+v)*x,e[7]=0,e[8]=(p+y)*C,e[9]=(m-v)*C,e[10]=(1-(f+h))*C,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function ea(e,t,n,r,o){var i=t[0],a=t[1],s=t[2],u=t[3],c=i+i,l=a+a,f=s+s,d=i*c,p=i*l,h=i*f,m=a*l,g=a*f,v=s*f,y=u*c,b=u*l,w=u*f,x=r[0],C=r[1],S=r[2],A=o[0],_=o[1],P=o[2],O=(1-(m+v))*x,E=(p+w)*x,T=(h-b)*x,D=(p-w)*C,I=(1-(d+v))*C,k=(g+y)*C,M=(h+b)*S,N=(g-y)*S,R=(1-(d+m))*S;return e[0]=O,e[1]=E,e[2]=T,e[3]=0,e[4]=D,e[5]=I,e[6]=k,e[7]=0,e[8]=M,e[9]=N,e[10]=R,e[11]=0,e[12]=n[0]+A-(O*A+D*_+M*P),e[13]=n[1]+_-(E*A+I*_+N*P),e[14]=n[2]+P-(T*A+k*_+R*P),e[15]=1,e}function ta(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,c=n*a,l=r*a,f=r*s,d=o*a,p=o*s,h=o*u,m=i*a,g=i*s,v=i*u;return e[0]=1-f-h,e[1]=l+v,e[2]=d-g,e[3]=0,e[4]=l-v,e[5]=1-c-h,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function na(e,t,n,r,o,i,a){var s=1/(n-t),u=1/(o-r),c=1/(i-a);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(o+r)*u,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e}function ra(e,t,n,r,o){var i,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(r-o),e[10]=(o+r)*i,e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r),e}function oa(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(o+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(o-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function ia(e,t,n,r,o,i,a){var s=1/(t-n),u=1/(r-o),c=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*u,e[14]=(a+i)*c,e[15]=1,e}function aa(e,t,n,r){var o,i,a,s,u,c,l,f,d,p,h=t[0],m=t[1],g=t[2],v=r[0],y=r[1],b=r[2],w=n[0],x=n[1],C=n[2];return Math.abs(h-w)<_o&&Math.abs(m-x)<_o&&Math.abs(g-C)<_o?Di(e):(l=h-w,f=m-x,d=g-C,o=y*(d*=p=1/Math.hypot(l,f,d))-b*(f*=p),i=b*(l*=p)-v*d,a=v*f-y*l,(p=Math.hypot(o,i,a))?(o*=p=1/p,i*=p,a*=p):(o=0,i=0,a=0),s=f*a-d*i,u=d*o-l*a,c=l*i-f*o,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),e[0]=o,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=u,e[6]=f,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*h+i*m+a*g),e[13]=-(s*h+u*m+c*g),e[14]=-(l*h+f*m+d*g),e[15]=1,e)}function sa(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=r[0],u=r[1],c=r[2],l=o-n[0],f=i-n[1],d=a-n[2],p=l*l+f*f+d*d;p>0&&(l*=p=1/Math.sqrt(p),f*=p,d*=p);var h=u*d-c*f,m=c*l-s*d,g=s*f-u*l;return(p=h*h+m*m+g*g)>0&&(h*=p=1/Math.sqrt(p),m*=p,g*=p),e[0]=h,e[1]=m,e[2]=g,e[3]=0,e[4]=f*g-d*m,e[5]=d*h-l*g,e[6]=l*m-f*h,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=o,e[13]=i,e[14]=a,e[15]=1,e}function ua(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function ca(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function la(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function fa(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function da(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function pa(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function ha(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ma(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],m=e[13],g=e[14],v=e[15],y=t[0],b=t[1],w=t[2],x=t[3],C=t[4],S=t[5],A=t[6],_=t[7],P=t[8],O=t[9],E=t[10],T=t[11],D=t[12],I=t[13],k=t[14],M=t[15];return Math.abs(n-y)<=_o*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=_o*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-w)<=_o*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-x)<=_o*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-C)<=_o*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(s-S)<=_o*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-A)<=_o*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-_)<=_o*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-P)<=_o*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(f-O)<=_o*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-E)<=_o*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-T)<=_o*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(h-D)<=_o*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(m-I)<=_o*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(g-k)<=_o*Math.max(1,Math.abs(g),Math.abs(k))&&Math.abs(v-M)<=_o*Math.max(1,Math.abs(v),Math.abs(M))}var ga=Ri,va=fa;function ya(){var e=new Po(9);return Po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ba(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function wa(e){var t=new Po(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function xa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ca(e,t,n,r,o,i,a,s,u){var c=new Po(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=a,c[7]=s,c[8]=u,c}function Sa(e,t,n,r,o,i,a,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function Aa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _a(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Pa(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,d=-l*i+s*u,p=c*i-a*u,h=n*f+r*d+o*p;return h?(h=1/h,e[0]=f*h,e[1]=(-l*r+o*c)*h,e[2]=(s*r-o*a)*h,e[3]=d*h,e[4]=(l*n-o*u)*h,e[5]=(-s*n+o*i)*h,e[6]=p*h,e[7]=(-c*n+r*u)*h,e[8]=(a*n-r*i)*h,e):null}function Oa(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=o*c-r*l,e[2]=r*s-o*a,e[3]=s*u-i*l,e[4]=n*l-o*u,e[5]=o*i-n*s,e[6]=i*c-a*u,e[7]=r*u-n*c,e[8]=n*a-r*i,e}function Ea(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-a*u)+n*(-c*o+a*s)+r*(u*o-i*s)}function Ta(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],p=n[1],h=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return e[0]=d*r+p*a+h*c,e[1]=d*o+p*s+h*l,e[2]=d*i+p*u+h*f,e[3]=m*r+g*a+v*c,e[4]=m*o+g*s+v*l,e[5]=m*i+g*u+v*f,e[6]=y*r+b*a+w*c,e[7]=y*o+b*s+w*l,e[8]=y*i+b*u+w*f,e}function Da(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],p=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+p*a+c,e[7]=d*o+p*s+l,e[8]=d*i+p*u+f,e}function Ia(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),p=Math.cos(n);return e[0]=p*r+d*a,e[1]=p*o+d*s,e[2]=p*i+d*u,e[3]=p*a-d*r,e[4]=p*s-d*o,e[5]=p*u-d*i,e[6]=c,e[7]=l,e[8]=f,e}function ka(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ma(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Na(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ra(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ba(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function La(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,c=n*a,l=r*a,f=r*s,d=o*a,p=o*s,h=o*u,m=i*a,g=i*s,v=i*u;return e[0]=1-f-h,e[3]=l-v,e[6]=d+g,e[1]=l+v,e[4]=1-c-h,e[7]=p-m,e[2]=d-g,e[5]=p+m,e[8]=1-c-f,e}function Fa(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,x=r*u-o*s,C=r*c-i*s,S=o*c-i*u,A=l*m-f*h,_=l*g-d*h,P=l*v-p*h,O=f*g-d*m,E=f*v-p*m,T=d*v-p*g,D=y*T-b*E+w*O+x*P-C*_+S*A;return D?(D=1/D,e[0]=(s*T-u*E+c*O)*D,e[1]=(u*P-a*T-c*_)*D,e[2]=(a*E-s*P+c*A)*D,e[3]=(o*E-r*T-i*O)*D,e[4]=(n*T-o*P+i*_)*D,e[5]=(r*P-n*E-i*A)*D,e[6]=(m*S-g*C+v*x)*D,e[7]=(g*w-h*S-v*b)*D,e[8]=(h*C-m*w+v*y)*D,e):null}function ja(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Va(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ua(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function za(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ga(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Wa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ha(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function qa(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Ka(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=t[0],d=t[1],p=t[2],h=t[3],m=t[4],g=t[5],v=t[6],y=t[7],b=t[8];return Math.abs(n-f)<=_o*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=_o*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=_o*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-h)<=_o*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-m)<=_o*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=_o*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-v)<=_o*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-y)<=_o*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=_o*Math.max(1,Math.abs(l),Math.abs(b))}var Xa=Ta,Ya=Ga,Za=fe.vtkErrorMacro;function Ja(e,t){t.classHierarchy.push("vtkImageData"),e.setExtent=function(){if(t.deleted)return Za("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=1===r.length?r[0]:r;if(6!==i.length)return!1;var a=!1;return t.extent.forEach((function(e,t){if(e!==i[t]){if(a)return;a=!0}})),a&&(t.extent=i.slice(),t.dataDescription=Ao.getDataDescriptionFromExtent(t.extent),e.modified()),a},e.setDimensions=function(){var n,r,o;if(t.deleted)Za("instance deleted - cannot call any method");else{if(1===arguments.length){var i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],o=i[2]}else{if(3!==arguments.length)return void Za("Bad dimension specification");n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]}e.setExtent(0,n-1,0,r-1,0,o-1)}},e.getDimensions=function(){return[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]},e.getNumberOfCells=function(){for(var t=e.getDimensions(),n=1,r=0;r<3;r++){if(0===t[r])return 0;t[r]>1&&(n*=t[r]-1)}return n},e.getNumberOfPoints=function(){var t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=function(n){var r=e.getDimensions();if(0===r[0]||0===r[1]||0===r[2])return Za("Requesting a point from an empty image."),null;var o=new Float64Array(3);switch(t.dataDescription){case wo.EMPTY:return null;case wo.SINGLE_POINT:break;case wo.X_LINE:o[0]=n;break;case wo.Y_LINE:o[1]=n;break;case wo.Z_LINE:o[2]=n;break;case wo.XY_PLANE:o[0]=n%r[0],o[1]=n/r[0];break;case wo.YZ_PLANE:o[1]=n%r[1],o[2]=n/r[1];break;case wo.XZ_PLANE:o[0]=n%r[0],o[2]=n/r[0];break;case wo.XYZ_GRID:o[0]=n%r[0],o[1]=n/r[0]%r[1],o[2]=n/(r[0]*r[1]);break;default:Za("Invalid dataDescription")}var i=[0,0,0];return e.indexToWorld(o,i),i},e.getBounds=function(){return e.extentToBounds(t.extent)},e.extentToBounds=function(t){var n=[t[0],t[2],t[4],t[1],t[2],t[4],t[0],t[3],t[4],t[1],t[3],t[4],t[0],t[2],t[5],t[1],t[2],t[5],t[0],t[3],t[5],t[1],t[3],t[5]],r=new Float64Array([n[0],n[1],n[2]]),o=new Float64Array(3);e.indexToWorld(r,o);for(var i=[o[0],o[0],o[1],o[1],o[2],o[2]],a=3;a<24;a+=3)Ro(r,n[a],n[a+1],n[a+2]),e.indexToWorld(r,o),o[0]<i[0]&&(i[0]=o[0]),o[1]<i[2]&&(i[2]=o[1]),o[2]<i[4]&&(i[4]=o[2]),o[0]>i[1]&&(i[1]=o[0]),o[1]>i[3]&&(i[3]=o[1]),o[2]>i[5]&&(i[5]=o[2]);return i},e.computeTransforms=function(){zi(t.indexToWorld,t.origin),t.indexToWorld[0]=t.direction[0],t.indexToWorld[1]=t.direction[1],t.indexToWorld[2]=t.direction[2],t.indexToWorld[4]=t.direction[3],t.indexToWorld[5]=t.direction[4],t.indexToWorld[6]=t.direction[5],t.indexToWorld[8]=t.direction[6],t.indexToWorld[9]=t.direction[7],t.indexToWorld[10]=t.direction[8],Li(t.indexToWorld,t.indexToWorld,t.spacing),ki(t.worldToIndex,t.indexToWorld)},e.setDirection=function(){if(t.deleted)return Za("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r;if(1!==i.length||!Array.isArray(i[0])&&i[0].constructor!==Float32Array&&i[0].constructor!==Float64Array||(i=i[0]),9!==i.length)throw new RangeError("Invalid number of values for array setter");var a=!1;if(t.direction.forEach((function(e,t){if(e!==i[t]){if(a)return;a=!0}})),a){for(var s=0;s<9;++s)t.direction[s]=i[s];e.modified()}return!0},e.indexToWorld=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ii(n,e,t.indexToWorld),n},e.indexToWorldVec3=e.indexToWorld,e.worldToIndex=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ii(n,e,t.worldToIndex),n},e.worldToIndexVec3=e.worldToIndex,e.indexToWorldBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],o=[0,0,0];Xr.computeCornerPoints(e,r,o);var i=[0,0,0],a=[0,0,0];return ii(i,r,t.indexToWorld),ii(a,o,t.indexToWorld),nn(i,a,n),n},e.worldToIndexBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],o=[0,0,0];Xr.computeCornerPoints(e,r,o);var i=[0,0,0],a=[0,0,0];return ii(i,r,t.worldToIndex),ii(a,o,t.worldToIndex),nn(i,a,n),n},e.onModified(e.computeTransforms),e.computeTransforms(),e.getCenter=function(){for(var t=e.getBounds(),n=[],r=0;r<3;r++)n[r]=(t[2*r+1]+t[2*r])/2;return n},e.computeHistogram=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[0,0,0,0,0,0];e.worldToIndexBounds(t,r);var o=[0,0,0],i=[0,0,0];Xr.computeCornerPoints(r,o,i),Dt(o,o),Dt(i,i);var a=e.getDimensions();on(o,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],o),on(i,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],i);for(var s=a[0],u=a[0]*a[1],c=e.getPointData().getScalars().getData(),l=-1/0,f=1/0,d=0,p=0,h=0,m=o[2];m<=i[2];m++)for(var g=o[1];g<=i[1];g++)for(var v=o[0]+g*s+m*u,y=o[0];y<=i[0];y++){if(!n||n([y,g,m],r)){var b=c[v];b>l&&(l=b),b<f&&(f=b),d+=b*b,p+=b,h+=1}++v}var w=h>0?p/h:0,x=d-w*w;return{minimum:f,maximum:l,average:w,variance:x,sigma:Math.sqrt(x)}},e.computeIncrements=function(e){for(var t=[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=0;r<3;++r)t[r]=n,n*=e[2*r+1]-e[2*r]+1;return t},e.computeOffsetIndex=function(t){var n=g(t,3),r=n[0],o=n[1],i=n[2],a=e.getExtent(),s=e.getPointData().getScalars().getNumberOfComponents(),u=e.computeIncrements(a,s);return Math.floor((Math.round(r)-a[0])*u[0]+(Math.round(o)-a[2])*u[1]+(Math.round(i)-a[4])*u[2])},e.getOffsetIndexFromWorld=function(t){for(var n=e.getExtent(),r=e.worldToIndex(t),o=0;o<3;++o)if(r[o]<n[2*o]||r[o]>n[2*o+1])return Za("GetScalarPointer: Pixel ".concat(r," is not in memory. Current extent = ").concat(n)),NaN;return e.computeOffsetIndex(r)},e.getScalarValueFromWorld=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=r)return Za("GetScalarPointer: Scalar Component ".concat(n," is not within bounds. Current Scalar numberOfComponents: ").concat(r)),NaN;var o=e.getOffsetIndexFromWorld(t);return Number.isNaN(o)?o:e.getPointData().getScalars().getComponent(o,n)}}var $a={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:wo.EMPTY};function Qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$a,n),bo.extend(e,t,n),t.direction?Array.isArray(t.direction)&&(t.direction=new Float64Array(t.direction.slice(0,9))):t.direction=Aa(new Float64Array(9)),t.indexToWorld=new Float64Array(16),t.worldToIndex=new Float64Array(16),fe.get(e,t,["direction","indexToWorld","worldToIndex"]),fe.setGetArray(e,t,["origin","spacing"],3),fe.getArray(e,t,["extent"],6),Ja(e,t)}var es={newInstance:fe.newInstance(Qa,"vtkImageData"),extend:Qa};function ts(e){var t=g(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0],4),n=t[0],r=t[1],o=t[2],i=t[3],a=e.getContext("2d").getImageData(n,r,o||e.width,i||e.height),s=es.newInstance({type:"vtkImageData"});s.setOrigin(0,0,0),s.setSpacing(1,1,1),s.setExtent(0,(o||e.width)-1,0,(i||e.height)-1,0,0);var u=Fn.newInstance({numberOfComponents:4,values:new Uint8Array(a.data.buffer)});return u.setName("scalars"),s.getPointData().setScalars(u),s}var ns={canvasToImageData:ts,imageToImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flipX:!1,flipY:!1,rotate:0},n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d"),o=t.flipX,i=t.flipY,a=t.rotate;return r.translate(n.width/2,n.height/2),r.scale(o?-1:1,i?-1:1),r.rotate(a*Math.PI/180),r.drawImage(e,-e.width/2,-e.width/2),ts(n)}},rs={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},os={VectorMode:{MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ScalarMappingTarget:rs},is={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},as={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:is};function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var us=os.ScalarMappingTarget,cs=os.VectorMode,ls=Fn.VtkDataTypes,fs=as.ColorMode,ds=fe.vtkErrorMacro;function ps(e){return e}function hs(e){return Math.floor(255*e+.5)}function ms(e,t){t.classHierarchy.push("vtkScalarsToColors"),e.setVectorModeToMagnitude=function(){return e.setVectorMode(cs.MAGNITUDE)},e.setVectorModeToComponent=function(){return e.setVectorMode(cs.COMPONENT)},e.setVectorModeToRGBColors=function(){return e.setVectorMode(cs.RGBCOLORS)},e.build=function(){},e.isOpaque=function(){return!0},e.setAnnotations=function(n,r){if(!(n&&!r||!n&&r))if(n&&r&&n.length!==r.length)ds("Values and annotations do not have the same number of tuples so ignoring");else{if(t.annotationArray=[],r&&n)for(var o=r.length,i=0;i<o;i++)t.annotationArray.push({value:n[i],annotation:String(r[i])});e.updateAnnotatedValueMap(),e.modified()}},e.setAnnotation=function(n,r){var o=e.checkForAnnotatedValue(n),i=!1;return o>=0?t.annotationArray[o].annotation!==r&&(t.annotationArray[o].annotation=r,i=!0):(t.annotationArray.push({value:n,annotation:r}),o=t.annotationArray.length-1,i=!0),i&&(e.updateAnnotatedValueMap(),e.modified()),o},e.getNumberOfAnnotatedValues=function(){return t.annotationArray.length},e.getAnnotatedValue=function(e){return e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value},e.getAnnotation=function(e){return void 0===t.annotationArray[e]?null:t.annotationArray[e].annotation},e.getAnnotatedValueIndex=function(n){return t.annotationArray.length?e.checkForAnnotatedValue(n):-1},e.removeAnnotation=function(n){var r=e.checkForAnnotatedValue(n),o=r>=0;return o&&(t.annotationArray.splice(r,1),e.updateAnnotatedValueMap(),e.modified()),o},e.resetAnnotations=function(){t.annotationArray=[],t.annotatedValueMap=[],e.modified()},e.getAnnotationColor=function(n,r){if(t.indexedLookup){var o=e.getAnnotatedValueIndex(n);e.getIndexedColor(o,r)}else e.getColor(parseFloat(n),r),r[3]=1},e.checkForAnnotatedValue=function(t){return e.getAnnotatedValueIndexInternal(t)},e.getAnnotatedValueIndexInternal=function(e){if(void 0!==t.annotatedValueMap[e]){var n=t.annotationArray.length;return t.annotatedValueMap[e]%n}return-1},e.getIndexedColor=function(e,t){t[0]=0,t[1]=0,t[2]=0,t[3]=0},e.updateAnnotatedValueMap=function(){t.annotatedValueMap=[];for(var e=t.annotationArray.length,n=0;n<e;n++)t.annotatedValueMap[t.annotationArray[n].value]=n},e.mapScalars=function(t,n,r){var o=t.getNumberOfComponents(),i=null;if(n===fs.DEFAULT&&t.getDataType()===ls.UNSIGNED_CHAR||n===fs.DIRECT_SCALARS&&t)i=e.convertToRGBA(t,o,t.getNumberOfTuples());else{var a={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:ls.UNSIGNED_CHAR},s=fe.newTypedArray(a.dataType,4*t.getNumberOfTuples());a.values=s,a.size=s.length,i=Fn.newInstance(a);var u=r;u<0&&o>1?e.mapVectorsThroughTable(t,i,us.RGBA,-1,-1):(u<0&&(u=0),u>=o&&(u=o-1),e.mapScalarsThroughTable(t,i,us.RGBA,u))}return i},e.mapVectorsToMagnitude=function(e,t,n){for(var r=e.getNumberOfTuples(),o=e.getNumberOfComponents(),i=t.getData(),a=e.getData(),s=0;s<r;s++){for(var u=0,c=0;c<n;c++)u+=a[s*o+c]*a[s*o+c];i[s]=Math.sqrt(u)}},e.mapVectorsThroughTable=function(t,n,r,o,i){var a=e.getVectorMode(),s=i,u=o,c=t.getNumberOfComponents();a===cs.COMPONENT?(-1===u&&(u=e.getVectorComponent()),u<0&&(u=0),u>=c&&(u=c-1)):(-1===s&&(s=e.getVectorSize()),s<=0?(u=0,s=c):(u<0&&(u=0),u>=c&&(u=c-1),u+s>c&&(s=c-u)),a!==cs.MAGNITUDE||1!==c&&1!==s||(a=cs.COMPONENT));var l=0;switch(u>0&&(l=u),a){case cs.COMPONENT:e.mapScalarsThroughTable(t,n,r,l);break;default:case cs.MAGNITUDE:var f=Fn.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,f,s),e.mapScalarsThroughTable(f,n,r,0);break;case cs.RGBCOLORS:}},e.luminanceToRGBA=function(e,t,n,r){for(var o=r(n),i=t.getData(),a=e.getData(),s=i.length,u=0,c=0;c<s;c+=1){var l=r(i[c]);a[4*u]=l,a[4*u+1]=l,a[4*u+2]=l,a[4*u+3]=o,u++}},e.luminanceAlphaToRGBA=function(e,t,n,r){for(var o=t.getData(),i=e.getData(),a=o.length,s=0,u=0;u<a;u+=2){var c=r(o[u]);i[s]=c,i[s+1]=c,i[s+2]=c,i[s+3]=r(o[u+1])*n,s+=4}},e.rGBToRGBA=function(e,t,n,r){for(var o=hs(n),i=t.getData(),a=e.getData(),s=i.length,u=0,c=0;c<s;c+=3)a[4*u]=r(i[c]),a[4*u+1]=r(i[c+1]),a[4*u+2]=r(i[c+2]),a[4*u+3]=o,u++},e.rGBAToRGBA=function(e,t,n,r){for(var o=t.getData(),i=e.getData(),a=o.length,s=0,u=0;u<a;u+=4)i[4*s]=r(o[u]),i[4*s+1]=r(o[u+1]),i[4*s+2]=r(o[u+2]),i[4*s+3]=r(o[u+3])*n,s++},e.convertToRGBA=function(n,r,o){var i=t.alpha;if(4===r&&i>=1&&n.getDataType()===ls.UNSIGNED_CHAR)return n;var a=Fn.newInstance({numberOfComponents:4,empty:!0,size:4*o,dataType:ls.UNSIGNED_CHAR});if(o<=0)return a;i=(i=i>0?i:0)<1?i:1;var s=ps;switch(n.getDataType()!==ls.FLOAT&&n.getDataType()!==ls.DOUBLE||(s=hs),r){case 1:e.luminanceToRGBA(a,n,i,s);break;case 2:e.luminanceAlphaToRGBA(a,n,s);break;case 3:e.rGBToRGBA(a,n,i,s);break;case 4:e.rGBAToRGBA(a,n,i,s);break;default:return ds("Cannot convert colors"),null}return a},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return 16777216},e.setRange=function(t,n){return e.setMappingRange(t,n)},e.getRange=function(t,n){return e.getMappingRange()}}var gs={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:cs.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function vs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,gs,n),fe.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],fe.setGet(e,t,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),fe.setArray(e,t,["mappingRange"],2),fe.getArray(e,t,["mappingRange"]),ms(e,t)}var ys=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(vs,"vtkScalarsToColors"),extend:vs},os),bs=fe.vtkErrorMacro;function ws(e,t){t.classHierarchy.push("vtkLookupTable"),e.isOpaque=function(){if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){var n=!0;t.nanColor[3]<1&&(n=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(n=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<t.table.length&&n;r+=4)t.table[r]<255&&(n=!1);t.opaqueFlag=n,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return t.table.length},e.linearIndexLookup=function(e,t){var n=0;return n=e<t.range[0]?t.maxIndex+0+1.5:e>t.range[1]?t.maxIndex+1+1.5:(n=(e+t.shift)*t.scale)<t.maxIndex?n:t.maxIndex,Math.floor(n)},e.linearLookup=function(t,n,r){var o=4*(yn(t)?Math.floor(r.maxIndex+1.5+2):e.linearIndexLookup(t,r));return[n[o],n[o+1],n[o+2],n[o+3]]},e.indexedLookupFunction=function(n,r,o){var i=e.getAnnotatedValueIndexInternal(n);-1===i&&(i=t.numberOfColors+2);var a=4*i;return[r[a],r[a+1],r[a+2],r[a+3]]},e.lookupShiftAndScale=function(e,t){t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))},e.mapScalarsThroughTable=function(n,r,o,i){var a=e.linearLookup;t.indexedLookup&&(a=e.indexedLookupFunction);var s=e.getMappingRange(),u={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,u);var c=e.getAlpha(),l=n.getNumberOfTuples(),f=n.getNumberOfComponents(),d=r.getData(),p=n.getData();if(c>=1){if(o===rs.RGBA)for(var h=0;h<l;h++){var m=a(p[h*f+i],t.table,u);d[4*h]=m[0],d[4*h+1]=m[1],d[4*h+2]=m[2],d[4*h+3]=m[3]}}else if(o===rs.RGBA)for(var g=0;g<l;g++){var v=a(p[g*f+i],t.table,u);d[4*g]=v[0],d[4*g+1]=v[1],d[4*g+2]=v[2],d[4*g+3]=Math.floor(v[3]*c+.5)}},e.forceBuild=function(){var n=0,r=0,o=0,i=0,a=t.numberOfColors-1;a&&(n=(t.hueRange[1]-t.hueRange[0])/a,r=(t.saturationRange[1]-t.saturationRange[0])/a,o=(t.valueRange[1]-t.valueRange[0])/a,i=(t.alphaRange[1]-t.alphaRange[0])/a);for(var s=[],u=[],c=0;c<=a;c++)s[0]=t.hueRange[0]+c*n,s[1]=t.saturationRange[0]+c*r,s[2]=t.valueRange[0]+c*o,Kt(s,u),u[3]=t.alphaRange[0]+c*i,t.table[4*c]=255*u[0]+.5,t.table[4*c+1]=255*u[1]+.5,t.table[4*c+2]=255*u[2]+.5,t.table[4*c+3]=255*u[3]+.5;e.buildSpecialColors(),t.buildTime.modified()},e.setTable=function(n){if(4===n.getNumberOfComponents())if(n.getDataType()===pe.UNSIGNED_CHAR){t.numberOfColors=n.getNumberOfTuples();for(var r=n.getData(),o=0;o<r.length;o++)t.table[o]=r[o];e.buildSpecialColors(),t.insertTime.modified(),e.modified()}else bs("Expected unsigned char values for RGBA colors");else bs("Expected 4 components for RGBA colors")},e.buildSpecialColors=function(){var e=t.numberOfColors,n=t.table,r=4*(e+0);t.useBelowRangeColor||0===e?(n[r]=255*t.belowRangeColor[0]+.5,n[r+1]=255*t.belowRangeColor[1]+.5,n[r+2]=255*t.belowRangeColor[2]+.5,n[r+3]=255*t.belowRangeColor[3]+.5):(n[r]=n[0],n[r+1]=n[1],n[r+2]=n[2],n[r+3]=n[3]),r=4*(e+1),t.useAboveRangeColor||0===e?(n[r]=255*t.aboveRangeColor[0]+.5,n[r+1]=255*t.aboveRangeColor[1]+.5,n[r+2]=255*t.aboveRangeColor[2]+.5,n[r+3]=255*t.aboveRangeColor[3]+.5):(n[r]=n[4*(e-1)+0],n[r+1]=n[4*(e-1)+1],n[r+2]=n[4*(e-1)+2],n[r+3]=n[4*(e-1)+3]),n[r=4*(e+2)]=255*t.nanColor[0]+.5,n[r+1]=255*t.nanColor[1]+.5,n[r+2]=255*t.nanColor[2]+.5,n[r+3]=255*t.nanColor[3]+.5},e.build=function(){(t.table.length<1||e.getMTime()>t.buildTime.getMTime()&&t.insertTime.getMTime()<=t.buildTime.getMTime())&&e.forceBuild()},t.table.length>0&&t.insertTime.modified()}var xs={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function Cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xs,n),ys.extend(e,t,n),t.table||(t.table=[]),t.buildTime={},fe.obj(t.buildTime),t.opaqueFlagBuildTime={},fe.obj(t.opaqueFlagBuildTime,{mtime:0}),t.insertTime={},fe.obj(t.insertTime,{mtime:0}),fe.get(e,t,["buildTime"]),fe.setGet(e,t,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),fe.setArray(e,t,["alphaRange","hueRange","saturationRange","valueRange"],2),fe.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),fe.getArray(e,t,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),ws(e,t)}var Ss={newInstance:fe.newInstance(Cs,"vtkLookupTable"),extend:Cs},As=function(e){return e},_s=Di(new Float64Array(16)),Ps=1e-6,Os=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yn(this,e),this.matrix=Di(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=t?To:As}return Jn(e,[{key:"rotateFromDirections",value:function(e,t){var n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(16);Ro(n,e[0],e[1],e[2]),Ro(r,t[0],t[1],t[2]),$o(n,n),$o(r,r);var i=Qo(n,r);return i>=1||(ei(this.tmp,n,r),ko(this.tmp)<Ps&&(ei(this.tmp,[1,0,0],e),ko(this.tmp)<Ps&&ei(this.tmp,[0,1,0],e)),Wi(o,Math.acos(i),this.tmp),Ri(this.matrix,this.matrix,o)),this}},{key:"rotate",value:function(e,t){return Ro.apply(o,[this.tmp].concat(y(t))),$o(this.tmp,this.tmp),Fi(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}},{key:"rotateX",value:function(e){return ji(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateY",value:function(e){return Vi(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateZ",value:function(e){return Ui(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"translate",value:function(e,t,n){return Ro(this.tmp,e,t,n),Bi(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(e,t,n){return Ro(this.tmp,e,t,n),Li(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(e){return Ri(this.matrix,this.matrix,e),this}},{key:"identity",value:function(){return Di(this.matrix),this}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(Et(_s,this.matrix))return this;for(var r=-1===n?e.length:t+3*n,o=t;o<r;o+=3)Ro(this.tmp,e[o],e[o+1],e[o+2]),ii(this.tmp,this.tmp,this.matrix),e[o]=this.tmp[0],e[o+1]=this.tmp[1],e[o+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return e&&16===e.length&&Oi(this.matrix,e),this}}]),e}(),Es={buildFromDegree:function(){return new Os(!0)},buildFromRadian:function(){return new Os(!1)}},Ts=fe.vtkErrorMacro,Ds=[1,-1,1,-1,1,-1];function Is(e,t){t.classHierarchy.push("vtkPoints"),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;e.getNumberOfPoints()!==n&&(t.size=n*r,t.values=fe.newTypedArray(t.dataType,t.size),e.setNumberOfComponents(r),e.modified())},e.setPoint=function(e){for(var n=e*t.numberOfComponents,r=0;r<t.numberOfComponents;r++)t.values[n+r]=r+1<1||arguments.length<=r+1?void 0:arguments[r+1]},e.getPoint=e.getTuple,e.getBounds=function(){if(3===e.getNumberOfComponents()){var n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];var r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1];var o=e.getRange(2);return t.bounds[4]=o[0],t.bounds[5]=o[1],t.bounds}if(2!==e.getNumberOfComponents())return Ts("getBounds called on an array with components of\n        ".concat(e.getNumberOfComponents())),Ds;var i=e.getRange(0);t.bounds[0]=i[0],t.bounds[1]=i[1];var a=e.getRange(1);return t.bounds[2]=a[0],t.bounds[3]=a[1],t.bounds[4]=0,t.bounds[5]=0,t.bounds},e.computeBounds=e.getBounds,e.setNumberOfComponents(t.numberOfComponents<2?3:t.numberOfComponents)}var ks={empty:!0,numberOfComponents:3,dataType:pe.FLOAT,bounds:[1,-1,1,-1,1,-1]};function Ms(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ks,n),Fn.extend(e,t,n),Is(e,t)}var Ns={newInstance:fe.newInstance(Ms,"vtkPoints"),extend:Ms};function Rs(e,t){t.classHierarchy.push("vtkProgressHandler"),e.startWork=function(){t.workCount+=1,1===t.workCount&&e.invokeChange(!0)},e.stopWork=function(){t.workCount-=1,0===t.workCount&&e.invokeChange(!1)},e.isWorking=function(){return!!t.workCount},e.wrapPromise=function(t){return e.startWork(),new Promise((function(n,r){t.then((function(){e.stopWork(),n.apply(void 0,arguments)}),(function(t){e.stopWork(),r(t)}))}))},e.wrapPromiseFunction=function(t){return function(){return e.wrapPromise(t.apply(void 0,arguments))}}}var Bs={workCount:0};function Ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Bs,n),fe.obj(e,t),fe.event(e,t,"change"),fe.get(e,t,["workCount"]),Rs(e,t)}var Fs={newInstance:fe.newInstance(Ls,"vtkProgressHandler"),extend:Ls},js=[];function Vs(e,t){t.classHierarchy.push("vtkStringArray"),e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(n,r,o){o!==t.values[n*t.numberOfComponents+r]&&(t.values[n*t.numberOfComponents+r]=o,e.modified())},e.getData=function(){return t.values},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:js,r=t.numberOfComponents||1;n.length&&(n.length=r);for(var o=e*r,i=0;i<r;i++)n[i]=t.values[o+i];return n},e.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return Gs({name:t.name,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkStringArray".concat(e.getMTime())),t.name},e.setData=function(n,r){t.values=n,t.size=n.length,r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),e.modified()}}var Us={name:"",numberOfComponents:1,size:0,dataType:"string"};function zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,Us,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkStringArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=y(t.values)):t.values=[],t.values&&(t.size=t.values.length),fe.obj(e,t),fe.set(e,t,["name"]),Vs(e,t)}var Gs=fe.newInstance(zs,"vtkStringArray"),Ws={newInstance:Gs,extend:zs};function Hs(e){return e}function qs(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(void 0!==e&&"undefined"!==e?"["===e[0]&&"]"===e[e.length-1]?e.substring(1,e.length-1).split(",").map((function(e){return qs(e.trim())})):""===e||Number.isNaN(Number(e))?e:Number(e):void 0)}var Ks={toNativeType:qs,extractURLParameters:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search,n={},r=e?qs:Hs;return(t||"").replace(/#.*/,"").replace("?","").split("&").forEach((function(e){var t=g(e.split("=").map((function(e){return decodeURIComponent(e)})),2),o=t[0],i=t[1];o&&(n[o]=!i||r(i))})),n}},Xs=[];function Ys(e,t){t.classHierarchy.push("vtkVariantArray"),e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(n,r,o){o!==t.values[n*t.numberOfComponents+r]&&(t.values[n*t.numberOfComponents+r]=o,e.modified())},e.getData=function(){return t.values},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xs,r=t.numberOfComponents||1;n.length&&(n.length=r);for(var o=e*r,i=0;i<r;i++)n[i]=t.values[o+i];return n},e.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return $s({name:t.name,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkVariantArray".concat(e.getMTime())),t.name},e.setData=function(n,r){t.values=n,t.size=n.length,r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),e.modified()}}var Zs={name:"",numberOfComponents:1,size:0,dataType:"JSON"};function Js(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,Zs,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkVariantArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=y(t.values)):t.values=[],t.values&&(t.size=t.values.length),fe.obj(e,t),fe.set(e,t,["name"]),Ys(e,t)}var $s=fe.newInstance(Js,"vtkVariantArray"),Qs={vtkBase64:d,vtkCellArray:qn,vtkDataArray:Fn,vtkEndian:Xn,vtkImageHelper:ns,vtkLookupTable:Ss,vtkMath:r,vtkMatrixBuilder:Es,vtkPoints:Ns,vtkProgressHandler:Fs,vtkScalarsToColors:ys,vtkStringArray:Ws,vtkURLExtract:Ks,vtkVariantArray:{newInstance:$s,extend:Js}};function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e,t){t.classHierarchy.push("vtkBox"),e.setBounds=function(){for(var e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(Array.isArray(r[0]))e=r[0];else for(var i=0;i<r.length;i++)e.push(r[i]);6===e.length?Xr.setBounds(t.bbox,e):console.log("vtkBox.setBounds",e,r)},e.getBounds=function(){return t.bbox},e.evaluateFunction=function(e,n,r){for(var o,i,a,s=Array.isArray(e)?e:[e,n,r],u=-Number.MAX_VALUE,c=0,l=Xr.getMinPoint(t.bbox),f=Xr.getMaxPoint(t.bbox),d=1,p=0;p<3;p++)0!==(o=Xr.getLength(t.bbox,p))?(a=(s[p]-l[p])/o)<0?(d=0,i=l[p]-s[p]):a>1?(d=0,i=s[p]-f[p]):(i=a<=.5?l[p]-s[p]:s[p]-f[p])>u&&(u=i):(i=Math.abs(s[p]-l[p]))>0&&(d=0),i>0&&(c+=i*i);return c=Math.sqrt(c),d?u:c},e.addBounds=function(){var n=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))n=arguments.length<=0?void 0:arguments[0];else for(var r=0;r<arguments.length;r++)n.push(r<0||arguments.length<=r?void 0:arguments[r]);6===n.length&&(Xr.addBounds.apply(Xr,[t.bbox].concat(y(n))),e.modified())},e.addBox=function(t){return e.addBounds(t.getBounds())}}var nu={bbox:y(Xr.INIT_BOUNDS)};function ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,nu,n),fe.obj(e,t),tu(e,t)}var ou=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(ru,"vtkBox"),extend:ru},{});function iu(e,t){t.classHierarchy.push("vtkCell"),e.initialize=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){t.pointsIds=n;var r=t.points.getData();r.length!==3*t.pointsIds.length&&(r=fe.newTypedArray(e.getDataType(),3*t.pointsIds.length));var o=e.getData();t.pointsIds.forEach((function(e,t){var n=3*e,i=3*t;r[i]=o[n],r[++i]=o[++n],r[++i]=o[++n]})),t.points.setData(r)}else{t.points=e,t.pointsIds=new Array(e.getNumberOfPoints());for(var i=e.getNumberOfPoints()-1;i>=0;--i)t.pointsIds[i]=i}},e.getBounds=function(){var e=t.points.getNumberOfPoints(),n=[];if(e){t.points.getPoint(0,n),t.bounds[0]=n[0],t.bounds[1]=n[0],t.bounds[2]=n[1],t.bounds[3]=n[1],t.bounds[4]=n[2],t.bounds[5]=n[2];for(var r=1;r<e;r++)t.points.getPoint(r,n),t.bounds[0]=n[0]<t.bounds[0]?n[0]:t.bounds[0],t.bounds[1]=n[0]>t.bounds[1]?n[0]:t.bounds[1],t.bounds[2]=n[1]<t.bounds[2]?n[1]:t.bounds[2],t.bounds[3]=n[1]>t.bounds[3]?n[1]:t.bounds[3],t.bounds[4]=n[2]<t.bounds[4]?n[2]:t.bounds[4],t.bounds[5]=n[2]>t.bounds[5]?n[2]:t.bounds[5]}else en(t.bounds);return t.bounds},e.getLength2=function(){e.getBounds();for(var n=0,r=0,o=0;o<3;o++)n+=(r=t.bounds[2*o+1]-t.bounds[2*o])*r;return n},e.getParametricDistance=function(e){for(var t,n=0,r=0;r<3;r++)(t=e[r]<0?-e[r]:e[r]>1?e[r]-1:0)>n&&(n=t);return n},e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.deepCopy=function(e){e.initialize(t.points,t.pointsIds)},e.getCellDimension=function(){},e.intersectWithLine=function(e,t,n,r,o,i,a){},e.evaluatePosition=function(e,t,n,r,o,i){}}var au={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function su(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,au,n),fe.obj(e,t),t.points||(t.points=Ns.newInstance()),fe.get(e,t,["points","pointsIds"]),iu(e,t)}var uu={newInstance:fe.newInstance(su,"vtkCell"),extend:su};function cu(e,t){t.classHierarchy.push("vtkCone"),e.evaluateFunction=function(e){var n=Math.tan(_e(t.angle));return e[1]*e[1]+e[2]*e[2]-e[0]*e[0]*n*n},e.evaluateGradient=function(e){var n=Math.tan(_e(t.angle));return[-2*e[0]*n*n,2*e[1],2*e[2]]}}var lu={angle:15};function fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lu,n),fe.obj(e,t),fe.setGet(e,t,["angle"]),cu(e,t)}var du={newInstance:fe.newInstance(fu,"vtkCone"),extend:fu};function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var hu={evaluate:function(e,t,n,r){var o=new Float32Array(3);o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];var i=$e(n,o);return $e(o,o)-i*i-e*e}};function mu(e,t){t.classHierarchy.push("vtkCylinder"),e.evaluateFunction=function(e){var n=[e[0]-t.center[0],e[1]-t.center[1],e[2]-t.center[2]],r=$e(t.axis,n);return $e(n,n)-r*r-t.radius*t.radius},e.evaluateGradient=function(e){var n=t.axis[0]*(e[0]-t.center[0])+t.axis[1]*(e[1]-t.center[1])+t.axis[2]*(e[2]-t.center[2]),r=[t.center[0]+n*t.axis[0],t.center[1]+n*t.axis[1],t.center[2]+n*t.axis[2]];return[2*(e[0]-r[0]),2*(e[1]-r[1]),2*(e[2]-r[2])]}}var gu={radius:.5,center:[0,0,0],axis:[0,1,0]};function vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,gu,n),fe.obj(e,t),fe.setGet(e,t,["radius"]),fe.setGetArray(e,t,["center","axis"],3),mu(e,t)}var yu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(vu,"vtkCylinder"),extend:vu},hu),bu=fe.vtkErrorMacro,wu=new Map([["Uint8Array","uint8_t"],["Int8Array","int8_t"],["Uint16Array","uint16_t"],["Int16Array","int16_t"],["Uint32Array","uint32_t"],["Int32Array","int32_t"],["Float32Array","float"],["Float64Array","double"]]),xu={convertItkToVtkImage:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={origin:[0,0,0],spacing:[1,1,1]},r=[1,1,1],o=[1,0,0,0,1,0,0,0,1],i=0;i<e.imageType.dimension;++i){n.origin[i]=e.origin[i],n.spacing[i]=e.spacing[i],r[i]=e.size[i];for(var a=0;a<e.imageType.dimension;++a)o[a+3*i]=e.direction.data[i+a*e.imageType.dimension]}var s=es.newInstance(n),u=Fn.newInstance({name:t.scalarArrayName||"Scalars",values:e.data,numberOfComponents:e.imageType.components});switch(s.setDirection(o),s.setDimensions.apply(s,r),s.getPointData().setScalars(u),e.imageType.pixelType){case 1:case 2:case 3:case 4:break;case 5:3===e.imageType.dimension&&3===e.imageType.components&&s.getPointData().setVectors(u);break;case 6:break;case 7:3===e.imageType.dimension&&3===e.imageType.components&&s.getPointData().setVectors(u);break;case 8:case 9:3===e.imageType.dimension&&6===e.imageType.components&&s.getPointData().setTensors(u);break;case 10:case 11:case 12:case 13:case 14:case 15:break;default:return bu("Cannot handle unexpected ITK.js pixel type ".concat(e.imageType.pixelType)),null}return s},convertVtkToItkImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={imageType:{dimension:3,pixelType:1,componentType:"",components:1},name:"name",origin:e.getOrigin(),spacing:e.getSpacing(),direction:{data:[1,0,0,0,1,0,0,0,1]},size:e.getDimensions()},r=e.getDirection(),o=n.size.length;n.imageType.dimension=o,n.direction.rows=o,n.direction.columns=o;for(var i=0;i<o;++i)for(var a=0;a<o;++a)n.direction.data[i+a*o]=r[a+i*o];var s,u=e.getPointData();return null!==u.getTensors()?(n.imageType.pixelType=9,s=u.getTensors()):null!=u.getVectors()?(n.imageType.pixelType=5,s=u.getVectors()):s=u.getScalars(),n.imageType.componentType=wu.get(s.getDataType()),n.data=t?s.getData().slice(0):s.getData(),n}},Cu={Operation:{UNION:0,INTERSECTION:1,DIFFERENCE:2}};function Su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _u=Cu.Operation;function Pu(e,t){t.classHierarchy.push("vtkImplicitBoolean");var n=Au({},e);e.getMTime=function(){var e=n.getMTime();if(!t.functions||t.functions.length<=0)return e;for(var r=0;r<t.functions.length;++r)e=Math.max(e,t.functions[r].getMTime());return e},e.getOperationAsString=function(){return fe.enumToString(_u,t.operation)},e.setOperationToUnion=function(){return e.setOperation(0)},e.setOperationToIntersection=function(){return e.setOperation(1)},e.setOperationToDifference=function(){return e.setOperation(2)},e.getFunctions=function(){return t.functions},e.hasFunction=function(e){return!!t.functions.filter((function(t){return t===e})).length},e.addFunction=function(n){n&&!e.hasFunction(n)&&(t.functions=t.functions.concat(n))},e.removeFunction=function(e){var n=t.functions.filter((function(t){return t!==e}));t.functions.length!==n.length&&(t.functions=n)},e.removeAllFunctions=function(){t.functions=[]},e.evaluateFunction=function(e){var n=0;if(t.functions.length<=0)return n;if(t.operation===_u.UNION){n=Number.MAX_VALUE;for(var r=0;r<t.functions.length;++r){var o=t.functions[r].evaluateFunction(e);o<n&&(n=o)}}else if(t.operation===_u.INTERSECTION){n=-Number.MAX_VALUE;for(var i=0;i<t.functions.length;++i){var a=t.functions[i].evaluateFunction(e);a>n&&(n=a)}}else{n=t.functions[0].evaluateFunction(e);for(var s=1;s<t.functions.length;++s){var u=-1*t.functions[s].evaluateFunction(e);u>n&&(n=u)}}return n},e.evaluateGradient=function(e){var n=t.axis[0]*(e[0]-t.center[0])+t.axis[1]*(e[1]-t.center[1])+t.axis[2]*(e[2]-t.center[2]),r=new Float32Array(3);return r[0]=t.center[0]+n*t.axis[0],r[1]=t.center[1]+n*t.axis[1],r[2]=t.center[2]+n*t.axis[2],[2*(e[0]-r[0]),2*(e[1]-r[1]),2*(e[2]-r[2])]}}var Ou={operation:0,functions:[]};function Eu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ou,n),fe.obj(e,t),fe.setGet(e,t,["operation"]),Pu(e,t)}var Tu=Au({newInstance:fe.newInstance(Eu,"vtkImplicitBoolean"),extend:Eu},Cu),Du={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},Iu={IntersectionState:Du};function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nu=Iu.IntersectionState;function Ru(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={t:Number.MIN_VALUE,distance:0},a=[];a[0]=n[0]-t[0],a[1]=n[1]-t[1],a[2]=n[2]-t[2];var s=a[0]*(e[0]-t[0])+a[1]*(e[1]-t[1])+a[2]*(e[2]-t[2]),u=$e(a,a),c=1e-5*s;return 0!==u&&(i.t=s/u),c<0&&(c=-c),-c<u&&u<c||u<=0||i.t<0?r=t:i.t>1?r=n:(r=a,a[0]=t[0]+i.t*a[0],a[1]=t[1]+i.t*a[1],a[2]=t[2]+i.t*a[2]),o&&(o[0]=r[0],o[1]=r[1],o[2]=r[2]),i.distance=st(r,e),i}function Bu(e,t,n,r,o,i){var a=[],s=[],u=[];o[0]=0,i[0]=0,a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2];var c=[];c[0]=[$e(a,a),-$e(a,s)],c[1]=[c[0][1],$e(s,s)];var l=[];if(l[0]=$e(a,u),l[1]=-$e(s,u),0===jt(c,l,2)){for(var f,d=Number.MAX_VALUE,p=[e,t,n,r],h=[n,n,e,e],m=[r,r,t,t],g=[i[0],i[0],o[0],o[0]],v=[o[0],o[0],i[0],i[0]],y=0;y<4;y++)(f=Ru(p[y],h[y],m[y])).distance<d&&(d=f.distance,g[y]=f.t,v[y]=y%2);return Nu.ON_LINE}return o[0]=l[0],i[0]=l[1],o[0]>=0&&o[0]<=1&&i[0]>=0&&i[0]<=1?Nu.YES_INTERSECTION:Nu.NO_INTERSECTION}var Lu={distanceToLine:Ru,intersection:Bu};function Fu(e,t){t.classHierarchy.push("vtkLine"),e.getCellDimension=function(){return 1},e.intersectWithLine=function(e,n,r,o,i){var a={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};i[1]=0,i[2]=0;var s=[],u=[],c=[];t.points.getPoint(0,u),t.points.getPoint(1,c);var l,f=[],d=[],p=Bu(e,n,u,c,f,d);if(a.t=f[0],a.betweenPoints=(l=a.t)>=0&&l<=1,i[0]=d[0],p===Nu.YES_INTERSECTION){for(var h=0;h<3;h++)o[h]=u[h]+i[0]*(c[h]-u[h]),s[h]=e[h]+a.t*(n[h]-e[h]);if(st(o,s)<=r*r)return a.intersect=1,a}else{var m;if(a.t<0)return(m=Ru(e,u,c,o)).distance<=r*r?(a.t=0,a.intersect=1,a.betweenPoints=!0,a):a;if(a.t>1)return(m=Ru(n,u,c,o)).distance<=r*r?(a.t=1,a.intersect=1,a.betweenPoints=!0,a):a;if(i[0]<0)return i[0]=0,m=Ru(u,e,n,o),a.t=m.t,m.distance<=r*r?(a.intersect=1,a):a;if(i[0]>1)return i[0]=1,m=Ru(c,e,n,o),a.t=m.t,m.distance<=r*r?(a.intersect=1,a):a}return a},e.evaluatePosition=function(e,t,n,r,o,i){}}var ju={};function Vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ju,n),uu.extend(e,t,n),Fu(e,t)}var Uu=Mu(Mu({newInstance:fe.newInstance(Vu,"vtkLine"),extend:Vu},Lu),Iu),zu=["chemical json","name","inchi","formula","atoms","bonds","properties"];function Gu(e,t){t.classHierarchy.push("vtkMolecule")}var Wu={"chemical json":0,name:"",inchi:"",formula:"",atoms:null,bonds:null,properties:null};function Hu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Wu,n),fe.obj(e,t),t.atoms||(t.atoms={}),t.bonds||(t.bonds={}),t.properties||(t.properties={}),fe.setGet(e,t,zu),Gu(0,t)}var qu={newInstance:fe.newInstance(Hu,"vtkMolecule"),extend:Hu},Ku=fe.vtkErrorMacro;function Xu(e,t){t.classHierarchy.push("vtkPiecewiseFunction"),e.getSize=function(){return t.nodes.length},e.getType=function(){var e,n=0,r=0;t.nodes.length>0&&(n=t.nodes[0].y);for(var o=1;o<t.nodes.length;o++){if((e=t.nodes[o].y)!==n)if(e>n)switch(r){case 0:case 1:r=1;break;default:case 2:r=3}else switch(r){case 0:case 2:r=2;break;default:case 1:r=3}if(n=e,3===r)break}switch(r){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";default:case 3:return"Varied"}},e.getDataPointer=function(){var e=t.nodes.length;if(t.function=null,e>0){t.function=[];for(var n=0;n<e;n++)t.function[2*n]=t.nodes[n].x,t.function[2*n+1]=t.nodes[n].y}return t.function},e.getFirstNonZeroValue=function(){if(0===t.nodes.length)return 0;for(var e=1,n=0;n<t.nodes.length;n++)if(0!==t.nodes[n].y){e=0;break}return e?Number.MAX_VALUE:n>0?t.nodes[n-1].x:t.clamping?-Number.MAX_VALUE:t.nodes[0].x},e.getNodeValue=function(e,n){var r=t.nodes.length;return e<0||e>=r?(Ku("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].y,n[2]=t.nodes[e].midpoint,n[3]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){var o=t.nodes.length;if(n<0||n>=o)return Ku("Index out of range!"),-1;var i=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].y=r[1],t.nodes[n].midpoint=r[2],t.nodes[n].sharpness=r[3],i!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.addPoint=function(t,n){return e.addPointLong(t,n,.5,0)},e.addPointLong=function(n,r,o,i){if(o<0||o>1)return Ku("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return Ku("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var a,s={x:n,y:r,midpoint:o,sharpness:i};for(t.nodes.push(s),e.sortAndUpdateRange(),a=0;a<t.nodes.length&&t.nodes[a].x!==n;a++);return a<t.nodes.length?a:-1},e.setNodes=function(n){t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=function(){t.nodes.sort((function(e,t){return e.x-t.x})),e.updateRange()||e.modified()},e.updateRange=function(){var n=t.range.slice(),r=t.nodes.length;return r?(t.range[0]=t.nodes[0].x,t.range[1]=t.nodes[r-1].x):(t.range[0]=0,t.range[1]=0),(n[0]!==t.range[0]||n[1]!==t.range[1])&&(e.modified(),!0)},e.removePoint=function(n){var r;for(r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);if(r>=t.nodes.length)return-1;var o=r,i=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(i=e.updateRange()),i||e.modified(),o},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addSegment=function(n,r,o,i){e.sortAndUpdateRange();for(var a=0;a<t.nodes.length;)t.nodes[a].x>=n&&t.nodes[a].x<=o?t.nodes.splice(a,1):a++;e.addPoint(n,r,.5,0),e.addPoint(o,i,.5,0)},e.getValue=function(t){var n=[];return e.getTable(t,t,1,n),n[0]},e.adjustRange=function(n){if(n.length<2)return 0;var r=e.getRange();r[0]<n[0]?e.addPoint(n[0],e.getValue(n[0])):e.addPoint(n[0],e.getValue(r[0])),r[1]>n[1]?e.addPoint(n[1],e.getValue(n[1])):e.addPoint(n[1],e.getValue(r[1])),e.sortAndUpdateRange();for(var o=0;o<t.nodes.length;)t.nodes[o].x>=n[0]&&t.nodes[o].x<=n[1]?t.nodes.splice(o,1):++o;return e.sortAndUpdateRange(),1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){var e=t.nodes.length;if(e<2)return-1;for(var n=t.nodes[1].x-t.nodes[0].x,r=0;r<e-1;r++){var o=t.nodes[r+1].x-t.nodes[r].x;o<n&&(n=o)}return n},e.getTable=function(e,n,r,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=0,u=t.nodes.length,c=0;0!==u&&(c=t.nodes[u-1].y);var l=0,f=0,d=0,p=0,h=0,m=0,g=0;for(i=0;i<r;i++){var v=a*i;for(l=r>1?e+i/(r-1)*(n-e):.5*(e+n);s<u&&l>t.nodes[s].x;)++s<u&&(f=t.nodes[s-1].x,d=t.nodes[s].x,p=t.nodes[s-1].y,h=t.nodes[s].y,m=t.nodes[s-1].midpoint,g=t.nodes[s-1].sharpness,m<1e-5&&(m=1e-5),m>.99999&&(m=.99999));if(s>=u)o[v]=t.clamping?c:0;else if(0===s)o[v]=t.clamping?t.nodes[0].y:0;else{var y=(l-f)/(d-f);if(y=y<m?.5*y/m:.5+.5*(y-m)/(1-m),g>.99){if(y<.5){o[v]=p;continue}o[v]=h;continue}if(g<.01){o[v]=(1-y)*p+y*h;continue}y<.5?y=.5*Math.pow(2*y,1+10*g):y>.5&&(y=1-.5*Math.pow(2*(1-y),1+10*g));var b=y*y,w=b*y,x=2*w-3*b+1,C=-2*w+3*b,S=w-2*b+y,A=w-b,_=(1-g)*(h-p);o[v]=x*p+C*h+S*_+A*_;var P=p<h?p:h,O=p>h?p:h;o[v]=o[v]<P?P:o[v],o[v]=o[v]>O?O:o[v]}}}}var Yu={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function Zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yu,n),fe.obj(e,t),t.nodes=[],fe.setGet(e,t,["allowDuplicateScalars","clamping"]),fe.setArray(e,t,["range"],2),fe.getArray(e,t,["range"]),Xu(e,t)}var Ju={newInstance:fe.newInstance(Zu,"vtkPiecewiseFunction"),extend:Zu};function $u(e,t){t.classHierarchy.push("vtkPointSet"),t.points?t.points=A(t.points):t.points=Ns.newInstance(),e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.getBounds=function(){return t.points.getBounds()},e.computeBounds=function(){e.getBounds()};var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),t.points=Ns.newInstance(),t.points.shallowCopy(e.getPoints())}}var Qu={};function ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Qu,n),bo.extend(e,t,n),fe.setGet(e,t,["points"]),$u(e,t)}var tc={newInstance:fe.newInstance(ec,"vtkPointSet"),extend:ec};function nc(e,t){t.classHierarchy.push("vtkCellLinks"),e.buildLinks=function(n){var r=n.getPoints().getNumberOfPoints(),o=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(var a=0;a<o;++a)n.getCellPoints(a).cellPointIds.forEach((function(t){e.incrementLinkCount(t)}));e.allocateLinks(r),t.maxId=r-1;for(var s=function(t){n.getCellPoints(t).cellPointIds.forEach((function(n){e.insertCellReference(n,i[n]++,t)}))},u=0;u<o;++u)s(u)}else{for(var c=0;c<o;c++)uu.newInstance().getPointsIds().forEach((function(t){e.incrementLinkCount(t)}));e.allocateLinks(r),t.maxId=r-1;for(var l=function(t){uu.newInstance().getPointsIds().forEach((function(n){e.insertCellReference(n,i[n]++,t)}))},f=0;f<o;++f)l(f)}},e.allocate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.array=Array(e).fill().map((function(){return{ncells:0,cells:null}})),t.extend=n,t.maxId=-1},e.initialize=function(){t.array=null},e.getLink=function(e){return t.array[e]},e.getNcells=function(e){return t.array[e].ncells},e.getCells=function(e){return t.array[e].cells},e.insertNextPoint=function(e){t.array.push({ncells:e,cells:Array(e)}),++t.maxId},e.insertNextCellReference=function(e,n){t.array[e].cells[t.array[e].ncells++]=n},e.deletePoint=function(e){t.array[e].ncells=0,t.array[e].cells=null},e.removeCellReference=function(e,n){t.array[n].cells=t.array[n].cells.filter((function(t){return t!==e})),t.array[n].ncells=t.array[n].cells.length},e.addCellReference=function(e,n){t.array[n].cells[t.array[n].ncells++]=e},e.resizeCellList=function(e,n){t.array[e].cells.length=n},e.squeeze=function(){!function(e,t){var n=t;for(t>=e.array.length&&(n+=e.array.length);n>e.array.length;)e.array.push({ncells:0,cells:null});e.array.length=n}(t,t.maxId+1)},e.reset=function(){t.maxId=-1},e.deepCopy=function(e){t.array=y(e.array),t.extend=e.extend,t.maxId=e.maxId},e.incrementLinkCount=function(e){++t.array[e].ncells},e.allocateLinks=function(e){for(var n=0;n<e;++n)t.array[n].cells=new Array(t.array[n].ncells)},e.insertCellReference=function(e,n,r){t.array[e].cells[n]=r}}var rc={array:null,maxId:0,extend:0};function oc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rc,n),fe.obj(e,t),nc(e,t)}var ic={newInstance:fe.newInstance(oc,"vtkCellLinks"),extend:oc},ac=0,sc=1,uc=2,cc=3,lc=4,fc=5,dc=6,pc=7,hc=9,mc=21,gc=41,vc=42,yc=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wc={getClassNameFromTypeId:function(e){return e<yc.length?yc[e]:"UnknownClass"},getTypeIdFromClassName:function(e){return yc.findIndex(e)},isLinear:function(e){return e<mc||e===gc||e===vc}};function xc(e,t){t.classHierarchy.push("vtkCellTypes"),e.allocate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.size=e>0?e:1,t.extend=n>0?n:1,t.maxId=-1,t.typeArray=new Uint8Array(e),t.locationArray=new Uint32Array(e)},e.insertCell=function(e,n,r){t.typeArray[e]=n,t.locationArray[e]=r,e>t.maxId&&(t.maxId=e)},e.insertNextCell=function(n,r){return e.insertCell(++t.maxId,n,r),t.maxId},e.setCellTypes=function(e,n,r){t.size=e,t.typeArray=n,t.locationArray=r,t.maxId=e-1},e.getCellLocation=function(e){return t.locationArray[e]},e.deleteCell=function(e){t.typeArray[e]=ac},e.getNumberOfTypes=function(){return t.maxId+1},e.isType=function(t){for(var n=e.getNumberOfTypes(),r=0;r<n;++r)if(t===e.getCellType(r))return!0;return!1},e.insertNextType=function(t){return e.insertNextCell(t,-1)},e.getCellType=function(e){return t.typeArray[e]},e.reset=function(){t.maxId=-1},e.deepCopy=function(n){e.allocate(n.getSize(),n.getExtend()),t.typeArray.set(n.getTypeArray()),t.locationArray.set(n.getLocationArray()),t.maxId=n.getMaxId()}}var Cc={size:0,maxId:-1,extend:1e3};function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Cc,n),fe.obj(e,t),fe.get(e,t,["size","maxId","extend"]),fe.getArray(e,t,["typeArray","locationArray"]),xc(e,t)}var Ac=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Sc,"vtkCellTypes"),extend:Sc},wc);function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e,t,n,r){var o=n[0]-t[0],i=n[1]-t[1],a=n[2]-t[2],s=e[0]-t[0],u=e[1]-t[1],c=e[2]-t[2];r[0]=i*c-a*u,r[1]=a*s-o*c,r[2]=o*u-i*s}function Oc(e,t,n,r){Pc(e,t,n,r);var o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==o&&(r[0]/=o,r[1]/=o,r[2]/=o)}var Ec={computeNormalDirection:Pc,computeNormal:Oc};function Tc(e,t){t.classHierarchy.push("vtkTriangle"),e.getCellDimension=function(){return 2},e.intersectWithLine=function(n,r,o,i,a){var s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};a[2]=0;var u=o*o,c=[],l=[],f=[];t.points.getPoint(0,c),t.points.getPoint(1,l),t.points.getPoint(2,f);var d=[];if(Oc(c,l,f,d),0!==d[0]||0!==d[1]||0!==d[2]){var p=dr.intersectWithLine(n,r,c,d);if(s.betweenPoints=p.betweenPoints,s.t=p.t,i[0]=p.x[0],i[1]=p.x[1],i[2]=p.x[2],!p.intersection)return a[0]=0,a[1]=0,s.intersect=0,s;var h=e.evaluatePosition(i,[],a,[]);if(h.evaluation>=0)return h.dist2<=u?(s.intersect=1,s):(s.intersect=h.evaluation,s)}var m=st(c,l),g=st(l,f),v=st(f,c);t.line||(t.line=Uu.newInstance()),m>g&&m>v?(t.line.getPoints().setPoint(0,c),t.line.getPoints().setPoint(1,l)):g>v&&g>m?(t.line.getPoints().setPoint(0,l),t.line.getPoints().setPoint(1,f)):(t.line.getPoints().setPoint(0,f),t.line.getPoints().setPoint(1,c));var y=t.line.intersectWithLine(n,r,o,i,a);if(s.betweenPoints=y.betweenPoints,s.t=y.t,y.intersect){for(var b=[],w=[],x=[],C=0;C<3;C++)b[C]=c[C]-f[C],w[C]=l[C]-f[C],x[C]=i[C]-f[C];return a[0]=$e(x,b)/v,a[1]=$e(x,w)/g,s.intersect=1,s}return a[0]=0,a[1]=0,s.intersect=0,s},e.evaluatePosition=function(e,n,r,o){var i,a,s,u,c,l,f,d={subId:0,dist2:0,evaluation:-1},p=[],h=[],m=[],g=[],v=[],y=[],b=[],w=0,x=[],C=[],S=[],A=[],_=[];d.subId=0,r[2]=0,t.points.getPoint(1,p),t.points.getPoint(2,h),t.points.getPoint(0,m),Pc(p,h,m,g),dr.generalizedProjectPoint(e,p,g,_);var P=0;for(i=0;i<3;i++)(s=g[i]<0?-g[i]:g[i])>P&&(P=s,w=i);for(a=0,i=0;i<3;i++)i!==w&&(x[a++]=i);for(i=0;i<2;i++)v[i]=_[x[i]]-m[x[i]],y[i]=p[x[i]]-m[x[i]],b[i]=h[x[i]]-m[x[i]];if(0===(u=mt(y,b)))return r[0]=0,r[1]=0,d.evaluation=-1,d;if(r[0]=mt(v,b)/u,r[1]=mt(y,v)/u,o[0]=1-(r[0]+r[1]),o[1]=r[0],o[2]=r[1],o[0]>=0&&o[0]<=1&&o[1]>=0&&o[1]<=1&&o[2]>=0&&o[2]<=1)n&&(d.dist2=st(_,e),n[0]=_[0],n[1]=_[1],n[2]=_[2]),d.evaluation=1;else{var O;if(n)if(o[1]<0&&o[2]<0)for(c=st(e,m),l=Uu.distanceToLine(e,p,m,O,S),f=Uu.distanceToLine(e,m,h,O,A),c<l?(d.dist2=c,C=m):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[2]<0&&o[0]<0)for(c=st(e,p),l=Uu.distanceToLine(e,p,m,O,S),f=Uu.distanceToLine(e,p,h,O,A),c<l?(d.dist2=c,C=p):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[1]<0&&o[0]<0)for(c=st(e,h),l=Uu.distanceToLine(e,h,m,O,S),f=Uu.distanceToLine(e,p,h,O,A),c<l?(d.dist2=c,C=h):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[0]<0){var E=Uu.distanceToLine(e,p,h,n);d.dist2=E.distance}else if(o[1]<0){var T=Uu.distanceToLine(e,h,m,n);d.dist2=T.distance}else if(o[2]<0){var D=Uu.distanceToLine(e,p,m,n);d.dist2=D.distance}d.evaluation=0}return d},e.evaluateLocation=function(e,n,r){var o=[],i=[],a=[];t.points.getPoint(0,o),t.points.getPoint(1,i),t.points.getPoint(2,a);for(var s=1-e[0]-e[1],u=0;u<3;u++)n[u]=o[u]*s+i[u]*e[0]+a[u]*e[1];r[0]=s,r[1]=e[0],r[2]=e[1]},e.getParametricDistance=function(e){var t,n=0,r=[];r[0]=e[0],r[1]=e[1],r[2]=1-e[0]-e[1];for(var o=0;o<3;o++)(t=r[o]<0?-r[o]:r[o]>1?r[o]-1:0)>n&&(n=t);return n}}var Dc={};function Ic(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Dc,n),uu.extend(e,t,n),Tc(e,t)}var kc,Mc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Ic,"vtkTriangle"),extend:Ic},Ec),Nc=["verts","lines","polys","strips"],Rc=fe.vtkWarningMacro,Bc=(p(kc={},cc,Uu),p(kc,lc,Uu),p(kc,fc,Mc),kc);function Lc(e,t){t.classHierarchy.push("vtkPolyData"),Nc.forEach((function(n){e["getNumberOf".concat(function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g,"")}(n))]=function(){return t[n].getNumberOfCells()},t[n]?t[n]=A(t[n]):t[n]=qn.newInstance()})),e.getNumberOfCells=function(){return Nc.reduce((function(e,n){return e+t[n].getNumberOfCells()}),0)};var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),Nc.forEach((function(n){t[n]=qn.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))},e.buildCells=function(){var n=e.getNumberOfVerts(),r=e.getNumberOfLines(),o=e.getNumberOfPolys(),i=e.getNumberOfStrips(),a=n+r+o+i,s=new Uint8Array(a),u=s,c=new Uint32Array(a),l=c;if(n){var f=0;t.verts.getCellSizes().forEach((function(e,t){l[t]=f,u[t]=e>1?uc:sc,f+=e+1})),l=l.subarray(n),u=u.subarray(n)}if(r){var d=0;t.lines.getCellSizes().forEach((function(e,t){l[t]=d,u[t]=e>2?lc:cc,1===e&&Rc("Building VTK_LINE ",t," with only one point, but VTK_LINE needs at least two points. Check the input."),d+=e+1})),l=l.subarray(r),u=u.subarray(r)}if(o){var p=0;t.polys.getCellSizes().forEach((function(e,t){switch(l[t]=p,e){case 3:u[t]=fc;break;case 4:u[t]=hc;break;default:u[t]=pc}e<3&&Rc("Building VTK_TRIANGLE ",t," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),p+=e+1})),l+=l.subarray(o),u+=u.subarray(o)}if(i){var h=0;u.fill(dc,0,i),t.strips.getCellSizes().forEach((function(e,t){l[t]=h,h+=e+1}))}t.cells=Ac.newInstance(),t.cells.setCellTypes(a,s,c)},e.buildLinks=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===t.cells&&e.buildCells(),t.links=ic.newInstance(),n>0?t.links.allocate(n):t.links.allocate(e.getPoints().getNumberOfPoints()),t.links.buildLinks(e)},e.getCellPoints=function(e){var n=t.cells.getCellType(e),r=null;switch(n){case sc:case uc:r=t.verts;break;case cc:case lc:r=t.lines;break;case fc:case hc:case pc:r=t.polys;break;case dc:r=t.strips;break;default:return r=null,{type:0,cellPointIds:null}}var o=t.cells.getCellLocation(e);return{cellType:n,cellPointIds:r.getCell(o)}},e.getPointCells=function(e){return t.links.getCells(e)},e.getCellEdgeNeighbors=function(e,n,r){var o=t.links.getLink(n),i=t.links.getLink(r);return o.cells.filter((function(t){return t!==e&&-1!==i.cells.indexOf(t)}))},e.getCell=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.getCellPoints(t),o=n||Bc[r.cellType].newInstance();return o.initialize(e.getPoints(),r.cellPointIds),o}}var Fc={};function jc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Fc,n),tc.extend(e,t,n),fe.get(e,t,["cells","links"]),fe.setGet(e,t,["verts","lines","polys","strips"]),Lc(e,t)}var Vc={newInstance:fe.newInstance(jc,"vtkPolyData"),extend:jc};function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zc(e,t){t.classHierarchy.push("vtkSelectionNode"),e.getBounds=function(){return t.points.getBounds()}}var Gc={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function Wc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Gc,n),fe.obj(e,t),t.properties={},fe.setGet(e,t,["contentType","fieldType","properties","selectionList"]),zc(e,t)}var Hc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Wc,"vtkSelectionNode"),extend:Wc},{SelectionContent:{GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},SelectionField:{CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5}});function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kc={evaluate:function(e,t,n){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])+(n[2]-t[2])*(n[2]-t[2])-e*e},isPointIn3DEllipse:function(e,t){var n=Xr.getCenter(t),r=Xr.computeScale3(t);r=r.map((function(e){return Math.max(Math.abs(e),1e-12)}));var o=[(e[0]-n[0])/r[0],(e[1]-n[1])/r[1],(e[2]-n[2])/r[2]];return o[0]*o[0]+o[1]*o[1]+o[2]*o[2]<=1}};function Xc(e,t){t.classHierarchy.push("vtkSphere"),e.evaluateFunction=function(e){return(e[0]-t.center[0])*(e[0]-t.center[0])+(e[1]-t.center[1])*(e[1]-t.center[1])+(e[2]-t.center[2])*(e[2]-t.center[2])-t.radius*t.radius},e.evaluateGradient=function(e){return[2-(e[0]-t.center[0]),2-(e[1]-t.center[1]),2-(e[2]-t.center[2])]}}var Yc={radius:.5,center:[0,0,0]};function Zc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yc,n),fe.obj(e,t),fe.setGet(e,t,["radius"]),fe.setGetArray(e,t,["center"],3),Xc(e,t)}var Jc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Zc,"vtkSphere"),extend:Zc},Kc),$c={vtkBoundingBox:Xr,vtkBox:ou,vtkCell:uu,vtkCone:du,vtkCylinder:yu,vtkDataSet:bo,vtkDataSetAttributes:co,vtkITKHelper:xu,vtkImageData:es,vtkImplicitBoolean:Tu,vtkLine:Uu,vtkMolecule:qu,vtkPiecewiseFunction:Ju,vtkPlane:dr,vtkPointSet:tc,vtkPolyData:Vc,vtkSelectionNode:Hc,vtkSphere:Jc,vtkStructuredData:Ao,vtkTriangle:Mc},Qc={Mode:{RIGID_BODY:0,SIMILARITY:1,AFFINE:2}};function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tl=Qc.Mode;function nl(e,t){t.classHierarchy.push("vtkLandmarkTransform"),e.update=function(){Di(t.matrix);var e=t.sourceLandmark.getNumberOfPoints();if(t.targetLandmark.getNumberOfPoints()!==e||null===t.sourceLandmark||null===t.targetLandmark||0===e)return console.error("Error : Bad inputs of vtkLandmarkTransform"),t.matrix;for(var n=[0,0,0],r=[0,0,0],o=[0,0,0],i=0;i<e;i++)t.sourceLandmark.getPoint(i,o),n[0]+=o[0],n[1]+=o[1],n[2]+=o[2],t.targetLandmark.getPoint(i,o),r[0]+=o[0],r[1]+=o[1],r[2]+=o[2];if(n[0]/=e,n[1]/=e,n[2]/=e,r[0]/=e,r[1]/=e,r[2]/=e,1===e)return Di(t.matrix),t.matrix.elem[12]=r[0]-n[0],t.matrix.elem[13]=r[1]-n[1],t.matrix.elem[14]=r[2]-n[2],t.matrix;for(var a=new Float64Array(9),s=new Float64Array(9),u=[0,0,0],c=[0,0,0],l=0,f=0,d=0;d<e;d++){t.sourceLandmark.getPoint(d,u),u[0]-=n[0],u[1]-=n[1],u[2]-=n[2],t.targetLandmark.getPoint(d,c),c[0]-=r[0],c[1]-=r[1],c[2]-=r[2];for(var p=0;p<3;p++)a[0+p]+=u[p]*c[0],a[3+p]+=u[p]*c[1],a[6+p]+=u[p]*c[2],t.mode===tl.AFFINE&&(s[0+p]+=u[p]*u[0],s[3+p]+=u[p]*u[1],s[6+p]+=u[p]*u[2]);l+=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],f+=c[0]*c[0]+c[1]*c[1]+c[2]*c[2]}if(t.mode===tl.AFFINE){Pa(s,s),Ta(a,s,a);for(var h=0;h<3;++h)for(var m=0;m<3;++m)t.matrix[4*m+h]=a[4*h+m]}else{var g=Math.sqrt(f/l),v=new Float64Array(16);v[0]=a[0]+a[4]+a[8],v[5]=a[0]-a[4]-a[8],v[10]=-a[0]+a[4]-a[8],v[15]=-a[0]-a[4]+a[8],v[4]=v[1]=a[7]-a[5],v[8]=v[2]=a[2]-a[6],v[12]=v[3]=a[3]-a[1],v[9]=v[6]=a[3]+a[1],v[13]=v[7]=a[2]+a[6],v[14]=v[11]=a[7]+a[5];var y,b,w,x,C=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],S=[0,0,0,0];if(It(function(e){for(var t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0,r=0;r<4;r++)for(var o=0;o<4;o++)t[o][r]=e[n++];return t}(v),4,S,C),S[0]===S[1]||2===e){var A,_,P=[0,0,0],O=[0,0,0],E=[0,0,0],T=[0,0,0];t.sourceLandmark.getPoint(0,P),t.targetLandmark.getPoint(0,O),t.sourceLandmark.getPoint(1,E),t.targetLandmark.getPoint(1,T);for(var D=0,I=0,k=0;k<3;k++)A[k]=E[k]-P[k],D=A[k]*A[k]+D,_[k]=T[k]-O[k],I=_[k]*_[k]+I;D=Math.sqrt(D),A[0]/=D,A[1]/=D,A[2]/=D,I=Math.sqrt(I),_[0]/=I,_[1]/=I,_[2]/=I,y=A[0]*_[0]+A[1]*_[1]+A[2]*_[2],b=A[1]*_[2]-A[2]*_[1],w=A[2]*_[0]-A[0]*_[2],x=A[0]*_[1]-A[1]*_[0];var M=Math.sqrt(b*b+w*w+x*x),N=Math.atan2(M,y);y=Math.cos(N/2),0!==M?(b*=M=Math.sin(N/2)/M,w*=M,x*=M):(rt(A,_,0,0),M=Math.sin(N/2),b=_[0]*M,w=_[1]*M,x=_[2]*M)}else y=C[0][0],b=C[1][0],w=C[2][0],x=C[3][0];var R=y*y,B=y*b,L=y*w,F=y*x,j=b*b,V=w*w,U=x*x,z=b*w,G=b*x,W=w*x;if(t.matrix[0]=R+j-V-U,t.matrix[1]=2*(F+z),t.matrix[2]=2*(-L+G),t.matrix[4]=2*(-F+z),t.matrix[5]=R-j+V-U,t.matrix[6]=2*(B+W),t.matrix[8]=2*(L+G),t.matrix[9]=2*(-B+W),t.matrix[10]=R-j-V+U,t.mode!==tl.RIGID_BODY)for(var H=0;H<3;H++)t.matrix[0+H]=t.matrix[0+H]*g,t.matrix[4+H]=t.matrix[4+H]*g,t.matrix[8+H]=t.matrix[8+H]*g}var q=t.matrix[0]*n[0]+t.matrix[4]*n[1]+t.matrix[8]*n[2],K=t.matrix[1]*n[0]+t.matrix[5]*n[1]+t.matrix[9]*n[2],X=t.matrix[2]*n[0]+t.matrix[6]*n[1]+t.matrix[10]*n[2];return t.matrix[12]=r[0]-q,t.matrix[13]=r[1]-K,t.matrix[14]=r[2]-X,t.matrix[3]=0,t.matrix[7]=0,t.matrix[11]=0,t.matrix[15]=1,t.matrix}}var rl={mode:tl.SIMILARITY};function ol(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rl,n),fe.obj(e,t),t.matrix=Di(new Float64Array(16)),fe.setGet(e,t,["sourceLandmark","targetLandmark","mode"]),fe.get(e,t,["matrix"]),nl(e,t)}var il={vtkLandmarkTransform:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(ol,"vtkLandmarkTransform"),extend:ol},Qc)},al=JSON.parse('{"Hb":[{"type":"android","rules":[{"mdmh":"asus/*/Nexus 7/*"},{"ua":"Nexus 7"}],"dpi":[320.8,323],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"asus/*/ASUS_Z00AD/*"},{"ua":"ASUS_Z00AD"}],"dpi":[403,404.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Google/*/Pixel XL/*"},{"ua":"Pixel XL"}],"dpi":[537.9,533],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Google/*/Pixel/*"},{"ua":"Pixel"}],"dpi":[432.6,436.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"HTC/*/HTC6435LVW/*"},{"ua":"HTC6435LVW"}],"dpi":[449.7,443.3],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"HTC/*/HTC One XL/*"},{"ua":"HTC One XL"}],"dpi":[315.3,314.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"htc/*/Nexus 9/*"},{"ua":"Nexus 9"}],"dpi":289,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"HTC/*/HTC One M9/*"},{"ua":"HTC One M9"}],"dpi":[442.5,443.3],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"HTC/*/HTC One_M8/*"},{"ua":"HTC One_M8"}],"dpi":[449.7,447.4],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"HTC/*/HTC One/*"},{"ua":"HTC One"}],"dpi":472.8,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Huawei/*/Nexus 6P/*"},{"ua":"Nexus 6P"}],"dpi":[515.1,518],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LENOVO/*/Lenovo PB2-690Y/*"},{"ua":"Lenovo PB2-690Y"}],"dpi":[457.2,454.713],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"LGE/*/Nexus 5X/*"},{"ua":"Nexus 5X"}],"dpi":[422,419.9],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/LGMS345/*"},{"ua":"LGMS345"}],"dpi":[221.7,219.1],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"LGE/*/LG-D800/*"},{"ua":"LG-D800"}],"dpi":[422,424.1],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"LGE/*/LG-D850/*"},{"ua":"LG-D850"}],"dpi":[537.9,541.9],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"LGE/*/VS985 4G/*"},{"ua":"VS985 4G"}],"dpi":[537.9,535.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/Nexus 5/*"},{"ua":"Nexus 5 B"}],"dpi":[442.4,444.8],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/Nexus 4/*"},{"ua":"Nexus 4"}],"dpi":[319.8,318.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/LG-P769/*"},{"ua":"LG-P769"}],"dpi":[240.6,247.5],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/LGMS323/*"},{"ua":"LGMS323"}],"dpi":[206.6,204.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"LGE/*/LGLS996/*"},{"ua":"LGLS996"}],"dpi":[403.4,401.5],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Micromax/*/4560MMX/*"},{"ua":"4560MMX"}],"dpi":[240,219.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Micromax/*/A250/*"},{"ua":"Micromax A250"}],"dpi":[480,446.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Micromax/*/Micromax AQ4501/*"},{"ua":"Micromax AQ4501"}],"dpi":240,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/G5/*"},{"ua":"Moto G (5) Plus"}],"dpi":[403.4,403],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/DROID RAZR/*"},{"ua":"DROID RAZR"}],"dpi":[368.1,256.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT830C/*"},{"ua":"XT830C"}],"dpi":[254,255.9],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT1021/*"},{"ua":"XT1021"}],"dpi":[254,256.7],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/XT1023/*"},{"ua":"XT1023"}],"dpi":[254,256.7],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/XT1028/*"},{"ua":"XT1028"}],"dpi":[326.6,327.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT1034/*"},{"ua":"XT1034"}],"dpi":[326.6,328.4],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/XT1053/*"},{"ua":"XT1053"}],"dpi":[315.3,316.1],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT1562/*"},{"ua":"XT1562"}],"dpi":[403.4,402.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/Nexus 6/*"},{"ua":"Nexus 6 B"}],"dpi":[494.3,489.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT1063/*"},{"ua":"XT1063"}],"dpi":[295,296.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/XT1064/*"},{"ua":"XT1064"}],"dpi":[295,295.6],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/XT1092/*"},{"ua":"XT1092"}],"dpi":[422,424.1],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"motorola/*/XT1095/*"},{"ua":"XT1095"}],"dpi":[422,423.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"motorola/*/G4/*"},{"ua":"Moto G (4)"}],"dpi":401,"bw":4,"ac":1000},{"type":"android","rules":[{"mdmh":"OnePlus/*/A0001/*"},{"ua":"A0001"}],"dpi":[403.4,401],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"OnePlus/*/ONE E1005/*"},{"ua":"ONE E1005"}],"dpi":[442.4,441.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"OnePlus/*/ONE A2005/*"},{"ua":"ONE A2005"}],"dpi":[391.9,405.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"OnePlus/*/ONEPLUS A5000/*"},{"ua":"ONEPLUS A5000 "}],"dpi":[403.411,399.737],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"OnePlus/*/ONE A5010/*"},{"ua":"ONEPLUS A5010"}],"dpi":[403,400],"bw":2,"ac":1000},{"type":"android","rules":[{"mdmh":"OPPO/*/X909/*"},{"ua":"X909"}],"dpi":[442.4,444.1],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9082/*"},{"ua":"GT-I9082"}],"dpi":[184.7,185.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G360P/*"},{"ua":"SM-G360P"}],"dpi":[196.7,205.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/Nexus S/*"},{"ua":"Nexus S"}],"dpi":[234.5,229.8],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9300/*"},{"ua":"GT-I9300"}],"dpi":[304.8,303.9],"bw":5,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-T230NU/*"},{"ua":"SM-T230NU"}],"dpi":216,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SGH-T399/*"},{"ua":"SGH-T399"}],"dpi":[217.7,231.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SGH-M919/*"},{"ua":"SGH-M919"}],"dpi":[440.8,437.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N9005/*"},{"ua":"SM-N9005"}],"dpi":[386.4,387],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SAMSUNG-SM-N900A/*"},{"ua":"SAMSUNG-SM-N900A"}],"dpi":[386.4,387.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9500/*"},{"ua":"GT-I9500"}],"dpi":[442.5,443.3],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9505/*"},{"ua":"GT-I9505"}],"dpi":439.4,"bw":4,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G900F/*"},{"ua":"SM-G900F"}],"dpi":[415.6,431.6],"bw":5,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G900M/*"},{"ua":"SM-G900M"}],"dpi":[415.6,431.6],"bw":5,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G800F/*"},{"ua":"SM-G800F"}],"dpi":326.8,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G906S/*"},{"ua":"SM-G906S"}],"dpi":[562.7,572.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9300/*"},{"ua":"GT-I9300"}],"dpi":[306.7,304.8],"bw":5,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-T535/*"},{"ua":"SM-T535"}],"dpi":[142.6,136.4],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N920C/*"},{"ua":"SM-N920C"}],"dpi":[515.1,518.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N920P/*"},{"ua":"SM-N920P"}],"dpi":[386.3655,390.144],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N920W8/*"},{"ua":"SM-N920W8"}],"dpi":[515.1,518.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9300I/*"},{"ua":"GT-I9300I"}],"dpi":[304.8,305.8],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-I9195/*"},{"ua":"GT-I9195"}],"dpi":[249.4,256.7],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SPH-L520/*"},{"ua":"SPH-L520"}],"dpi":[249.4,255.9],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SAMSUNG-SGH-I717/*"},{"ua":"SAMSUNG-SGH-I717"}],"dpi":285.8,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SPH-D710/*"},{"ua":"SPH-D710"}],"dpi":[217.7,204.2],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/GT-N7100/*"},{"ua":"GT-N7100"}],"dpi":265.1,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SCH-I605/*"},{"ua":"SCH-I605"}],"dpi":265.1,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/Galaxy Nexus/*"},{"ua":"Galaxy Nexus"}],"dpi":[315.3,314.2],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N910H/*"},{"ua":"SM-N910H"}],"dpi":[515.1,518],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-N910C/*"},{"ua":"SM-N910C"}],"dpi":[515.2,520.2],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G130M/*"},{"ua":"SM-G130M"}],"dpi":[165.9,164.8],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G928I/*"},{"ua":"SM-G928I"}],"dpi":[515.1,518.4],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G920F/*"},{"ua":"SM-G920F"}],"dpi":580.6,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G920P/*"},{"ua":"SM-G920P"}],"dpi":[522.5,577],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G925F/*"},{"ua":"SM-G925F"}],"dpi":580.6,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G925V/*"},{"ua":"SM-G925V"}],"dpi":[522.5,576.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G930F/*"},{"ua":"SM-G930F"}],"dpi":576.6,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G935F/*"},{"ua":"SM-G935F"}],"dpi":533,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G950F/*"},{"ua":"SM-G950F"}],"dpi":[562.707,565.293],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"samsung/*/SM-G955U/*"},{"ua":"SM-G955U"}],"dpi":[522.514,525.762],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"Sony/*/C6903/*"},{"ua":"C6903"}],"dpi":[442.5,443.3],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"Sony/*/D6653/*"},{"ua":"D6653"}],"dpi":[428.6,427.6],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Sony/*/E6653/*"},{"ua":"E6653"}],"dpi":[428.6,425.7],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Sony/*/E6853/*"},{"ua":"E6853"}],"dpi":[403.4,401.9],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Sony/*/SGP321/*"},{"ua":"SGP321"}],"dpi":[224.7,224.1],"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{"ua":"ALCATEL ONE TOUCH Fierce"}],"dpi":[240,247.5],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"THL/*/thl 5000/*"},{"ua":"thl 5000"}],"dpi":[480,443.3],"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"Fly/*/IQ4412/*"},{"ua":"IQ4412"}],"dpi":307.9,"bw":3,"ac":1000},{"type":"android","rules":[{"mdmh":"ZTE/*/ZTE Blade L2/*"},{"ua":"ZTE Blade L2"}],"dpi":240,"bw":3,"ac":500},{"type":"android","rules":[{"mdmh":"BENEVE/*/VR518/*"},{"ua":"VR518"}],"dpi":480,"bw":3,"ac":500},{"type":"ios","rules":[{"res":[640,960]}],"dpi":[325.1,328.4],"bw":4,"ac":1000},{"type":"ios","rules":[{"res":[640,1136]}],"dpi":[317.1,320.2],"bw":3,"ac":1000},{"type":"ios","rules":[{"res":[750,1334]}],"dpi":326.4,"bw":4,"ac":1000},{"type":"ios","rules":[{"res":[1242,2208]}],"dpi":[453.6,458.4],"bw":4,"ac":1000},{"type":"ios","rules":[{"res":[1125,2001]}],"dpi":[410.9,415.4],"bw":4,"ac":1000},{"type":"ios","rules":[{"res":[1125,2436]}],"dpi":458,"bw":4,"ac":1000}]}'),sl=[{label:"Choose a headset"},{id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]},{id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]}],ul=navigator.userAgent||navigator.vendor||window.opera,cl=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(ul)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ul.substr(0,4)),ll=/iPad|iPhone|iPod/.test(navigator.platform),fl=-1!==ul.indexOf("Version")&&-1!==ul.indexOf("Android")&&-1!==ul.indexOf("Chrome"),dl=/^((?!chrome|android).)*safari/i.test(ul),pl=-1!==ul.indexOf("Firefox")&&-1!==ul.indexOf("Android"),hl=Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio,ml=Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio,gl={width:hl,height:ml};function vl(e,t,n,r){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var o=g(e.res,2),i=o[0],a=o[1];if(Math.min(n,r)!==Math.min(i,a)||Math.max(n,r)!==Math.max(i,a))return!1}return!0}!function(){for(var e=0;e<al.Hb.length;e++){var t=al.Hb[e];if(t.rules)if("ios"===t.type||"android"===t.type){if(ll===("ios"===t.type)){for(var n=!1,r=0;r<t.rules.length;r++)if(vl(t.rules[r],ul,hl,ml)){n=!0;break}n&&(gl.xdpi=t.dpi[0]||t.dpi,gl.ydpi=t.dpi[1]||t.dpi,gl.bevelMm=t.bw)}}else console.warn("Device[".concat(e,"] has invalid type."));else console.warn("Device[".concat(e,"] has no rules section."))}}();var yl={Core:Qs,DataModel:$c,Transform:il,System:{vtkMobileVR:{isMobile:cl,isIOS:ll,isWebViewAndroid:fl,isSafari:dl,isFirefoxAndroid:pl,hardware:gl,getVRHeadset:function(){return new Promise((function(e,t){var n=document.querySelector("body"),r=document.createElement("select");r.innerHTML=sl.map((function(e,t){return'<option value="'.concat(t,'">').concat(e.label,"</option>")})).join(""),r.style.zIndex=1e3,r.style.position="absolute",r.style.left="50%",r.style.top="50%",r.style.transform="translate(-50%, -50%)",r.addEventListener("change",(function(t){n.removeChild(r),e(sl[Number(t.target.value)])})),n.appendChild(r)}))}},vtkTimerLog:{getUniversalTime:function(){return+new Date}}}},bl=fe.vtkErrorMacro;function wl(e,t){t.classHierarchy.push("vtkImageDataToCornerstoneImage"),e.requestData=function(e,n){var r=e[0];if(r){var o=r.getSpacing(),i=r.getDimensions(),a=r.getPointData().getScalars(),s=a.getRange(0),u=a.getData(),c=null;if(1===i[2])c=a.data?a.data:u;else{var l=t.sliceIndex*i[0]*i[1]*u.BYTES_PER_ELEMENT;c=fe.newTypedArray(a.getDataType(),u.buffer,l,i[0]*i[1])}var f={imageId:t.imageId,color:a.getNumberOfComponents()>1,columnPixelSpacing:o[0],columns:i[0],width:i[0],rowPixelSpacing:o[1],rows:i[1],height:i[1],intercept:0,invert:!1,minPixelValue:s[0],maxPixelValue:s[1],sizeInBytes:c.length*c.BYTES_PER_ELEMENT,slope:1,windowCenter:Math.round((s[0]+s[1])/2),windowWidth:s[1]-s[0],decodeTimeInMS:0,getPixelData:function(){return c}};n[0]=f}else bl("Invalid or missing input")}}var xl={imageId:"default-image-id",sliceIndex:0};function Cl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xl,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["imageId","sliceIndex"]),fe.algo(e,t,1,1),wl(e,t)}var Sl={vtkImageDataToCornerstoneImage:{newInstance:fe.newInstance(Cl,"vtkImageDataToCornerstoneImage"),extend:Cl}};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _l=M;function Pl(e,t){t.classHierarchy.push("vtkCutter");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getMTime=function(){var e=n.getMTime();return t.cutFunction?e=Math.max(e,t.cutFunction.getMTime()):e},e.requestData=function(e,n){var r=e[0];if(r)if(t.cutFunction){var o=Vc.newInstance();(function(e,n){var r=e.getPoints(),o=r.getData(),i=r.getNumberOfPoints(),a=[],s=[],u=[];(!t.cutScalars||t.cutScalars.length<i)&&(t.cutScalars=new Float32Array(i));for(var c=0,l=0;c<o.length;)t.cutScalars[l++]=t.cutFunction.evaluateFunction(o[c++],o[c++],o[c++]);for(var f=[],d=new Array(3),p=new Array(3),h=function(e){var t=e.getPolys().getData(),n=e.getStrips().getData(),r={done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next:function(){var e=null;if(r.polyIdx<t.length){var o=t[r.polyIdx],i=r.polyIdx+1,a=i+o;r.polyIdx=a,e=t.subarray(i,a)}else if(r.stripIdx<n.length){0===r.remainingStripLength&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);var s=r.stripIdx-2,u=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--,e=n.subarray(s,u)}else if(r.done)throw new Error("Iterator is done");return r.done=r.polyIdx>=t.length&&r.stripIdx>=n.length,e}};return r}(e);!h.done;){var m=h.next();if(!(m.length<=2)){for(var g=[],v=void 0,y=0;y<m.length;y++)v=m[y],g.push(t.cutScalars[v]);for(var b=g[0]>0,w=!0,x=1;x<g.length;x++)if(g[x]>0!==b){w=!1;break}if(!w){for(var C=[],S=0;S<m.length;S++){var A=S+1===m.length?0:S+1,_=g[S]>0;if(g[A]>0!==_){var P=S,O=A,E=g[O]-g[P];E<=0&&(P=A,O=S,E*=-1);var T=0;0!==E&&(T=(t.cutValue-g[P])/E);var D=m[P],I=m[O];d[0]=o[3*D],d[1]=o[3*D+1],d[2]=o[3*D+2],p[0]=o[3*I],p[1]=o[3*I+1],p[2]=o[3*I+2];var k=[d[0]+T*(p[0]-d[0]),d[1]+T*(p[1]-d[1]),d[2]+T*(p[2]-d[2])];C.push({pointEdge1:D,pointEdge2:I,intersectedPoint:k,newPointID:-1})}}for(var M=0;M<C.length;M++){for(var N=C[M],R=!1,B=0;B<f.length;B++){var L=f[B],j=N.pointEdge1===L.pointEdge1&&N.pointEdge2===L.pointEdge2,V=N.intersectedPoint[0]===L.intersectedPoint[0]&&N.intersectedPoint[1]===L.intersectedPoint[1]&&N.intersectedPoint[2]===L.intersectedPoint[2];if(j||V){R=!0,C[M].newPointID=f[B].newPointID;break}}R||(a.push(N.intersectedPoint[0]),a.push(N.intersectedPoint[1]),a.push(N.intersectedPoint[2]),C[M].newPointID=a.length/3-1,f.push(C[M]))}var U=C.length;2===U?s.push(U,C[0].newPointID,C[1].newPointID):U>2&&(u.push(U),C.forEach((function(e){u.push(e.newPointID)})))}}}n.getPoints().setData(F(r.getDataType(),a),3),0!==s.length&&n.getLines().setData(Uint16Array.from(s)),0!==u.length&&n.getPolys().setData(Uint16Array.from(u))})(r,o),n[0]=o}else _l("Missing cut function");else _l("Invalid or missing input")}}var Ol={cutFunction:null,cutScalars:null,cutValue:0};function El(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ol,n),W(e,t),Q(e,t,1,1),Y(e,t,["cutFunction","cutValue"]),Pl(e,t)}var Tl={newInstance:ne(El,"vtkCutter"),extend:El},Dl={vtkCutter:Tl},Il=fe.vtkErrorMacro;function kl(e,t,n,r){var o,i;e.set((o=n,i=0,t.map((function(e,t){return t===i?(i+=e+1,e):e+o}))),r)}function Ml(e,t){t.classHierarchy.push("vtkAppendPolyData"),e.requestData=function(n,r){var o=e.getNumberOfInputPorts();if(o)if(1!==o){for(var i=Vc.newInstance(),a=0,s=0,u=1,c=1,l=0,f=0,d=0,p=0,h=!0,m=!0,g=!0,v=0;v<o;v++){var y=n[v];if(!y)return void Il("Invalid or missing input");var b=y.getPoints().getNumberOfPoints();a+=b,l+=y.getVerts().getNumberOfValues(),f+=y.getLines().getNumberOfValues(),d+=y.getStrips().getNumberOfValues(),p+=y.getPolys().getNumberOfValues(),b&&(c&&(c=0,s=y.getPoints().getDataType()),s=s>(u=y.getPoints().getDataType())?s:u);var w=y.getPointData();w?(h=h&&null!==w.getNormals(),m=m&&null!==w.getTCoords(),g=g&&null!==w.getScalars()):(h=!1,m=!1,g=!1)}t.outputPointsPrecision===eo.SINGLE?s=pe.FLOAT:t.outputPointsPrecision===eo.DOUBLE&&(s=pe.DOUBLE);var x=Ns.newInstance({dataType:s});x.setNumberOfPoints(a);var C=x.getData(),S=new Uint32Array(l),A=new Uint32Array(f),_=new Uint32Array(d),P=new Uint32Array(p),O=null,E=null,T=null,D=n[o-1];if(h){var I=D.getPointData().getNormals();O=Fn.newInstance({numberOfComponents:3,numberOfTuples:a,size:3*a,dataType:I.getDataType(),name:I.getName()})}if(m){var k=D.getPointData().getTCoords();E=Fn.newInstance({numberOfComponents:2,numberOfTuples:a,size:2*a,dataType:k.getDataType(),name:k.getName()})}if(g){var M=D.getPointData().getScalars();T=Fn.newInstance({numberOfComponents:M.getNumberOfComponents(),numberOfTuples:a,size:a*M.getNumberOfComponents(),dataType:M.getDataType(),name:M.getName()})}a=0,l=0,f=0,d=0,p=0;for(var N=0;N<o;N++){var R=n[N];C.set(R.getPoints().getData(),3*a),kl(S,R.getVerts().getData(),a,l),l+=R.getVerts().getNumberOfValues(),kl(A,R.getLines().getData(),a,f),f+=R.getLines().getNumberOfValues(),kl(_,R.getStrips().getData(),a,d),d+=R.getStrips().getNumberOfValues(),kl(P,R.getPolys().getData(),a,p),p+=R.getPolys().getNumberOfValues();var B=R.getPointData();if(h){var L=B.getNormals();O.getData().set(L.getData(),3*a)}if(m){var F=B.getTCoords();E.getData().set(F.getData(),2*a)}if(g){var j=B.getScalars();T.getData().set(j.getData(),a*T.getNumberOfComponents())}a+=R.getPoints().getNumberOfPoints()}i.setPoints(x),i.getVerts().setData(S),i.getLines().setData(A),i.getStrips().setData(_),i.getPolys().setData(P),O&&i.getPointData().setNormals(O),E&&i.getPointData().setTCoords(E),T&&i.getPointData().setScalars(T),r[0]=i}else r[0]=n[0];else Il("No input specified.")}}var Nl={outputPointsPrecision:eo.DEFAULT};function Rl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Nl,n),fe.setGet(e,t,["outputPointsPrecision"]),fe.obj(e,t),fe.algo(e,t,1,1),Ml(e,t)}var Bl={newInstance:fe.newInstance(Rl,"vtkAppendPolyData"),extend:Rl};function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fl=fe.vtkWarningMacro;function jl(e,t){t.classHierarchy.push("vtkCalculator"),e.setFormula=function(n){return n!==t.formula&&(t.formula=n,e.modified(),!0)},e.getFormula=function(){return t.formula},e.augmentInputArrays=function(e,t){var n=t.slice(0);return e!==lo.POINT&&e!==lo.VERTEX||n.push({location:lo.COORDINATE}),n},e.createSimpleFormulaObject=function(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{getArrays:function(){return{input:e.augmentInputArrays(t,n.map((function(e){return{location:t,name:e}}))),output:[{location:t,name:r,attribute:"outputAttributeType"in i?i.outputAttributeType:Qr.SCALARS,numberOfComponents:"numberOfOutputComponents"in i?i.numberOfOutputComponents:1}]}},evaluate:function(e,t){var n=new Array(e.length),r=e.map((function(e,t){var r=e.getNumberOfComponents(),o=e.getData();return 1===r?function(e){return o[e]}:function(r){return e.getTuple(r,n[t])}})),i=t[0],a=i.getData(),s=i.getNumberOfComponents(),u=new Array(s);if(1===s)a.forEach((function(e,t){a[t]=o.apply(void 0,y(r.map((function(e){return e(t)}))).concat([t,u]))}));else for(var c=i.getNumberOfTuples(),l=function(e){u=o.apply(void 0,y(r.map((function(t){return t(e)}))).concat([e,u])),i.setTuple(e,u)},f=0;f<c;++f)l(f)}}},e.setFormulaSimple=function(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e.setFormula(e.createSimpleFormulaObject(t,n,r,o,i))},e.prepareArrays=function(e,t,n){var r=[],o=[];return e.input.forEach((function(e){if(e.location===lo.COORDINATE)r.push(t.getPoints());else{var n=[[lo.UNIFORM,function(e){return e.getFieldData()}],[lo.POINT,function(e){return e.getPointData()}],[lo.CELL,function(e){return e.getCellData()}],[lo.VERTEX,function(e){return e.getVertexData()}],[lo.EDGE,function(e){return e.getEdgeData()}],[lo.ROW,function(e){return e.getRowData()}]].reduce((function(e,t){return e[t[0]]=t[1],e}),{}),o="location"in e&&e.location in n?n[e.location](t):null;o?e.name?r.push(o.getArrayByName(e.name)):"index"in e?r.push(o.getArrayByIndex(e.index)):"attribute"in e&&e.location!==lo.UNIFORM?r.push(o.getActiveAttribute(e.attribute)):(Fl('No matching array for specifier "'.concat(JSON.stringify(e),'".')),r.push(null)):(Fl('Specifier "'.concat(JSON.stringify(e),'" did not provide a usable location.')),r.push(null))}})),e.output.forEach((function(e){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i="numberOfComponents"in r?r.numberOfComponents:1;if(e.location===lo.UNIFORM&&"tuples"in r&&(r.size=i*r.tuples),e.location===lo.COORDINATE){var a=t.getPoints(),s=Ns.newInstance({dataType:a.getDataType()});s.setNumberOfPoints(a.getNumberOfPoints(),a.getNumberOfComponents()),n.setPoints(s),o.push(s)}else{var u=[[lo.UNIFORM,function(e){return e.getFieldData()},function(e,t){return"tuples"in t?t.tuples:0}],[lo.POINT,function(e){return e.getPointData()},function(e){return e.getPoints().getNumberOfPoints()}],[lo.CELL,function(e){return e.getCellData()},function(e){return e.getNumberOfCells()}],[lo.VERTEX,function(e){return e.getVertexData()},function(e){return e.getNumberOfVertices()}],[lo.EDGE,function(e){return e.getEdgeData()},function(e){return e.getNumberOfEdges()}],[lo.ROW,function(e){return e.getRowData()},function(e){return e.getNumberOfRows()}]].reduce((function(e,t){return e[t[0]]={getData:t[1],getSize:t[2]},e}),{}),c=null,l=0;if("location"in e&&e.location in u&&(c=u[e.location].getData(n),l=u[e.location].getSize(t,r)),l<=0)Fl("Output array size could not be determined for ".concat(JSON.stringify(e),".")),o.push(null);else if(c){r.size=i*l;var f=Fn.newInstance(r),d=c.addArray(f);"attribute"in r&&e.location!==lo.UNIFORM&&c.setActiveAttributeByIndex(d,r.attribute),o.push(f)}else Fl('Specifier "'.concat(JSON.stringify(e),'" did not provide a usable location.')),o.push(null)}})),{arraysIn:r,arraysOut:o}},e.requestData=function(n,r){if(!t.formula)return 0;var o=t.formula.getArrays(n),i=A({vtkClass:n[0].getClassName()});i.shallowCopy(n[0]),r[0]=i;var a=e.prepareArrays(o,n[0],r[0]);return t.formula.evaluate(a.arraysIn,a.arraysOut),1}}var Vl={formula:{getArrays:function(){return{input:[],output:[]}},evaluate:function(){return null}}};function Ul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Vl,n),fe.obj(e,t),fe.algo(e,t,1,1),jl(e,t)}var zl={newInstance:fe.newInstance(Ul,"vtkCalculator"),extend:Ul},Gl=fe.vtkErrorMacro,Wl=function(){function e(){Yn(this,e),this.segmentMapping={},this.segments=[null],this.faces=[]}return Jn(e,[{key:"addSegment",value:function(e){var t=e[0],n=e[e.length-1];if(!(t===n||e.length<2)){var r=this.segmentMapping[t],o=this.segmentMapping[n];if(void 0!==r&&void 0!==o)if(Math.abs(r)===Math.abs(o)){var i=r<o?o:r,a=this.segments[i];if(r>0)for(var s=1;s<e.length-1;s++)a.push(e[s]);else for(var u=1;u<e.length-1;u++)a.push(e[e.length-1-u]);this.faces.push(a),this.segments[i]=null,this.segmentMapping[t]=void 0,this.segmentMapping[n]=void 0}else{var c=Math.abs(r),l=Math.abs(o),f=this.segments[c],d=this.segments[l];this.segments[c]=null,this.segments[l]=null,this.segmentMapping[f[0]]=void 0,this.segmentMapping[d[0]]=void 0,this.segmentMapping[f[f.length-1]]=void 0,this.segmentMapping[d[d.length-1]]=void 0,this.addSegment(e),this.addSegment(f),this.addSegment(d)}else if(void 0!==r){if(r>0){for(var p=this.segments[r],h=1;h<e.length;h++)p.push(e[h]);this.segmentMapping[n]=r}else{var m=this.segments[-r];this.segmentMapping[n]=-r;for(var g=1;g<e.length;g++)m.unshift(e[g])}this.segmentMapping[t]=void 0}else if(void 0!==o){if(o>0){for(var v=this.segments[o],y=1;y<e.length;y++)v.push(e[e.length-1-y]);this.segmentMapping[t]=o}else{var b=this.segments[-o];this.segmentMapping[t]=-o;for(var w=1;w<e.length;w++)b.unshift(e[e.length-w-1])}this.segmentMapping[n]=void 0}else{var x=this.segments.length;this.segments.push(e),this.segmentMapping[t]=-x,this.segmentMapping[n]=x}}}}]),e}();function Hl(e,t){t.classHierarchy.push("vtkClosedPolyLineToSurfaceFilter"),e.requestData=function(e,t){var n=e[0],r=Vc.newInstance();if(r.shallowCopy(n),n){for(var o=new Wl,i=n.getLines().getData(),a=0;a<i.length;){for(var s=i[a++],u=[],c=0;c<s;c++)u.push(i[a+c]);o.addSegment(u),a+=s}for(var l=o.faces,f=l.length,d=0;d<l.length;d++)f+=l[d].length;var p=new Uint16Array(f);a=0;for(var h=0;h<l.length;h++){var m=l[h];p[a++]=m.length;for(var g=0;g<m.length;g++)p[a++]=m[g]}r.setPolys(qn.newInstance({values:p,name:"faces"})),t[0]=r}else Gl("Invalid or missing input")}}var ql={};function Kl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ql,n),fe.obj(e,t),fe.algo(e,t,1,1),Hl(e,t)}var Xl={newInstance:fe.newInstance(Kl,"vtkClosedPolyLineToSurfaceFilter"),extend:Kl},Yl=fe.vtkErrorMacro;function Zl(e,t){t.classHierarchy.push("vtkImageCropFilter"),e.reset=function(){var t=e.getInputData();t&&e.setCroppingPlanes.apply(e,y(t.getExtent()))},e.requestData=function(e,n){var r=e[0];if(r){var o=r.getPointData().getScalars();if(o){var i=r.getExtent(),a=6===t.croppingPlanes.length?i.map((function(e,n){return n%2==0?Math.max(e,Math.round(t.croppingPlanes[n])):Math.min(e,Math.round(t.croppingPlanes[n]))})):i.slice();if(a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]&&a[3]===i[3]&&a[4]===i[4]&&a[5]===i[5]){var s=es.newInstance();return s.shallowCopy(r),void(n[0]=s)}for(var u=0;u<3;++u)if(a[2*u]>a[2*u+1]){var c=[a[2*u+1],a[2*u]];a[2*u]=c[0],a[2*u+1]=c[1]}for(var l=0;l<6;l+=2)a[l]=Math.max(a[l],i[l]),a[l+1]=Math.min(a[l+1],i[l+1]);for(var f=o.getNumberOfComponents(),d=(a[1]-a[0]+1)*(a[3]-a[2]+1)*(a[5]-a[4]+1)*f,p=o.getData(),h=r.getDimensions(),m=f*h[0],g=f*h[0]*h[1],v=(a[0]-i[0])*f,y=(a[1]-a[0]+1)*f,b=new p.constructor(d),w=0,x=a[4];x<=a[5];++x)for(var C=a[2];C<=a[3];++C){var S=v+(C-i[2])*m+(x-i[4])*g,A=S+y,_=p.subarray(S,A);b.set(_,w),w+=_.length}var P=es.newInstance({extent:a,origin:r.getOrigin(),direction:r.getDirection(),spacing:r.getSpacing()}),O=Fn.newInstance({name:o.getName(),numberOfComponents:f,values:b});P.getPointData().setScalars(O),n[0]=P}else Yl("No scalars from input")}else Yl("Invalid or missing input")},e.isResetAvailable=function(){if(0===t.croppingPlanes.length)return!1;var n=e.getInputData();return!!n&&void 0!==n.getExtent().find((function(e,n){return Math.abs(t.croppingPlanes[n]-e)>Number.EPSILON}))}}var Jl={croppingPlanes:[]};function $l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Jl,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGetArray(e,t,["croppingPlanes"],6),Zl(e,t)}var Ql={newInstance:fe.newInstance($l,"vtkImageCropFilter"),extend:$l},ef=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,11,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,11,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,8,0,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,1,10,9,9,10,8,-1,-1,-1,-1,-1,-1,-1],[3,1,11,10,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,11,0,11,8,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,10,10,9,11,-1,-1,-1,-1,-1,-1,-1],[9,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,7,4,3,4,0,1,11,2,-1,-1,-1,-1,-1,-1,-1],[9,11,2,9,2,0,8,7,4,-1,-1,-1,-1,-1,-1,-1],[2,9,11,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[8,7,4,3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,7,4,10,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[9,1,0,8,7,4,2,10,3,-1,-1,-1,-1,-1,-1,-1],[4,10,7,9,10,4,9,2,10,9,1,2,-1,-1,-1,-1],[3,1,11,3,11,10,7,4,8,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,10,4,1,4,0,7,4,10,-1,-1,-1,-1],[4,8,7,9,10,0,9,11,10,10,3,0,-1,-1,-1,-1],[4,10,7,4,9,10,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,11,2,4,5,9,-1,-1,-1,-1,-1,-1,-1],[5,11,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[2,5,11,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[9,4,5,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,0,10,8,4,5,9,-1,-1,-1,-1,-1,-1,-1],[0,4,5,0,5,1,2,10,3,-1,-1,-1,-1,-1,-1,-1],[2,5,1,2,8,5,2,10,8,4,5,8,-1,-1,-1,-1],[11,10,3,11,3,1,9,4,5,-1,-1,-1,-1,-1,-1,-1],[4,5,9,0,1,8,8,1,11,8,11,10,-1,-1,-1,-1],[5,0,4,5,10,0,5,11,10,10,3,0,-1,-1,-1,-1],[5,8,4,5,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,7,9,7,5,11,2,1,-1,-1,-1,-1,-1,-1,-1],[11,2,1,9,0,5,5,0,3,5,3,7,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,11,2,5,-1,-1,-1,-1],[2,5,11,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[7,5,9,7,9,8,3,2,10,-1,-1,-1,-1,-1,-1,-1],[9,7,5,9,2,7,9,0,2,2,10,7,-1,-1,-1,-1],[2,10,3,0,8,1,1,8,7,1,7,5,-1,-1,-1,-1],[10,1,2,10,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[9,8,5,8,7,5,11,3,1,11,10,3,-1,-1,-1,-1],[5,0,7,5,9,0,7,0,10,1,11,0,10,0,11,-1],[10,0,11,10,3,0,11,0,5,8,7,0,5,0,7,-1],[10,5,11,7,5,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,1,0,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,1,8,9,5,6,11,-1,-1,-1,-1,-1,-1,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,5,6,1,6,2,3,8,0,-1,-1,-1,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[2,10,3,11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,8,0,10,0,2,11,5,6,-1,-1,-1,-1,-1,-1,-1],[0,9,1,2,10,3,5,6,11,-1,-1,-1,-1,-1,-1,-1],[5,6,11,1,2,9,9,2,10,9,10,8,-1,-1,-1,-1],[6,10,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[0,10,8,0,5,10,0,1,5,5,6,10,-1,-1,-1,-1],[3,6,10,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[6,9,5,6,10,9,10,8,9,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,4,3,7,6,11,5,-1,-1,-1,-1,-1,-1,-1],[1,0,9,5,6,11,8,7,4,-1,-1,-1,-1,-1,-1,-1],[11,5,6,1,7,9,1,3,7,7,4,9,-1,-1,-1,-1],[6,2,1,6,1,5,4,8,7,-1,-1,-1,-1,-1,-1,-1],[1,5,2,5,6,2,3,4,0,3,7,4,-1,-1,-1,-1],[8,7,4,9,5,0,0,5,6,0,6,2,-1,-1,-1,-1],[7,9,3,7,4,9,3,9,2,5,6,9,2,9,6,-1],[3,2,10,7,4,8,11,5,6,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,2,7,4,0,2,2,10,7,-1,-1,-1,-1],[0,9,1,4,8,7,2,10,3,5,6,11,-1,-1,-1,-1],[9,1,2,9,2,10,9,10,4,7,4,10,5,6,11,-1],[8,7,4,3,5,10,3,1,5,5,6,10,-1,-1,-1,-1],[5,10,1,5,6,10,1,10,0,7,4,10,0,10,4,-1],[0,9,5,0,5,6,0,6,3,10,3,6,8,7,4,-1],[6,9,5,6,10,9,4,9,7,7,9,10,-1,-1,-1,-1],[11,9,4,6,11,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,6,11,4,11,9,0,3,8,-1,-1,-1,-1,-1,-1,-1],[11,1,0,11,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,11,1,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,9,2,2,9,4,2,4,6,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[11,9,4,11,4,6,10,3,2,-1,-1,-1,-1,-1,-1,-1],[0,2,8,2,10,8,4,11,9,4,6,11,-1,-1,-1,-1],[3,2,10,0,6,1,0,4,6,6,11,1,-1,-1,-1,-1],[6,1,4,6,11,1,4,1,8,2,10,1,8,1,10,-1],[9,4,6,9,6,3,9,3,1,10,3,6,-1,-1,-1,-1],[8,1,10,8,0,1,10,1,6,9,4,1,6,1,4,-1],[3,6,10,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[6,8,4,10,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,7,11,8,8,11,9,-1,-1,-1,-1,-1,-1,-1],[0,3,7,0,7,11,0,11,9,6,11,7,-1,-1,-1,-1],[11,7,6,1,7,11,1,8,7,1,0,8,-1,-1,-1,-1],[11,7,6,11,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[2,9,6,2,1,9,6,9,7,0,3,9,7,9,3,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,10,3,11,8,6,11,9,8,8,7,6,-1,-1,-1,-1],[2,7,0,2,10,7,0,7,9,6,11,7,9,7,11,-1],[1,0,8,1,8,7,1,7,11,6,11,7,2,10,3,-1],[10,1,2,10,7,1,11,1,6,6,1,7,-1,-1,-1,-1],[8,6,9,8,7,6,9,6,1,10,3,6,1,6,3,-1],[0,1,9,10,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,3,0,10,10,0,6,-1,-1,-1,-1],[7,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,9,1,8,1,3,10,6,7,-1,-1,-1,-1,-1,-1,-1],[11,2,1,6,7,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,8,0,6,7,10,-1,-1,-1,-1,-1,-1,-1],[2,0,9,2,9,11,6,7,10,-1,-1,-1,-1,-1,-1,-1],[6,7,10,2,3,11,11,3,8,11,8,9,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[2,6,7,2,7,3,0,9,1,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[11,6,7,11,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[11,6,7,1,11,7,1,7,8,1,8,0,-1,-1,-1,-1],[0,7,3,0,11,7,0,9,11,6,7,11,-1,-1,-1,-1],[7,11,6,7,8,11,8,9,11,-1,-1,-1,-1,-1,-1,-1],[6,4,8,10,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[8,10,6,8,6,4,9,1,0,-1,-1,-1,-1,-1,-1,-1],[9,6,4,9,3,6,9,1,3,10,6,3,-1,-1,-1,-1],[6,4,8,6,8,10,2,1,11,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,10,0,0,10,6,0,6,4,-1,-1,-1,-1],[4,8,10,4,10,6,0,9,2,2,9,11,-1,-1,-1,-1],[11,3,9,11,2,3,9,3,4,10,6,3,4,3,6,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,4,3,2,6,4,4,8,3,-1,-1,-1,-1],[1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,11,-1,-1,-1,-1],[11,0,1,11,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[4,3,6,4,8,3,6,3,11,0,9,3,11,3,9,-1],[11,4,9,6,4,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,5,9,7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,5,9,10,6,7,-1,-1,-1,-1,-1,-1,-1],[5,1,0,5,0,4,7,10,6,-1,-1,-1,-1,-1,-1,-1],[10,6,7,8,4,3,3,4,5,3,5,1,-1,-1,-1,-1],[9,4,5,11,2,1,7,10,6,-1,-1,-1,-1,-1,-1,-1],[6,7,10,1,11,2,0,3,8,4,5,9,-1,-1,-1,-1],[7,10,6,5,11,4,4,11,2,4,2,0,-1,-1,-1,-1],[3,8,4,3,4,5,3,5,2,11,2,5,10,6,7,-1],[7,3,2,7,2,6,5,9,4,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,6,8,0,2,6,6,7,8,-1,-1,-1,-1],[3,2,6,3,6,7,1,0,5,5,0,4,-1,-1,-1,-1],[6,8,2,6,7,8,2,8,1,4,5,8,1,8,5,-1],[9,4,5,11,6,1,1,6,7,1,7,3,-1,-1,-1,-1],[1,11,6,1,6,7,1,7,0,8,0,7,9,4,5,-1],[4,11,0,4,5,11,0,11,3,6,7,11,3,11,7,-1],[7,11,6,7,8,11,5,11,4,4,11,8,-1,-1,-1,-1],[6,5,9,6,9,10,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,10,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[0,8,10,0,10,5,0,5,1,5,10,6,-1,-1,-1,-1],[6,3,10,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,10,5,9,8,10,10,6,5,-1,-1,-1,-1],[0,3,10,0,10,6,0,6,9,5,9,6,1,11,2,-1],[10,5,8,10,6,5,8,5,0,11,2,5,0,5,2,-1],[6,3,10,6,5,3,2,3,11,11,3,5,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[1,8,5,1,0,8,5,8,6,3,2,8,6,8,2,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,3,1,11,6,3,6,8,5,9,6,8,6,9,-1],[11,0,1,11,6,0,9,0,5,5,0,6,-1,-1,-1,-1],[0,8,3,5,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,7,10,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,10,5,7,8,0,3,-1,-1,-1,-1,-1,-1,-1],[5,7,10,5,10,11,1,0,9,-1,-1,-1,-1,-1,-1,-1],[11,5,7,11,7,10,9,1,8,8,1,3,-1,-1,-1,-1],[10,2,1,10,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,7,2,1,5,7,7,10,2,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,10,-1,-1,-1,-1],[7,2,5,7,10,2,5,2,9,3,8,2,9,2,8,-1],[2,11,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,11,5,2,-1,-1,-1,-1],[9,1,0,5,3,11,5,7,3,3,2,11,-1,-1,-1,-1],[9,2,8,9,1,2,8,2,7,11,5,2,7,2,5,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,4,8,5,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1],[5,4,0,5,0,10,5,10,11,10,0,3,-1,-1,-1,-1],[0,9,1,8,11,4,8,10,11,11,5,4,-1,-1,-1,-1],[11,4,10,11,5,4,10,4,3,9,1,4,3,4,1,-1],[2,1,5,2,5,8,2,8,10,4,8,5,-1,-1,-1,-1],[0,10,4,0,3,10,4,10,5,2,1,10,5,10,1,-1],[0,5,2,0,9,5,2,5,10,4,8,5,10,5,8,-1],[9,5,4,2,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,11,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1],[5,2,11,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[3,2,11,3,11,5,3,5,8,4,8,5,0,9,1,-1],[5,2,11,5,4,2,1,2,9,9,2,4,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,9,5,0,0,5,3,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,10,4,10,9,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,7,9,9,7,10,9,10,11,-1,-1,-1,-1],[1,10,11,1,4,10,1,0,4,7,10,4,-1,-1,-1,-1],[3,4,1,3,8,4,1,4,11,7,10,4,11,4,10,-1],[4,7,10,9,4,10,9,10,2,9,2,1,-1,-1,-1,-1],[9,4,7,9,7,10,9,10,1,2,1,10,0,3,8,-1],[10,4,7,10,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[10,4,7,10,2,4,8,4,3,3,4,2,-1,-1,-1,-1],[2,11,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[9,7,11,9,4,7,11,7,2,8,0,7,2,7,0,-1],[3,11,7,3,2,11,7,11,4,1,0,11,4,11,0,-1],[1,2,11,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,0,1,8,8,1,7,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,10,11,9,-1,-1,-1,-1,-1,-1,-1],[0,11,1,0,8,11,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,11,1,10,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,10,2,1,9,10,9,8,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,1,9,2,2,9,10,-1,-1,-1,-1],[0,10,2,8,10,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,11,9,8,-1,-1,-1,-1,-1,-1,-1],[9,2,11,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,0,8,1,1,8,11,-1,-1,-1,-1],[1,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],tf=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[2,6],[3,7]],nf=function(e){return ef[e]},rf=function(e){return tf[e]},of=fe.vtkErrorMacro,af=fe.vtkDebugMacro;function sf(e,t){t.classHierarchy.push("vtkImageMarchingCubes");var n=[],r=[],o=[],i=[],a=new Map;e.getVoxelScalars=function(e,t,o,i,a,s,u,c){n[0]=o*i+t*a[0]+e,n[1]=n[0]+1,n[2]=n[0]+a[0],n[3]=n[2]+1,n[4]=n[0]+i,n[5]=n[4]+1,n[6]=n[4]+a[0],n[7]=n[6]+1;for(var l=0;l<8;++l)r[l]=c[n[l]]},e.getVoxelPoints=function(e,t,n,r,o,a){i[0]=o[0]+e*a[0],i[1]=o[1]+t*a[1],i[2]=o[2]+n*a[2],i[3]=i[0]+a[0],i[4]=i[1],i[5]=i[2],i[6]=i[0],i[7]=i[1]+a[1],i[8]=i[2],i[9]=i[3],i[10]=i[7],i[11]=i[2],i[12]=i[0],i[13]=i[1],i[14]=i[2]+a[2],i[15]=i[3],i[16]=i[1],i[17]=i[14],i[18]=i[0],i[19]=i[7],i[20]=i[14],i[21]=i[3],i[22]=i[7],i[23]=i[14]},e.getPointGradient=function(e,t,n,r,o,i,a,s){var u,c;0===e?(u=a[e+1+t*r[0]+n*o],c=a[e+t*r[0]+n*o],s[0]=(c-u)/i[0]):e===r[0]-1?(u=a[e+t*r[0]+n*o],c=a[e-1+t*r[0]+n*o],s[0]=(c-u)/i[0]):(u=a[e+1+t*r[0]+n*o],c=a[e-1+t*r[0]+n*o],s[0]=.5*(c-u)/i[0]),0===t?(u=a[e+(t+1)*r[0]+n*o],c=a[e+t*r[0]+n*o],s[1]=(c-u)/i[1]):t===r[1]-1?(u=a[e+t*r[0]+n*o],c=a[e+(t-1)*r[0]+n*o],s[1]=(c-u)/i[1]):(u=a[e+(t+1)*r[0]+n*o],c=a[e+(t-1)*r[0]+n*o],s[1]=.5*(c-u)/i[1]),0===n?(u=a[e+t*r[0]+(n+1)*o],c=a[e+t*r[0]+n*o],s[2]=(c-u)/i[2]):n===r[2]-1?(u=a[e+t*r[0]+n*o],c=a[e+t*r[0]+(n-1)*o],s[2]=(c-u)/i[2]):(u=a[e+t*r[0]+(n+1)*o],c=a[e+t*r[0]+(n-1)*o],s[2]=.5*(c-u)/i[2])},e.getVoxelGradients=function(t,n,r,i,a,s,u){var c=[];e.getPointGradient(t,n,r,i,a,s,u,c),o[0]=c[0],o[1]=c[1],o[2]=c[2],e.getPointGradient(t+1,n,r,i,a,s,u,c),o[3]=c[0],o[4]=c[1],o[5]=c[2],e.getPointGradient(t,n+1,r,i,a,s,u,c),o[6]=c[0],o[7]=c[1],o[8]=c[2],e.getPointGradient(t+1,n+1,r,i,a,s,u,c),o[9]=c[0],o[10]=c[1],o[11]=c[2],e.getPointGradient(t,n,r+1,i,a,s,u,c),o[12]=c[0],o[13]=c[1],o[14]=c[2],e.getPointGradient(t+1,n,r+1,i,a,s,u,c),o[15]=c[0],o[16]=c[1],o[17]=c[2],e.getPointGradient(t,n+1,r+1,i,a,s,u,c),o[18]=c[0],o[19]=c[1],o[20]=c[2],e.getPointGradient(t+1,n+1,r+1,i,a,s,u,c),o[21]=c[0],o[22]=c[1],o[23]=c[2]},e.produceTriangles=function(s,u,c,l,f,d,p,h,m,g,v,y){var b,w,x=[1,2,4,8,16,32,64,128],C=[0,1,3,2,4,5,7,6],S=[],A=[],_=[];e.getVoxelScalars(u,c,l,f,d,p,h,m);for(var P=0,O=0;O<8;O++)r[C[O]]>=s&&(P|=x[O]);var E=nf(P);if(!(E[0]<0)){e.getVoxelPoints(u,c,l,d,p,h),t.computeNormals&&e.getVoxelGradients(u,c,l,d,f,h,m);for(var T=0;E[T]>=0;T+=3){v.push(3);for(var D=0;D<3;D++){var I=rf(E[T+D]);if(b=void 0,t.mergePoints&&(_[0]=n[I[0]],_[1]=n[I[1]],_[0]>_[1]&&(w=_[0],_[0]=_[1],_[1]=w),b=a.get(_)),void 0===b){var k=(s-r[I[0]])/(r[I[1]]-r[I[0]]),M=i.slice(3*I[0],3*(I[0]+1)),N=i.slice(3*I[1],3*(I[1]+1));if(S[0]=M[0]+k*(N[0]-M[0]),S[1]=M[1]+k*(N[1]-M[1]),S[2]=M[2]+k*(N[2]-M[2]),b=g.length/3,g.push(S[0],S[1],S[2]),t.computeNormals){var R=o.slice(3*I[0],3*(I[0]+1)),B=o.slice(3*I[1],3*(I[1]+1));A[0]=R[0]+k*(B[0]-R[0]),A[1]=R[1]+k*(B[1]-R[1]),A[2]=R[2]+k*(B[2]-R[2]),nt(A),y.push(A[0],A[1],A[2])}t.mergePoints&&(_[0]=n[I[0]],_[1]=n[I[1]],_[0]>_[1]&&(w=_[0],_[0]=_[1],_[1]=w),a[_]=b)}v.push(b)}}}},e.requestData=function(n,r){var o=n[0];if(o){console.time("mcubes");for(var i=o.getOrigin(),a=o.getSpacing(),s=o.getDimensions(),u=o.getPointData().getScalars().getData(),c=[],l=[],f=[],d=s[0]*s[1],p=0;p<s[2]-1;++p)for(var h=0;h<s[1]-1;++h)for(var m=0;m<s[0]-1;++m)e.produceTriangles(t.contourValue,m,h,p,d,s,i,a,u,c,l,f);var g=Vc.newInstance();if(g.getPoints().setData(new Float32Array(c),3),g.getPolys().setData(new Uint32Array(l)),t.computeNormals){var v=new Float32Array(f),y=Fn.newInstance({numberOfComponents:3,values:v,name:"Normals"});g.getPointData().setNormals(y)}r[0]=g,af("Produced output"),console.timeEnd("mcubes")}else of("Invalid or missing input")}}var uf={contourValue:0,computeNormals:!1,mergePoints:!1};function cf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,uf,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["contourValue","computeNormals","mergePoints"]),fe.algo(e,t,1,1),sf(e,t)}var lf={newInstance:fe.newInstance(cf,"vtkImageMarchingCubes"),extend:cf},ff=[[-1,-1,-1,-1,-1],[0,3,-1,-1,-1],[1,0,-1,-1,-1],[1,3,-1,-1,-1],[2,1,-1,-1,-1],[0,3,2,1,-1],[2,0,-1,-1,-1],[2,3,-1,-1,-1],[3,2,-1,-1,-1],[0,2,-1,-1,-1],[1,0,3,2,-1],[1,2,-1,-1,-1],[3,1,-1,-1,-1],[0,1,-1,-1,-1],[3,0,-1,-1,-1],[-1,-1,-1,-1,-1]],df=[[0,1],[1,3],[2,3],[0,2]],pf=function(e){return ff[e]},hf=function(e){return df[e]},mf=fe.vtkErrorMacro,gf=fe.vtkDebugMacro;function vf(e,t){t.classHierarchy.push("vtkImageMarchingSquares"),e.getContourValues=function(){return t.contourValues},e.setContourValues=function(n){t.contourValues=n,e.modified()};var n=[],r=[],o=[],i=new Map;e.getPixelScalars=function(e,t,o,i,a,s,u,c){n[0]=o*i+t*a[0]+e,n[1]=n[0]+1,n[2]=n[0]+a[0],n[3]=n[2]+1;for(var l=0;l<4;++l)r[l]=c[n[l]]},e.getPixelPoints=function(e,t,n,r,i,a){o[0]=i[0]+e*a[0],o[1]=i[1]+t*a[1],o[2]=o[0]+a[0],o[3]=o[1],o[4]=o[0],o[5]=o[1]+a[1],o[6]=o[2],o[7]=o[5]},e.produceLines=function(a,s,u,c,l,f,d,p,h,m,g){var v,y,b=[1,2,8,4],w=[],x=[];e.getPixelScalars(s,u,c,l,f,d,p,h);for(var C=0,S=0;S<4;S++)r[S]>=a&&(C|=b[S]);var A=pf(C);if(!(A[0]<0)){e.getPixelPoints(s,u,c,f,d,p);for(var _=d[2]+c*p[2],P=0;A[P]>=0;P+=3){g.push(2);for(var O=0;O<2;O++){var E=hf(A[P+O]);if(v=void 0,t.mergePoints&&(x[0]=n[E[0]],x[1]=n[E[1]],x[0]>x[1]&&(y=x[0],x[0]=x[1],x[1]=y),v=i.get(x)),void 0===v){var T=(a-r[E[0]])/(r[E[1]]-r[E[0]]),D=o.slice(2*E[0],2*(E[0]+1)),I=o.slice(2*E[1],2*(E[1]+1));w[0]=D[0]+T*(I[0]-D[0]),w[1]=D[1]+T*(I[1]-D[1]),v=m.length/3,m.push(w[0],w[1],_),t.mergePoints&&(x[0]=n[E[0]],x[1]=n[E[1]],x[0]>x[1]&&(y=x[0],x[0]=x[1],x[1]=y),i[x]=v)}g.push(v)}}}},e.requestData=function(n,r){var o=n[0];if(o){console.time("msquares");var a=o.getOrigin(),s=o.getSpacing(),u=o.getDimensions(),c=o.getPointData().getScalars().getData(),l=[],f=[],d=u[0]*u[1],p=Math.round(t.slice);p>=u[2]&&(p=0);for(var h=0;h<t.contourValues.length;++h){for(var m=0;m<u[1]-1;++m)for(var g=0;g<u[0]-1;++g)e.produceLines(t.contourValues[h],g,m,p,d,u,a,s,c,l,f);i.clear()}var v=Vc.newInstance();v.getPoints().setData(new Float32Array(l),3),v.getLines().setData(new Uint32Array(f)),r[0]=v,gf("Produced output"),console.timeEnd("msquares")}else mf("Invalid or missing input")}}var yf={contourValues:[],slice:0,mergePoints:!1};function bf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yf,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["slice","mergePoints"]),fe.algo(e,t,1,1),vf(e,t)}var wf={newInstance:fe.newInstance(bf,"vtkImageMarchingSquares"),extend:bf},xf=fe.vtkErrorMacro;function Cf(e,t){t.classHierarchy.push("vtkImageOutlineFilter"),e.requestData=function(e,n){var r=e[0];if(r&&"vtkImageData"===r.getClassName()){var o=es.newInstance(r.get("spacing","origin","direction")),i=function(e,t){return e[0]+e[1]*t[0]+e[2]*t[0]*t[1]},a=r.getDimensions();o.setDimensions(a),o.computeTransforms();var s=new Uint8Array(r.getNumberOfPoints()),u=r.getPointData().getScalars().getData(),c=0,l=1;1===t.slicingMode?(c=0,l=2):0===t.slicingMode&&(c=1,l=2),u.forEach((function(e,n){if(e!==t.background){for(var r=function(e,t){var n=[0,0,0];return n[0]=e%t[0],n[1]=Math.floor(e/t[0])%t[1],n[2]=Math.floor(e/(t[0]*t[1])),n}(n,a),o=!1,f=-1;f<=1&&!o;f++)for(var d=-1;d<=1&&!o;d++){var p=f,h=d,m=0;1===t.slicingMode?(p=f,h=0,m=d):0===t.slicingMode&&(p=0,h=d,m=f);var g=r[c]+p,v=r[l]+h;g>=0&&g<a[c]&&v>=0&&v<a[l]&&u[i([r[0]+p,r[1]+h,r[2]+m],a)]!==e&&(o=!0)}s[n]=o?e:t.background}else s[n]=t.background}));var f=Fn.newInstance({numberOfComponents:1,values:s});o.getPointData().setScalars(f),n[0]=o}else xf("Invalid or missing input")}}var Sf={slicingMode:2,background:0};function Af(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sf,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["slicingMode","background"]),Cf(e,t)}var _f={newInstance:fe.newInstance(Af,"vtkImageOutlineFilter"),extend:Af},Pf=fe.vtkErrorMacro;function Of(e,t){t.classHierarchy.push("vtkImageSliceFilter"),e.requestData=function(e,n){var r=e[0];if(r){var o=r.getPointData().getScalars();if(o){var i=r.get("extent","spacing","origin");i.extent[4]=t.sliceIndex,i.extent[5]=i.extent[4];var a=o.getNumberOfComponents(),s=(i.extent[1]-i.extent[0]+1)*(i.extent[3]-i.extent[2]+1)*a,u=s*t.sliceIndex,c=o.getData().slice(u,u+s),l=Fn.newInstance({name:o.getName(),numberOfComponents:a,values:c}),f=es.newInstance(i);f.getPointData().setScalars(l),n[0]=f}else Pf("No scalars from input")}else Pf("Invalid or missing input")}}var Ef={sliceIndex:0};function Tf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ef,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["sliceIndex","orientation"]),Of(e,t)}var Df={newInstance:fe.newInstance(Tf,"vtkImageSliceFilter"),extend:Tf},If=fe.vtkErrorMacro;function kf(e,t){t.classHierarchy.push("vtkImageStreamline");var n=new Int32Array(3),r=new Float32Array(3),o=new Float32Array(8),i=new Uint32Array(8),a=new Uint32Array(3),s=new Float32Array(3),u=new Float32Array(3);e.interpolationFunctions=function(e,t){var n=e[0],r=e[1],o=e[2],i=1-n,a=1-r,s=1-o;t[0]=i*a*s,t[1]=n*a*s,t[2]=i*r*s,t[3]=n*r*s,t[4]=i*a*o,t[5]=n*a*o,t[6]=i*r*o,t[7]=n*r*o},e.computeStructuredCoordinates=function(e,t,n,r,o,i,a){for(var s=!0,u=0;u<3;u++){var c=(e[u]-i[u])/o[u];t[u]=Math.floor(c),n[u]=c-t[u];var l=!1,f=r[2*u],d=r[2*u+1];if(f===d){var p=e[u]-a[2*u];p*p<=o[u]*o[u]*1e-12&&(n[u]=0,t[u]=f,l=!0)}else t[u]<f?(o[u]>=0&&e[u]>=a[2*u]||o[u]<0&&e[u]<=a[2*u+1])&&(n[u]=0,t[u]=f,l=!0):t[u]>=d?(o[u]>=0&&e[u]<=a[2*u+1]||o[u]<0&&e[u]>=a[2*u])&&(n[u]=1,t[u]=d-1,l=!0):l=!0;s=s&&l}return s},e.getVoxelIndices=function(e,t,n){n[0]=e[2]*t[0]*t[1]+e[1]*t[0]+e[0],n[1]=n[0]+1,n[2]=n[0]+t[0],n[3]=n[2]+1,n[4]=n[0]+t[0]*t[1],n[5]=n[4]+1,n[6]=n[4]+t[0],n[7]=n[6]+1},e.vectorAt=function(t,s,u,c){if(!e.computeStructuredCoordinates(t,n,r,u.getExtent(),u.getSpacing(),u.getOrigin(),u.getBounds()))return!1;e.interpolationFunctions(r,o);var l=u.getExtent();a[0]=l[1]-l[0]+1,a[1]=l[3]-l[2]+1,a[2]=l[5]-l[4]+1,e.getVoxelIndices(n,a,i),c[0]=0,c[1]=0,c[2]=0;for(var f=0;f<8;f++)for(var d=s.getTuple(i[f]),p=0;p<3;p++)c[p]+=o[f]*d[p];return!0},e.computeNextStep=function(t,n,r,o){if(!e.vectorAt(o,t,n,s))return!1;for(var i=0;i<3;i++)u[i]=o[i]+r/2*s[i];if(!e.vectorAt(u,t,n,s))return!1;for(var a=0;a<3;a++)o[a]+=r*s[a];return!!e.vectorAt(o,t,n,s)},e.streamIntegrate=function(n,r,o,i){var a=[],s=t.maximumNumberOfSteps,u=t.integrationStep,c=new Float32Array(3);c[0]=o[0],c[1]=o[1],c[2]=o[2];var l=[],f=0;for(f=0;f<s&&e.computeNextStep(n,r,u,c);f++)for(var d=0;d<3;d++)l[3*f+d]=c[d];var p=Vc.newInstance(),h=new Float32Array(l);a[0]=h,p.getPoints().setData(h,3);var m=h.length/3,g=new Uint32Array(m+1);g[0]=m;for(var v=0;v<m;v++)g[v+1]=v+i;return a[1]=g,p.getLines().setData(g),a},e.requestData=function(t,n){var r=t[0],o=t[1];if(r)if(o){for(var i=o.getPoints(),a=i.getNumberOfPoints(),s=0,u=[],c=r.getPointData().getVectors(),l=0;l<a;l++){var f=e.streamIntegrate(c,r,i.getTuple(l),s);s+=f[0].length/3,u.push(f)}var d=0,p=0;u.forEach((function(e){d+=e[1].length,p+=e[0].length})),s=0;var h=0,m=new Uint32Array(d),g=new Float32Array(p);u.forEach((function(e){m.set(e[1],s),s+=e[1].length,g.set(e[0],h),h+=e[0].length}));var v=Vc.newInstance();v.getPoints().setData(g,3),v.getLines().setData(m),n[0]=v}else If("Invalid or missing seeds");else If("Invalid or missing input")}}var Mf={integrationStep:1,maximumNumberOfSteps:1e3};function Nf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Mf,n),fe.obj(e,t),fe.algo(e,t,2,1),fe.setGet(e,t,["integrationStep","maximumNumberOfSteps"]),kf(e,t)}var Rf={newInstance:fe.newInstance(Nf,"vtkImageStreamline"),extend:Nf},Bf=JSON.parse('{"H":[{"id":"Xx","atomicNumber":0,"mass":0,"exactMass":0,"radiusCovalent":0,"radiusVDW":0,"symbol":"Xx","name":"Dummy","elementColor":[0.07,0.5,0.7]},{"id":"H","atomicNumber":1,"mass":1.00794,"exactMass":1.007825032,"ionization":13.5984,"electronAffinity":0.75420375,"electronegativityPauling":2.2,"nameOrigin":"Greek \'hydro\' and \'gennao\' for \'forms water\'","radiusCovalent":0.37,"radiusVDW":1.2,"boilingpoint":20.28,"meltingpoint":14.01,"periodTableBlock":"s","discoveryDate":"1766","period":"1","group":"1","electronicConfiguration":"1s1","family":"Non-Metal","symbol":"H","name":"Hydrogen","elementColor":[1,1,1],"discoveryCountry":["uk"],"discoverers":["C.","Cavendish"]},{"id":"He","atomicNumber":2,"mass":4.002602,"exactMass":4.002603254,"ionization":24.5874,"electronAffinity":0,"nameOrigin":"The Greek word for the sun was \'helios\'","radiusCovalent":0.32,"radiusVDW":1.4,"boilingpoint":4.216,"meltingpoint":0.95,"periodTableBlock":"p","discoveryDate":"1895","period":"1","group":"8","electronicConfiguration":"1s2","family":"Noblegas","symbol":"He","name":"Helium","elementColor":[0.85,1,1],"discoveryCountry":["se","uk"],"discoverers":["P. J. Janssen","J. N. Lockyer"]},{"id":"Li","atomicNumber":3,"mass":6.941,"exactMass":7.01600455,"ionization":5.3917,"electronAffinity":0.618049,"electronegativityPauling":0.98,"nameOrigin":"Greek \'lithos\' means \'stone\'","radiusCovalent":1.34,"radiusVDW":2.2,"boilingpoint":1615,"meltingpoint":453.7,"periodTableBlock":"s","discoveryDate":"1817","period":"2","group":"1","electronicConfiguration":"He 2s1","family":"Alkali_Earth","symbol":"Li","name":"Lithium","elementColor":[0.8,0.5,1],"discoveryCountry":["se"],"discoverers":["A.","Arfvedson"]},{"id":"Be","atomicNumber":4,"mass":9.012182,"exactMass":9.0121822,"ionization":9.3227,"electronAffinity":0,"electronegativityPauling":1.57,"nameOrigin":"Greek \'beryllos\' for \'light-green stone\'","radiusCovalent":0.9,"radiusVDW":1.9,"boilingpoint":3243,"meltingpoint":1560,"periodTableBlock":"s","discoveryDate":"1797","period":"2","group":"2","electronicConfiguration":"He 2s2","family":"Alkaline_Earth","symbol":"Be","name":"Beryllium","elementColor":[0.76,1,0],"discoveryCountry":["fr"],"discoverers":["Nicholas","Louis","Vauquelin"]},{"id":"B","atomicNumber":5,"mass":10.811,"exactMass":11.0093054,"ionization":8.298,"electronAffinity":0.279723,"electronegativityPauling":2.04,"nameOrigin":"Boron means \'Bor(ax) + (carb)on\'. It is found in borax and behaves a lot like carbon","radiusCovalent":0.82,"radiusVDW":1.8,"boilingpoint":4275,"meltingpoint":2365,"periodTableBlock":"p","discoveryDate":"1808","period":"2","group":"3","electronicConfiguration":"He 2s2 2p1","family":"Metalloids","symbol":"B","name":"Boron","elementColor":[1,0.71,0.71],"discoveryCountry":["uk","fr"],"discoverers":["Louis Joseph Gay-Lussac","Louis Jacques Thenard"]},{"id":"C","atomicNumber":6,"mass":12.0107,"exactMass":12,"ionization":11.2603,"electronAffinity":1.262118,"electronegativityPauling":2.55,"nameOrigin":"Latin \'carboneum\' for carbon","radiusCovalent":0.77,"radiusVDW":1.7,"boilingpoint":5100,"meltingpoint":3825,"periodTableBlock":"p","discoveryDate":"0","period":"2","group":"4","electronicConfiguration":"He 2s2 2p2","family":"Non-Metal","symbol":"C","name":"Carbon","elementColor":[0.5,0.5,0.5],"discoveryCountry":["ancient"]},{"id":"N","atomicNumber":7,"mass":14.0067,"exactMass":14.003074,"ionization":14.5341,"electronAffinity":-0.07,"electronegativityPauling":3.04,"nameOrigin":"Latin \'nitrogenium\' (\'forms saltpeter\')","radiusCovalent":0.75,"radiusVDW":1.6,"boilingpoint":77.344,"meltingpoint":63.15,"periodTableBlock":"p","discoveryDate":"1772","period":"2","group":"5","electronicConfiguration":"He 2s2 2p3","family":"Non-Metal","symbol":"N","name":"Nitrogen","elementColor":[0.05,0.05,1],"discoveryCountry":["uk"],"discoverers":["D.","Rutherford"]},{"id":"O","atomicNumber":8,"mass":15.9994,"exactMass":15.99491462,"ionization":13.6181,"electronAffinity":1.461112,"electronegativityPauling":3.44,"nameOrigin":"Latin \'oxygenium\' (forms acids)","radiusCovalent":0.73,"radiusVDW":1.55,"boilingpoint":90.188,"meltingpoint":54.8,"periodTableBlock":"p","discoveryDate":"1774","period":"2","group":"6","electronicConfiguration":"He 2s2 2p4","family":"Non-Metal","symbol":"O","name":"Oxygen","elementColor":[1,0.05,0.05],"discoveryCountry":["se","uk"],"discoverers":["J.","Priestley"]},{"id":"F","atomicNumber":9,"mass":18.9984032,"exactMass":18.99840322,"ionization":17.4228,"electronAffinity":3.4011887,"electronegativityPauling":3.98,"nameOrigin":"Latin \'fluere\' (\'floats\')","radiusCovalent":0.71,"radiusVDW":1.5,"boilingpoint":85,"meltingpoint":53.55,"periodTableBlock":"p","discoveryDate":"1886","period":"2","group":"7","electronicConfiguration":"He 2s2 2p5","family":"Halogen","symbol":"F","name":"Fluorine","elementColor":[0.7,1,1],"discoveryCountry":["fr"],"discoverers":["H.","F.","Moissan"]},{"id":"Ne","atomicNumber":10,"mass":20.1797,"exactMass":19.99244018,"ionization":21.5645,"electronAffinity":0,"nameOrigin":"Greek \'neo\'. meaning \'new\'","radiusCovalent":0.69,"radiusVDW":1.54,"boilingpoint":27.1,"meltingpoint":24.55,"periodTableBlock":"p","discoveryDate":"1898","period":"2","group":"8","electronicConfiguration":"He 2s2 2p6","family":"Noblegas","symbol":"Ne","name":"Neon","elementColor":[0.7,0.89,0.96],"discoveryCountry":["uk"],"discoverers":["W. Ramsay","M.W. Travers"]},{"id":"Na","atomicNumber":11,"mass":22.98976928,"exactMass":22.98976928,"ionization":5.1391,"electronAffinity":0.547926,"electronegativityPauling":0.93,"nameOrigin":"Arabic \'natrun\' for \'soda\'","radiusCovalent":1.54,"radiusVDW":2.4,"boilingpoint":1156,"meltingpoint":371,"periodTableBlock":"s","discoveryDate":"1807","period":"3","group":"1","electronicConfiguration":"Ne 3s1","family":"Alkali_Earth","symbol":"Na","name":"Sodium","elementColor":[0.67,0.36,0.95],"discoveryCountry":["uk"],"discoverers":["Sir","Humphrey","Davy"]},{"id":"Mg","atomicNumber":12,"mass":24.305,"exactMass":23.9850417,"ionization":7.6462,"electronAffinity":0,"electronegativityPauling":1.31,"nameOrigin":"Named after the city of Magnesia","radiusCovalent":1.3,"radiusVDW":2.2,"boilingpoint":1380,"meltingpoint":922,"periodTableBlock":"s","discoveryDate":"1808","period":"3","group":"2","electronicConfiguration":"Ne 3s2","family":"Alkaline_Earth","symbol":"Mg","name":"Magnesium","elementColor":[0.54,1,0],"discoveryCountry":["uk"],"discoverers":["H.","B.","Davy"]},{"id":"Al","atomicNumber":13,"mass":26.9815386,"exactMass":26.98153863,"ionization":5.9858,"electronAffinity":0.43283,"electronegativityPauling":1.61,"nameOrigin":"Latin \'alumen\'","radiusCovalent":1.18,"radiusVDW":2.1,"boilingpoint":2740,"meltingpoint":933.5,"periodTableBlock":"p","discoveryDate":"1825","period":"3","group":"3","electronicConfiguration":"Ne 3s2 3p1","family":"Other_Metal","symbol":"Al","name":"Aluminium","elementColor":[0.75,0.65,0.65],"discoveryCountry":["dk"],"discoverers":["H.","Ch.","Oersted"]},{"id":"Si","atomicNumber":14,"mass":28.0855,"exactMass":27.97692653,"ionization":8.1517,"electronAffinity":1.389521,"electronegativityPauling":1.9,"nameOrigin":"Latin \'silex\'","radiusCovalent":1.11,"radiusVDW":2.1,"boilingpoint":2630,"meltingpoint":1683,"periodTableBlock":"p","discoveryDate":"1823","period":"3","group":"4","electronicConfiguration":"Ne 3s2 3p2","family":"Metalloids","symbol":"Si","name":"Silicon","elementColor":[0.5,0.6,0.6],"discoveryCountry":["se"],"discoverers":["J.","J.","Berzelius"]},{"id":"P","atomicNumber":15,"mass":30.973762,"exactMass":30.97376163,"ionization":10.4867,"electronAffinity":0.7465,"electronegativityPauling":2.19,"nameOrigin":"Greek \'phosphoros\' for \'carries light\'","radiusCovalent":1.06,"radiusVDW":1.95,"boilingpoint":553,"meltingpoint":317.3,"periodTableBlock":"p","discoveryDate":"1669","period":"3","group":"5","electronicConfiguration":"Ne 3s2 3p3","family":"Non-Metal","symbol":"P","name":"Phosphorus","elementColor":[1,0.5,0],"discoveryCountry":["de"],"discoverers":["H.","Brandt"]},{"id":"S","atomicNumber":16,"mass":32.065,"exactMass":31.972071,"ionization":10.36,"electronAffinity":2.0771029,"electronegativityPauling":2.58,"nameOrigin":"In sanskrit \'sweb\' means \'to sleep\'","radiusCovalent":1.02,"radiusVDW":1.8,"boilingpoint":717.82,"meltingpoint":392.2,"periodTableBlock":"p","discoveryDate":"0","period":"3","group":"6","electronicConfiguration":"Ne 3s2 3p4","family":"Non-Metal","symbol":"S","name":"Sulfur","elementColor":[1,1,0.19],"discoveryCountry":["ancient"]},{"id":"Cl","atomicNumber":17,"mass":35.453,"exactMass":34.96885268,"ionization":12.9676,"electronAffinity":3.612724,"electronegativityPauling":3.16,"nameOrigin":"Greek \'chloros\' for \'yellow-green\'","radiusCovalent":0.99,"radiusVDW":1.8,"boilingpoint":239.18,"meltingpoint":172.17,"periodTableBlock":"p","discoveryDate":"1774","period":"3","group":"7","electronicConfiguration":"Ne 3s2 3p5","family":"Halogen","symbol":"Cl","name":"Chlorine","elementColor":[0.12,0.94,0.12],"discoveryCountry":["se"],"discoverers":["C.","W.","Scheele"]},{"id":"Ar","atomicNumber":18,"mass":39.948,"exactMass":39.96238312,"ionization":15.7596,"electronAffinity":0,"nameOrigin":"Greek \'aergon\' for \'inactive\'","radiusCovalent":0.97,"radiusVDW":1.88,"boilingpoint":87.45,"meltingpoint":83.95,"periodTableBlock":"p","discoveryDate":"1894","period":"3","group":"8","electronicConfiguration":"Ne 3s2 3p6","family":"Noblegas","symbol":"Ar","name":"Argon","elementColor":[0.5,0.82,0.89],"discoveryCountry":["uk"],"discoverers":["W. Ramsay","J. Rayleigh"]},{"id":"K","atomicNumber":19,"mass":39.0983,"exactMass":38.96370668,"ionization":4.3407,"electronAffinity":0.501459,"electronegativityPauling":0.82,"nameOrigin":"Arabic \'al qaliy\' for potash","radiusCovalent":1.96,"radiusVDW":2.8,"boilingpoint":1033,"meltingpoint":336.8,"periodTableBlock":"s","discoveryDate":"1807","period":"4","group":"1","electronicConfiguration":"Ar 4s1","family":"Alkali_Earth","symbol":"K","name":"Potassium","elementColor":[0.56,0.25,0.83],"discoveryCountry":["uk"],"discoverers":["H.","B.","Davy"]},{"id":"Ca","atomicNumber":20,"mass":40.078,"exactMass":39.96259098,"ionization":6.1132,"electronAffinity":0.02455,"electronegativityPauling":1,"nameOrigin":"Latin \'calx\' for \'lime\'","radiusCovalent":1.74,"radiusVDW":2.4,"boilingpoint":1757,"meltingpoint":1112,"periodTableBlock":"s","discoveryDate":"1808","period":"4","group":"2","electronicConfiguration":"Ar 4s2","family":"Alkaline_Earth","symbol":"Ca","name":"Calcium","elementColor":[0.24,1,0],"discoveryCountry":["uk"],"discoverers":["H.","B.","Davy"]},{"id":"Sc","atomicNumber":21,"mass":44.955912,"exactMass":44.9559119,"ionization":6.5615,"electronAffinity":0.188,"electronegativityPauling":1.36,"nameOrigin":"Named because it was found in Scandinavia","radiusCovalent":1.44,"radiusVDW":2.3,"boilingpoint":3109,"meltingpoint":1814,"periodTableBlock":"d","discoveryDate":"1879","period":"4","group":"3","electronicConfiguration":"Ar 3d1 4s2","family":"Transition","symbol":"Sc","name":"Scandium","elementColor":[0.9,0.9,0.9],"discoveryCountry":["se"],"discoverers":["L.","Nilson"]},{"id":"Ti","atomicNumber":22,"mass":47.867,"exactMass":47.9479463,"ionization":6.8281,"electronAffinity":0.084,"electronegativityPauling":1.54,"nameOrigin":"The Titans were giants in Greek mythology","radiusCovalent":1.36,"radiusVDW":2.15,"boilingpoint":3560,"meltingpoint":1935,"periodTableBlock":"d","discoveryDate":"1791","period":"4","group":"4","electronicConfiguration":"Ar 3d2 4s2","family":"Transition","symbol":"Ti","name":"Titanium","elementColor":[0.75,0.76,0.78],"discoveryCountry":["uk"],"discoverers":["W.","Gregor"]},{"id":"V","atomicNumber":23,"mass":50.9415,"exactMass":50.9439595,"ionization":6.7462,"electronAffinity":0.525,"electronegativityPauling":1.63,"nameOrigin":"\'Vanadis\' is another name for the Nordic goddess Freyja","radiusCovalent":1.25,"radiusVDW":2.05,"boilingpoint":3650,"meltingpoint":2163,"periodTableBlock":"d","discoveryDate":"1830","period":"4","group":"5","electronicConfiguration":"Ar 3d3 4s2","family":"Transition","symbol":"V","name":"Vanadium","elementColor":[0.65,0.65,0.67],"discoveryCountry":["se"],"discoverers":["N.","Sefstrm"]},{"id":"Cr","atomicNumber":24,"mass":51.9961,"exactMass":51.9405075,"ionization":6.7665,"electronAffinity":0.67584,"electronegativityPauling":1.66,"nameOrigin":"Greek \'chroma\' means \'color\'","radiusCovalent":1.27,"radiusVDW":2.05,"boilingpoint":2945,"meltingpoint":2130,"periodTableBlock":"d","discoveryDate":"1797","period":"4","group":"6","electronicConfiguration":"Ar 3d5 4s1","family":"Transition","symbol":"Cr","name":"Chromium","elementColor":[0.54,0.6,0.78],"discoveryCountry":["fr"],"discoverers":["Nicholas","Louis","Vauquelin"]},{"id":"Mn","atomicNumber":25,"mass":54.938045,"exactMass":54.9380451,"ionization":7.434,"electronAffinity":0,"electronegativityPauling":1.55,"nameOrigin":"It was discovered near a town named Magnesia in black earth. Thus, it was named \'magnesia nigra\', or for short, Manganese.","radiusCovalent":1.39,"radiusVDW":2.05,"boilingpoint":2235,"meltingpoint":1518,"periodTableBlock":"d","discoveryDate":"1774","period":"4","group":"7","electronicConfiguration":"Ar 3d5 4s2","family":"Transition","symbol":"Mn","name":"Manganese","elementColor":[0.61,0.48,0.78],"discoveryCountry":["se"],"discoverers":["C.","W.","Scheele"]},{"id":"Fe","atomicNumber":26,"mass":55.845,"exactMass":55.9349375,"ionization":7.9024,"electronAffinity":0.151,"electronegativityPauling":1.83,"nameOrigin":"Latin \'ferrum\'","radiusCovalent":1.25,"radiusVDW":2.05,"boilingpoint":3023,"meltingpoint":1808,"periodTableBlock":"d","discoveryDate":"0","period":"4","group":"8","electronicConfiguration":"Ar 3d6 4s2","family":"Transition","symbol":"Fe","name":"Iron","elementColor":[0.5,0.48,0.78],"discoveryCountry":["ancient"]},{"id":"Co","atomicNumber":27,"mass":58.933195,"exactMass":58.933195,"ionization":7.881,"electronAffinity":0.6633,"electronegativityPauling":1.88,"nameOrigin":"Named after the German word \'Kobold\' for \'goblin\'","radiusCovalent":1.26,"radiusVDW":2,"boilingpoint":3143,"meltingpoint":1768,"periodTableBlock":"d","discoveryDate":"1737","period":"4","group":"8","electronicConfiguration":"Ar 3d7 4s2","family":"Transition","symbol":"Co","name":"Cobalt","elementColor":[0.44,0.48,0.78],"discoveryCountry":["se"],"discoverers":["G.","Brandt"]},{"id":"Ni","atomicNumber":28,"mass":58.6934,"exactMass":57.9353429,"ionization":7.6398,"electronAffinity":1.15716,"electronegativityPauling":1.91,"nameOrigin":"\'Nickel\' was the name of a mountain goblin","radiusCovalent":1.21,"radiusVDW":2,"boilingpoint":3005,"meltingpoint":1726,"periodTableBlock":"d","discoveryDate":"1751","period":"4","group":"8","electronicConfiguration":"Ar 3d8 4s2","family":"Transition","symbol":"Ni","name":"Nickel","elementColor":[0.36,0.48,0.76],"discoveryCountry":["se"],"discoverers":["A.","F.","Cronstedt"]},{"id":"Cu","atomicNumber":29,"mass":63.546,"exactMass":62.9295975,"ionization":7.7264,"electronAffinity":1.23578,"electronegativityPauling":1.9,"nameOrigin":"Greek \'cuprum\' for Cypres","radiusCovalent":1.38,"radiusVDW":2,"boilingpoint":2840,"meltingpoint":1356.6,"periodTableBlock":"d","discoveryDate":"0","period":"4","group":"1","electronicConfiguration":"Ar 3d10 4s1","family":"Transition","symbol":"Cu","name":"Copper","elementColor":[1,0.48,0.38],"discoveryCountry":["ancient"]},{"id":"Zn","atomicNumber":30,"mass":65.38,"exactMass":63.9291422,"ionization":9.3942,"electronAffinity":0,"electronegativityPauling":1.65,"nameOrigin":"German \'zinking\' for \'rough\', because zinc ore is very rough","radiusCovalent":1.31,"radiusVDW":2.1,"boilingpoint":1180,"meltingpoint":692.73,"periodTableBlock":"d","discoveryDate":"1746","period":"4","group":"2","electronicConfiguration":"Ar 3d10 4s2","family":"Transition","symbol":"Zn","name":"Zinc","elementColor":[0.49,0.5,0.69],"discoveryCountry":["de"],"discoverers":["Andreas","Marggraf"]},{"id":"Ga","atomicNumber":31,"mass":69.723,"exactMass":68.9255736,"ionization":5.9993,"electronAffinity":0.41,"electronegativityPauling":1.81,"nameOrigin":"\'Gallia\' is an old name for France","radiusCovalent":1.26,"radiusVDW":2.1,"boilingpoint":2478,"meltingpoint":302.92,"periodTableBlock":"p","discoveryDate":"1875","period":"4","group":"3","electronicConfiguration":"Ar 3d10 4s2 4p1","family":"Other_Metal","symbol":"Ga","name":"Gallium","elementColor":[0.76,0.56,0.56],"discoveryCountry":["fr"],"discoverers":["P.","E.","Lecoq","de","Boisbaudran"]},{"id":"Ge","atomicNumber":32,"mass":72.64,"exactMass":73.9211778,"ionization":7.8994,"electronAffinity":1.232712,"electronegativityPauling":2.01,"nameOrigin":"Latin \'germania\' is an old name for Germany","radiusCovalent":1.22,"radiusVDW":2.1,"boilingpoint":3107,"meltingpoint":1211.5,"periodTableBlock":"p","discoveryDate":"1886","period":"4","group":"4","electronicConfiguration":"Ar 3d10 4s2 4p2","family":"Metalloids","symbol":"Ge","name":"Germanium","elementColor":[0.4,0.56,0.56],"discoveryCountry":["de"],"discoverers":["C.","A.","Winkler"]},{"id":"As","atomicNumber":33,"mass":74.9216,"exactMass":74.9215965,"ionization":9.7886,"electronAffinity":0.814,"electronegativityPauling":2.18,"nameOrigin":"Greek \'arsenikos\' for \'male\' or \'bold\'","radiusCovalent":1.19,"radiusVDW":2.05,"boilingpoint":876,"meltingpoint":1090,"periodTableBlock":"p","discoveryDate":"0","period":"4","group":"5","electronicConfiguration":"Ar 3d10 4s2 4p3","family":"Metalloids","symbol":"As","name":"Arsenic","elementColor":[0.74,0.5,0.89],"discoveryCountry":["ancient"]},{"id":"Se","atomicNumber":34,"mass":78.96,"exactMass":79.9165213,"ionization":9.7524,"electronAffinity":2.02067,"electronegativityPauling":2.55,"nameOrigin":"Greek \'selena\' for \'moon\'","radiusCovalent":1.16,"radiusVDW":1.9,"boilingpoint":958,"meltingpoint":494,"periodTableBlock":"p","discoveryDate":"1817","period":"4","group":"6","electronicConfiguration":"Ar 3d10 4s2 4p4","family":"Non-Metal","symbol":"Se","name":"Selenium","elementColor":[1,0.63,0],"discoveryCountry":["se"],"discoverers":["J.","J.","Berzelius"]},{"id":"Br","atomicNumber":35,"mass":79.904,"exactMass":78.9183371,"ionization":11.8138,"electronAffinity":3.363588,"electronegativityPauling":2.96,"nameOrigin":"Greek \'bromos\' for \'smells badly\'","radiusCovalent":1.14,"radiusVDW":1.9,"boilingpoint":331.85,"meltingpoint":265.95,"periodTableBlock":"p","discoveryDate":"1826","period":"4","group":"7","electronicConfiguration":"Ar 3d10 4s2 4p5","family":"Halogen","symbol":"Br","name":"Bromine","elementColor":[0.65,0.16,0.16],"discoveryCountry":["fr"],"discoverers":["A.","J.","Balard"]},{"id":"Kr","atomicNumber":36,"mass":83.798,"exactMass":83.911507,"ionization":13.9996,"electronAffinity":0,"electronegativityPauling":3,"nameOrigin":"Greek \'kryptos\' for \'hidden\'","radiusCovalent":1.1,"radiusVDW":2.02,"boilingpoint":120.85,"meltingpoint":116,"periodTableBlock":"p","discoveryDate":"1898","period":"4","group":"8","electronicConfiguration":"Ar 3d10 4s2 4p6","family":"Noblegas","symbol":"Kr","name":"Krypton","elementColor":[0.36,0.72,0.82],"discoveryCountry":["uk"],"discoverers":["W. Ramsay","M. W. Travers"]},{"id":"Rb","atomicNumber":37,"mass":85.4678,"exactMass":84.91178974,"ionization":4.1771,"electronAffinity":0.485916,"electronegativityPauling":0.82,"nameOrigin":"Latin \'rubidus\' for \'dark red\'","radiusCovalent":2.11,"radiusVDW":2.9,"boilingpoint":961,"meltingpoint":312.63,"periodTableBlock":"s","discoveryDate":"1861","period":"5","group":"1","electronicConfiguration":"Kr 5s1","family":"Alkali_Earth","symbol":"Rb","name":"Rubidium","elementColor":[0.44,0.18,0.69],"discoveryCountry":["de"],"discoverers":["Robert W. Bunsen","Gustav R. Kirchhoff"]},{"id":"Sr","atomicNumber":38,"mass":87.62,"exactMass":87.9056121,"ionization":5.6949,"electronAffinity":0.05206,"electronegativityPauling":0.95,"nameOrigin":"Named after the mineral Strontianit","radiusCovalent":1.92,"radiusVDW":2.55,"boilingpoint":1655,"meltingpoint":1042,"periodTableBlock":"s","discoveryDate":"1790","period":"5","group":"2","electronicConfiguration":"Kr 5s2","family":"Alkaline_Earth","symbol":"Sr","name":"Strontium","elementColor":[0,1,0],"discoveryCountry":["uk"],"discoverers":["H.","B.","Davy"]},{"id":"Y","atomicNumber":39,"mass":88.90585,"exactMass":88.9058483,"ionization":6.2173,"electronAffinity":0.307,"electronegativityPauling":1.22,"nameOrigin":"Named after the small town of Ytterby near Stockholm in Sweden. Terbium. Ytterbium and Gadolinium are also named after this town.","radiusCovalent":1.62,"radiusVDW":2.4,"boilingpoint":3611,"meltingpoint":1795,"periodTableBlock":"d","discoveryDate":"1794","period":"5","group":"3","electronicConfiguration":"Kr 4d1 5s2","family":"Transition","symbol":"Y","name":"Yttrium","elementColor":[0.58,1,1],"discoveryCountry":["fi"],"discoverers":["Johann","Gadolin"]},{"id":"Zr","atomicNumber":40,"mass":91.224,"exactMass":89.9047044,"ionization":6.6339,"electronAffinity":0.426,"electronegativityPauling":1.33,"nameOrigin":"Named after the mineral zircon","radiusCovalent":1.48,"radiusVDW":2.3,"boilingpoint":4682,"meltingpoint":2128,"periodTableBlock":"d","discoveryDate":"1789","period":"5","group":"4","electronicConfiguration":"Kr 4d2 5s2","family":"Transition","symbol":"Zr","name":"Zirconium","elementColor":[0.58,0.88,0.88],"discoveryCountry":["de"],"discoverers":["Martin","Heinrich","Klaproth"]},{"id":"Nb","atomicNumber":41,"mass":92.90638,"exactMass":92.9063781,"ionization":6.7589,"electronAffinity":0.893,"electronegativityPauling":1.6,"nameOrigin":"Named after Niobe, the daughter of the Greek god Tantalus.","radiusCovalent":1.37,"radiusVDW":2.15,"boilingpoint":5015,"meltingpoint":2742,"periodTableBlock":"d","discoveryDate":"1801","period":"5","group":"5","electronicConfiguration":"Kr 4d4","family":"Transition","symbol":"Nb","name":"Niobium","elementColor":[0.45,0.76,0.79],"discoveryCountry":["uk"],"discoverers":["Ch.","Hatchett"]},{"id":"Mo","atomicNumber":42,"mass":95.96,"exactMass":97.9054082,"ionization":7.0924,"electronAffinity":0.7472,"electronegativityPauling":2.16,"nameOrigin":"This name has Greek roots. It means \'like Platinum\' - it was difficult to distinguish Molybdenum from Platinum.","radiusCovalent":1.45,"radiusVDW":2.1,"boilingpoint":4912,"meltingpoint":2896,"periodTableBlock":"d","discoveryDate":"1778","period":"5","group":"6","electronicConfiguration":"Kr 4d5 5s1","family":"Transition","symbol":"Mo","name":"Molybdenum","elementColor":[0.33,0.71,0.71],"discoveryCountry":["se"],"discoverers":["C.","W.","Scheele"]},{"id":"Tc","atomicNumber":43,"mass":98,"exactMass":97.907216,"ionization":7.28,"electronAffinity":0.55,"electronegativityPauling":1.9,"nameOrigin":"Greek \'technetos\' for artificial","radiusCovalent":1.56,"radiusVDW":2.05,"boilingpoint":4538,"meltingpoint":2477,"periodTableBlock":"d","discoveryDate":"1937","period":"5","group":"7","electronicConfiguration":"Kr 4d6 5s1","family":"Transition","symbol":"Tc","name":"Technetium","elementColor":[0.23,0.62,0.62],"discoveryCountry":["it"],"discoverers":["C. Perrier","E. G. Segre"]},{"id":"Ru","atomicNumber":44,"mass":101.07,"exactMass":101.9043493,"ionization":7.3605,"electronAffinity":1.04638,"electronegativityPauling":2.2,"nameOrigin":"Ruthenia is the old name of Russia","radiusCovalent":1.26,"radiusVDW":2.05,"boilingpoint":4425,"meltingpoint":2610,"periodTableBlock":"d","discoveryDate":"1844","period":"5","group":"8","electronicConfiguration":"Kr 4d7 5s1","family":"Transition","symbol":"Ru","name":"Ruthenium","elementColor":[0.14,0.56,0.56],"discoveryCountry":["ru"],"discoverers":["K.","Klaus"]},{"id":"Rh","atomicNumber":45,"mass":102.9055,"exactMass":102.905504,"ionization":7.4589,"electronAffinity":1.14289,"electronegativityPauling":2.28,"nameOrigin":"Greek \'rhodeos\' means \'red like a rose\'","radiusCovalent":1.35,"radiusVDW":2,"boilingpoint":3970,"meltingpoint":2236,"periodTableBlock":"d","discoveryDate":"1803","period":"5","group":"8","electronicConfiguration":"Kr 4d8 5s1","family":"Transition","symbol":"Rh","name":"Rhodium","elementColor":[0.04,0.49,0.55],"discoveryCountry":["uk"],"discoverers":["W.","Wollaston"]},{"id":"Pd","atomicNumber":46,"mass":106.42,"exactMass":105.903486,"ionization":8.3369,"electronAffinity":0.56214,"electronegativityPauling":2.2,"nameOrigin":"Named after the asteroid Pallas","radiusCovalent":1.31,"radiusVDW":2.05,"boilingpoint":3240,"meltingpoint":1825,"periodTableBlock":"d","discoveryDate":"1803","period":"5","group":"8","electronicConfiguration":"Kr 4d10","family":"Transition","symbol":"Pd","name":"Palladium","elementColor":[0,0.41,0.52],"discoveryCountry":["uk"]},{"id":"Ag","atomicNumber":47,"mass":107.8682,"exactMass":106.905097,"ionization":7.5762,"electronAffinity":1.30447,"electronegativityPauling":1.93,"nameOrigin":"Latin \'argentum\' for silver","radiusCovalent":1.53,"radiusVDW":2.1,"boilingpoint":2436,"meltingpoint":1235.1,"periodTableBlock":"d","discoveryDate":"0","period":"5","group":"1","electronicConfiguration":"Kr 4d10 5s1","family":"Transition","symbol":"Ag","name":"Silver","elementColor":[0.88,0.88,1],"discoveryCountry":["ancient"]},{"id":"Cd","atomicNumber":48,"mass":112.411,"exactMass":113.9033585,"ionization":8.9938,"electronAffinity":0,"electronegativityPauling":1.69,"nameOrigin":"Greek \'kadmia\' (\'Galmei\' = Zinc carbonate)","radiusCovalent":1.48,"radiusVDW":2.2,"boilingpoint":1040,"meltingpoint":594.26,"periodTableBlock":"d","discoveryDate":"1817","period":"5","group":"2","electronicConfiguration":"Kr 4d10 5s2","family":"Transition","symbol":"Cd","name":"Cadmium","elementColor":[1,0.85,0.56],"discoveryCountry":["de"],"discoverers":["F.","Stromeyer"]},{"id":"In","atomicNumber":49,"mass":114.818,"exactMass":114.903878,"ionization":5.7864,"electronAffinity":0.404,"electronegativityPauling":1.78,"nameOrigin":"Named after \'Indigo\' because of its blue spectrum","radiusCovalent":1.44,"radiusVDW":2.2,"boilingpoint":2350,"meltingpoint":429.78,"periodTableBlock":"p","discoveryDate":"1863","period":"5","group":"3","electronicConfiguration":"Kr 4d10 5s2 5p1","family":"Other_Metal","symbol":"In","name":"Indium","elementColor":[0.65,0.46,0.45],"discoveryCountry":["de"],"discoverers":["F. Reich","H.T. Richter"]},{"id":"Sn","atomicNumber":50,"mass":118.71,"exactMass":119.9021947,"ionization":7.3439,"electronAffinity":1.112066,"electronegativityPauling":1.96,"nameOrigin":"Latin \'stannum\' for tin","radiusCovalent":1.41,"radiusVDW":2.25,"boilingpoint":2876,"meltingpoint":505.12,"periodTableBlock":"p","discoveryDate":"0","period":"5","group":"4","electronicConfiguration":"Kr 4d10 5s2 5p2","family":"Other_Metal","symbol":"Sn","name":"Tin","elementColor":[0.4,0.5,0.5],"discoveryCountry":["ancient"]},{"id":"Sb","atomicNumber":51,"mass":121.76,"exactMass":120.9038157,"ionization":8.6084,"electronAffinity":1.047401,"electronegativityPauling":2.05,"nameOrigin":"Arabic \'anthos ammonos\' for \'blossom of the god Ammon\'","radiusCovalent":1.38,"radiusVDW":2.2,"boilingpoint":1860,"meltingpoint":903.91,"periodTableBlock":"p","discoveryDate":"0","period":"5","group":"5","electronicConfiguration":"Kr 4d10 5s2 5p3","family":"Metalloids","symbol":"Sb","name":"Antimony","elementColor":[0.62,0.39,0.71],"discoveryCountry":["ancient"]},{"id":"Te","atomicNumber":52,"mass":127.6,"exactMass":129.9062244,"ionization":9.0096,"electronAffinity":1.970875,"electronegativityPauling":2.1,"nameOrigin":"Latin \'tellus\' or \'telluris\' for \'Planet Earth\'","radiusCovalent":1.35,"radiusVDW":2.1,"boilingpoint":1261,"meltingpoint":722.72,"periodTableBlock":"p","discoveryDate":"1782","period":"5","group":"6","electronicConfiguration":"Kr 4d10 5s2 5p4","family":"Metalloids","symbol":"Te","name":"Tellurium","elementColor":[0.83,0.48,0],"discoveryCountry":["de"],"discoverers":["Franz","Joseph","Muller","von","Reichstein"]},{"id":"I","atomicNumber":53,"mass":126.90447,"exactMass":126.904473,"ionization":10.4513,"electronAffinity":3.059038,"electronegativityPauling":2.66,"nameOrigin":"Greek \'ioeides\' for \'violet\'.","radiusCovalent":1.33,"radiusVDW":2.1,"boilingpoint":457.5,"meltingpoint":386.7,"periodTableBlock":"p","discoveryDate":"1811","period":"5","group":"7","electronicConfiguration":"Kr 4d10 5s2 5p5","family":"Halogen","symbol":"I","name":"Iodine","elementColor":[0.58,0,0.58],"discoveryCountry":["fr"],"discoverers":["Bernard","Courtois"]},{"id":"Xe","atomicNumber":54,"mass":131.293,"exactMass":131.9041535,"ionization":12.1298,"electronAffinity":0,"electronegativityPauling":2.6,"nameOrigin":"Greek \'xenos\' for \'foreigner\'","radiusCovalent":1.3,"radiusVDW":2.16,"boilingpoint":165.1,"meltingpoint":161.39,"periodTableBlock":"p","discoveryDate":"1898","period":"5","group":"8","electronicConfiguration":"Kr 4d10 5s2 5p6","family":"Noblegas","symbol":"Xe","name":"Xenon","elementColor":[0.26,0.62,0.69],"discoveryCountry":["uk"],"discoverers":["W. Ramsay","M. W. Travers"]},{"id":"Cs","atomicNumber":55,"mass":132.9054519,"exactMass":132.9054519,"ionization":3.8939,"electronAffinity":0.471626,"electronegativityPauling":0.79,"nameOrigin":"Latin \'caesius\' for \'heaven blue\'.","radiusCovalent":2.25,"radiusVDW":3,"boilingpoint":944,"meltingpoint":301.54,"periodTableBlock":"s","discoveryDate":"1860","period":"6","group":"1","electronicConfiguration":"Xe 6s1","family":"Alkali_Earth","symbol":"Cs","name":"Caesium","elementColor":[0.34,0.09,0.56],"discoveryCountry":["de"],"discoverers":["Robert Wilhelm Bunsen","Gustav Robert Kirchhoff"]},{"id":"Ba","atomicNumber":56,"mass":137.327,"exactMass":137.9052472,"ionization":5.2117,"electronAffinity":0.14462,"electronegativityPauling":0.89,"nameOrigin":"Greek \'barys\' for \'heavy\'","radiusCovalent":1.98,"radiusVDW":2.7,"boilingpoint":2078,"meltingpoint":1002,"periodTableBlock":"s","discoveryDate":"1808","period":"6","group":"2","electronicConfiguration":"Xe 6s2","family":"Alkaline_Earth","symbol":"Ba","name":"Barium","elementColor":[0,0.79,0],"discoveryCountry":["uk"],"discoverers":["Humphry","Bartholomew","Davy"]},{"id":"La","atomicNumber":57,"mass":138.90547,"exactMass":138.9063533,"ionization":5.5769,"electronAffinity":0.47,"electronegativityPauling":1.1,"nameOrigin":"Greek \'lanthanein\' for \'hidden\'. The Lanthanoids are also called the \'rare earth\' elements.","radiusCovalent":1.69,"radiusVDW":2.5,"boilingpoint":3737,"meltingpoint":1191,"periodTableBlock":"f","discoveryDate":"1839","period":"6","group":"3","electronicConfiguration":"Xe 5d1 6s2","family":"Rare_Earth","symbol":"La","name":"Lanthanum","elementColor":[0.44,0.83,1],"discoveryCountry":["se"],"discoverers":["K.","G.","Mosander"]},{"id":"Ce","atomicNumber":58,"mass":140.116,"exactMass":139.9054387,"ionization":5.5387,"electronAffinity":0.5,"electronegativityPauling":1.12,"nameOrigin":"Named after the planetoid Ceres","radiusVDW":2.48,"boilingpoint":3715,"meltingpoint":1071,"periodTableBlock":"f","discoveryDate":"1803","period":"6","group":"4","electronicConfiguration":"Xe 4f1 5d1 6s2","family":"Rare_Earth","symbol":"Ce","name":"Cerium","elementColor":[1,1,0.78],"discoverers":["Jns Jacob Berzelius","W. Hisinger","M. Klaproth"]},{"id":"Pr","atomicNumber":59,"mass":140.90765,"exactMass":140.9076528,"ionization":5.473,"electronAffinity":0.5,"electronegativityPauling":1.13,"nameOrigin":"Greek \'prasinos didymos\' for \'green twin\'","radiusVDW":2.47,"boilingpoint":3785,"meltingpoint":1204,"periodTableBlock":"f","discoveryDate":"1885","period":"6","group":"5","electronicConfiguration":"Xe 4f3 6s2","family":"Rare_Earth","symbol":"Pr","name":"Praseodymium","elementColor":[0.85,1,0.78],"discoverers":["Carl","F.","Auer","von","Welsbach"]},{"id":"Nd","atomicNumber":60,"mass":144.242,"exactMass":141.9077233,"ionization":5.525,"electronAffinity":0.5,"electronegativityPauling":1.14,"nameOrigin":"Greek \'neos didymos\' for \'new twin\'","radiusVDW":2.45,"boilingpoint":3347,"meltingpoint":1294,"periodTableBlock":"f","discoveryDate":"1885","period":"6","group":"6","electronicConfiguration":"Xe 4f4 6s2","family":"Rare_Earth","symbol":"Nd","name":"Neodymium","elementColor":[0.78,1,0.78],"discoverers":["Carl","F.","Auer","von","Welsbach"]},{"id":"Pm","atomicNumber":61,"mass":145,"exactMass":144.912749,"ionization":5.582,"electronAffinity":0.5,"nameOrigin":"Named after the Greek Prometheus. Prometheus stole the fire from the gods and gave it to mankind.","radiusVDW":2.43,"boilingpoint":3273,"meltingpoint":1315,"periodTableBlock":"f","discoveryDate":"1945","period":"6","group":"7","electronicConfiguration":"Xe 4f5 6s2","family":"Rare_Earth","symbol":"Pm","name":"Promethium","elementColor":[0.64,1,0.78],"discoverers":["J. A. Marinsky","C. D. Coryell","L. E. Glendenin"]},{"id":"Sm","atomicNumber":62,"mass":150.36,"exactMass":151.9197324,"ionization":5.6437,"electronAffinity":0.5,"electronegativityPauling":1.17,"nameOrigin":"Named after the mineral Samarskit","radiusVDW":2.42,"boilingpoint":2067,"meltingpoint":1347,"periodTableBlock":"f","discoveryDate":"1879","period":"6","group":"8","electronicConfiguration":"Xe 4f6 6s2","family":"Rare_Earth","symbol":"Sm","name":"Samarium","elementColor":[0.56,1,0.78],"discoverers":["P.","Lecoq","de","Boisbaudran"]},{"id":"Eu","atomicNumber":63,"mass":151.964,"exactMass":152.9212303,"ionization":5.6704,"electronAffinity":0.5,"nameOrigin":"Named after Europe","radiusVDW":2.4,"boilingpoint":1800,"meltingpoint":1095,"periodTableBlock":"f","discoveryDate":"1901","period":"6","group":"8","electronicConfiguration":"Xe 4f7 6s2","family":"Rare_Earth","symbol":"Eu","name":"Europium","elementColor":[0.38,1,0.78],"discoverers":["E.","A.","Demarcay"]},{"id":"Gd","atomicNumber":64,"mass":157.25,"exactMass":157.9241039,"ionization":6.1498,"electronAffinity":0.5,"electronegativityPauling":1.2,"nameOrigin":"Named after the Finnish chemist Johan Gadolin","radiusVDW":2.38,"boilingpoint":3545,"meltingpoint":1585,"periodTableBlock":"f","discoveryDate":"1880","period":"6","group":"8","electronicConfiguration":"Xe 4f7 5d1 6s2","family":"Rare_Earth","symbol":"Gd","name":"Gadolinium","elementColor":[0.27,1,0.78],"discoverers":["Jean","de","Marignac"]},{"id":"Tb","atomicNumber":65,"mass":158.92535,"exactMass":158.9253468,"ionization":5.8638,"electronAffinity":0.5,"nameOrigin":"Named after the Swedish town of Ytterby","radiusVDW":2.37,"boilingpoint":3500,"meltingpoint":1629,"periodTableBlock":"f","discoveryDate":"1843","period":"6","group":"1","electronicConfiguration":"Xe 4f9 6s2","family":"Rare_Earth","symbol":"Tb","name":"Terbium","elementColor":[0.19,1,0.78],"discoverers":["K.","G.","Mosander"]},{"id":"Dy","atomicNumber":66,"mass":162.5,"exactMass":163.9291748,"ionization":5.9389,"electronAffinity":0.5,"electronegativityPauling":1.22,"nameOrigin":"Greek \'dysprositor\' for \'difficult to reach\'","radiusVDW":2.35,"boilingpoint":2840,"meltingpoint":1685,"periodTableBlock":"f","discoveryDate":"1886","period":"6","group":"2","electronicConfiguration":"Xe 4f10 6s2","family":"Rare_Earth","symbol":"Dy","name":"Dysprosium","elementColor":[0.12,1,0.78],"discoverers":["F.","E.","Lecoq","de","Boisbaudran"]},{"id":"Ho","atomicNumber":67,"mass":164.93032,"exactMass":164.9303221,"ionization":6.0215,"electronAffinity":0.5,"electronegativityPauling":1.23,"nameOrigin":"Latin \'holmia\' for the old name of Stockholm","radiusVDW":2.33,"boilingpoint":2968,"meltingpoint":1747,"periodTableBlock":"f","discoveryDate":"1878","period":"6","group":"3","electronicConfiguration":"Xe 4f11 6s2","family":"Rare_Earth","symbol":"Ho","name":"Holmium","elementColor":[0,1,0.61],"discoverers":["J. L. Soret","P.T. Cleve"]},{"id":"Er","atomicNumber":68,"mass":167.259,"exactMass":165.9302931,"ionization":6.1077,"electronAffinity":0.5,"electronegativityPauling":1.24,"nameOrigin":"Named ofter the Swedish town of Ytterby. Terbium and Ytterbium are also named after this town.","radiusVDW":2.32,"boilingpoint":3140,"meltingpoint":1802,"periodTableBlock":"f","discoveryDate":"1843","period":"6","group":"4","electronicConfiguration":"Xe 4f12 6s2","family":"Rare_Earth","symbol":"Er","name":"Erbium","elementColor":[0,0.9,0.46],"discoverers":["K.","G.","Mosander"]},{"id":"Tm","atomicNumber":69,"mass":168.93421,"exactMass":168.9342133,"ionization":6.1843,"electronAffinity":0.5,"electronegativityPauling":1.25,"nameOrigin":"Named after the old name of Scandinavia, \'Thule\'.","radiusVDW":2.3,"boilingpoint":2223,"meltingpoint":1818,"periodTableBlock":"f","discoveryDate":"1879","period":"6","group":"5","electronicConfiguration":"Xe 4f13 6s2","family":"Rare_Earth","symbol":"Tm","name":"Thulium","elementColor":[0,0.83,0.32],"discoverers":["P.","T.","Cleve"]},{"id":"Yb","atomicNumber":70,"mass":173.054,"exactMass":173.9388621,"ionization":6.2542,"electronAffinity":0.5,"nameOrigin":"Like Terbium and Gadolinium, this is named after the Swedish town of Ytterby.","radiusVDW":2.28,"boilingpoint":1469,"meltingpoint":1092,"periodTableBlock":"f","discoveryDate":"1878","period":"6","group":"6","electronicConfiguration":"Xe 4f14 6s2","family":"Rare_Earth","symbol":"Yb","name":"Ytterbium","elementColor":[0,0.75,0.22],"discoverers":["J.","Ch.","Marignac"]},{"id":"Lu","atomicNumber":71,"mass":174.9668,"exactMass":174.9407718,"ionization":5.4259,"electronAffinity":0.5,"electronegativityPauling":1.27,"nameOrigin":"Named after the Roman name \'Lutetia\' for Paris","radiusCovalent":1.6,"radiusVDW":2.27,"boilingpoint":3668,"meltingpoint":1936,"periodTableBlock":"f","discoveryDate":"1907","period":"6","group":"7","electronicConfiguration":"Xe 4f14 5d1 6s2","family":"Rare_Earth","symbol":"Lu","name":"Lutetium","elementColor":[0,0.67,0.14],"discoverers":["Carl F. Auer von Welsbach","G. Urbain"]},{"id":"Hf","atomicNumber":72,"mass":178.49,"exactMass":179.94655,"ionization":6.8251,"electronAffinity":0,"electronegativityPauling":1.3,"nameOrigin":"\'Hafnia\' is the old name of Kopenhagen (Denmark)","radiusCovalent":1.5,"radiusVDW":2.25,"boilingpoint":4875,"meltingpoint":2504,"periodTableBlock":"d","discoveryDate":"1923","period":"6","group":"4","electronicConfiguration":"Xe 4f14 5d2 6s2","family":"Transition","symbol":"Hf","name":"Hafnium","elementColor":[0.3,0.76,1],"discoveryCountry":["dk"],"discoverers":["D. Coster","G. Hevesy"]},{"id":"Ta","atomicNumber":73,"mass":180.94788,"exactMass":180.9479958,"ionization":7.5496,"electronAffinity":0.322,"electronegativityPauling":1.5,"nameOrigin":"Named after the Greek myth of Tantalos","radiusCovalent":1.38,"radiusVDW":2.2,"boilingpoint":5730,"meltingpoint":3293,"periodTableBlock":"d","discoveryDate":"1802","period":"6","group":"5","electronicConfiguration":"Xe 4f14 5d3 6s2","family":"Transition","symbol":"Ta","name":"Tantalum","elementColor":[0.3,0.65,1],"discoveryCountry":["se"],"discoverers":["A.","Ekeberg"]},{"id":"W","atomicNumber":74,"mass":183.84,"exactMass":183.9509312,"ionization":7.864,"electronAffinity":0.815,"electronegativityPauling":2.36,"nameOrigin":"\'tung sten\' means \'heavy stone\' in Swedish. The old name (and thus the symbol \'W\') was Wolfram, named after a mineral.","radiusCovalent":1.46,"radiusVDW":2.1,"boilingpoint":5825,"meltingpoint":3695,"periodTableBlock":"d","discoveryDate":"1783","period":"6","group":"6","electronicConfiguration":"Xe 4f14 5d4 6s2","family":"Transition","symbol":"W","name":"Tungsten","elementColor":[0.13,0.58,0.84],"discoveryCountry":["es"],"discoverers":["C.","W.","Scheele"]},{"id":"Re","atomicNumber":75,"mass":186.207,"exactMass":186.9557531,"ionization":7.8335,"electronAffinity":0.15,"electronegativityPauling":1.9,"nameOrigin":"Named after the German river Rhine (latin \'Rhenium\').","radiusCovalent":1.59,"radiusVDW":2.05,"boilingpoint":5870,"meltingpoint":3455,"periodTableBlock":"d","discoveryDate":"1925","period":"6","group":"7","electronicConfiguration":"Xe 4f14 5d5 6s2","family":"Transition","symbol":"Re","name":"Rhenium","elementColor":[0.15,0.49,0.67],"discoveryCountry":["de"],"discoverers":["Walter Noddack","Ida Tacke-Noddack","Otto Berg"]},{"id":"Os","atomicNumber":76,"mass":190.23,"exactMass":191.9614807,"ionization":8.4382,"electronAffinity":1.0778,"electronegativityPauling":2.2,"nameOrigin":"Greek for \'smell\'. Its oxides smell strongly like radishes.","radiusCovalent":1.28,"radiusVDW":2,"boilingpoint":5300,"meltingpoint":3300,"periodTableBlock":"d","discoveryDate":"1804","period":"6","group":"8","electronicConfiguration":"Xe 4f14 5d6 6s2","family":"Transition","symbol":"Os","name":"Osmium","elementColor":[0.15,0.4,0.59],"discoveryCountry":["uk"],"discoverers":["S.","Tennant"]},{"id":"Ir","atomicNumber":77,"mass":192.217,"exactMass":192.9629264,"ionization":8.967,"electronAffinity":1.56436,"electronegativityPauling":2.2,"nameOrigin":"Greek \'iris\' for \'rainbow\'","radiusCovalent":1.37,"radiusVDW":2,"boilingpoint":4700,"meltingpoint":2720,"periodTableBlock":"d","discoveryDate":"1804","period":"6","group":"8","electronicConfiguration":"Xe 4f14 5d7 6s2","family":"Transition","symbol":"Ir","name":"Iridium","elementColor":[0.09,0.33,0.53],"discoveryCountry":["uk"],"discoverers":["S.","Tennant"]},{"id":"Pt","atomicNumber":78,"mass":195.084,"exactMass":194.9647911,"ionization":8.9588,"electronAffinity":2.1251,"electronegativityPauling":2.28,"nameOrigin":"Spanish \'platina\' means \'small silver\'","radiusCovalent":1.28,"radiusVDW":2.05,"boilingpoint":4100,"meltingpoint":2042.1,"periodTableBlock":"d","discoveryDate":"1735","period":"6","group":"8","electronicConfiguration":"Xe 4f14 5d9 6s1","family":"Transition","symbol":"Pt","name":"Platinum","elementColor":[0.96,0.93,0.82],"discoveryCountry":["uk"],"discoverers":["A.","de","Ulloa"]},{"id":"Au","atomicNumber":79,"mass":196.966569,"exactMass":196.9665687,"ionization":9.2255,"electronAffinity":2.30861,"electronegativityPauling":2.54,"nameOrigin":"Latin \'aurum\'. Named after Aurora, the goddess of sunrise","radiusCovalent":1.44,"radiusVDW":2.1,"boilingpoint":3130,"meltingpoint":1337.58,"periodTableBlock":"d","discoveryDate":"0","period":"6","group":"1","electronicConfiguration":"Xe 4f14 5d10 6s1","family":"Transition","symbol":"Au","name":"Gold","elementColor":[0.8,0.82,0.12],"discoveryCountry":["ancient"]},{"id":"Hg","atomicNumber":80,"mass":200.59,"exactMass":201.970643,"ionization":10.4375,"electronAffinity":0,"electronegativityPauling":2,"nameOrigin":"Graeco-Latin \'hydrargyrum\' for \'liquid silver\'","radiusCovalent":1.49,"radiusVDW":2.05,"boilingpoint":629.88,"meltingpoint":234.31,"periodTableBlock":"d","discoveryDate":"0","period":"6","group":"2","electronicConfiguration":"Xe 4f14 5d10 6s2","family":"Transition","symbol":"Hg","name":"Mercury","elementColor":[0.71,0.71,0.76],"discoveryCountry":["ancient"]},{"id":"Tl","atomicNumber":81,"mass":204.3833,"exactMass":204.9744275,"ionization":6.1082,"electronAffinity":0.377,"electronegativityPauling":1.62,"nameOrigin":"Greek \'tallos\' for \'young twig\'","radiusCovalent":1.48,"radiusVDW":2.2,"boilingpoint":1746,"meltingpoint":577,"periodTableBlock":"p","discoveryDate":"1861","period":"6","group":"3","electronicConfiguration":"Xe 4f14 5d10 6s2 6p1","family":"Other_Metal","symbol":"Tl","name":"Thallium","elementColor":[0.65,0.33,0.3],"discoveryCountry":["uk"],"discoverers":["W.","Crookes"]},{"id":"Pb","atomicNumber":82,"mass":207.2,"exactMass":207.9766521,"ionization":7.4167,"electronAffinity":0.364,"electronegativityPauling":2.33,"nameOrigin":"Latin \'plumbum\' for Lead","radiusCovalent":1.47,"radiusVDW":2.3,"boilingpoint":2023,"meltingpoint":600.65,"periodTableBlock":"p","discoveryDate":"0","period":"6","group":"4","electronicConfiguration":"Xe 4f14 5d10 6s2 6p2","family":"Other_Metal","symbol":"Pb","name":"Lead","elementColor":[0.34,0.35,0.38],"discoveryCountry":["ancient"]},{"id":"Bi","atomicNumber":83,"mass":208.9804,"exactMass":208.9803987,"ionization":7.2855,"electronAffinity":0.942363,"electronegativityPauling":2.02,"nameOrigin":"The old name of Bismuth is \'Wismut\', which stood for \'white mass\'.","radiusCovalent":1.46,"radiusVDW":2.3,"boilingpoint":1837,"meltingpoint":544.59,"periodTableBlock":"p","discoveryDate":"0","period":"6","group":"5","electronicConfiguration":"Xe 4f14 5d10 6s2 6p3","family":"Other_Metal","symbol":"Bi","name":"Bismuth","elementColor":[0.62,0.31,0.71],"discoveryCountry":["ancient"]},{"id":"Po","atomicNumber":84,"mass":209,"exactMass":208.9824304,"ionization":8.414,"electronAffinity":1.9,"electronegativityPauling":2,"nameOrigin":"Named after Poland to honor Marie Curie","radiusVDW":2,"meltingpoint":527,"periodTableBlock":"p","discoveryDate":"1898","period":"6","group":"6","electronicConfiguration":"Xe 4f14 5d10 6s2 6p4","family":"Metalloids","symbol":"Po","name":"Polonium","elementColor":[0.67,0.36,0],"discoveryCountry":["fr"],"discoverers":["M. Sklodowska-Curie","P. Curie"]},{"id":"At","atomicNumber":85,"mass":210,"exactMass":209.987148,"ionization":0,"electronAffinity":2.8,"electronegativityPauling":2.2,"nameOrigin":"Greek \'astator\' for \'changing\'","radiusVDW":2,"boilingpoint":610,"meltingpoint":575,"periodTableBlock":"p","discoveryDate":"1940","period":"6","group":"7","electronicConfiguration":"Xe 4f14 5d10 6s2 6p5","family":"Halogen","symbol":"At","name":"Astatine","elementColor":[0.46,0.31,0.27],"discoveryCountry":["us"],"discoverers":["D. R. Corson","K. R. McKenzie","E. Segre"]},{"id":"Rn","atomicNumber":86,"mass":222,"exactMass":222.0175777,"ionization":10.7485,"electronAffinity":0,"nameOrigin":"Named after Radium. It ends with \'on\' to make it clear that it is a noble gas.","radiusCovalent":1.45,"radiusVDW":2,"boilingpoint":211.4,"meltingpoint":202,"periodTableBlock":"p","discoveryDate":"1898","period":"6","group":"8","electronicConfiguration":"Xe 4f14 5d10 6s2 6p6","family":"Noblegas","symbol":"Rn","name":"Radon","elementColor":[0.26,0.51,0.59],"discoveryCountry":["de"],"discoverers":["E.","Dorn"]},{"id":"Fr","atomicNumber":87,"mass":223,"exactMass":223.0197359,"ionization":4.0727,"electronegativityPauling":0.7,"nameOrigin":"Named after France to honor Marguerite Perey","radiusVDW":2,"boilingpoint":950,"meltingpoint":300,"periodTableBlock":"s","discoveryDate":"1939","period":"7","group":"1","electronicConfiguration":"Rn 7s1","family":"Alkali_Earth","symbol":"Fr","name":"Francium","elementColor":[0.26,0,0.4],"discoveryCountry":["fr"],"discoverers":["M.","Perey"]},{"id":"Ra","atomicNumber":88,"mass":226,"exactMass":226.0254098,"ionization":5.2784,"electronegativityPauling":0.9,"nameOrigin":"Latin \'radius\' for \'beam\', as it is radioactive","radiusVDW":2,"boilingpoint":1413,"meltingpoint":973,"periodTableBlock":"s","discoveryDate":"1898","period":"7","group":"2","electronicConfiguration":"Rn 7s2","family":"Alkaline_Earth","symbol":"Ra","name":"Radium","elementColor":[0,0.49,0],"discoveryCountry":["fr"],"discoverers":["M. Sklodowska-Curie","P. Curie"]},{"id":"Ac","atomicNumber":89,"mass":227,"exactMass":227.0277521,"ionization":5.17,"electronegativityPauling":1.1,"nameOrigin":"Greek \'aktis\' for \'beam\' - actinium is radioactive","radiusVDW":2,"boilingpoint":3470,"meltingpoint":1324,"periodTableBlock":"f","discoveryDate":"1899","period":"7","group":"3","electronicConfiguration":"Rn 6d1 7s2","family":"Other_Metal","symbol":"Ac","name":"Actinium","elementColor":[0.44,0.67,0.98],"discoveryCountry":["fr"],"discoverers":["A.","L.","Debierne"]},{"id":"Th","atomicNumber":90,"mass":232.03806,"exactMass":232.0380553,"ionization":6.3067,"electronegativityPauling":1.3,"nameOrigin":"Named after the German god of thunder: Thor","radiusVDW":2.4,"boilingpoint":5060,"meltingpoint":2028,"periodTableBlock":"f","discoveryDate":"1828","period":"7","group":"4","electronicConfiguration":"Rn 6d2 7s2","family":"Other_Metal","symbol":"Th","name":"Thorium","elementColor":[0,0.73,1],"discoverers":["J.","J.","Berzelius"]},{"id":"Pa","atomicNumber":91,"mass":231.03588,"exactMass":231.035884,"ionization":5.89,"electronegativityPauling":1.5,"nameOrigin":"Greek \'protos\' for \'ancester\'. Protactinium is before Actinium in the periodic table.","radiusVDW":2,"boilingpoint":4300,"meltingpoint":1845,"periodTableBlock":"f","discoveryDate":"1917","period":"7","group":"5","electronicConfiguration":"Rn 5f2 6d1 7s2","family":"Other_Metal","symbol":"Pa","name":"Protactinium","elementColor":[0,0.63,1],"discoverers":["O. Hahn","L. Meitern","W. Wollaston"]},{"id":"U","atomicNumber":92,"mass":238.02891,"exactMass":238.0507882,"ionization":6.1941,"electronegativityPauling":1.38,"nameOrigin":"Greek \'ouranos\' for \'heaven\'. Named after the planet Uranus.","radiusVDW":2.3,"boilingpoint":4407,"meltingpoint":1408,"periodTableBlock":"f","discoveryDate":"1789","period":"7","group":"6","electronicConfiguration":"Rn 5f3 6d1 7s2","family":"Other_Metal","symbol":"U","name":"Uranium","elementColor":[0,0.56,1],"discoverers":["M.","M.","Klaproth"]},{"id":"Np","atomicNumber":93,"mass":237,"exactMass":237.0481734,"ionization":6.2657,"electronegativityPauling":1.36,"nameOrigin":"Named after the planet Neptune.","radiusVDW":2,"boilingpoint":4175,"meltingpoint":912,"periodTableBlock":"f","discoveryDate":"1940","period":"7","group":"7","electronicConfiguration":"Rn 5f4 6d1 7s2","family":"Other_Metal","symbol":"Np","name":"Neptunium","elementColor":[0,0.5,1],"discoverers":["E. M. McMillan","P. Aberson"]},{"id":"Pu","atomicNumber":94,"mass":244,"exactMass":244.064204,"ionization":6.026,"electronegativityPauling":1.28,"nameOrigin":"Named after the planet Pluto.","radiusVDW":2,"boilingpoint":3505,"meltingpoint":913,"periodTableBlock":"f","discoveryDate":"1940","period":"7","group":"8","electronicConfiguration":"Rn 5f6 7s2","family":"Other_Metal","symbol":"Pu","name":"Plutonium","elementColor":[0,0.42,1],"discoverers":["Glenn T. Seaborg","E. M. McMillan","J. W. Kennedy","A.C. Wahl"]},{"id":"Am","atomicNumber":95,"mass":243,"exactMass":243.0613811,"ionization":5.9738,"electronegativityPauling":1.3,"nameOrigin":"Named after America.","radiusVDW":2,"boilingpoint":2880,"meltingpoint":1449,"periodTableBlock":"f","discoveryDate":"1945","period":"7","group":"8","electronicConfiguration":"Rn 5f7 7s2","family":"Other_Metal","symbol":"Am","name":"Americium","elementColor":[0.33,0.36,0.95],"discoverers":["Glenn T. Seaborg","L. O. Morgan","R. A. James","A. Ghiors"]},{"id":"Cm","atomicNumber":96,"mass":247,"exactMass":247.070354,"ionization":5.9914,"electronegativityPauling":1.3,"nameOrigin":"Named after Marie Curie.","radiusVDW":2,"boilingpoint":3383,"meltingpoint":1620,"periodTableBlock":"f","discoveryDate":"1944","period":"7","group":"8","electronicConfiguration":"Rn 5f7 6d1 7s2","family":"Other_Metal","symbol":"Cm","name":"Curium","elementColor":[0.47,0.36,0.89],"discoverers":["Glenn T. Seaborg","R. A. James","A. Ghiors"]},{"id":"Bk","atomicNumber":97,"mass":247,"exactMass":247.070307,"ionization":6.1979,"electronegativityPauling":1.3,"nameOrigin":"Named after the town Berkeley where it was discovered.","radiusVDW":2,"boilingpoint":983,"meltingpoint":1258,"periodTableBlock":"f","discoveryDate":"1949","period":"7","group":"1","electronicConfiguration":"Rn 5f9 7s2","family":"Other_Metal","symbol":"Bk","name":"Berkelium","elementColor":[0.54,0.31,0.89],"discoverers":["Glenn T. Seaborg","A. Ghiors","S. G. Thompson"]},{"id":"Cf","atomicNumber":98,"mass":251,"exactMass":251.079587,"ionization":6.2817,"electronegativityPauling":1.3,"nameOrigin":"Named after the US-State of California.","radiusVDW":2,"boilingpoint":1173,"meltingpoint":1172,"periodTableBlock":"f","discoveryDate":"1950","period":"7","group":"2","electronicConfiguration":"Rn 5f10 7s2","family":"Other_Metal","symbol":"Cf","name":"Californium","elementColor":[0.63,0.21,0.83],"discoverers":["Glenn T. Seaborg","A. Ghiors","S. G. Thompson"]},{"id":"Es","atomicNumber":99,"mass":252,"exactMass":252.08298,"ionization":6.42,"electronegativityPauling":1.3,"nameOrigin":"Named after the scientist Albert Einstein.","radiusVDW":2,"meltingpoint":1130,"periodTableBlock":"f","discoveryDate":"1952","period":"7","group":"3","electronicConfiguration":"Rn 5f11 7s2","family":"Other_Metal","symbol":"Es","name":"Einsteinium","elementColor":[0.7,0.12,0.83],"discoverers":["Glenn T. Seaborg","et al."]},{"id":"Fm","atomicNumber":100,"mass":257,"exactMass":257.095105,"ionization":6.5,"electronegativityPauling":1.3,"nameOrigin":"Named after the scientist Enrico Fermi.","radiusVDW":2,"meltingpoint":1800,"periodTableBlock":"f","discoveryDate":"1953","period":"7","group":"4","electronicConfiguration":"Rn 5f12 7s2","family":"Other_Metal","symbol":"Fm","name":"Fermium","elementColor":[0.7,0.12,0.73],"discoverers":["Glenn T. Seaborg","et al."]},{"id":"Md","atomicNumber":101,"mass":258,"exactMass":258.098431,"ionization":6.58,"electronegativityPauling":1.3,"nameOrigin":"Named after the scientist D.I. Mendeleev.","radiusVDW":2,"meltingpoint":1100,"periodTableBlock":"f","discoveryDate":"1955","period":"7","group":"5","electronicConfiguration":"Rn 5f13 7s2","family":"Other_Metal","symbol":"Md","name":"Mendelevium","elementColor":[0.7,0.05,0.65],"discoverers":["Glenn T. Seaborg","Albert Ghiorso","Bernard Harvey","Gregory Choppin","Stanley G. Thompson"]},{"id":"No","atomicNumber":102,"mass":259,"exactMass":259.10103,"ionization":6.65,"electronegativityPauling":1.3,"nameOrigin":"Named after the scientist Alfred Nobel.","radiusVDW":2,"meltingpoint":1100,"periodTableBlock":"f","discoveryDate":"1958","period":"7","group":"6","electronicConfiguration":"Rn 5f14 7s2","family":"Other_Metal","symbol":"No","name":"Nobelium","elementColor":[0.74,0.05,0.53]},{"id":"Lr","atomicNumber":103,"mass":262,"exactMass":262.10963,"ionization":4.9,"nameOrigin":"Named after the scientist Ernest Orlando Lawrence.","radiusVDW":2,"meltingpoint":1900,"periodTableBlock":"f","discoveryDate":"1961","period":"7","group":"7","electronicConfiguration":"Rn 5f14 7s2 7p1","family":"Other_Metal","symbol":"Lr","name":"Lawrencium","elementColor":[0.78,0,0.4],"discoverers":["Albert Ghiorso","Torbjorn Sikkeland","Almon Larsh","Robert M. Latimer"]},{"id":"Rf","atomicNumber":104,"mass":267,"exactMass":261.10877,"ionization":6,"nameOrigin":"Named after the scientist Ernest Rutherford","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1964","period":"7","group":"4","electronicConfiguration":"Rn 5f14 6d2 7s2","family":"Transition","symbol":"Rf","name":"Rutherfordium","elementColor":[0.8,0,0.35],"discoveryCountry":["ru","us"]},{"id":"Db","atomicNumber":105,"mass":268,"exactMass":262.11408,"nameOrigin":"Named after the science-town Dubna in Russia","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1967","period":"7","group":"5","electronicConfiguration":"Rn 5f14 6d3 7s2","family":"Transition","symbol":"Db","name":"Dubnium","elementColor":[0.82,0,0.31],"discoveryCountry":["ru","us"]},{"id":"Sg","atomicNumber":106,"mass":271,"exactMass":263.11832,"nameOrigin":"Named after the scientist G. Theodore Seaborg.","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1974","period":"7","group":"6","family":"Transition","symbol":"Sg","name":"Seaborgium","elementColor":[0.85,0,0.27],"discoveryCountry":["ru","us"],"discoverers":["Albert Ghiorso","et al."]},{"id":"Bh","atomicNumber":107,"mass":272,"exactMass":264.1246,"nameOrigin":"Named after the scientist Niels Bohr.","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1981","period":"7","group":"7","family":"Transition","symbol":"Bh","name":"Bohrium","elementColor":[0.88,0,0.22],"discoveryCountry":["ru"],"discoverers":["Peter Armbruster","Gottfried Mnzenber","et al."]},{"id":"Hs","atomicNumber":108,"mass":270,"exactMass":265.13009,"nameOrigin":"Latin \'hassia\' for the German county Hessen. In Hessen a lot elements have been discovered.","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1984","period":"7","group":"8","family":"Transition","symbol":"Hs","name":"Hassium","elementColor":[0.9,0,0.18],"discoveryCountry":["de"],"discoverers":["Peter Armbruster","Gottfried Mnzenber","et al."]},{"id":"Mt","atomicNumber":109,"mass":276,"exactMass":268.13873,"nameOrigin":"Named after the scientist Lise Meitner.","radiusVDW":2,"periodTableBlock":"d","discoveryDate":"1982","period":"7","group":"8","family":"Transition","symbol":"Mt","name":"Meitnerium","elementColor":[0.91,0,0.15],"discoveryCountry":["de"],"discoverers":["Peter Armbruster","Gottfried Mnzenber","et al."]},{"id":"Ds","atomicNumber":110,"mass":281,"exactMass":271.14606,"nameOrigin":"Named after the German city Darmstadt where many elements have been discovered.","periodTableBlock":"d","discoveryDate":"1994","period":"7","group":"8","family":"Transition","symbol":"Ds","name":"Darmstadtium","elementColor":[0.92,0,0.14],"discoveryCountry":["de"],"discoverers":["S. Hofmann","V. Ninov","F. P. Hessberger","P. Armbruster","H. Folger","G. Mnzenberg","H. J. Schtt","et al."]},{"id":"Rg","atomicNumber":111,"mass":280,"exactMass":272.15362,"nameOrigin":"Named after Wilhelm Conrad Rntgen.","periodTableBlock":"d","discoveryDate":"1994","period":"7","group":"1","family":"Transition","symbol":"Rg","name":"Roentgenium","elementColor":[0.93,0,0.13],"discoveryCountry":["de"],"discoverers":["S. Hofmann","V. Ninov","F. P. Hessberger","P. Armbruster","H. Folger","G. Mnzenberg","et al."]},{"id":"Cn","atomicNumber":112,"mass":285,"exactMass":285.17411,"nameOrigin":"Historically known as eka-mercury. Ununbium is a temporary IUPAC systematic element name.","periodTableBlock":"d","discoveryDate":"1996","period":"7","family":"Transition","symbol":"Cn","name":"Copernicium","elementColor":[0.94,0,0.12],"discoveryCountry":["de"],"discoverers":["First","created","at","the","Gesellschaft","fr","Schwerionenforschung"]},{"id":"Uut","atomicNumber":113,"mass":284,"exactMass":284.17808,"nameOrigin":"Historically known as eka-thallium. Ununtrium is a temporary IUPAC systematic element name.","periodTableBlock":"p","discoveryDate":"2003","period":"7","family":"Other_Metal","symbol":"Uut","name":"Ununtrium","elementColor":[0.95,0,0.11],"discoveryCountry":["ru","us"],"discoverers":["Russian scientists at Dubna (JINR)","American scientists at the Lawrence Livermore National Laboratory."]},{"id":"Uuq","atomicNumber":114,"mass":289,"exactMass":289.18728,"nameOrigin":"Historically known as eka-lead. Ununquadium is a temporary IUPAC systematic element name.","periodTableBlock":"p","discoveryDate":"1998","period":"7","family":"Other_Metal","symbol":"Uuq","name":"Ununquadium","elementColor":[0.96,0,0.1],"discoveryCountry":["ru","us"],"discoverers":["Joint","Institute","for","Nuclear","Research"]},{"id":"Uup","atomicNumber":115,"mass":288,"exactMass":288.19249,"nameOrigin":"Historically known as eka-bismuth. Ununpentium is a temporary IUPAC systematic element name.","periodTableBlock":"p","discoveryDate":"2004","period":"7","family":"Other_Metal","symbol":"Uup","name":"Ununpentium","elementColor":[0.97,0,0.09],"discoveryCountry":["ru","us"],"discoverers":["Russian scientists at Dubna (JINR)","American scientists at the Lawrence Livermore National Laboratory."]},{"id":"Uuh","atomicNumber":116,"mass":293,"exactMass":292.19979,"nameOrigin":"Historically known as eka-polonium. Ununhexium is a temporary IUPAC systematic element name.","periodTableBlock":"p","discoveryDate":"2000","period":"7","family":"Other_Metal","symbol":"Uuh","name":"Ununhexium","elementColor":[0.98,0,0.08],"discoveryCountry":["ru"],"discoverers":["Joint","Institute","for","Nuclear","Research"]},{"id":"Uus","atomicNumber":117,"nameOrigin":"Temporary symbol and name. Can also be referred to as eka-astatine.","periodTableBlock":"p","discoveryDate":"0","period":"7","family":"Halogen","symbol":"Uus","name":"Ununseptium","elementColor":[0.99,0,0.07]},{"id":"Uuo","atomicNumber":118,"mass":294,"nameOrigin":"Historically known as eka-radon, eka-emanation before 1960. Ununoctium is a temporary IUPAC systematic element name.","periodTableBlock":"p","discoveryDate":"2002","period":"7","family":"Noblegas","symbol":"Uuo","name":"Ununoctium","elementColor":[1,0,0.06],"discoveryCountry":["ru","us"],"discoverers":["Russian scientists at Dubna (JINR)","American scientists at the Lawrence Livermore National Laboratory."]}]}'),Lf=fe.vtkErrorMacro,Ff=fe.vtkDebugMacro,jf={};function Vf(e,t){var n=[],r=[],o=[],i=[];function a(e,a,s){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.bondRadius;r.push(s),r.push(c),o.push(a[0]),o.push(a[1]),o.push(a[2]),n.push(e[0]),n.push(e[1]),n.push(e[2]);for(var l=0;l<u.length;++l)i.push(255*u[l])}t.classHierarchy.push("vtkMoleculeToRepresentation"),e.requestData=function(s,u){var c=s[0];if(!c)return Lf("Invalid or missing input"),1;var l=Vc.newInstance(),f=Vc.newInstance(),d=0,p=0,h=null,m=null,g=null,v=null;n.length=0,r.length=0,o.length=0,i.length=0,c.getAtoms()&&(void 0!==c.getAtoms().coords&&void 0!==c.getAtoms().coords["3d"]&&(d=(h=c.getAtoms().coords["3d"]).length/3),void 0!==c.getAtoms().elements&&void 0!==c.getAtoms().elements.number&&(m=c.getAtoms().elements.number)),c.getBonds()&&(void 0!==c.getBonds().connections&&void 0!==c.getBonds().connections.index&&(p=(g=c.getBonds().connections.index).length/2),void 0!==c.getBonds().order&&(v=c.getBonds().order));var y=[],b=[],w=[],x=[],C=[],S=[];Ff("Checking for bonds with tolerance ",t.tolerance);for(var A=0,_=0;_<d;_++)m&&(x.push(jf[m[_]][t.radiusType]),C.push(jf[m[_]].radiusCovalent),S.push(jf[m[_]].elementColor[0]),S.push(jf[m[_]].elementColor[1]),S.push(jf[m[_]].elementColor[2])),-1===t.hideElements.indexOf(jf[m[_]].id)&&(A=3*_,y.push(h[A]),y.push(h[A+1]),y.push(h[A+2]),x.length>0&&b.push(x[_]*t.atomicRadiusScaleFactor),S.length>0&&(A=3*_,w.push(255*S[A]),w.push(255*S[A+1]),w.push(255*S[A+2])));if(!g){g=[],v=[];for(var P=0;P<d;P++)for(var O=P+1;O<d;O++){var E=C[P]+C[O]+t.tolerance,T=3*O,D=3*P,I=[h[T],h[T+1],h[T+2]];if(I[0]-=h[D],I[1]-=h[D+1],I[2]-=h[D+2],!(Math.abs(I[0])>E||Math.abs(I[1])>E||Math.abs(I[2])>E)){var k=E*E,M=I[0]*I[0]+I[1]*I[1]+I[2]*I[2];M<k&&M>.1&&(g.push(P),g.push(O),v.push(1))}}p=g.length/2}for(var N=0;N<p;N++){var R=g[2*N],B=g[2*N+1];if(-1===t.hideElements.indexOf(jf[m[R]].id)&&-1===t.hideElements.indexOf(jf[m[B]].id)){var L=3*B,F=3*R,j=[h[L],h[L+1],h[L+2]];j[0]-=h[F],j[1]-=h[F+1],j[2]-=h[F+2];var V=j[0]*j[0]+j[1]*j[1]+j[2]*j[2],U=(2+t.deltaBondFactor)*t.bondRadius,z=Math.min(x[R]*t.atomicRadiusScaleFactor,x[B]*t.atomicRadiusScaleFactor),G=(v[N]-1)*U+2*t.bondRadius;G>2*z*.6&&(t.bondRadius*=2*z*.6/G,U=(2+t.deltaBondFactor)*t.bondRadius);for(var W=v[N]%2,H=W;H<v[N]+W;H++){for(var q=(2*Math.floor(H/2)+1-W)*U/2,K=[j[0]/Math.sqrt(V),j[1]/Math.sqrt(V),j[2]/Math.sqrt(V)],X=[0,0,0],Y=0;Y<3;Y++)if(!(Math.abs(K[Y])<1e-6)){X[Y]=-(K[(Y+2)%3]*K[(Y+2)%3]+K[(Y+1)%3]*K[(Y+1)%3])/K[Y],X[(Y+1)%3]=K[(Y+1)%3],X[(Y+2)%3]=K[(Y+2)%3],nt(X);break}q*=Math.pow(-1,H%2);var Z=void 0;if(m&&m[R]!==m[B]&&S.length>0){var J=Math.sqrt(V)/2;a(Z=[h[L]-J*K[0]/2+q*X[0],h[L+1]-J*K[1]/2+q*X[1],h[L+2]-J*K[2]/2+q*X[2]],K,J,S.slice(L,L+3)),a(Z=[h[F]+J*K[0]/2+q*X[0],h[F+1]+J*K[1]/2+q*X[1],h[F+2]+J*K[2]/2+q*X[2]],K,J,S.slice(F,F+3))}else{var $=Math.sqrt(V);Z=[h[L]-j[0]/2+q*X[0],h[L+1]-j[1]/2+q*X[1],h[L+2]-j[2]/2+q*X[2]],S.length>0?a(Z,K,$,S.slice(F,F+3)):a(Z,K,$)}}}}if(l.getPoints().setData(y,3),x){var Q=Fn.newInstance({numberOfComponents:1,values:b,name:e.getSphereScaleArrayName()});l.getPointData().addArray(Q)}if(S.length>0){var ee=Fn.newInstance({numberOfComponents:3,values:Uint8Array.from(w),name:"colors"});l.getPointData().setScalars(ee)}f.getPoints().setData(n,3);var te=Fn.newInstance({numberOfComponents:2,values:r,name:"stickScales"});f.getPointData().addArray(te);var ne=Fn.newInstance({numberOfComponents:3,values:o,name:"orientation"});if(f.getPointData().addArray(ne),S.length>0){var re=Fn.newInstance({numberOfComponents:3,values:Uint8Array.from(i),name:"colors"});f.getPointData().setScalars(re)}return u[0]=l,u[1]=f,1}}Bf.H.forEach((function(e){jf[e.atomicNumber]=e}));var Uf={sphereScaleArrayName:"radius",tolerance:.45,atomicRadiusScaleFactor:.3,bondRadius:.075,deltaBondFactor:.6,radiusType:"radiusVDW",hideElements:""};function zf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Uf,n),fe.obj(e,t),fe.setGet(e,t,["atomicRadiusScaleFactor","bondRadius","deltaBondFactor","hideElements","radiusType","sphereScaleArrayName","tolerance"]),fe.algo(e,t,1,2),Vf(e,t)}var Gf={newInstance:fe.newInstance(zf,"vtkMoleculeToRepresentation"),extend:zf},Wf=fe.vtkErrorMacro,Hf=[0,2,4,1,2,4,0,3,4,1,3,4,0,2,5,1,2,5,0,3,5,1,3,5],qf=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7];function Kf(e,t){t.classHierarchy.push("vtkOutlineFilter"),e.requestData=function(e,t){var n=e[0];if(n){var r=n.getBounds(),o=Vc.newInstance();o.getPoints().setData(Float32Array.from(Hf.map((function(e){return r[e]}))),3),o.getLines().setData(Uint16Array.from(qf)),t[0]=o}else Wf("Invalid or missing input")}}var Xf={};function Yf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Xf,n),fe.obj(e,t),fe.algo(e,t,1,1),Kf(e,t)}var Zf={newInstance:fe.newInstance(Yf,"vtkOutlineFilter"),extend:Yf,BOUNDS_MAP:Hf,LINE_ARRAY:qf},Jf=n(9467),$f=n.n(Jf);function Qf(e,t){t.classHierarchy.push("vtkPriorityQueue"),e.push=function(e,n){var r=t.elements.findIndex((function(t){return t.priority>e}));t.elements.splice(r,0,{priority:e,element:n})},e.pop=function(){return t.elements.length>0?t.elements.shift().element:null},e.deleteById=function(e){t.elements=t.elements.filter((function(t){return t.element.id!==e}))},e.length=function(){return t.elements.length}}var ed={elements:[]};function td(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ed,n),fe.obj(e,t),Qf(e,t)}var nd={newInstance:fe.newInstance(td,"vtkPriorityQueue"),extend:td},rd=1e-6;function od(e,t){function n(e){var n=[0,0,0],r=[0,0,0],o=[0,0,0],i=[0,0,0];Ke(e.point,e.previous.point,n),Ke(e.next.point,e.point,r),Ke(e.previous.point,e.next.point,o),et(n,r,i);var a=$e(i,t.normal);if(a<=0)return-1;var s=tt(n)+tt(r)+tt(o);return s*s/a}function r(e){if(t.pointCount<=3)return!0;var n=e.previous,r=e.next,o=[0,0,0];Ke(r.point,n.point,o);var i=[0,0,0];if(et(o,t.normal,i),nt(i),0===tt(i))return!1;for(var a=dr.evaluate(i,n.point,r.next.point),s=a>rd?1:a<-1e-6?-1:0,u=s<0?1:0,c=r.next.next;c.id!==n.id;c=c.next){var l=c.previous,f=(a=dr.evaluate(i,n.point,c.point))>rd?1:a<-1e-6?-1:0;if(f!==s){if(u||(u=f<=0?1:0),Uu.intersection(n.point,r.point,c.point,l.point,[0],[0])===Du.YES_INTERSECTION)return!1;s=f}}return 1===u}function o(e,r){t.pointCount-=1;var o=e.previous,i=e.next;t.tris=t.tris.concat(e.point),t.tris=t.tris.concat(i.point),t.tris=t.tris.concat(o.point),o.next=i,i.previous=o,r.deleteById(o.id),r.deleteById(i.id);var a=n(o);a>0&&r.push(a,o);var s=n(i);s>0&&r.push(s,i),e.id===t.firstPoint.id&&(t.firstPoint=i)}t.classHierarchy.push("vtkPolygon"),e.triangulate=function(){return t.firstPoint?function(){!function(){var e=[0,0,0],n=[0,0,0];t.normal=[0,0,0];for(var r=y(t.firstPoint.point),o=t.firstPoint,i=0;i<t.pointCount;i++){Ke(o.point,r,e),Ke(o.next.point,r,n);var a=[0,0,0];et(e,n,a),qe(t.normal,a,t.normal),o=o.next}nt(t.normal)}();for(var e=nd.newInstance(),i=t.firstPoint,a=0;a<t.pointCount;a++){var s=n(i);s>0&&e.push(s,i),i=i.next}for(;t.pointCount>2&&e.length()>0;)if(t.pointCount===e.length())o(e.pop(),e);else{var u=e.pop();r(u)&&o(u,e)}return t.pointCount<=2}():null},e.setPoints=function(e){t.pointCount=e.length,t.firstPoint={id:0,point:e[0],next:null,previous:null};for(var n=t.firstPoint,r=1;r<t.pointCount;r++)n.next={id:r,point:e[r],next:null,previous:n},n=n.next;t.firstPoint.previous=n,n.next=t.firstPoint},e.getPointArray=function(){return t.tris}}var id={firstPoint:null,pointCount:0,tris:[]};function ad(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,id,n),fe.obj(e,t),od(e,t)}var sd={newInstance:fe.newInstance(ad,"vtkPolygon"),extend:ad},ud=n(477),cd=n.n(ud);function ld(){return cd()('/*! For license information please see PaintFilter.worker.worker.js.LICENSE.txt */\n!function(){"use strict";var t={666:function(t,n,e){var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function t(n,e,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var i=Object.getPrototypeOf(n);return null===i?void 0:t(i,e,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=e(197),l="main",c=function t(n,e){s(this,t),this.payload=n,this.transferable=e};t.exports=function(t){var n,e,p,h=(p=t,(e=l)in(n={})?Object.defineProperty(n,e,{value:p,enumerable:!0,configurable:!0,writable:!0}):n.main=p,n),y=self.postMessage.bind(self),d=new(function(t){function n(){return s(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),r(n,[{key:"emit",value:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return y({eventName:t,args:e}),this}},{key:"emitLocally",value:function(t){for(var e,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(e=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this)).call.apply(e,[this,t].concat(i))}},{key:"operation",value:function(t,n){return h[t]=n,this}}]),n}(f)),m=function(t,n,e){var r,o=function(n){n&&n instanceof c?b(t,1,n.payload,n.transferable):b(t,1,n)},a=function(n){b(t,0,{message:n.message,stack:n.stack})};try{var s=v(t,n,e);"object"===(void 0===(r=s)?"undefined":i(r))&&"function"==typeof r.then&&"function"==typeof r.catch?s.then(o).catch(a):o(s)}catch(t){a(t)}},v=function(t,n,e){var r=h[e||l];if(!r)throw new Error("Not found handler for this request");return r(n,M.bind(null,t))},b=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];y([0,t,n,e],r)},M=function(t,n,e){if(!n)throw new Error("eventName is required");if("string"!=typeof n)throw new Error("eventName should be string");y([1,t,n,e])};return self.addEventListener("message",(function(t){var n=t.data;Array.isArray(n)?m.apply(void 0,a(n)):n&&n.eventName&&d.emitLocally.apply(d,[n.eventName].concat(a(n.args)))})),d},t.exports.TransferableResponse=c},197:function(t){var n=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),e=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(t,[{key:"emit",value:function(t){if(!this.__listeners[t])return this;for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var s,u=this.__listeners[t][Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var f=s.value;f.apply(void 0,e)}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(t,n){var e=this;return this.on(t,(function r(){e.off(t,r),n.apply(void 0,arguments)}))}},{key:"on",value:function(t,n){return this.__listeners[t]||(this.__listeners[t]=[]),this.__listeners[t].push(n),this}},{key:"off",value:function(t,n){return this.__listeners[t]=n?this.__listeners[t].filter((function(t){return t!==n})):[],this}}]),t}();t.exports=e}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){var t,n=e(666),r=e.n(n),o=-1,i="undefined"!=typeof Float32Array?Float32Array:Array;function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function s(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function u(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)}),t=new i(3),i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0);const f={buffer:null,dimensions:[0,0,0],prevPoint:null,slicingMode:null};function l({center:t,scale3:n}){const e=[...n],r=t.map((t=>Math.round(t)));let i=-1;null!=f.slicingMode&&f.slicingMode!==o&&(i=f.slicingMode%3);const a=f.dimensions[0],s=f.dimensions[0]*f.dimensions[1];let[u,l,c]=r,[p,h,y]=r;2!==i&&(c=Math.round(Math.max(r[2]-e[2],0)),y=Math.round(Math.min(r[2]+e[2],f.dimensions[2]-1)));for(let t=c;t<=y;t++){let n=0;2!==i&&(n=(r[2]-t)/e[2]);const o=n*n;if(o<=1){const n=e[1]*Math.sqrt(1-o);1!==i&&(l=Math.round(Math.max(r[1]-n,0)),h=Math.round(Math.min(r[1]+n,f.dimensions[1]-1)));for(let n=l;n<=h;n++){let l=0;1!==i&&(l=(r[1]-n)/e[1]);const c=l*l;if(c+o<=1){if(0!==i){const t=e[0]*Math.sqrt(1-c-o);u=Math.round(Math.max(r[0]-t,0)),p=Math.round(Math.min(r[0]+t,f.dimensions[0]-1))}if(u<=p){const e=n*a+t*s;f.buffer.fill(1,e+u,e+p+1)}}}}}}r()().operation("start",(({bufferType:t,dimensions:n,slicingMode:e})=>{if(!f.buffer){const r=n[0]*n[1]*n[2];f.buffer=new self[t](r),f.dimensions=n,f.prevPoint=null,f.slicingMode=e}})).operation("paint",(function({point:t,radius:n}){f.prevPoint||(f.prevPoint=t);const e=[t[0]-f.prevPoint[0],t[1]-f.prevPoint[1],t[2]-f.prevPoint[2]],r=[1,1,1];for(let t=0;t<3;t++)e[t]<0&&(e[t]=-e[t],r[t]=-1);const o=Math.max(...e),i=[o,o,o],a=[...f.prevPoint];for(let t=0;t<=o;t++){l({center:a,scale3:n});for(let t=0;t<3;t++)i[t]-=e[t],i[t]<=0&&(i[t]+=o,a[t]+=r[t])}f.prevPoint=t})).operation("paintRectangle",(function({point1:t,point2:n}){const[e,r,o]=t,[i,a,s]=n,u=Math.max(Math.min(e,i),0),l=Math.min(Math.max(e,i),f.dimensions[0]-1);if(u<=l){const t=Math.max(Math.min(r,a),0),n=Math.min(Math.max(r,a),f.dimensions[1]-1),e=Math.max(Math.min(o,s),0),i=Math.min(Math.max(o,s),f.dimensions[2]-1),c=f.dimensions[0],p=f.dimensions[0]*f.dimensions[1];for(let r=e;r<=i;r++)for(let e=t;e<=n;e++){const t=e*c+r*p;f.buffer.fill(1,t+u,t+l+1)}}})).operation("paintEllipse",l).operation("paintTriangles",(function({triangleList:t}){const n=Math.floor(t.length/9);for(let e=0;e<n;e++){const n=t.subarray(9*e+0,9*e+3),r=t.subarray(9*e+3,9*e+6),o=t.subarray(9*e+6,9*e+9),i=[0,0,0],l=[0,0,0];a(i,r,n),a(l,o,n);const c=[0,0,0],p=2*Math.max(Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2]));s(c,i,1/p);const h=[0,0,0],y=2*Math.max(Math.abs(l[0]),Math.abs(l[1]),Math.abs(l[2]));s(h,l,1/y);const d=f.dimensions[0],m=f.dimensions[0]*f.dimensions[1];for(let t=0;t<=p+1;t++){const e=y-t*(y/p);for(let r=0;r<=e+1;r++){const e=[...n];u(e,e,c,t),u(e,e,h,r),e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e[2]=Math.round(e[2]),e[0]>=0&&e[0]<f.dimensions[0]&&e[1]>=0&&e[1]<f.dimensions[1]&&e[2]>=0&&e[2]<f.dimensions[2]&&(f.buffer[e[0]+d*e[1]+m*e[2]]=1)}}}})).operation("end",(()=>{const t=new(r().TransferableResponse)(f.buffer.buffer,[f.buffer.buffer]);return f.buffer=null,t}))}()}();\n',"Worker",void 0,void 0)}var fd=fe.vtkErrorMacro;function dd(e,t){t.classHierarchy.push("vtkPaintFilter");var n=null,r=null,o={};function i(){o.index=-1,o.snapshots=[],o.labels=[]}function a(e,t){var n=o.index+1,r=o.snapshots.length-o.index;o.snapshots.splice(n,r),o.labels.splice(n,r),o.snapshots.push(e),o.labels.push(t),o.index++}e.startStroke=function(){t.labelMap&&(r||(n=new ld,r=new($f())(n)),r.exec("start",{bufferType:"Uint8Array",dimensions:t.labelMap.getDimensions(),slicingMode:t.slicingMode}))},e.endStroke=function(){var t;return r&&(t=r.exec("end")).then((function(t){e.applyBinaryMask(t),n.terminate(),n=null,r=null})),t},e.applyBinaryMask=function(n){for(var r=t.labelMap.getPointData().getScalars(),o=r.getData(),i=new Uint8Array(n),s=0,u=0;u<i.length;u++)s+=i[u];var c=new Array(s),l=t.label,f=0;if(t.voxelFunc){for(var d=t.backgroundImage.getPointData().getScalars(),p=0;p<i.length;p++)if(i[p]){var h=d.getTuple(p);t.voxelFunc(h,p,l)&&(c[f++]=[p,o[p]],o[p]=l)}}else for(var m=0;m<i.length;m++)i[m]&&o[m]!==l&&(c[f++]=[m,o[m]],o[m]=l);a(c,l),r.setData(o),r.modified(),t.labelMap.modified(),e.modified()},e.addPoint=function(e){if(r){var n=[0,0,0];ii(n,[e[0],e[1],e[2]],t.maskWorldToIndex),n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]);var o=t.labelMap.getSpacing().map((function(e){return t.radius/e}));r.exec("paint",{point:n,radius:o})}},e.paintRectangle=function(e,n){if(r){var o=[0,0,0],i=[0,0,0];ii(o,e,t.maskWorldToIndex),ii(i,n,t.maskWorldToIndex),o[0]=Math.round(o[0]),o[1]=Math.round(o[1]),o[2]=Math.round(o[2]),i[0]=Math.round(i[0]),i[1]=Math.round(i[1]),i[2]=Math.round(i[2]),r.exec("paintRectangle",{point1:o,point2:i})}},e.paintEllipse=function(e,n){if(r){var o=[0,0,0],i=[0,0,0],a=[0,0,0];ii(o,e,t.maskWorldToIndex),ii(i,i,t.maskWorldToIndex),ii(a,n,t.maskWorldToIndex),Lo(a,a,i),a=a.map((function(e){return 0===e?.25:Math.abs(e)})),r.exec("paintEllipse",{center:o,scale3:a})}},e.canUndo=function(){return o.index>-1},e.paintPolygon=function(e){if(r&&e.length>0){for(var n=sd.newInstance(),o=[],i=0;i<e.length/3;i++)o.push([e[3*i+0],e[3*i+1],e[3*i+2]]);n.setPoints(o),n.triangulate()||console.log("triangulation failed!");for(var a=n.getPointArray(),s=new Float32Array(a.length),u=Math.floor(s.length/3),c=0;c<u;c++){var l=a.slice(3*c,3*c+3);ii(s.subarray(3*c,3*c+3),l,t.maskWorldToIndex)}r.exec("paintTriangles",{triangleList:s})}},e.applyLabelMap=function(n){for(var r=t.labelMap.getPointData().getScalars().getData(),o=n.getPointData().getScalars().getData(),i=[],s=0;s<o.length;++s)r[s]!==o[s]&&i.push([s,r[s]]);a(i,t.label),t.labelMap=n,e.modified()},e.undo=function(){if(o.index>-1){for(var n=t.labelMap.getPointData().getScalars(),r=n.getData(),i=o.snapshots[o.index],a=0;a<i.length&&i[a];a++){var s=g(i[a],2),u=s[0],c=s[1];r[u]=c}o.index--,n.setData(r),n.modified(),t.labelMap.modified(),e.modified()}},e.canRedo=function(){return o.index<o.labels.length-1},e.redo=function(){if(o.index<o.labels.length-1){for(var n=t.labelMap.getPointData().getScalars(),r=n.getData(),i=o.labels[o.index+1],a=o.snapshots[o.index+1],s=0;s<a.length&&a[s];s++)r[g(a[s],1)[0]]=i;o.index++,n.setData(r),n.modified(),t.labelMap.modified(),e.modified()}};var s=e.setLabelMap;e.setLabelMap=function(e){return!!s(e)&&(t.maskWorldToIndex=t.labelMap.getWorldToIndex(),i(),!0)},e.requestData=function(n,r){if(t.backgroundImage)if(t.backgroundImage.getPointData().getScalars()){if(!t.labelMap){var o=es.newInstance(t.backgroundImage.get("spacing","origin","direction"));o.setDimensions(t.backgroundImage.getDimensions()),o.computeTransforms();var i=new Uint8Array(t.backgroundImage.getNumberOfPoints()),a=Fn.newInstance({numberOfComponents:1,values:i});o.getPointData().setScalars(a),e.setLabelMap(o)}t.maskWorldToIndex||(t.maskWorldToIndex=t.labelMap.getWorldToIndex()),t.labelMap.getPointData().getScalars()?(t.labelMap.modified(),r[0]=t.labelMap):fd("Mask image has no scalars")}else fd("Background image has no scalars");else fd("No background image")},i()}var pd={backgroundImage:null,labelMap:null,maskWorldToIndex:null,voxelFunc:null,radius:1,label:0,slicingMode:null};function hd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pd,n),fe.obj(e,t),fe.algo(e,t,0,1),fe.setGet(e,t,["backgroundImage","labelMap","maskWorldToIndex","voxelFunc","label","radius","slicingMode"]),dd(e,t)}var md={newInstance:fe.newInstance(hd,"vtkPaintFilter"),extend:hd},gd=fe.vtkErrorMacro;function vd(e,t){t.classHierarchy.push("vtkScalarToRGBA"),e.requestData=function(e,n){var r=e[0];if(r){var o=r.getPointData().getScalars();if(o)if(t.lookupTable)if(t.piecewiseFunction){for(var i=[0,0,0,0],a=o.getData(),s=new Uint8Array(4*a.length),u=0,c=0;c<a.length;c++){var l=a[c];t.lookupTable.getColor(l,i),i[3]=t.piecewiseFunction.getValue(l),s[u++]=255*i[0],s[u++]=255*i[1],s[u++]=255*i[2],s[u++]=255*i[3]}var f=Fn.newInstance({name:"rgba",numberOfComponents:4,values:s}),d=r.get("extent","spacing","origin","direction"),p=es.newInstance(d);p.getPointData().setScalars(f),n[0]=p}else gd("No piecewiseFunction available");else gd("No lookupTable available");else gd("No scalars from input")}else gd("Invalid or missing input")}}var yd={};function bd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yd,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["lookupTable","piecewiseFunction"]),vd(e,t)}var wd={newInstance:fe.newInstance(bd,"vtkScalarToRGBA"),extend:bd},xd=0,Cd=1,Sd=2,Ad=3,_d=0,Pd=1,Od=2,Ed=3,Td=fe.vtkDebugMacro,Dd=fe.vtkErrorMacro,Id=fe.vtkWarningMacro;function kd(e,t){function n(e,n){var r=e;return t.sidesShareVertices?r+=t.numberOfSides*n:r+=2*t.numberOfSides*n,t.capping&&(r+=2*t.numberOfSides),r}function r(e,t,n){for(var r=t[n],o=e.slice(3*r,3*(r+1)),i=n+1;i<t.length;){var a=t[i];if(o!==e.slice(3*a,3*(a+1)))return i-1;++i}return t.length}function o(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[0,0,1],a=t,s=a[0],u=0;u<a.length;u+=s+1)if(1===(s=a[u]))n.setTuple(a[u+1],i);else if(s>1){var c=0,l=[0,0,0],f=[0,0,0],d=a.slice(u+1,u+1+s);if((c=r(e,d,0))!==s)!function(){var t=d[c],a=e.slice(3*t,3*(t+1)),u=d[c+1],p=e.slice(3*u,3*(u+1));if(nt(l=p.map((function(e,t){return e-a[t]}))),o)i=o;else{for(;++c<s;)if((c=r(e,d,c))!==s){t=d[c],a=e.slice(3*t,3*(t+1)),u=d[c+1],p=e.slice(3*u,3*(u+1));for(var h=0;h<3;++h)f[h]=p[h]-a[h];nt(f);var m=[0,0,0];if(et(l,f,m),tt(m)>.001){i=m,l=f;break}}if(c>=s)for(var g=0;g<3;++g)if(0!==l[g]){i[(g+2)%3]=0,i[(g+1)%3]=1,i[g]=-l[(g+1)%3]/l[g];break}}nt(i);for(var v=0;++c<s&&(c=r(e,d,c))!==s;){t=d[c],a=e.slice(3*t,3*(t+1)),u=d[c+1],p=e.slice(3*u,3*(u+1));for(var y=0;y<3;++y)f[y]=p[y]-a[y];nt(f);var b=[0,0,0];if(et(l,i,b),0!==nt(b)){var w=[0,0,0];if(et(f,l,w),0!==nt(w)){var x=$e(w,i),C=1-x*x;C=C>0?Math.sqrt(C):0;for(var S=[0,0,0],A=0;A<3;++A)S[A]=f[A]+l[A];nt(S),et(S,w,b),et(l,w,S),$e(i,S)*$e(b,S)<0&&(C*=-1);for(var _=v;_<c;++_)n.setTuple(d[_],i);v=c,l=f,i=x*w+C*b}}}for(var P=v;P<s;++P)n.setTuple(d[P],i)}();else for(var p=0;p<s;++p)n.setTuple(d[p],i)}return 1}function i(e,n,r,o,i,a,s,u,c,l,f,d,p,h){for(var m=[0,0,0],g=[0,0,0],v=[0,0,0],y=[0,0,0],b=[0,0,0],w=[0,0,0],x=[0,0,0],C=[0,0,0],S=[0,0,0],A=[0,0,0],_=[0,0,0],P=1,O=e,E=0;E<n;++E){if(0===E){b=o.slice(3*r[0],3*(r[0]+1)),w=o.slice(3*r[1],3*(r[1]+1));for(var T=0;T<3;++T)m[T]=w[T]-b[T],g[T]=m[T],v[T]=-g[T];nt(v)}else if(E===n-1){for(var D=0;D<3;++D)g[D]=m[D],b[D]=w[D],y[D]=m[D];nt(y)}else{for(var I=0;I<3;++I)b[I]=w[I];w=o.slice(3*r[E+1],3*(r[E+1]+1));for(var k=0;k<3;++k)g[k]=m[k],m[k]=w[k]-b[k]}if(0===nt(m))return Id("Coincident points!"),0;for(var M=0;M<3;++M)x[M]=(g[M]+m[M])/2;if(C=p.slice(3*r[E],3*(r[E]+1)),0===nt(x)&&(et(g,C,x),0===nt(x)&&Td("Using alternate bevel vector")),et(x,C,S),0===nt(S)){var N="Bad normal: s = ";return N+="".concat(x[0],",  ").concat(x[1],", ").concat(x[2]),N+=" n = ".concat(C[0],",  ").concat(C[1],", ").concat(C[2]),Id(N),0}if(et(S,x,A),nt(A),c&&t.varyRadius===Cd)P=1+(t.radiusFactor-1)*(c.getComponent(r[E],0)-l[0])/(l[1]-l[0]);else if(f&&t.varyRadius===Sd)(P=Math.sqrt(d/tt(f.getTuple(r[E]))))>t.radiusFactor&&(P=t.radiusFactor);else if(c&&t.varyRadius===Ad&&(P=c.getComponent(r[E],0))<0)return Id("Scalar value less than zero, skipping line"),0;if(t.sidesShareVertices)for(var R=0;R<t.numberOfSides;++R){for(var B=0;B<3;++B)_[B]=S[B]*Math.cos(R*h)+A[B]*Math.sin(R*h),x[B]=b[B]+t.radius*P*_[B],i[3*O+B]=x[B],u[3*O+B]=_[B];s.passData(a,r[E],O),O++}else for(var L=[0,0,0],F=[0,0,0],j=0;j<t.numberOfSides;++j){for(var V=0;V<3;++V)_[V]=S[V]*Math.cos(j*h)+A[V]*Math.sin(j*h),L[V]=S[V]*Math.cos((j-.5)*h)+A[V]*Math.sin((j-.5)*h),F[V]=S[V]*Math.cos((j+.5)*h)+A[V]*Math.sin((j+.5)*h),x[V]=b[V]+t.radius*P*_[V],i[3*O+V]=x[V],u[3*O+V]=L[V],i[3*(O+1)+V]=x[V],u[3*(O+1)+V]=F[V];s.passData(a,r[E],O+1),O+=2}}if(t.capping){var U=t.numberOfSides,z=1;t.sidesShareVertices||(U=2*t.numberOfSides,z=2);for(var G=0;G<U;G+=z){x=i.slice(3*(e+G),3*(e+G+1));for(var W=0;W<3;++W)i[3*O+W]=x[W],u[3*O+W]=v[W];s.passData(a,r[0],O),O++}var H=e+(n-1)*t.numberOfSides;t.sidesShareVertices||(H=e+2*(n-1)*t.numberOfSides);for(var q=0;q<U;q+=z){x=i.slice(3*(H+q),3*(H+q+1));for(var K=0;K<3;++K)i[3*O+K]=x[K],u[3*O+K]=y[K];s.passData(a,r[n-1],O),O++}}return 1}function a(e,n,r,o,i,a,s){for(var u=0,c=0,l=0,f=o,d=0,p=s.getData(),h=0;d<p.length&&h!==o;)d+=p[d]+1,h++;if(t.sidesShareVertices)for(var m=e;m<t.numberOfSides+e;m+=t.onRatio){u=m%t.numberOfSides,c=(m+1)%t.numberOfSides,p[d++]=2*n;for(var g=0;g<n;++g)l=g*t.numberOfSides,p[d++]=e+c+l,p[d++]=e+u+l;a.passData(i,r,f++)}else for(var v=e;v<t.numberOfSides+e;v+=t.onRatio){u=v%t.numberOfSides*2+1,c=(v+1)%t.numberOfSides*2,p[d]=2*n,d++;for(var y=0;y<n;++y)l=2*y*t.numberOfSides,p[d++]=e+c+l,p[d++]=e+u+l;a.passData(i,r,f++)}if(t.capping){var b=e+n*t.numberOfSides,w=0;t.sidesShareVertices||(b=e+2*n*t.numberOfSides),p[d++]=t.numberOfSides,p[d++]=b,p[d++]=b+1;var x=0;for(u=t.numberOfSides-1,c=2,x=0;x<t.numberOfSides-2;++x)x%2?(w=b+c,p[d++]=w,c++):(w=b+u,p[d++]=w,u--);for(a.passData(i,r,f++),b+=t.numberOfSides,p[d++]=t.numberOfSides,p[d++]=b,p[d++]=b+t.numberOfSides-1,u=t.numberOfSides-2,c=1,x=0;x<t.numberOfSides-2;++x)x%2?(w=b+u,p[d++]=w,u--):(w=b+c,p[d++]=w,c++);a.passData(i,r,f++)}return f}function s(e,n,r,o,i,a){var s=t.numberOfSides;t.sidesShareVertices||(s=2*t.numberOfSides);var u=0,c=0,l=i.getData();if(t.generateTCoords===Ed){c=l[r[0]];for(var f=0;f<n;++f){u=(l[r[f]]-c)/t.textureLength;for(var d=0;d<s;++d){var p=d/(s-1),h=2*(e+f*s+d);a[h]=u,a[h+1]=p}}}else if(t.generateTCoords===Od)for(var m=0,g=o.slice(3*r[0],3*(r[0]+1)),v=0;v<n;++v){var y=o.slice(3*r[v],3*(r[v]+1));u=(m+=Math.sqrt(st(y,g)))/t.textureLength;for(var b=0;b<s;++b){var w=b/(s-1),x=2*(e+v*s+b);a[x]=u,a[x+1]=w}for(var C=0;C<3;++C)g[C]=y[C]}else if(t.generateTCoords===Pd){for(var S=0,A=0,_=o.slice(3*r[0],3*(r[0]+1)),P=0;P<n;++P){var O=o.slice(3*r[P],3*(r[P]+1));A+=Math.sqrt(st(O,_));for(var E=0;E<3;++E)_[E]=O[E]}_=o.slice(3*r[0],3*(r[0]+1));for(var T=0;T<n;++T){var D=o.slice(3*r[T],3*(r[T]+1));u=(S+=Math.sqrt(st(D,_)))/A;for(var I=0;I<s;++I){var k=I/(s-1),M=2*(e+T*s+I);a[M]=u,a[M+1]=k}for(var N=0;N<3;++N)_[N]=D[N]}}if(t.capping){for(var R=e+n*s,B=0;B<t.numberOfSides;++B){var L=2*(R+B);a[L]=0,a[L+1]=0}for(var F=0;F<t.numberOfSides;++F){var j=2*(R+t.numberOfSides+F);a[j]=0,a[j+1]=0}}}t.classHierarchy.push("vtkTubeFilter"),e.requestData=function(r,u){var c=Vc.newInstance();u[0]=c;var l=r[0];if(l){var f=l.getPoints();if(f){var d=f.getNumberOfPoints();if(!(d<1)){var p=l.getLines();if(p&&!(p.getNumberOfCells()<1)){for(var h=0,m=0,g=p.getData(),v=g[0],y=t.sidesShareVertices?1:2,b=0;b<g.length;b+=v+1)h+=y*v*t.numberOfSides,t.capping&&(h+=2*t.numberOfSides),m+=(2*(v=g[b])+1)*Math.ceil(t.numberOfSides/t.onRatio),t.capping&&(m+=2*(t.numberOfSides+1));var w=f.getDataType();t.outputPointsPrecision===eo.SINGLE?w=pe.FLOAT:t.outputPointsPrecision===eo.DOUBLE&&(w=pe.DOUBLE);var x=Ns.newInstance({dataType:w,size:3*h,numberOfComponents:3}),C=3*h;t.capping&&(C=3*(h+2*t.numberOfSides));var S=new Float32Array(C),A=Fn.newInstance({numberOfComponents:3,values:S,name:"TubeNormals"}),_=new Uint32Array(m),P=qn.newInstance({values:_}),O=0,E=l.getPointData().getNormals(),T=null,D=!1;E&&!t.useDefaultNormal||(T=new Float32Array(3*d),E=Fn.newInstance({numberOfComponents:3,values:T,name:"Normals"}),t.useDefaultNormal?T=T.map((function(e,n){var r=n%3;return t.defaultNormal[r]})):D=!0);for(var I=l.getPointData().getNumberOfArrays(),k=null,M=null,N=0;N<I;N++)k=l.getPointData().getArrayByIndex(N),M=Fn.newInstance({name:k.getName(),dataType:k.getDataType(),numberOfComponents:k.getNumberOfComponents(),size:h*k.getNumberOfComponents()}),c.getPointData().removeArrayByIndex(0),c.getPointData().addArray(M);var R=p.getNumberOfCells()*t.numberOfSides;t.capping&&(R+=2);for(var B=l.getCellData().getNumberOfArrays(),L=0;L<B;L++)k=l.getCellData().getArrayByIndex(L),M=Fn.newInstance({name:k.getName(),dataType:k.getDataType(),numberOfComponents:k.getNumberOfComponents(),size:R*k.getNumberOfComponents()}),c.getCellData().removeArrayByIndex(0),c.getCellData().addArray(M);var F=e.getInputArrayToProcess(0),j=null,V=[];F&&(j=Fn.newInstance({name:F.getName(),dataType:F.getDataType(),numberOfComponents:F.getNumberOfComponents(),size:h*F.getNumberOfComponents()}),(V=F.getRange())[1]-V[0]==0&&(t.varyRadius===Cd&&Id("Scalar range is zero!"),V[1]=V[0]+1));var U=e.getInputArrayToProcess(1),z=0;U&&(z=U.getMaxNorm());var G=c.getCellData();G.copyNormalsOff(),G.passData(l.getCellData());var W=c.getPointData();null!==W.getNormals()&&W.copyNormalsOff(),F&&j&&W.setScalars(j);var H=null;if(t.generateTCoords===Ed&&F||t.generateTCoords===Od||t.generateTCoords===Pd){var q=new Float32Array(2*h);H=Fn.newInstance({numberOfComponents:2,values:q,name:"TCoords"}),W.copyTCoordsOff()}W.passData(l.getPointData());var K=2*Math.PI/t.numberOfSides;v=g[0];for(var X=0,Y=l.getVerts().getNumberOfCells(),Z=0;Z<g.length;Z+=v+1){v=g[Z];var J=g.slice(Z+1,Z+1+v);if(v>1&&D){var $=g.slice(Z,Z+v+1);o(f.getData(),$,E)}i(X,v,J,f.getData(),x.getData(),l.getPointData(),W,S,F,V,U,z,T,K)?(O=a(X,v,Y,O,l.getCellData(),G,P),H&&s(X,v,J,f.getData(),F,H.getData())):Id("Could not generate points"),X=n(X,v),Y++}c.setPoints(x),c.setStrips(P),c.setPointData(W),W.setNormals(A),u[0]=c}}}}else Dd("Invalid or missing input")}}var Md={outputPointsPrecision:eo.DEFAULT,radius:.5,varyRadius:xd,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:_d,textureLength:1};function Nd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Md,n),fe.setGet(e,t,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),fe.obj(e,t),fe.algo(e,t,1,1),kd(e,t)}var Rd={newInstance:fe.newInstance(Nd,"vtkTubeFilter"),extend:Nd},Bd=fe.vtkDebugMacro,Ld=fe.vtkErrorMacro;function Fd(e,t){t.classHierarchy.push("vtkWarpScalar"),e.requestData=function(n,r){var o=n[0];if(!o)return Ld("Invalid or missing input"),1;var i=o.getPoints(),a=o.getPointData().getNormals(),s=e.getInputArrayToProcess(0);if(!i||!s)return Bd("No data to warp",!!i,!!s),r[0]=n[0],1;var u=i.getNumberOfPoints(),c=null,l=[0,0,1];a&&!t.useNormal?(c=function(e,t){return[t.getData()[3*e],t.getData()[3*e+1],t.getData()[3*e+2]]},Bd("Using data normals")):e.getXyPlane()?(c=function(e,t){return l},Bd("Using x-y plane normal")):(c=function(e,n){return t.normal},Bd("Using Normal instance variable"));for(var f=new Float32Array(3*u),d=i.getData(),p=0,h=[0,0,1],m=1,g=s.getData(),v=s.getNumberOfComponents(),y=0;y<u;++y)p=3*y,h=c(y,a),m=t.xyPlane?d[p+2]:g[y*v],f[p]=d[p]+t.scaleFactor*m*h[0],f[p+1]=d[p+1]+t.scaleFactor*m*h[1],f[p+2]=d[p+2]+t.scaleFactor*m*h[2];var b=A({vtkClass:o.getClassName()});b.shallowCopy(o);var w=Ns.newInstance();return w.setData(f,3),b.setPoints(w),r[0]=b,1}}var jd={scaleFactor:1,useNormal:!1,normal:[0,0,1],xyPlane:!1};function Vd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jd,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["scaleFactor","useNormal","xyPlane"]),fe.setGetArray(e,t,["normal"],3),Fd(e,t)}var Ud={newInstance:fe.newInstance(Vd,"vtkWarpScalar"),extend:Vd};function zd(e,t){t.classHierarchy.push("vtkWindowedSincPolyDataFilter"),e.vtkWindowedSincPolyDataFilterExecute=function(e,n,r){if(!e||t.numberOfIterations<=0)return e;for(var o=e.getData(),i=n.getVerts().getData(),a=n.getLines().getData(),s=n.getPolys().getData(),u=n.getStrips().getData(),c=Math.cos(_n.radiansFromDegrees(t.featureAngle)),l=Math.cos(_n.radiansFromDegrees(t.edgeAngle)),f=e.getNumberOfPoints(),d=new Array(f),p=0;p<f;++p)d[p]={type:0,edges:null};for(var h=0,m=0;m<i.length;m+=h+1){h=i[m];for(var g=i.slice(m+1,m+1+h),v=0;v<g.length;++v)d[g[v]].type=1}for(var b=0;b<a.length;b+=h+1){h=a[b];for(var w=a.slice(b+1,b+1+h),x=w[0]===w[h-1]&&h>3,C=0;C<h;++C)0===d[w[C]].type?0===C?x?(d[w[0]].type=2,d[w[0]].edges=[w[h-2],w[1]]):d[w[0]].type=1:C!==h-1||x?(d[w[C]].type=2,d[w[C]].edges=[w[C-1],w[x&&C===h-2?0:C+1]]):d[w[C]].type=1:2!==d[w[C]].type||x&&C===h-1||(d[w[C]].type=1,d[w[C]].edges=null)}var S=s.length,A=u.length;if(S>0||A>0){var _=Vc.newInstance();_.setPoints(n.getPoints()),_.setPolys(n.getPolys());var P=_,O=[],E=0,T=[],D=[];P.buildLinks();for(var I=P.getPolys().getData(),k=0,M=0;M<I.length;M+=h+1,++k){h=I[M];for(var N=I.slice(M+1,M+1+h),R=0;R<h;++R){var B=N[R],L=N[(R+1)%h];null===d[B].edges&&(d[B].edges=[]),null==d[L].edges&&(d[L].edges=[]);var F=(O=P.getCellEdgeNeighbors(k,B,L)).length,j=0;if(0===F)j=3;else if(F>=2){if(!t.nonManifoldSmoothing){for(var V=0;V<F&&!(O[V]<k);++V);V>=F&&(j=2)}}else{if(!(1===F&&(E=O[0])>k))continue;if(t.featureEdgeSmoothing){Mc.computeNormal(y(e.getPoint(N[0])),y(e.getPoint(N[1])),y(e.getPoint(N[2])),T);var U=P.getCellPoints(E).cellPointIds;Mc.computeNormal(y(e.getPoint(U[0])),y(e.getPoint(U[1])),y(e.getPoint(U[2])),D),_n.dot(T,D)<=c&&(j=2)}}j&&0===d[B].type?(d[B].edges=[L],d[B].type=j):(j&&3===d[B].type||j&&2===d[B].type||!j&&0===d[B].type)&&(d[B].edges.push(L),d[B].type&&3===j&&(d[B].type=3)),j&&0===d[L].type?(d[L].edges=[B],d[L].type=j):(j&&3===d[L].type||j&&2===d[L].type||!j&&0===d[L].type)&&(d[L].edges.push(B),d[L].type&&3===j&&(d[L].type=3))}}}for(var z=0;z<f;++z)if(0===d[z].type);else if(1===d[z].type);else if(2===d[z].type||3===d[z].type)if(t.boundarySmoothing||3!==d[z].type)if(2!==(h=d[z].edges.length))d[z].type=1;else{var G=[0,0,0];e.getPoint(d[z].edges[0],G);var W=[0,0,0];e.getPoint(z,W);var H=[0,0,0];e.getPoint(d[z].edges[1],H);for(var q=[0,0,0],K=[0,0,0],X=0;X<3;++X)q[X]=W[X]-G[X],K[X]=H[X]-W[X];_n.normalize(q)>=0&&_n.normalize(K)>=0&&_n.dot(q,K)<l?d[z].type=1:d[z].type}else d[z].type=1;var Y=0,Z=1,J=2,$=[];$.push(Ns.newInstance()),$[Y].setNumberOfPoints(f),$.push(Ns.newInstance()),$[Z].setNumberOfPoints(f),$.push(Ns.newInstance()),$[J].setNumberOfPoints(f),$.push(Ns.newInstance()),$[3].setNumberOfPoints(f);var Q=Xr.getCenter(n.getBounds()),ee=Xr.getDiagonalLength(n.getBounds());if(t.normalizeCoordinates)for(var te=[0,0,0],ne=0;ne<f;++ne){var re;e.getPoint(ne,te),te[0]=(te[0]-Q[0])/ee,te[1]=(te[1]-Q[1])/ee,te[2]=(te[2]-Q[2])/ee,(re=$[Y]).setPoint.apply(re,[ne].concat(te))}else{var oe=fe.newTypedArray($[Y].getDataType(),o);$[Y].setData(oe,3)}for(var ie=t.passBand,ae=Math.acos(1-.5*ie),se=new Array(t.numberOfIterations+1),ue=new Array(t.numberOfIterations+1),ce=new Array(t.numberOfIterations+1),le=[0,0,0],de=0;de<=t.numberOfIterations;++de)se[de]=.54+.46*Math.cos(de*Math.PI/(t.numberOfIterations+1));for(var pe=0,he=0,me=!1,ge=0,ve=0;!me&&ve<500;++ve){ue[0]=se[0]*(ae+ge)/Math.PI;for(var ye=1;ye<=t.numberOfIterations;++ye)ue[ye]=2*se[ye]*Math.sin(ye*(ae+ge))/(ye*Math.PI);ce[t.numberOfIterations]=0,ce[t.numberOfIterations-1]=0,t.numberOfIterations>1&&(ce[t.numberOfIterations-2]=2*(t.numberOfIterations-1)*ue[t.numberOfIterations-1]);for(var be=t.numberOfIterations-3;be>=0;--be)ce[be]=ce[be+2]+2*(be+1)*ue[be+1];pe=0,he=0,pe+=ue[0],he+=ce[0];for(var we=1;we<=t.numberOfIterations;++we)1===we?(pe+=ue[we]*(1-.5*ie),he+=ce[we]*(1-.5*ie)):(pe+=ue[we]*Math.cos(we*Math.acos(1-.5*ie)),he+=ce[we]*Math.cos(we*Math.acos(1-.5*ie)));t.numberOfIterations>1?Math.abs(pe-1)>=.001?ge-=(pe-1)/he:me=!0:(me=!0,ge=0)}Math.abs(pe-1)>=.001&&console.log("An optimal offset for the smoothing filter could not be found.  Unpredictable smoothing/shrinkage may result.");for(var xe=[0,0,0],Ce=[0,0,0],Se=[0,0,0],Ae=[0,0,0],_e=[0,0,0],Pe=[0,0,0],Oe=0;Oe<f;++Oe)if(null!=d[Oe].edges&&(h=d[Oe].edges.length)>0){var Ee,Te;$[Y].getPoint(Oe,xe),Se[0]=0,Se[1]=0,Se[2]=0;for(var De=0;De<h;++De){$[Y].getPoint(d[Oe].edges[De],Ce);for(var Ie=0;Ie<3;++Ie)Se[Ie]+=(xe[Ie]-Ce[Ie])/h}for(var ke=0;ke<3;++ke)Se[ke]=xe[ke]-.5*Se[ke];if((Ee=$[Z]).setPoint.apply(Ee,[Oe].concat(Se)),1===d[Oe].type)$[Y].getPoint(Oe,Se);else for(var Me=0;Me<3;++Me)Se[Me]=ue[0]*xe[Me]+ue[1]*Se[Me];(Te=$[3]).setPoint.apply(Te,[Oe].concat(Se))}else{var Ne,Re;(Ne=$[Z]).setPoint.apply(Ne,[Oe].concat(le)),$[Y].getPoint(Oe,Se),(Re=$[3]).setPoint.apply(Re,[Oe].concat(Se))}for(var Be=[0,0,0],Le=[0,0,0],Fe=[0,0,0],je=2;je<=t.numberOfIterations;je++){for(var Ve=0;Ve<f;++Ve)if((h=null!=d[Ve].edges?d[Ve].edges.length:0)>0){var Ue,ze;$[Y].getPoint(Ve,Be),$[Z].getPoint(Ve,Le),Se[0]=0,Se[1]=0,Se[2]=0;for(var Ge=0;Ge<h;++Ge){$[Z].getPoint(d[Ve].edges[Ge],Ce);for(var We=0;We<3;++We)Se[We]+=(Le[We]-Ce[We])/h}for(var He=0;He<3;++He)Se[He]=Le[He]-Be[He]+Le[He]-Se[He];(Ue=$[J]).setPoint.apply(Ue,[Ve].concat(Se)),$[3].getPoint(Ve,Fe);for(var qe=0;qe<3;++qe)Ae[qe]=Fe[qe]+ue[je]*Se[qe];1!==d[Ve].type&&(ze=$[3]).setPoint.apply(ze,[Ve].concat(Ae))}else{var Ke,Xe;(Ke=$[Z]).setPoint.apply(Ke,[Ve].concat(le)),(Xe=$[J]).setPoint.apply(Xe,[Ve].concat(le))}Y=(1+Y)%3,Z=(1+Z)%3,J=(1+J)%3}if(--je,Y=3,t.normalizeCoordinates)for(var Ye=[0,0,0],Ze=0;Ze<f;++Ze){var Je;$[Y].getPoint(Ze,Ye);for(var $e=0;$e<3;++$e)Ye[$e]=Ye[$e]*ee+Q[$e];(Je=$[Y]).setPoint.apply(Je,[Ze].concat(Ye))}if(t.generateErrorScalars){for(var Qe=new Float32Array(f),et=0;et<f;++et)e.getPoint(et,_e),$[Y].getPoint(et,Pe),Qe[et]=Math.sqrt(Math.distance2BetweenPoints(_e,Pe));var tt=Fn.newInstance({numberOfComponents:1,values:Qe}),nt=r.getPointData().addArray(tt);r.getPointData().setActiveAttribute(nt,Qr.SCALARS)}if(t.generateErrorVectors){for(var rt=new Float32Array(3*f),ot=0;ot<f;++ot){e.getPoint(ot,_e),$[Y].getPoint(ot,Pe);for(var it=0;it<3;++it)rt[3*ot+it]=Pe[it]-_e[it]}var at=Fn.newInstance({numberOfComponents:3,values:rt});r.getPointData().setVectors(at)}return $[Y]},e.requestData=function(t,n){if(e.getNumberOfInputPorts()){var r=t[0];if(r){var o=Vc.newInstance(),i=e.vtkWindowedSincPolyDataFilterExecute(r.getPoints(),r,o);o.setPointData(r.getPointData()),o.setCellData(r.getCellData()),o.setFieldData(r.getFieldData()),o.setPoints(i),o.setVerts(r.getVerts()),o.setLines(r.getLines()),o.setPolys(r.getPolys()),o.setStrips(r.getStrips()),n[0]=o}}}}var Gd={numberOfIterations:20,passBand:.1,featureAngle:45,edgeAngle:15,featureEdgeSmoothing:0,boundarySmoothing:1,nonManifoldSmoothing:0,generateErrorScalars:0,generateErrorVectors:0,normalizeCoordinates:0};function Wd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Gd,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["numberOfIterations","passBand","featureAngle","edgeAngle","featureEdgeSmoothing","boundarySmoothing","nonManifoldSmoothing","generateErrorScalars","generateErrorVectors","normalizeCoordinates"]),zd(e,t)}var Hd=fe.newInstance(Wd,"vtkWindowedSincPolyDataFilter"),qd={vtkAppendPolyData:Bl,vtkCalculator:zl,vtkClosedPolyLineToSurfaceFilter:Xl,vtkImageCropFilter:Ql,vtkImageMarchingCubes:lf,vtkImageMarchingSquares:wf,vtkImageOutlineFilter:_f,vtkImageSliceFilter:Df,vtkImageStreamline:Rf,vtkMoleculeToRepresentation:Gf,vtkOutlineFilter:Zf,vtkPaintFilter:md,vtkScalarToRGBA:wd,vtkTubeFilter:Rd,vtkWarpScalar:Ud,vtkWindowedSincPolyDataFilter:{newInstance:Hd,extend:Wd}};function Kd(e,t){t.classHierarchy.push("vtkConeSource"),e.requestData=function(e,n){var r;if(!t.deleted){var o=n[0],i=2*Math.PI/t.resolution,a=-t.height/2,s=t.resolution+1,u=4*t.resolution+1+t.resolution,c=0,l=fe.newTypedArray(t.pointType,3*s),f=0,d=new Uint32Array(u);l[0]=t.height/2,l[1]=0,l[2]=0,t.capping&&(d[f++]=t.resolution);for(var p=0;p<t.resolution;p++)l[3*++c+0]=a,l[3*c+1]=t.radius*Math.cos(p*i),l[3*c+2]=t.radius*Math.sin(p*i),t.capping&&(d[t.resolution-f+++1]=c);for(var h=0;h<t.resolution;h++)d[f++]=3,d[f++]=0,d[f++]=h+1,d[f++]=h+2>t.resolution?1:h+2;(r=Es.buildFromRadian()).translate.apply(r,y(t.center)).rotateFromDirections([1,0,0],t.direction).apply(l),(o=Vc.newInstance()).getPoints().setData(l,3),o.getPolys().setData(d,1),n[0]=o}}}var Xd={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float32Array"};function Yd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Xd,n),fe.obj(e,t),fe.setGet(e,t,["height","radius","resolution","capping"]),fe.setGetArray(e,t,["center","direction"],3),fe.algo(e,t,0,1),Kd(e,t)}var Zd={newInstance:fe.newInstance(Yd,"vtkConeSource"),extend:Yd};function Jd(e,t){t.classHierarchy.push("vtkCylinderSource"),e.requestData=function(e,n){var r,o;if(!t.deleted){var i=n[0],a=2*Math.PI/t.resolution,s=2*t.resolution,u=5*t.resolution;t.capping&&(s=4*t.resolution,u=7*t.resolution+2);for(var c=fe.newTypedArray(t.pointType,3*s),l=0,f=new Uint32Array(u),d=new Float32Array(3*s),p=Fn.newInstance({numberOfComponents:3,values:d,name:"Normals"}),h=new Float32Array(2*s),m=Fn.newInstance({numberOfComponents:2,values:h,name:"TCoords"}),g=[0,0,0],v=[0,0,0],b=[0,0,0],w=[0,0,0],x=[0,0],C=[0,0],S=0;S<t.resolution;S++){g[0]=Math.cos(S*a),v[0]=g[0],b[0]=t.radius*g[0]+t.center[0],w[0]=b[0],x[0]=Math.abs(2*S/t.resolution-1),C[0]=x[0],b[1]=.5*t.height+t.center[1],w[1]=-.5*t.height+t.center[1],x[1]=0,C[1]=1,g[2]=-Math.sin(S*a),v[2]=g[2],b[2]=t.radius*g[2]+t.center[2],w[2]=b[2];for(var A=2*S,_=0;_<3;_++)d[3*A+_]=g[_],d[3*(A+1)+_]=v[_],c[3*A+_]=b[_],c[3*(A+1)+_]=w[_],_<2&&(h[2*A+_]=x[_],h[2*(A+1)+_]=C[_])}for(var P=0;P<t.resolution;P++){f[l++]=4,f[l++]=2*P,f[l++]=2*P+1;var O=(2*P+3)%(2*t.resolution);f[l++]=O,f[l++]=O-1}if(t.capping){for(var E=0;E<t.resolution;E++){b[0]=t.radius*Math.cos(E*a),w[0]=b[0],x[0]=b[0],C[0]=b[0],b[0]+=t.center[0],w[0]+=t.center[0],g[1]=1,v[1]=-1,b[1]=.5*t.height+t.center[1],w[1]=-.5*t.height+t.center[1],b[2]=-t.radius*Math.sin(E*a),w[2]=b[2],x[1]=b[2],C[1]=b[2],b[2]+=t.center[2],w[2]+=t.center[2];for(var T=2*t.resolution+E,D=3*t.resolution+t.resolution-E-1,I=0;I<3;I++)d[3*T+I]=g[I],d[3*D+I]=v[I],c[3*T+I]=b[I],c[3*D+I]=w[I],I<2&&(h[2*T+I]=x[I],h[2*D+I]=C[I])}f[l++]=t.resolution;for(var k=0;k<t.resolution;k++)f[l++]=2*t.resolution+k;f[l++]=t.resolution;for(var M=0;M<t.resolution;M++)f[l++]=3*t.resolution+M}(r=(o=Es.buildFromRadian()).translate.apply(o,y(t.center)).rotateFromDirections([0,1,0],t.direction)).translate.apply(r,y(t.center.map((function(e){return-1*e})))).apply(c),(i=Vc.newInstance()).getPoints().setData(c,3),i.getPolys().setData(f,1),i.getPointData().setNormals(p),i.getPointData().setTCoords(m),n[0]=i}}}var $d={height:1,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float32Array"};function Qd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$d,n),fe.obj(e,t),fe.setGet(e,t,["height","radius","resolution","capping"]),fe.setGetArray(e,t,["center","direction"],3),fe.algo(e,t,0,1),Jd(e,t)}var ep={newInstance:fe.newInstance(Qd,"vtkCylinderSource"),extend:Qd};function tp(e,t){t.classHierarchy.push("vtkArrowSource"),e.requestData=function(e,n){if(!t.deleted){var r=ep.newInstance({capping:!0});r.setResolution(t.shaftResolution),r.setRadius(t.shaftRadius),r.setHeight(1-t.tipLength),r.setCenter(0,.5*(1-t.tipLength),0);var o=r.getOutputData(),i=o.getPoints().getData(),a=o.getPointData().getNormals().getData();Es.buildFromDegree().rotateZ(-90).apply(i).apply(a);var s=Zd.newInstance();s.setResolution(t.tipResolution),s.setHeight(t.tipLength),s.setRadius(t.tipRadius);var u=s.getOutputData(),c=u.getPoints().getData();Es.buildFromRadian().translate(1-.5*t.tipLength,0,0).apply(c);var l=Bl.newInstance();l.setInputData(o),l.addInputData(u);var f=l.getOutputData(),d=f.getPoints().getData();Es.buildFromRadian().translate(.5*t.tipLength-.5,0,0).apply(d),t.invert?(Es.buildFromRadian().rotateFromDirections([1,0,0],t.direction).scale(-1,-1,-1).apply(d),n[0]=f):(Es.buildFromRadian().rotateFromDirections([1,0,0],t.direction).scale(1,1,1).apply(d),n[0]=l.getOutputData())}}}var np={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float32Array"};function rp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,np,n),fe.obj(e,t),fe.setGet(e,t,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),fe.setGetArray(e,t,["direction"],3),fe.algo(e,t,0,1),tp(e,t)}var op={newInstance:fe.newInstance(rp,"vtkArrowSource"),extend:rp};function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e,t){t.classHierarchy.push("vtkCircleSource"),e.requestData=function(e,n){var r,o;if(!t.deleted){var i=n[0],a=fe.newTypedArray(t.pointType,3*t.resolution),s=new Uint32Array(t.resolution+2);s[0]=t.resolution+1;for(var u=2*Math.PI/t.resolution,c=0;c<t.resolution;c++){var l=t.center[0],f=t.radius*Math.cos(c*u)+t.center[1],d=t.radius*Math.sin(c*u)+t.center[2];a.set([l,f,d],3*c),s[c+1]=c}s[s.length-1]=s[1],(i=Vc.newInstance()).getPoints().setData(a,3),t.lines&&i.getLines().setData(s,1),t.face&&i.getPolys().setData(s,1),(r=(o=Es.buildFromRadian()).translate.apply(o,y(t.center)).rotateFromDirections([1,0,0],t.direction)).translate.apply(r,y(Xe(y(t.center),-1))).apply(a),n[0]=i}}}function sp(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({face:!0,center:[0,0,0],lines:!1,direction:[1,0,0],pointType:"Float32Array",radius:1,resolution:6},e)}function up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sp(n)),fe.obj(e,t),fe.setGet(e,t,["radius","resolution","lines","face"]),fe.setGetArray(e,t,["center","direction"],3),fe.algo(e,t,0,1),ap(e,t)}var cp={newInstance:fe.newInstance(up,"vtkCircleSource"),extend:up};function lp(e,t){function n(){for(;t.cellFields.length<t.radius.length;)t.cellFields.push(t.cellFields.length)}t.classHierarchy.push("vtkConcentricCylinderSource"),e.clearRadius=function(){t.radius=[],t.cellFields=[],e.modified()},e.addRadius=function(r,o){t.radius.push(r),void 0!==o&&t.cellFields.push(o),n(),e.modified()},e.getNumberOfRadius=function(){return t.radius.length},e.getRadius=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.radius[e]},e.setRadius=function(n,r){t.radius[n]=r,e.modified()},e.setCellField=function(n,r){t.cellFields[n]=r,e.modified()},e.removeMask=function(){t.mask=null,e.modified()},e.setMaskLayer=function(n,r){var o=!1;!t.mask&&r&&(o=!0,t.mask=[]),t.mask&&(!t.mask[n]!=!r&&(o=!0),t.mask[n]=r),o&&e.modified()},e.getMaskLayer=function(e){return void 0===e?t.mask:t.mask[e]},e.requestData=function(e,r){var o;if(!t.deleted&&t.radius.length){n();var i=r[0],a=t.radius.length,s=t.height/2,u=0,c=0,l=t.startTheta<t.endTheta?t.startTheta:t.endTheta;l*=Math.PI/180;var f=t.endTheta>t.startTheta?t.endTheta:t.startTheta;f*=Math.PI/180;var d=t.resolution,p=!1;f>=l+2*Math.PI?f=l+2*Math.PI:(++d,p=!0);var h=(f-l)/t.resolution,m=d*a*2+2;if(t.skipInnerFaces||t.mask)if(!t.skipInnerFaces&&t.mask){t.mask[0]||(u+=2*(d+1)+5*d+(p?10:0),c+=2+d+(p?2:0));for(var g=1;g<a;g++)t.mask[g]||(u+=20*d+(p?10:0),c+=4*d+(p?2:0))}else{t.skipInnerFaces&&t.mask&&t.mask[0]||(u+=2*(d+1)+(p?10:0),c+=2+(p?2:0),(1===t.radius.length||!t.skipInnerFaces||t.mask&&t.mask[1])&&(u+=5*d,c+=d));for(var v=1;v<a;v++)if(!t.skipInnerFaces||!t.mask||!t.mask[v]){var b=a-1===v;u+=10*d+(p?10:0),c+=2*d+(p?2:0),(!t.skipInnerFaces||t.mask&&t.mask[v-1])&&(u+=5*d,c+=d),(b||!t.skipInnerFaces||t.mask&&t.mask[v+1])&&(u+=5*d,c+=d)}}else u=2*(d+1)+5*d+(a-1)*d*20+(p?10*a:0),c=2+d+4*(a-1)*d+(p?2*a:0);var w=0,x=fe.newTypedArray(t.pointType,3*m),C=0,S=new Uint32Array(u),A=0,_=new Float32Array(c);x[3*w+0]=0,x[3*w+1]=0,x[3*w+2]=s,x[3*++w+0]=0,x[3*w+1]=0,x[3*w+2]=-s,w++;for(var P=0;P<a;P++){for(var O=t.radius[P],E=0;E<d;E++){var T=l+E*h;x[3*w+0]=O*Math.cos(T),x[3*w+1]=O*Math.sin(T),x[3*w+2]=s,w++}for(var D=0;D<d;D++){var I=l+D*h;x[3*w+0]=O*Math.cos(I),x[3*w+1]=O*Math.sin(I),x[3*w+2]=-s,w++}}var k=t.cellFields[0];if(!t.mask||!t.mask[0]){_[A++]=k,S[C++]=d+(p?1:0),p&&(S[C++]=0);for(var M=0;M<d;M++)S[C++]=M+2;_[A++]=k,S[C++]=d+(p?1:0),p&&(S[C++]=1);for(var N=0;N<d;N++)S[C++]=2*d-N-1+2;if(!t.skipInnerFaces||t.mask&&t.mask[1]||1===a)for(var R=0;R<t.resolution;R++)S[C++]=4,S[C++]=(R+1)%d+2,S[C++]=R+2,S[C++]=R+d+2,S[C++]=(R+1)%d+d+2,_[A++]=k;p&&(S[C++]=4,S[C++]=2,S[C++]=0,S[C++]=1,S[C++]=d+2,_[A++]=k,S[C++]=4,S[C++]=0,S[C++]=d+1,S[C++]=2*d+1,S[C++]=1,_[A++]=k)}for(var B=1;B<a;B++)if(!t.mask||!t.mask[B]){var L=2*d*(B-1)+2,F=L+2*d,j=a-1===B;k=t.cellFields[B];for(var V=0;V<t.resolution;V++)S[C++]=4,S[C++]=V+L,S[C++]=(V+1)%d+L,S[C++]=(V+1)%d+F,S[C++]=V+F,_[A++]=k;for(var U=0;U<t.resolution;U++)S[C++]=4,S[C++]=(U+1)%d+L+d,S[C++]=U+L+d,S[C++]=U+F+d,S[C++]=(U+1)%d+F+d,_[A++]=k;if(!t.skipInnerFaces||t.mask&&t.mask[B-1])for(var z=0;z<t.resolution;z++)S[C++]=4,S[C++]=z+L,S[C++]=(z+1)%d+L,S[C++]=(z+1)%d+d+L,S[C++]=z+d+L,_[A++]=k;if(!t.skipInnerFaces||j||t.mask&&(t.mask[B+1]||j))for(var G=0;G<t.resolution;G++)S[C++]=4,S[C++]=(G+1)%d+F,S[C++]=G+F,S[C++]=G+d+F,S[C++]=(G+1)%d+d+F,_[A++]=k;p&&(S[C++]=4,S[C++]=F,S[C++]=L,S[C++]=d+L,S[C++]=d+F,_[A++]=k,S[C++]=4,S[C++]=t.resolution+F,S[C++]=t.resolution+L,S[C++]=t.resolution+d+L,S[C++]=t.resolution+d+F,_[A++]=k)}(o=Es.buildFromRadian()).translate.apply(o,y(t.center)).rotateFromDirections([0,0,1],t.direction).apply(x),(i=Vc.newInstance()).getPoints().setData(x,3),i.getPolys().setData(S,1),i.getCellData().setScalars(Fn.newInstance({name:"layer",values:_})),r[0]=i}}}var fp={height:1,radius:[.5],cellFields:[1],resolution:6,startTheta:0,endTheta:360,center:[0,0,0],direction:[0,0,1],skipInnerFaces:!0,mask:null,pointType:"Float32Array"};function dp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fp,n),fe.obj(e,t),fe.setGet(e,t,["height","resolution","startTheta","endTheta","skipInnerFaces"]),fe.setGetArray(e,t,["center","direction"],3),fe.getArray(e,t,["cellFields"]),fe.algo(e,t,0,1),lp(e,t)}var pp={newInstance:fe.newInstance(dp,"vtkConcentricCylinderSource"),extend:dp};function hp(e,t){t.classHierarchy.push("vtkCubeSource"),e.setBounds=function(){var e=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0];else for(var n=0;n<arguments.length;n++)e.push(n<0||arguments.length<=n?void 0:arguments[n]);6===e.length&&(t.xLength=e[1]-e[0],t.yLength=e[3]-e[2],t.zLength=e[5]-e[4],t.center=[(e[0]+e[1])/2,(e[2]+e[3])/2,(e[4]+e[5])/2])},e.requestData=function(e,n){var r;if(!t.deleted){var o=Vc.newInstance();n[0]=o;var i=fe.newTypedArray(t.pointType,72);o.getPoints().setData(i,3);var a=fe.newTypedArray(t.pointType,72),s=Fn.newInstance({name:"Normals",values:a,numberOfComponents:3});o.getPointData().setNormals(s);var u=2;!0===t.generate3DTextureCoordinates&&(u=3);var c=fe.newTypedArray(t.pointType,24*u),l=Fn.newInstance({name:"TextureCoordinates",values:c,numberOfComponents:u});o.getPointData().setTCoords(l);var f=[0,0,0],d=[0,0,0],p=[0,0],h=0;f[0]=-t.xLength/2,d[0]=-1,d[1]=0,d[2]=0;for(var m=0;m<2;m++){f[1]=-t.yLength/2;for(var g=0;g<2;g++){p[1]=f[1]+.5,f[2]=-t.zLength/2;for(var v=0;v<2;v++)p[0]=(f[2]+.5)*(1-2*m),i[3*h]=f[0],i[3*h+1]=f[1],i[3*h+2]=f[2],a[3*h]=d[0],a[3*h+1]=d[1],a[3*h+2]=d[2],2===u?(c[h*u]=p[0],c[h*u+1]=p[1]):(c[h*u]=2*m-1,c[h*u+1]=2*g-1,c[h*u+2]=2*v-1),h++,f[2]+=t.zLength;f[1]+=t.yLength}f[0]+=t.xLength,d[0]+=2}f[1]=-t.yLength/2,d[1]=-1,d[0]=0,d[2]=0;for(var b=0;b<2;b++){f[0]=-t.xLength/2;for(var w=0;w<2;w++){p[0]=(f[0]+.5)*(2*b-1),f[2]=-t.zLength/2;for(var x=0;x<2;x++)p[1]=-1*(f[2]+.5),i[3*h]=f[0],i[3*h+1]=f[1],i[3*h+2]=f[2],a[3*h]=d[0],a[3*h+1]=d[1],a[3*h+2]=d[2],2===u?(c[h*u]=p[0],c[h*u+1]=p[1]):(c[h*u]=2*w-1,c[h*u+1]=2*b-1,c[h*u+2]=2*x-1),h++,f[2]+=t.zLength;f[0]+=t.xLength}f[1]+=t.yLength,d[1]+=2}f[2]=-t.zLength/2,d[2]=-1,d[0]=0,d[1]=0;for(var C=0;C<2;C++){f[1]=-t.yLength/2;for(var S=0;S<2;S++){p[1]=f[1]+.5,f[0]=-t.xLength/2;for(var A=0;A<2;A++)p[0]=(f[0]+.5)*(2*C-1),i[3*h]=f[0],i[3*h+1]=f[1],i[3*h+2]=f[2],a[3*h]=d[0],a[3*h+1]=d[1],a[3*h+2]=d[2],2===u?(c[h*u]=p[0],c[h*u+1]=p[1]):(c[h*u]=2*A-1,c[h*u+1]=2*S-1,c[h*u+2]=2*C-1),h++,f[0]+=t.xLength;f[1]+=t.yLength}f[2]+=t.zLength,d[2]+=2}Es.buildFromDegree().rotateX(t.rotations[0]).rotateY(t.rotations[1]).rotateZ(t.rotations[2]).apply(i).apply(a),(r=Es.buildFromRadian()).translate.apply(r,y(t.center)).apply(i);var _=fe.newTypedArray(t.pointType,30);o.getPolys().setData(_,1);var P=0;_[P++]=4,_[P++]=0,_[P++]=1,_[P++]=3,_[P++]=2,_[P++]=4,_[P++]=4,_[P++]=6,_[P++]=7,_[P++]=5,_[P++]=4,_[P++]=8,_[P++]=10,_[P++]=11,_[P++]=9,_[P++]=4,_[P++]=12,_[P++]=13,_[P++]=15,_[P++]=14,_[P++]=4,_[P++]=16,_[P++]=18,_[P++]=19,_[P++]=17,_[P++]=4,_[P++]=20,_[P++]=21,_[P++]=23,_[29]=22}}}var mp={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float32Array",generate3DTextureCoordinates:!1};function gp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mp,n),fe.obj(e,t),fe.setGet(e,t,["xLength","yLength","zLength","generate3DTextureCoordinates"]),fe.setGetArray(e,t,["center","rotations"],3),fe.algo(e,t,0,1),hp(e,t)}var vp={newInstance:fe.newInstance(gp,"vtkCubeSource"),extend:gp};function yp(e,t){t.classHierarchy.push("vtkCursor3D"),e.setModelBounds=function(n){if(Array.isArray(n)&&!(n.length<6)&&(t.modelBounds[0]!==n[0]||t.modelBounds[1]!==n[1]||t.modelBounds[2]!==n[2]||t.modelBounds[3]!==n[3]||t.modelBounds[4]!==n[4]||t.modelBounds[5]!==n[5])){e.modified(),t.modelBounds=n.map((function(e){return Number(e)}));for(var r=0;r<3;++r)t.modelBounds[2*r]=Math.min(t.modelBounds[2*r],t.modelBounds[2*r+1])}},e.setFocalPoint=function(n){if(Array.isArray(n)&&!(n.length<3)&&(n[0]!==t.focalPoint[0]||n[1]!==t.focalPoint[1]||n[2]!==t.focalPoint[2])){e.modified();for(var r=[],o=0;o<3;o++)r[o]=n[o]-t.focalPoint[o],t.focalPoint[o]=Number(n[o]),t.translationMode?(t.modelBounds[2*o]+=r[o],t.modelBounds[2*o+1]+=r[o]):t.wrap?t.focalPoint[o]=t.modelBounds[2*o]+1*(t.focalPoint[o]-t.modelBounds[2*o])%(1*(t.modelBounds[2*o+1]-t.modelBounds[2*o])):(n[o]<t.modelBounds[2*o]&&(t.focalPoint[o]=t.modelBounds[2*o]),n[o]>t.modelBounds[2*o+1]&&(t.focalPoint[o]=t.modelBounds[2*o+1]))}},e.setAll=function(t){e.setOutline(t),e.setAxes(t),e.setXShadows(t),e.setYShadows(t),e.setZShadows(t)},e.allOn=function(){e.setAll(!0)},e.allOff=function(){e.setAll(!1)},e.requestData=function(e,n){if(!t.deleted){var r=0,o=0;if(t.wrap)for(var i=0;i<t.focalPoint.length;++i)t.focalPoint[i]=t.modelBounds[2*i]+1*(t.focalPoint[i]-t.modelBounds[2*i])%(t.modelBounds[2*i+1]-t.modelBounds[2*i]);else for(var a=0;a<t.focalPoint.length;++a)t.focalPoint[a]=Math.max(t.focalPoint[a],t.modelBounds[2*a]),t.focalPoint[a]=Math.min(t.focalPoint[a],t.modelBounds[2*a+1]);if(t.axes&&(r+=6,o+=3),t.outline&&(r+=8,o+=12),t.xShadows&&(r+=8,o+=4),t.yShadows&&(r+=8,o+=4),t.zShadows&&(r+=8,o+=4),0!==r){var s=Vc.newInstance(),u=Ns.newInstance({size:3*r}),c=qn.newInstance({size:3*o}),l=0,f=0;if(t.axes&&(u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.focalPoint[2],++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.focalPoint[2],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.focalPoint[2],++l,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.focalPoint[2],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[4],++l,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[5],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f),t.outline){u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.modelBounds[4];var d=l;++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.modelBounds[4];var p=l;++l,u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.modelBounds[4];var h=l;++l,u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.modelBounds[5];var m=l;++l,c.getData()[3*(f+0)+0]=2,c.getData()[3*(f+0)+1]=d,c.getData()[3*(f+0)+2]=p,c.getData()[3*(f+1)+0]=2,c.getData()[3*(f+1)+1]=d,c.getData()[3*(f+1)+2]=h,c.getData()[3*(f+2)+0]=2,c.getData()[3*(f+2)+1]=d,c.getData()[3*(f+2)+2]=m,f+=3,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.modelBounds[5];var g=l;++l,u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.modelBounds[5];var v=l;++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.modelBounds[5];var y=l;++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.modelBounds[4];var b=l;++l,c.getData()[3*(f+0)+0]=2,c.getData()[3*(f+0)+1]=g,c.getData()[3*(f+0)+2]=v,c.getData()[3*(f+1)+0]=2,c.getData()[3*(f+1)+1]=g,c.getData()[3*(f+1)+2]=y,c.getData()[3*(f+2)+0]=2,c.getData()[3*(f+2)+1]=g,c.getData()[3*(f+2)+2]=b,f+=3,c.getData()[3*(f+0)+0]=2,c.getData()[3*(f+0)+1]=p,c.getData()[3*(f+0)+2]=b,c.getData()[3*(f+1)+0]=2,c.getData()[3*(f+1)+1]=p,c.getData()[3*(f+1)+2]=y,f+=2,c.getData()[3*(f+0)+0]=2,c.getData()[3*(f+0)+1]=h,c.getData()[3*(f+0)+2]=b,c.getData()[3*(f+1)+0]=2,c.getData()[3*(f+1)+1]=h,c.getData()[3*(f+1)+2]=v,f+=2,c.getData()[3*(f+0)+0]=2,c.getData()[3*(f+0)+1]=m,c.getData()[3*(f+0)+2]=y,c.getData()[3*(f+1)+0]=2,c.getData()[3*(f+1)+1]=m,c.getData()[3*(f+1)+2]=v,f+=2}if(t.xShadows)for(var w=0;w<2;++w)u.getData()[3*l+0]=t.modelBounds[w],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.focalPoint[2],++l,u.getData()[3*l+0]=t.modelBounds[w],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.focalPoint[2],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f,u.getData()[3*l+0]=t.modelBounds[w],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[4],++l,u.getData()[3*l+0]=t.modelBounds[w],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[5],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f;if(t.yShadows)for(var x=0;x<2;++x)u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.modelBounds[x+2],u.getData()[3*l+2]=t.focalPoint[2],++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.modelBounds[x+2],u.getData()[3*l+2]=t.focalPoint[2],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[x+2],u.getData()[3*l+2]=t.modelBounds[4],++l,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[x+2],u.getData()[3*l+2]=t.modelBounds[5],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f;if(t.zShadows)for(var C=0;C<2;++C)u.getData()[3*l+0]=t.modelBounds[0],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[C+4],++l,u.getData()[3*l+0]=t.modelBounds[1],u.getData()[3*l+1]=t.focalPoint[1],u.getData()[3*l+2]=t.modelBounds[C+4],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[2],u.getData()[3*l+2]=t.modelBounds[C+4],++l,u.getData()[3*l+0]=t.focalPoint[0],u.getData()[3*l+1]=t.modelBounds[3],u.getData()[3*l+2]=t.modelBounds[C+4],++l,c.getData()[3*f+0]=2,c.getData()[3*f+1]=l-2,c.getData()[3*f+2]=l-1,++f;var S=Ns.newInstance({size:3});S.getData()[0]=t.focalPoint[0],S.getData()[1]=t.focalPoint[1],S.getData()[2]=t.focalPoint[2],t.focus=Vc.newInstance(),t.focus.setPoints(S),s.setPoints(u),s.setLines(c),n[0]=s}}}}var bp={focus:null,modelBounds:[-1,1,-1,1,-1,1],focalPoint:[0,0,0],outline:!0,axes:!0,xShadows:!0,yShadows:!0,zShadows:!0,wrap:!1,translationMode:!1};function wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bp,n),fe.obj(e,t),fe.get(e,t,["focus"]),fe.getArray(e,t,["modelBounds"],6),fe.getArray(e,t,["focalPoint"],3),fe.setGet(e,t,["outline"]),fe.setGet(e,t,["axes"]),fe.setGet(e,t,["xShadows"]),fe.setGet(e,t,["yShadows"]),fe.setGet(e,t,["zShadows"]),fe.setGet(e,t,["wrap"]),fe.setGet(e,t,["translationMode"]),fe.algo(e,t,0,1),yp(e,t)}var xp={newInstance:fe.newInstance(wp,"vtkCursor3D"),extend:wp};function Cp(e,t){var n=this;t.classHierarchy.push("vtkImageGridSource"),e.requestData=function(e,r){if(!t.deleted){var o={},i={type:"vtkImageData",mtime:t.mtime,metadata:{source:"vtkImageGridSource",state:o}};["gridSpacing","gridOrigin","dataSpacing","dataOrigin"].forEach((function(e){o[e]=[].concat(t[e])}));var a=es.newInstance(i);a.setOrigin(t.dataOrigin[0],t.dataOrigin[1],t.dataOrigin[2]),a.setSpacing(t.dataSpacing[0],t.dataSpacing[1],t.dataSpacing[2]),a.setExtent.apply(n,t.dataExtent),a.setDirection(t.dataDirection);var s=[0,0,0];s=s.map((function(e,n){return t.dataExtent[2*n+1]-t.dataExtent[2*n]+1}));for(var u=new Uint8Array(s[0]*s[1]*s[2]),c=0,l=0,f=0,d=0,p=t.dataExtent[4];p<=t.dataExtent[5];p++){f=t.gridSpacing[2]?p%t.gridSpacing[2]===t.gridOrigin[2]:0;for(var h=t.dataExtent[2];h<=t.dataExtent[3];h++){l=t.gridSpacing[1]?h%t.gridSpacing[1]===t.gridOrigin[1]:0;for(var m=t.dataExtent[0];m<=t.dataExtent[1];m++)c=t.gridSpacing[0]?m%t.gridSpacing[0]===t.gridOrigin[0]:0,u[d]=f||l||c?t.lineValue:t.fillValue,d++}}var g=Fn.newInstance({numberOfComponents:1,values:u});g.setName("scalars"),a.getPointData().setScalars(g),r[0]=a}}}var Sp={lineValue:0,fillValue:255,gridSpacing:[10,10,0],gridOrigin:[0,0,0],dataSpacing:[1,1,1],dataOrigin:[0,0,0],dataExtent:[0,255,0,255,0,0],dataDirection:[1,0,0,0,1,0,0,0,1]};function Ap(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sp,n),fe.obj(e,t),fe.setGet(e,t,["lineValue","fillValue"]),fe.setGetArray(e,t,["gridOrigin","gridSpacing","dataOrigin","dataSpacing"],3),fe.setGetArray(e,t,["dataExtent"],6),fe.setGetArray(e,t,["dataDirection"],9),fe.algo(e,t,0,1),Cp(e,t)}var _p={newInstance:fe.newInstance(Ap,"vtkImageGridSource"),extend:Ap},Pp=fe.vtkWarningMacro;function Op(e,t){t.classHierarchy.push("vtkLineSource"),e.requestData=function(e,n){if(!t.deleted){var r=n[0],o=r?r.getPoints().getDataType():"Float32Array",i=Vc.newInstance(),a=new Float32Array(3);if(Ke(t.point2,t.point1,a),tt(a)<=0)Pp("Zero-length line definition");else{var s=t.resolution,u=s+1,c=fe.newTypedArray(o,3*u);i.getPoints().setData(c,3);var l=new Uint32Array(u+1);i.getLines().setData(l,1);for(var f=0,d=0,p=0;p<s+1;p++)d=p/s,c[3*f]=t.point1[0]+d*a[0],c[3*f+1]=t.point1[1]+d*a[1],c[3*f+2]=t.point1[2]+d*a[2],f++;f=0,l[0]=u;for(var h=0;h<u;h++)l[h+1]=h;n[0]=i}}}}var Ep={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float32Array"};function Tp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ep,n),fe.obj(e,t),fe.setGet(e,t,["resolution"]),fe.setGetArray(e,t,["point1","point2"],3),fe.algo(e,t,0,1),Op(e,t)}var Dp={newInstance:fe.newInstance(Tp,"vtkLineSource"),extend:Tp},Ip=fe.vtkWarningMacro;function kp(e,t){t.classHierarchy.push("vtkPlaneSource"),e.requestData=function(n,r){if(!t.deleted){var o=r[0],i=o?o.getPoints().getDataType():"Float32Array",a=Vc.newInstance(),s=new Float32Array(3),u=new Float32Array(3);if(Ke(t.point1,t.origin,s),Ke(t.point2,t.origin,u),e.updatePlane(s,u)){var c=t.xResolution,l=t.yResolution,f=(c+1)*(l+1),d=c*l,p=fe.newTypedArray(i,3*f);a.getPoints().setData(p,3);var h=new Uint32Array(5*d);a.getPolys().setData(h,1);var m=new Float32Array(3*f),g=Fn.newInstance({numberOfComponents:3,values:m,name:"Normals"});a.getPointData().setNormals(g);var v=new Float32Array(2*f),y=Fn.newInstance({numberOfComponents:2,values:v,name:"TextureCoordinates"});a.getPointData().setTCoords(y);for(var b=new Float32Array(2),w=0,x=0;x<l+1;x++){b[1]=x/l;for(var C=0;C<c+1;C++)b[0]=C/c,p[3*w]=t.origin[0]+b[0]*s[0]+b[1]*u[0],p[3*w+1]=t.origin[1]+b[0]*s[1]+b[1]*u[1],p[3*w+2]=t.origin[2]+b[0]*s[2]+b[1]*u[2],v[2*w]=b[0],v[2*w+1]=b[1],m[3*w]=t.normal[0],m[3*w+1]=t.normal[1],m[3*w+2]=t.normal[2],w++}w=0;for(var S=0;S<l;S++)for(var A=0;A<c;A++)h[5*w+0]=4,h[5*w+1]=A+S*(c+1),h[5*w+2]=h[5*w+1]+1,h[5*w+3]=h[5*w+1]+c+2,h[5*w+4]=h[5*w+1]+c+1,w++;r[0]=a}else Ip("Bad plane definition")}},e.setNormal=function(){var n=[];if(1===arguments.length||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=y(arguments.length<=0?void 0:arguments[0]):3===arguments.length&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),0!==nt(n)){var r=$e(t.normal,n),o=0,i=[];r<1&&(r<=-1?(o=_e(180),Ke(t.point1,t.origin,i)):(et(t.normal,n,i),o=Math.acos(r)),e.rotate(o,i))}},e.rotate=function(n,r){if(!(Math.abs(n)<1e-6)){var o=Di(new Float64Array(16)),i=[];Zo(i,t.center),Bi(o,o,t.center),Fi(o,o,n,r),Bi(o,o,i),ii(t.origin,t.origin,o),ii(t.point1,t.point1,o),ii(t.point2,t.point2,o),Es.buildFromRadian().rotate(n,r).apply(t.normal),e.modified()}},e.setCenter=function(){var n=[];if(1===arguments.length||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=y(arguments.length<=0?void 0:arguments[0]):3===arguments.length&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!hi(n,t.center)){var r=[];Ke(t.point1,t.origin,r);var o=[];Ke(t.point2,t.origin,o);for(var i=0;i<3;i++)t.center[i]=n[i],t.origin[i]=t.center[i]-.5*(r[i]+o[i]),t.point1[i]=t.origin[i]+r[i],t.point2[i]=t.origin[i]+o[i];e.modified()}},e.setPoint1=function(){var n=[];if(1===arguments.length||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=y(arguments.length<=0?void 0:arguments[0]):3===arguments.length&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!hi(n,t.point1)){var r=[],o=[];t.point1=y(n),Ke(t.point1,t.origin,r),Ke(t.point2,t.origin,o),e.updatePlane(r,o),e.modified()}},e.setPoint2=function(){var n=[];if(1===arguments.length||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=y(arguments.length<=0?void 0:arguments[0]):3===arguments.length&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!hi(n,t.point2)){var r=[],o=[];t.point2=y(n),Ke(t.point1,t.origin,r),Ke(t.point2,t.origin,o),e.updatePlane(r,o),e.modified()}},e.updatePlane=function(e,n){for(var r=0;r<3;r++)t.center[r]=t.origin[r]+.5*(e[r]+n[r]);return et(e,n,t.normal),0!==nt(t.normal)}}var Mp={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float32Array"};function Np(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Mp,n),t.normal=[0,0,1],t.center=[0,0,0],fe.obj(e,t),fe.setGet(e,t,["xResolution","yResolution"]),fe.setGetArray(e,t,["origin"],3),fe.getArray(e,t,["point1","point2","normal","center"],3),fe.algo(e,t,0,1),kp(e,t),e.setPoint1(t.point1),e.setPoint2(t.point2)}var Rp={newInstance:fe.newInstance(Np,"vtkPlaneSource"),extend:Np};function Bp(e,t){t.classHierarchy.push("vtkPointSource"),e.requestData=function(e,n){if(!t.deleted){var r=n[0],o=r?r.getPoints().getDataType():"Float32Array",i=Vc.newInstance(),a=t.numberOfPoints,s=fe.newTypedArray(o,3*a);i.getPoints().setData(s,3);var u,c,l,f,d,p=new Uint32Array(a+1);i.getVerts().setData(p,1);for(var h=0;h<a;h++)u=1-2*We(),c=Math.sqrt(1-u*u),f=(l=t.radius*Math.pow(We(),.33333333))*c,d=2*Math.PI*We(),s[3*h]=t.center[0]+f*Math.cos(d),s[3*h+1]=t.center[1]+f*Math.sin(d),s[3*h+2]=t.center[2]+l*u;p[0]=a;for(var m=0;m<a;m++)p[m+1]=m;n[0]=i}}}var Lp={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float32Array"};function Fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Lp,n),fe.obj(e,t),fe.setGet(e,t,["numberOfPoints","radius"]),fe.setGetArray(e,t,["center"],3),fe.algo(e,t,0,1),Bp(e,t)}var jp={newInstance:fe.newInstance(Fp,"vtkPointSource"),extend:Fp};function Vp(e,t){var n=this;t.classHierarchy.push("vtkRTAnalyticSource"),e.requestData=function(e,r){if(!t.deleted){var o={},i={type:"vtkImageData",mtime:t.mtime,metadata:{source:"vtkRTAnalyticSource",state:o}};["standardDeviation","center","frequency","magnitude","maximum"].forEach((function(e){o[e]=[].concat(t[e])}));var a=es.newInstance(i);a.setSpacing(1,1,1),a.setExtent.apply(n,t.wholeExtent),a.setOrigin(0,0,0),a.setDirection(t.dataDirection);var s=[0,0,0];s=s.map((function(e,n){return t.wholeExtent[2*n+1]-t.wholeExtent[2*n]+1}));for(var u=new Uint8Array(s[0]*s[1]*s[2]),c=1/(2*t.standardDeviation*t.standardDeviation),l=0,f=0,d=0,p=[1/(t.wholeExtent[1]-t.wholeExtent[0]),1/(t.wholeExtent[3]-t.wholeExtent[2]),1/(t.wholeExtent[5]-t.wholeExtent[4])],h=0,m=t.wholeExtent[4];m<=t.wholeExtent[5];m++){d=(t.center[2]-m)*p[2];var g=t.magnitude[2]*Math.cos(t.frequency[2]*d);d*=d;for(var v=t.wholeExtent[2];v<=t.wholeExtent[3];v++){f=(t.center[1]-v)*p[1];var y=t.magnitude[1]*Math.sin(t.frequency[1]*f);f*=f;for(var b=t.wholeExtent[0];b<=t.wholeExtent[1];b++){var w=d+f+(l=(t.center[0]-b)*p[0])*l,x=t.magnitude[0]*Math.sin(t.frequency[0]*l);u[h]=t.maximum*Math.exp(-w*c)+x+y+g+t.offset,h++}}}var C=Fn.newInstance({numberOfComponents:1,values:u});C.setName("scalars"),a.getPointData().setScalars(C),r[0]=a}}}var Up={offset:40,maximum:120,center:[0,0,0],frequency:[60,30,40],magnitude:[10,18,5],standardDeviation:.5,wholeExtent:[-10,10,-10,10,-10,10],dataDirection:[1,0,0,0,1,0,0,0,1]};function zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Up,n),fe.obj(e,t),fe.setGet(e,t,["offset","maximum","standardDeviation"]),fe.setGetArray(e,t,["center","frequency","magnitude"],3),fe.setGetArray(e,t,["wholeExtent"],6),fe.setGetArray(e,t,["dataDirection"],9),fe.algo(e,t,0,1),Vp(e,t)}var Gp={newInstance:fe.newInstance(zp,"vtkRTAnalyticSource"),extend:zp};function Wp(e,t){t.classHierarchy.push("vtkSLICSource"),e.addCluster=function(n,r,o,i,a,s,u){var c=t.clusters.length;return t.clusters.push(new Float32Array([n,r,o,i,a,s,u])),e.modified(),c},e.removeCluster=function(n){t.clusters.splice(n,1),e.modified()},e.removeAllClusters=function(){t.clusters=[],e.modified()},e.updateCluster=function(n,r,o,i,a,s,u,c){t.clusters[n]||(t.clusters[n]=new Float32Array(7)),t.clusters[n][0]=r,t.clusters[n][1]=o,t.clusters[n][2]=i,t.clusters[n][3]=a,t.clusters[n][4]=s,t.clusters[n][5]=u,t.clusters[n][6]=c,e.modified()},e.getNumberOfClusters=function(){return t.clusters.length},e.requestData=function(e,n){if(!t.deleted){var r=t.dimensions[0]*t.dimensions[1]*t.dimensions[2],o=es.newInstance();o.setSpacing.apply(o,y(t.spacing)),o.setExtent(0,t.dimensions[0]-1,0,t.dimensions[1]-1,0,t.dimensions[2]-1),o.setOrigin.apply(o,y(t.origin));for(var i=function(e,t,n){for(var r=new Float32Array(t[0]*t[1]*t[2]*3),o=0,i=0;i<t[2];i++)for(var a=e[2]+n[2]*i,s=0;s<t[1];s++)for(var u=e[1]+n[1]*s,c=0;c<t[0];c++){var l=e[0]+n[0]*c;r[o++]=l,r[o++]=u,r[o++]=a}return r}(t.origin,t.dimensions,t.spacing),a=(t.clusters.length<256?8:0)||(t.clusters.length<65536?16:32),s=fe.newTypedArray("Uint".concat(a,"Array"),r),u=function(e){var n=Number.MAX_VALUE;t.clusters.forEach((function(t,r){var o=(t[0]-i[3*e])*(t[0]-i[3*e])+(t[1]-i[3*e+1])*(t[1]-i[3*e+1])+(t[2]-i[3*e+2])*(t[2]-i[3*e+2]);o<n&&(n=o,s[e]=r)}))},c=0;c<r;c++)u(c);var l=Fn.newInstance({name:t.clusterArrayName,numberOfComponents:1,values:s});o.getPointData().addArray(l);for(var f=new Float32Array(r),d=0;d<r;d++){var p=t.clusters[s[d]];f[d]=p[3]+p[4]*(i[3*d+0]-p[0])+p[5]*(i[3*d+1]-p[1])+p[6]*(i[3*d+2]-p[2])}var h=Fn.newInstance({name:t.scalarArrayName,numberOfComponents:1,values:f});o.getPointData().addArray(h),n[0]=o}}}var Hp={clusters:[],spacing:[1,1,1],origin:[0,0,0],dimensions:[10,10,10],clusterArrayName:"cluster",scalarArrayName:"field"};function qp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Hp,n),fe.obj(e,t),fe.setGet(e,t,["clusterArrayName","scalarArrayName"]),fe.setGetArray(e,t,["origin","spacing","dimensions"],3),fe.algo(e,t,0,1),Wp(e,t)}var Kp={newInstance:fe.newInstance(qp,"vtkSLICSource"),extend:qp};function Xp(e,t){t.classHierarchy.push("vtkSphereSource"),e.requestData=function(e,n){if(!t.deleted){var r=n[0],o=r?r.getPoints().getDataType():"Float32Array";r=Vc.newInstance();var i=0,a=t.thetaResolution,s=t.startTheta<t.endTheta?t.startTheta:t.endTheta;s*=Math.PI/180;var u=t.endTheta>t.startTheta?t.endTheta:t.startTheta;u*=Math.PI/180;var c=t.startPhi<t.endPhi?t.startPhi:t.endPhi;c*=Math.PI/180;var l=t.endPhi>t.startPhi?t.endPhi:t.startPhi;l*=Math.PI/180,Math.abs(s-u)<2*Math.PI&&++a;var f=(u-s)/t.thetaResolution,d=t.startPhi<=0?1:0,p=t.phiResolution+(t.endPhi>=180?-1:0),h=t.phiResolution*a+2,m=2*t.phiResolution*t.thetaResolution,g=0,v=fe.newTypedArray(o,3*h),y=new Float32Array(3*h),b=0,w=new Uint32Array(5*m);t.startPhi<=0&&(v[3*g+0]=t.center[0],v[3*g+1]=t.center[1],v[3*g+2]=t.center[2]+t.radius,y[3*g+0]=0,y[3*g+1]=0,y[3*g+2]=1,g++,i++),t.endPhi>=180&&(v[3*g+0]=t.center[0],v[3*g+1]=t.center[1],v[3*g+2]=t.center[2]-t.radius,y[3*g+0]=0,y[3*g+1]=0,y[3*g+2]=-1,g++,i++);for(var x=t.phiResolution-i,C=(l-c)/(t.phiResolution-1),S=0;S<a;S++)for(var A=s+S*f,_=d;_<p;_++){var P=c+_*C,O=t.radius*Math.sin(P);y[3*g+0]=O*Math.cos(A),y[3*g+1]=O*Math.sin(A),y[3*g+2]=t.radius*Math.cos(P),v[3*g+0]=y[3*g+0]+t.center[0],v[3*g+1]=y[3*g+1]+t.center[1],v[3*g+2]=y[3*g+2]+t.center[2];var E=Math.sqrt(y[3*g+0]*y[3*g+0]+y[3*g+1]*y[3*g+1]+y[3*g+2]*y[3*g+2]);E=0===E?1:E,y[3*g+0]/=E,y[3*g+1]/=E,y[3*g+2]/=E,g++}var T=x*a;if(Math.abs(s-u)<2*Math.PI&&--a,t.startPhi<=0)for(var D=0;D<a;D++)w[b++]=3,w[b++]=x*D+i,w[b++]=x*(D+1)%T+i,w[b++]=0;if(t.endPhi>=180)for(var I=x-1+i,k=0;k<a;k++)w[b++]=3,w[b++]=x*k+I,w[b++]=i-1,w[b++]=x*(k+1)%T+I;for(var M=0;M<a;M++)for(var N=0;N<x-1;N++){var R=x*M+N+i,B=R+1,L=(x*(M+1)+N)%T+i+1;t.latLongTessellation?(w[b++]=4,w[b++]=R,w[b++]=B,w[b++]=L,w[b++]=L-1):(w[b++]=3,w[b++]=R,w[b++]=B,w[b++]=L,w[b++]=3,w[b++]=R,w[b++]=L,w[b++]=L-1)}v=v.subarray(0,3*g),r.getPoints().setData(v,3),y=y.subarray(0,3*g);var F=Fn.newInstance({name:"Normals",values:y,numberOfComponents:3});r.getPointData().setNormals(F),w=w.subarray(0,b),r.getPolys().setData(w,1),n[0]=r}}}var Yp={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float32Array"};function Zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yp,n),fe.obj(e,t),fe.setGet(e,t,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),fe.setGetArray(e,t,["center"],3),fe.algo(e,t,0,1),Xp(e,t)}var Jp={newInstance:fe.newInstance(Zp,"vtkSphereSource"),extend:Zp},$p={vtkArrowSource:op,vtkCircleSource:cp,vtkConcentricCylinderSource:pp,vtkConeSource:Zd,vtkCubeSource:vp,vtkCursor3D:xp,vtkCylinderSource:ep,vtkImageGridSource:_p,vtkLineSource:Dp,vtkPlaneSource:Rp,vtkPointSource:jp,vtkRTAnalyticSource:Gp,vtkSLICSource:Kp,vtkSphereSource:Jp},Qp=fe.vtkErrorMacro;function eh(e,t){t.classHierarchy.push("vtkTextureMapToSphere"),e.requestData=function(e,n){if(!t.deleted){var r=e[0],o=r.getPoints().getNumberOfPoints();if(o<=1)Qp("Can't generate texture coordinates without points");else{var i=Math.PI/2,a=[],s=r.getPoints();if(t.automaticSphereGeneration){t.center=[0,0,0];for(var u=0;u<o;u++)s.getPoint(u,a),t.center[0]+=a[0],t.center[1]+=a[1],t.center[2]+=a[2];t.center[0]/=o,t.center[1]/=o,t.center[2]/=o}for(var c=0,l=0,f=0,d=[0,0],p=0,h=0,m=0,g=[],v=0;v<o;v++)s.getPoint(v,a),0!==(c=Math.sqrt(st(a,t.center)))?(l=a[2]-t.center[2],Math.abs(l)>c?(f=0,d[1]=l>0?0:1):(f=Math.acos(l/c),d[1]=f/Math.PI)):d[1]=0,0!=(p=c*Math.sin(f))?(l=a[0]-t.center[0],h=Math.abs(l)>p?l>0?0:Math.PI:Math.acos(l/p),l=a[1]-t.center[1],m=Math.abs(l)>p?l>0?i:-i:Math.asin(l/p)):(h=0,m=0),t.preventSeam?d[0]=h/Math.PI:(d[0]=h/(2*Math.PI),m<0&&(d[0]=1-d[0])),g.push.apply(g,d);var y=Fn.newInstance({name:"Texture Coordinates",numberOfComponents:2,size:o,values:g}),b=Vc.newInstance();b.getPoints().setData(new Float32Array(r.getPoints().getData()),3),b.getPolys().setData(new Uint32Array(r.getPolys().getData())),b.getPointData().setTCoords(y),n[0]=b}}}}var th={center:[0,0,0],automaticSphereGeneration:1,preventSeam:1};function nh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,th,n),fe.obj(e,t),fe.setGetArray(e,t,["center"]),fe.setGet(e,t,["automaticSphereGeneration","preventSeam"]),fe.algo(e,t,1,1),eh(e,t)}var rh={newInstance:fe.newInstance(nh,"vtkTextureMapToSphere"),extend:nh},oh=fe.vtkErrorMacro;function ih(e,t){t.classHierarchy.push("vtkTextureMapToPlane"),e.requestData=function(e,n){if(!t.deleted){var r=e[0],o=r.getPoints().getNumberOfPoints();if(o<3&&t.automaticPlaneGeneration)oh("Can't generate texture coordinates without points");else{var i=Vc.newInstance();i.getPoints().setData(new Float32Array(r.getPoints().getData()),3),i.getPolys().setData(new Uint32Array(r.getPolys().getData()));var a=[],s=0,u=0,c=0,l=0,f=[0,0,0],d=0,p=[0,0,0],h=[0,0,0],m=0,g=0,v=0,y=0,b=[0,0,0];if(t.automaticPlaneGeneration&&0===t.origin[0]&&0===t.origin[1]&&0===t.origin[2]&&0===t.point1[0]&&0===t.point1[1]&&0===t.point2[0]&&0===t.point2[1]){for(t.automaticPlaneGeneration&&function(e){for(var n=e.getPoints().getNumberOfPoints(),r=0,o=[0,0,0,0,0,0,0,0,0],i=[0,0,0],a=[0,0,0],s=e.getBounds(),u=[s[0],s[2],s[4]],c=[s[1],s[3],s[5]],l=Math.sqrt(st(u,c)),f=l,d=0;d<3;d++)t.normal[d]=0,s[2*d+1]-s[2*d]<f&&(r=d,f=s[2*d+1]-s[2*d]);if(t.normal[r]=1,!(f<=.001*l)){for(a[0]=0,a[1]=0,a[2]=0,d=0;d<9;d++)o[d]=0;for(var p=0;p<n;p++)e.getPoints().getPoint(p,i),a[0]+=i[0]*i[2],a[1]+=i[1]*i[2],a[2]+=i[2],o[0]+=i[0]*i[0],o[1]+=i[0]*i[1],o[2]+=i[0],o[3]+=i[0]*i[1],o[4]+=i[1]*i[1],o[5]+=i[1],o[6]+=i[0],o[7]+=i[1];o[8]=n;var h=[o[0],o[1],o[2]],m=[o[3],o[4],o[5]],g=[o[6],o[7],o[8]],v=[h,m,g],y=_t(v);y<=.001||(v[0]=a,v[1]=m,v[2]=g,t.normal[0]=_t(v)/y,v[0]=h,v[1]=a,v[2]=g,t.normal[1]=_t(v)/y,t.normal[2]=-1)}}(i),nt(t.normal),s=1,u=0;u<3;u++)f[0]=0,f[1]=0,f[2]=0,f[u]=1,(l=Math.abs($e(t.normal,f)))<s&&(s=l,d=u);f[0]=0,f[1]=0,f[2]=0,f[d]=1,et(t.normal,f,p),nt(p),et(p,t.normal,h);var w=i.getBounds();for(u=0;u<3;u++)f[u]=w[2*u+1]-w[2*u];for(m=$e(h,f),g=$e(p,f),v=(t.sRange[1]-t.sRange[0])/m,y=(t.tRange[1]-t.tRange[0])/g,u=0;u<o;u++){for(i.getPoints().getPoint(u,b),c=0;c<3;c++)f[c]=b[c]-w[2*c];a.push(t.sRange[0]+$e(h,f)*v),a.push(t.tRange[0]+$e(p,f)*y)}}else{var x=0;for(u=0;u<3;u++)h[u]=t.point1[u]-t.origin[u],p[u]=t.point2[u]-t.origin[u];var C=$e(h,h),S=$e(p,p);for(0!==C&&0!==S||(oh("Bad plane definition"),C=1,S=1),u=0;u<o;u++){for(i.getPoints().getPoint(u,b),c=0;c<3;c++)f[c]=b[c]-t.origin[c];x=h[0]*f[0]+h[1]*f[1]+h[2]*f[2],a.push(x/C),x=p[0]*f[0]+p[1]*f[1]+p[2]*f[2],a.push(x/S)}}var A=Fn.newInstance({name:"Texture Coordinates",numberOfComponents:2,size:o,values:a});i.getPointData().setTCoords(A),n[0]=i}}}}var ah={origin:[0,0,0],point1:[0,0,0],point2:[0,0,0],normal:[0,0,0],sRange:[0,1],tRange:[0,1],automaticPlaneGeneration:1};function sh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ah,n),fe.obj(e,t),fe.setGetArray(e,t,["origin","point1","point2","normal","sRange","tRange"],3),fe.setGet(e,t,["automaticPlaneGeneration"]),fe.algo(e,t,1,1),ih(e,t)}var uh={Cornerstone:Sl,Core:Dl,General:qd,Sources:$p,Texture:{vtkTextureMapToPlane:{newInstance:fe.newInstance(sh,"vtkTextureMapToPlane"),extend:sh},vtkTextureMapToSphere:rh}},ch={CLAMP:0,REPEAT:1,MIRROR:2},lh={NEAREST:0,LINEAR:1,CUBIC:2},fh={ImageBorderMode:ch,InterpolationMode:lh};function dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dh(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hh={pointer:null,extent:[0,-1,0,-1,0,-1],increments:[0,0,0],scalarType:null,dataTypeSize:1,numberOfComponents:1,borderMode:ch.CLAMP,interpolationMode:lh.LINEAR,extraInfo:null},mh=ph(ph({},hh),{},{positions:[0,0,0],weights:null,weightExtent:[0,-1,0,-1,0,-1],kernelSize:[1,1,1],workspace:null,lastY:null,lastZ:null});function gh(e){var t=Math.floor(e);return{floored:t,error:e-t}}function vh(e){return Math.round(e)}function yh(e,t,n){var r=e<=n?e:n;return(r-=t)>=0?r:0}function bh(e,t,n){var r=n-t+1,o=e-t;return(o%=r)>=0?o:o+r}function wh(e,t,n){var r=n-t,o=2*r+(0===r?1:0),i=e-t;return i=i>=0?i:-i,(i%=o)<=r?i:o-i}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xh(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sh=fh.ImageBorderMode;function Ah(e,t){t.classHierarchy.push("vtkAbstractImageInterpolator"),e.initialize=function(n){e.releaseData(),t.scalars=n.getPointData().getScalars(),t.spacing=n.getSpacing(),t.origin=n.getOrigin(),t.extent=n.getExtent(),e.update()},e.releaseData=function(){t.scalars=null},e.update=function(){if(!t.scalars)return t.interpolationInfo.pointer=null,void(t.interpolationInfo.numberOfComponents=1);t.interpolationInfo.extent=t.extent.slice();for(var n=e.computeSupportSize(null),r=Math.max(Math.max(n[0],n[1]),n[2]),o=Number.MIN_SAFE_INTEGER+r/2,i=Number.MAX_SAFE_INTEGER-r/2,a=0;a<3;++a){var s=Math.max(.5*(t.extent[2*a]===t.extent[2*a+1]),t.tolerance);t.structuredBounds[2*a]=Math.max(t.extent[2*a]-s,o),t.structuredBounds[2*a+1]=Math.min(t.extent[2*a+1]+s,i)}var u=t.extent[1]-t.extent[0]+1,c=t.extent[3]-t.extent[2]+1,l=t.scalars.getNumberOfComponents();t.interpolationInfo.increments[0]=l,t.interpolationInfo.increments[1]=t.interpolationInfo.increments[0]*u,t.interpolationInfo.increments[2]=t.interpolationInfo.increments[1]*c;var f=t.componentOffset;f=(f=f>0?f:0)<l?f:l-1;var d=t.scalars.getData();t.interpolationInfo.pointer=d.subarray(1*f),t.interpolationInfo.scalarType=t.scalars.dataType,t.interpolationInfo.dataTypeSize=1,t.interpolationInfo.numberOfComponents=e.computeNumberOfComponents(l),t.interpolationInfo.borderMode=t.borderMode,e.internalUpdate()},e.internalUpdate=function(){},e.interpolateXYZ=function(n,r,o,i){var a=t.outValue,s=[n,r,o],u=[(s[0]-t.origin[0])/t.spacing[0],(s[1]-t.origin[1])/t.spacing[1],(s[2]-t.origin[2])/t.spacing[2]];if(e.checkBoundsIJK(u)){var c=Ch({},t.interpolationInfo),l=c.increments[0]-t.componentOffset,f=i>0?i:0;f=f<l?f:l-1,c.pointer=t.interpolationInfo.pointer.subarray(1*f),c.numberOfComponents=1;var d=[a];e.interpolatePoint(c,u,d),a=d[0]}return a},e.interpolate=function(n,r){var o=[(n[0]-t.origin[0])/t.spacing[0],(n[1]-t.origin[1])/t.spacing[1],(n[2]-t.origin[2])/t.spacing[2]];if(e.checkBoundsIJK(o))return e.interpolatePoint(t.interpolationInfo,o,r),!0;for(var i=0;i<t.interpolationInfo.numberOfComponents;++i)r[i]=t.outValue;return!1},e.computeNumberOfComponents=function(e){var n=Math.min(Math.max(t.componentOffset,0),e-1),r=t.componentCount<e-n?t.componentCount:e-n;return r>0?r:e-n},e.getNumberOfComponents=function(){return t.interpolationInfo.numberOfComponents},e.interpolateIJK=function(n,r){e.interpolatePoint(t.interpolationInfo,n,r)},e.checkBoundsIJK=function(e){return!(e[0]<t.structuredBounds[0]||e[0]>t.structuredBounds[1]||e[1]<t.structuredBounds[2]||e[1]>t.structuredBounds[3]||e[2]<t.structuredBounds[4]||e[2]>t.structuredBounds[5])},e.computeSupportSize=null,e.isSeparable=null,e.precomputeWeightsForExtent=function(e,t,n){},e.FreePrecomputedWeights=function(e){},e.interpolatePoint=function(e,t,n){},e.interpolateRow=function(e,t,n,r,o,i){}}var _h={outValue:0,tolerance:Number.EPSILON,componentOffset:0,componentCount:-1,borderMode:Sh.CLAMP,slidingWindow:!1,scalars:null,interpolationInfo:Ch({},hh),interpolationFunc:null,rowInterpolationFunc:null,structuredBounds:[0,-1,0,-1,0,-1],spacing:null,origin:null,extent:null};function Ph(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_h,n),fe.obj(e,t),fe.setGet(e,t,["outValue","tolerance","componentOffset","componentCount","borderMode","slidingWindow"]),fe.get(e,t,["origin","spacing"]),Ah(e,t)}var Oh=Ch({newInstance:fe.newInstance(Ph,"vtkAbstractImageInterpolator"),extend:Ph},fh);function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dh(e,t){t.classHierarchy.push("vtkImageInterpolator"),e.computeSupportSize=function(e){var n=1;t.interpolationMode===lh.LINEAR?n=2:t.interpolationMode===lh.CUBIC&&(n=4);var r=[n,n,n];if(null==e)return r;if(0!==e[12]||0!==e[13]||0!==e[14]||1!==e[15])return r;for(var o=0;o<3;++o){for(var i=!0,a=0;a<3;++a)i=i&&Number.isInteger(e[4*o+a]);i&&(r[o]=1)}return r},e.internalUpdate=function(){t.interpolationInfo.interpolationMode=t.interpolationMode},e.isSeparable=function(){return!0},e.interpolateNearest=function(e,t,n){var r=e.extent,o=e.increments,i=e.numberOfComponents,a=vh(t[0]),s=vh(t[1]),u=vh(t[2]);switch(e.borderMode){case ch.REPEAT:a=bh(a,r[0],r[1]),s=bh(s,r[2],r[3]),u=bh(u,r[4],r[5]);break;case ch.MIRROR:a=wh(a,r[0],r[1]),s=wh(s,r[2],r[3]),u=wh(u,r[4],r[5]);break;default:a=yh(a,r[0],r[1]),s=yh(s,r[2],r[3]),u=yh(u,r[4],r[5])}for(var c=a*o[0]+s*o[1]+u*o[2],l=0;l<i;++l)n[l]=e.pointer[c+l]},e.interpolatePoint=function(n,r,o){switch(t.interpolationMode){case lh.NEAREST:default:e.interpolateNearest(n,r,o);break;case lh.LINEAR:console.log("LINEAR not implemented");break;case lh.CUBIC:console.log("CUBIC not implemented")}},e.interpolateRowNearest=function(e,t,n,r,o,i){for(var a=e.positions[0].subarray(t),s=e.positions[1].subarray(n),u=e.positions[2].subarray(r),c=e.pointer.subarray(s[0]+u[0]),l=e.numberOfComponents,f=0;f<i;++f)o.set(c.subarray(a[f],l),f*l)},e.interpolateRow=function(n,r,o,i,a,s){switch(t.interpolationMode){case lh.NEAREST:default:e.interpolateRowNearest(n,r,o,i,a,s);break;case lh.LINEAR:console.log("LINEAR not implemented");break;case lh.CUBIC:console.log("CUBIC not implemented")}},e.vtkTricubicInterpWeights=function(e){var t=e-1,n=.5*e,r=3*e;return[-n*t*t,((r-2)*n-1)*t,-((r-4)*e-1)*n,e*n*t]},e.precomputeWeightsForExtent=function(n,r,o){var i=Th(Th({},mh.newInstance()),t.interpolationInfo);i.weightType="Float32Array";for(var a=i.interpolationMode,s=!0,u=0;u<3;++u){var c=void 0;for(c=0;c<3&&0===n[4*u+c];++c);o[2*u]=r[2*u],o[2*u+1]=r[2*u+1];var l=i.extent[2*c],f=i.extent[2*c+1],d=t.structuredBounds[2*c],p=t.structuredBounds[2*c+1],h=1;h=a<lh.LINEAR?h:2;var m=f-l+1;h=(h=a<lh.CUBIC?h:4)<m?h:m,Number.isInteger(n[4*u+c])&&Number.isInteger(n[4*c+c])&&(h=1);var g=h*(r[2*u+1]-r[2*u]+1),v=new Int16Array(g),y=h*r[2*u],b=null;a!==lh.NEAREST&&(b=new Int16Array(g)),i.kernelSize[u]=h,i.weightExtent[2*u]=r[2*u],i.weightExtent[2*u+1]=r[2*u+1],i.positions[u]=v,i.weights[u]=b;for(var w=0,x=r[2*u];x<=r[2*u+1];++x){var C=n[12+c]+x*n[4*u+c],S=h,A=0,_=0;if(a===lh.NEAREST)A=Math.round(C);else{var P=gh(C);A=P.integer,_=P.error,a===lh.CUBIC&&1!==h&&(A--,S=4)}var O=[0,0,0,0],E=0;switch(i.borderMode){case ch.REPEAT:do{O[E]=bh(A,l,f),A++}while(++E<S);break;case ch.MIRROR:do{O[E]=wh(A,l,f),A++}while(++E<S);break;default:do{O[E]=yh(A,l,f),A++}while(++E<S)}var T=i.increments[c];if(v[h*x-y]=O[0]*T,a!==lh.NEAREST&&(b[h*x-y]=1),h>1)if(a===lh.LINEAR)v[h*x+1-y]=O[1]*T,b[h*x-y]=1-_,b[h*x+1-y]=_;else if(a===lh.CUBIC){var D=e.vtkTricubicInterpWeights(_);if(4===h)for(var I=0;I<4;I++)v[h*x+I-y]=O[I]*T,b[h*x+I-y]=D[I];else{for(var k=[0,0,0,0],M=0;M<4;M++)k[O[M]-l]+=D[M];for(var N=0;N<h;N++)v[h*x+N-y]=l+N,b[h*x+N-y]=k[N]}}C>=d&&C<=p?0===w&&(w=1,o[2*u]=x):1===w&&(w=2,o[2*u+1]=x-1)}(0===w||o[2*u]>o[2*u+1])&&(s=!1)}if(!s)for(var R=0;R<3;R++)o[2*R]=r[2*R],o[2*R+1]=r[2*R]-1}}var Ih={interpolationMode:lh.NEAREST};function kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ih,n),Oh.extend(e,t,n),fe.setGet(e,t,["interpolationMode"]),Dh(e,t)}var Mh={newInstance:fe.newInstance(kh,"vtkImageInterpolator"),extend:kh};function Nh(e,t){t.classHierarchy.push("vtkImagePointDataIterator"),e.initialize=function(e,n,r,o){var i=e.getExtent(),a=n;null==a&&(a=i);for(var s,u,c,l=!1,f=0;f<6;f+=2)t.extent[f]=Math.max(a[f],i[f]),t.extent[f+1]=Math.min(a[f+1],i[f+1]),t.extent[f]>t.extent[f+1]&&(l=!0);if(t.rowIncrement=i[1]-i[0]+1,t.sliceIncrement=t.rowIncrement*(i[3]-i[2]+1),l){s=0,u=0,c=0,t.id=0,t.rowEndIncrement=0,t.sliceEndIncrement=0;for(var d=0;d<6;d+=2)t.extent[d]=i[d],t.extent[d+1]=i[d]-1}else s=t.extent[1]-t.extent[0]+1,u=t.extent[3]-t.extent[2]+1,c=t.extent[5]-t.extent[4]+1,t.id=t.extent[0]-i[0]+(t.extent[2]-i[2])*t.rowIncrement+(t.extent[4]-i[4])*t.sliceIncrement,t.rowEndIncrement=t.rowIncrement-s,t.sliceEndIncrement=t.rowEndIncrement+t.sliceIncrement-t.rowIncrement*u;if(t.spanEnd=t.id+s,t.rowEnd=t.id+s,t.sliceEnd=t.id+(t.rowIncrement*u-t.rowEndIncrement),t.end=t.id+(t.sliceIncrement*c-t.sliceEndIncrement),t.index[0]=t.extent[0],t.index[1]=t.extent[2],t.index[2]=t.extent[4],t.startY=t.index[1],r){t.hasStencil=!0,t.inStencil=!1,t.spanIndex=0;var p=r.getExtent();if(t.spanSliceIncrement=0,t.spanSliceEndIncrement=0,p[3]>=p[2]&&p[5]>=p[4]){t.spanSliceIncrement=p[3]-p[2]+1;var h=t.extent[2]-p[2];h>=0&&(t.spanSliceEndIncrement+=h);var m=p[3]-t.extent[3];m>=0&&(t.spanSliceEndIncrement+=m)}var g=0,v=t.extent[2]-p[2];v<0?(t.extent[2]=p[2],g-=1):g+=v,p[3]<=t.extent[3]&&(t.extent[3]=p[3]);var y=t.extent[4]-p[4];y<0?(t.extent[4]=p[4],v>=0&&(g-=1+t.spanSliceEndIncrement)):g+=y*t.spanSliceIncrement,p[5]<=t.extent[5]&&(t.extent[5]=p[5]),t.extent[2]<=t.extent[3]&&t.extent[4]<=t.extent[5]?(t.spanCountPointer=r.extentListLengths.subarray(g),t.spanListPointer=r.extentLists.subarray(g),v>=0&&y>=0&&(t.inStencil=!0,t.setSpanState(t.extent[0]))):(t.spanCountPointer=null,t.spanListPointer=null,t.inStencil=!1)}else t.hasStencil=!1,t.inStencil=!0,t.spanSliceEndIncrement=0,t.spanSliceIncrement=0,t.spanIndex=0,t.spanCountPointer=null,t.spanListPointer=null;if(o){t.algorithm=o;var b=u*c;t.target=b/50+1,t.count=50*t.target-b/t.target*t.target+1}else t.algorithm=null,t.target=0,t.count=0},e.setSpanState=function(e){var n,r=!1,o=t.spanListPointer,i=t.spanCountPointer[0];for(n=0;n<i&&!(o[n]>e);++n)r=!r;t.spanIndex=n,t.inStencil=r;var a=t.extent[1]+1;n<i&&o[n]<=t.extent[1]&&(a=o[n]);var s=t.rowEnd-(t.rowIncrement-t.rowEndIncrement);t.id=s+(e-t.extent[0]),t.spanEnd=s+(a-t.extent[0])},e.nextSpan=function(){if(t.spanEnd===t.rowEnd){var n=1;if(t.spanEnd!==t.sliceEnd)t.id=t.rowEnd+t.rowEndIncrement,t.rowEnd+=t.rowIncrement,t.spanEnd=t.rowEnd,t.index[1]++;else{if(t.spanEnd===t.end)return void(t.id=t.end);t.id=t.sliceEnd+t.sliceEndIncrement,t.sliceEnd+=t.sliceIncrement,t.rowEnd=t.id+(t.rowIncrement-t.rowEndIncrement),t.spanEnd=t.rowEnd,t.index[1]=t.startY,t.index[2]++,n+=t.spanSliceEndIncrement}t.index[0]=t.extent[0],t.hasStencil&&(t.index[1]>=t.extent[2]&&t.index[1]<=t.extent[3]&&t.index[2]>=t.extent[4]&&t.index[2]<=t.extent[5]?(t.spanCountPointer=t.spanCountPointer.subarray(n),t.spanListPointer=t.spanListPointer.subarray(n),e.setSpanState(t.extent[0])):t.inStencil=!1),t.algorithm&&e.reportProgress()}else{t.id=t.spanEnd;var r=t.spanCountPointer[0],o=t.extent[1]+1;if(t.index[0]=o,t.spanIndex<r){var i=t.spanListPointer[t.spanIndex];i<o&&(t.index[0]=i)}if(t.spanIndex++,t.spanIndex<r){var a=t.spanListPointer[t.spanIndex];a<o&&(o=a)}t.spanEnd=t.rowEnd-(t.rowIncrement-t.rowEndIncrement)+(o-t.extent[0]),t.inStencil=!t.inStencil}},e.isAtEnd=function(){return t.id===t.end},e.isInStencil=function(){return t.inStencil},e.spanEndId=function(){return t.spanEnd},e.reportProgress=function(){},e.getArray=function(e,t){return e.getData().subarray(t*e.getNumberOfComponents())},e.getScalars=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.getArray(t.getPointData().getScalars(),n)}}var Rh={spanState:0,extent:[0,-1,0,-1,0,-1],end:0,spanEnd:0,rowEnd:0,sliceEnd:0,rowIncrement:0,rowEndIncrement:0,sliceIncrement:0,sliceEndIncrement:0,id:0,index:[0,0,0],startY:0,hasStencil:!1,inStencil:!0,spanIndex:0,spanSliceIncrement:0,spanSliceEndIncrement:0,spanCountPointer:null,spanListPointer:null,algorithm:null,target:0,count:0};function Bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Rh,n),fe.obj(e,t),fe.get(e,t,["id","index"]),Nh(e,t)}var Lh,Fh={newInstance:fe.newInstance(Bh,"vtkImagePointDataIterator"),extend:Bh};function jh(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}Lh=new Po(4),Po!=Float32Array&&(Lh[0]=0,Lh[1]=0,Lh[2]=0,Lh[3]=0);var Vh={SlabMode:{MIN:0,MAX:1,MEAN:2,SUM:3}};function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zh=Vh.SlabMode,Gh=fe.capitalize,Wh=fe.vtkErrorMacro;function Hh(e,t){t.classHierarchy.push("vtkImageReslice");var n=null,r=null;function o(e,t,n,r){for(var o=n-1,i=0;i<t;i+=1){for(var a=.5*e[i],s=1;s<o;s+=1)a+=e[i+s*t];a+=.5*e[i+o*t],e[i]=a*r}}function i(e,t,n,r){for(var o=0;o<t;o+=1){for(var i=e[o],a=1;a<n;a+=1)i+=e[o+a*t];e[o]=i*r}}function a(e,t,n){for(var r=0;r<t;r+=1){for(var o=e[r],i=1;i<n;i+=1)o=Math.min(o,e[r+i*t]);e[r]=o}}function s(e,t,n){for(var r=0;r<t;r+=1){for(var o=e[r],i=1;i<n;i+=1)o=Math.max(o,e[r+i*t]);e[r]=o}}function u(e,t,n){i(e,t,n,1/n)}function c(e,t,n){o(e,t,n,1/(n-1))}function l(e,t,n){i(e,t,n,1)}function f(e,t,n){o(e,t,n,1)}e.setResliceAxes=function(n){return t.resliceAxes||(t.resliceAxes=Di(new Float64Array(16))),ha(t.resliceAxes,n)?null:(Oi(t.resliceAxes,n),e.modified(),!0)},e.requestData=function(o,i){var a=o[0];if(a){var s,u=a.getOrigin(),c=a.getSpacing(),l=a.getDimensions(),f=a.getPointData().getScalars(),d=[0,l[0]-1,0,l[1]-1,0,l[2]-1],p=[0,0,0],h=[1,1,1],m=[0,0,0,0,0,0],g=[0,0,0];s=t.resliceAxes?t.resliceAxes:Di(new Float64Array(16));var v=new Float64Array(16);ki(v,s);var y=[u[0]+.5*(d[0]+d[1])*c[0],u[1]+.5*(d[2]+d[3])*c[1],u[2]+.5*(d[4]+d[5])*c[2]],b=null;t.autoCropOutput&&(b=e.getAutoCroppedOutputBounds(a));for(var w=0;w<3;w++){var x=0,C=0,S=0,A=0;if(t.transformInputSampling){for(var _=0,P=0;P<3;P++){A+=v[4*P+w]*(y[P]-s[12+P]);var O=s[4*w+P]*s[4*w+P];x+=O*Math.abs(c[P]),C+=O*(d[2*P+1]-d[2*P])*Math.abs(c[P]),S+=O*d[2*P],_+=O}x/=_,C/=_*Math.sqrt(_),S/=_}else A=y[w],x=c[w],C=(d[2*w+1]-d[2*w])*x,S=d[2*w];null==t.outputSpacing?h[w]=x:h[w]=t.outputSpacing[w],w>=t.outputDimensionality?(m[2*w]=0,m[2*w+1]=0):null==t.outputExtent?(t.autoCropOutput&&(C=b[2*w+1]-b[2*w]),m[2*w]=Math.round(S),m[2*w+1]=Math.round(m[2*w]+Math.abs(C/h[w]))):(m[2*w]=t.outputExtent[2*w],m[2*w+1]=t.outputExtent[2*w+1]),w>=t.outputDimensionality?p[w]=0:null==t.outputOrigin?t.autoCropOutput?p[w]=b[2*w]-m[2*w]*h[w]:p[w]=A-.5*(m[2*w]+m[2*w+1])*h[w]:p[w]=t.outputOrigin[w],g[w]=m[2*w+1]-m[2*w]+1}var E=f.getDataType();t.outputScalarType&&(E=t.outputScalarType);var T=a.getPointData().getScalars().getNumberOfComponents(),D=fe.newTypedArray(E,g[0]*g[1]*g[2]*T),I=Fn.newInstance({name:"Scalars",values:D,numberOfComponents:T}),k=es.newInstance();k.setDimensions(g),k.setOrigin(p),k.setSpacing(h),k.getPointData().setScalars(I),e.getIndexMatrix(a,k);var M=t.interpolationMode;t.usePermuteExecute=!1,t.optimization&&null==r&&1===t.slabSliceSpacingFraction&&t.interpolator.isSeparable()&&e.isPermutationMatrix(n)&&(t.usePermuteExecute=!0,e.canUseNearestNeighbor(n,m)&&(M=lh.NEAREST)),t.interpolator.setInterpolationMode(M);var N=ch.CLAMP;N=t.wrap?ch.REPEAT:N,N=t.mirror?ch.MIRROR:N,t.interpolator.setBorderMode(N);var R=762939453125e-17,B=.5*t.border;B=(B=N===ch.CLAMP?B:4294967294)>R?B:R,t.interpolator.setTolerance(B),t.interpolator.initialize(a),e.vtkImageResliceExecute(a,k),t.interpolator.releaseData(),i[0]=k}else Wh("Invalid or missing input")},e.vtkImageResliceExecute=function(o,i){var a=o.getPointData().getScalars(),s=i.getPointData().getScalars(),u=s.getData(),c=i.getExtent(),l=n,f=Math.max(t.slabNumberOfSlices,1),d=t.slabSliceSpacingFraction,p=e.isPerspectiveMatrix(l),h=a.getData(),m=a.getDataType(),g=a.getNumberOfComponents(),v=t.interpolator.getComponentOffset(),y=t.interpolator.getBorderMode(),b=o.getDimensions(),w=[0,b[0]-1,0,b[1]-1,0,b[2]-1],x=[0,0,0];x[0]=a.getNumberOfComponents(),x[1]=x[0]*b[0],x[2]=x[1]*b[1];var C=b[0]*b[1]*b[2];v>0&&v+g<x[0]&&(h=h.subarray(1*v));var S=lh.NEAREST;t.interpolator.isA("vtkImageInterpolator")&&(S=t.interpolator.getInterpolationMode());for(var A=0!==t.scalarShift||1!==t.scalarScale,_=S===lh.NEAREST&&y===ch.CLAMP&&!(null!=r||p||A)&&m===s.getDataType()&&C===a.getNumberOfTuples()&&!0===t.border&&f<=1,P=s.getDataType(),O=s.getNumberOfComponents(),E=[0,0,0,0],T=[0,0,0,0],D=[0,0,0,0],I=[0,0,0,0],k=0;k<4;++k)E[k]=l[0+k],T[k]=l[4+k],D[k]=l[8+k],I[k]=l[12+k];var M=t.interpolator.getOrigin(),N=t.interpolator.getSpacing(),R=[1/N[0],1/N[1],1/N[2]],B=null;_||(B=new Float64Array(g*(c[1]-c[0])));var L=fe.newTypedArray(m,t.backgroundColor),F=S>lh.LINEAR||f>1&&t.slabMode===zh.SUM,j=e.getConversionFunc(m,P,t.scalarShift,t.scalarScale,F),V=e.getSetPixelsFunc(P,1,O,u),U=e.getCompositeFunc(t.slabMode,t.slabTrapezoidIntegration),z=c[2]-1,G=c[4]-1,W=[0,0,0,0],H=[0,0,0,0],q=Fh.newInstance();q.initialize(i,c,t.stencil,null);for(var K=q.getScalars(i,0),X=0,Y=fe.newTypedArray(P,Xr.getDiagonalLength(c)*O*2),Z=new Float64Array(g*f),J=new Float64Array(g);!q.isAtEnd();q.nextSpan()){var $=q.spanEndId()-q.getId();if(X=1*q.getId()*O,q.isInStencil()){var Q=q.getIndex();Q[2]>G&&(G=Q[2],W[0]=I[0]+G*D[0],W[1]=I[1]+G*D[1],W[2]=I[2]+G*D[2],W[3]=I[3]+G*D[3],z=c[2]-1),Q[1]>z&&(z=Q[1],H[0]=W[0]+z*T[0],H[1]=W[1]+z*T[1],H[2]=W[2]+z*T[2],H[3]=W[3]+z*T[3]);var ee=Q[0],te=ee+$-1;if(_){for(var ne=h,re=u,oe=1*x[0],ie=1*x[1],ae=1*x[2],se=w[1]-w[0]+1,ue=w[3]-w[2]+1,ce=w[5]-w[4]+1,le=ee-1,de=!1,pe=1*g,he=ee;he<=te;he++){var me=[H[0]+he*E[0],H[1]+he*E[1],H[2]+he*E[2]],ge=vh(me[0])-w[0],ve=vh(me[1])-w[2],ye=vh(me[2])-w[4];if(ge>=0&&ge<se&&ve>=0&&ve<ue&&ye>=0&&ye<ce){if(!de){de=!0;for(var be=V(Y,L,O,he-ee),we=0;we<be;++we)K[X++]=Y[we]}le=he;var xe=ge*oe+ve*ie+ye*ae;switch(pe){case 1:K[X++]=ne[xe];break;case 2:case 3:case 4:case 8:case 12:case 16:for(var Ce=0;Ce<pe;++Ce)K[X++]=ne[xe+Ce];break;default:var Se=0;do{K[X++]=ne[xe++]}while(++Se!==pe)}}else if(de)break}u=re;for(var Ae=V(Y,L,O,te-le),_e=0;_e<Ae;++_e)K[X++]=Y[_e]}else for(var Pe=1,Oe=1,Ee=ee,Te=ee,De=B,Ie=0;Ee<=te;){for(;Te<=te&&Oe===Pe;Te++){var ke=[H[0]+Te*E[0],H[1]+Te*E[1],H[2]+Te*E[2],H[3]+Te*E[3]],Me=[0,0,0,0],Ne=ke;Oe=!1;for(var Re=0,Be=0;Be<f;++Be){if(f>1){var Le=Be-.5*(f-1);Le*=d,Me[0]=ke[0]+Le*D[0],Me[1]=ke[1]+Le*D[1],Me[2]=ke[2]+Le*D[2],Me[3]=ke[3]+Le*D[3],Ne=Me}if(p){var Fe=1/Ne[3];Ne[0]*=Fe,Ne[1]*=Fe,Ne[2]*=Fe}if(null!==r&&e.applyTransform(r,Ne,M,R),t.interpolator.checkBoundsIJK(Ne)){Oe=1,t.interpolator.interpolateIJK(Ne,J);for(var je=0;je<g;++je)Z[Re++]=J[je]}}Re>g&&U(Z,g,Re/g);for(var Ve=0;Ve<g;++Ve)De[Ie++]=Z[Ve];Pe=Te>ee?Pe:Oe}var Ue=Te-1-(Oe!==Pe)-Ee+1,ze=0;Pe?(A&&e.rescaleScalars(B,g,te-ee+1,t.scalarShift,t.scalarScale),ze=j(Y,B.subarray(Ee*g),O,Ue)):ze=V(Y,L,O,Ue);for(var Ge=0;Ge<ze;++Ge)K[X++]=Y[Ge];Ee+=Ue,Pe=Oe}}else for(var We=V(Y,L,O,$),He=0;He<We;++He)K[X++]=Y[He]}},e.getIndexMatrix=function(o,i){null===n&&(n=Di(new Float64Array(16)));var a=o.getOrigin(),s=o.getSpacing(),u=i.getOrigin(),c=i.getSpacing(),l=Di(new Float64Array(16)),f=Di(new Float64Array(16)),d=Di(new Float64Array(16));r&&(r=null),t.resliceAxes&&Oi(l,t.resliceAxes),t.resliceTransform;for(var p=e.isIdentityMatrix(l),h=0;h<3;h++)(null!==r||s[h]===c[h]&&a[h]===u[h])&&(null===r||1===c[h]&&0===u[h])||(p=!1),f[4*h+h]=1/s[h],f[12+h]=-a[h]/s[h],d[4*h+h]=c[h],d[12+h]=u[h];return p||(Ri(l,l,d),null==r&&Ri(l,f,l)),Oi(n,l),n},e.getAutoCroppedOutputBounds=function(e){var n=e.getOrigin(),r=e.getSpacing(),o=e.getDimensions(),i=[0,o[0]-1,0,o[1]-1,0,o[2]-1],a=new Float64Array(16);t.resliceAxes?ki(a,t.resliceAxes):Di(a);for(var s=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],u=[0,0,0,0],c=0;c<8;++c){u[0]=n[0]+i[c%2]*r[0],u[1]=n[1]+i[2+Math.floor(c/2)%2]*r[1],u[2]=n[2]+i[4+Math.floor(c/4)%2]*r[2],u[3]=1,t.resliceTransform,jh(u,u,a);var l=1/u[3];u[0]*=l,u[1]*=l,u[2]*=l;for(var f=0;f<3;++f)u[f]>s[2*f+1]&&(s[2*f+1]=u[f]),u[f]<s[2*f]&&(s[2*f]=u[f])}return s},e.getDataTypeMinMax=function(e){switch(e){case"Int8Array":return{min:-128,max:127};case"Uint8Array":case"Uint8ClampedArray":default:return{min:0,max:255};case"Int16Array":return{min:-32768,max:32767};case"Uint16Array":return{min:0,max:65535};case"Int32Array":return{min:-2147483648,max:2147483647};case"Uint32Array":return{min:0,max:4294967295};case"Float32Array":case"Float64Array":return{min:-12e37,max:12e37}}},e.clamp=function(e,t,n,r,o,i){for(var a=r*n,s=0;s<a;++s)e[s]=yh(t[s],o,i);return a},e.convert=function(e,t,n,r){for(var o=r*n,i=0;i<o;++i)e[i]=Math.round(t[i]);return o},e.getConversionFunc=function(t,n,r,o,i){var a=i;if(n!==pe.FLOAT&&n!==pe.DOUBLE&&!i){var s=e.getDataTypeMinMax(t),u=(s.min+r)*o,c=(s.max+r)*o,l=e.getDataTypeMinMax(n),f=l.min,d=l.max;if(u>c){var p=c;c=u,u=p}a=u<f||c>d}if(a&&n!==pe.FLOAT&&n!==pe.DOUBLE){var h=e.getDataTypeMinMax(n);return function(t,n,r,o){return e.clamp(t,n,r,o,h.min,h.max)}}return e.convert},e.set=function(e,t,n,r){for(var o=n*r,i=0;i<r;++i)e[i]=t[i];return o},e.set1=function(e,t,n,r){return e.fill(t[0],0,r),r},e.getSetPixelsFunc=function(t,n,r,o){return 1===r?e.set1:e.set},e.getCompositeFunc=function(e,t){var n=null;switch(e){case zh.MIN:n=a;break;case zh.MAX:n=s;break;case zh.MEAN:n=t?c:u;break;case zh.SUM:n=t?f:l}return n},e.applyTransform=function(e,t,n,r){t[3]=1,jh(t,t,e),t[0]-=n[0],t[1]-=n[1],t[2]-=n[2],t[0]*=r[0],t[1]*=r[1],t[2]*=r[2]},e.rescaleScalars=function(e,t,n,r,o){for(var i=n*t,a=0;a<i;++a)e[a]=(e[a]+r)*o},e.isPermutationMatrix=function(e){for(var t=0;t<3;t++)if(0!==e[4*t+3])return!1;if(1!==e[15])return!1;for(var n=0;n<3;n++){for(var r=0,o=0;o<3;o++)0!==e[4*n+o]&&r++;if(1!==r)return 0}return 1},e.isIdentityMatrix=function(e){for(var t=0;t<4;++t)for(var n=0;n<4;++n)if((t===n?1:0)!==e[4*n+t])return!1;return!0},e.isPerspectiveMatrix=function(e){return 0!==e[3]||0!==e[7]||0!==e[11]||1!==e[15]},e.canUseNearestNeighbor=function(e,t){for(var n=0;n<3;n++){var r=void 0;for(r=0;r<3&&0===e[4*r+n];r++);if(r>=3)return 0;var o=e[4*r+n],i=e[12+n];t[2*r]===t[2*r+1]&&(i+=o*t[2*n],o=0);var a=gh(o).error,s=gh(i).error;if(0!==a||0!==s)return 0}return 1}}function qh(e,t,n){n.forEach((function(n){var r="set".concat(Gh(n)),o=e[r];e[r]=function(){return 1===arguments.length&&null==(arguments.length<=0?void 0:arguments[0])||null==t[n]?(arguments.length<=0?void 0:arguments[0])!==t[n]?(t[n]=arguments.length<=0?void 0:arguments[0],e.modified(),!0):null:o.apply(void 0,arguments)}}))}var Kh={transformInputSampling:!0,autoCropOutput:!1,outputDimensionality:3,outputSpacing:null,outputOrigin:null,outputExtent:null,outputScalarType:null,wrap:!1,mirror:!1,border:!0,interpolationMode:lh.NEAREST,slabMode:zh.MIN,slabTrapezoidIntegration:!1,slabNumberOfSlices:1,slabSliceSpacingFraction:1,optimization:!1,scalarShift:0,scalarScale:1,backgroundColor:[0,0,0,0],resliceAxes:null,resliceTransform:null,interpolator:Mh.newInstance(),usePermuteExecute:!1};function Xh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Kh,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["outputDimensionality","outputScalarType","scalarShift","scalarScale","transformInputSampling","autoCropOutput","wrap","mirror","border","backgroundColor","slabMode","slabTrapezoidIntegration","slabNumberOfSlices","slabSliceSpacingFraction"]),fe.setGetArray(e,t,["outputOrigin","outputSpacing"],3),fe.setGetArray(e,t,["outputExtent"],6),qh(e,t,["outputOrigin","outputSpacing","outputExtent"]),fe.get(e,t,["resliceAxes"]),fe.algo(e,t,1,1),Hh(e,t)}var Yh=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Xh,"vtkImageReslice"),extend:Xh},Vh),Zh={vtkAbstractImageInterpolator:Oh,vtkImageInterpolator:Mh,vtkImagePointDataIterator:Fh,vtkImageReslice:Yh};function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $h=fe.vtkErrorMacro;function Qh(e,t){t.classHierarchy.push("vtkSampleFunction");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getMTime=function(){return t.implicitFunction&&t.implicitFunction.getMTime?Math.max(n.getMTime(),t.implicitFunction.getMTime()):n.getMTime()},e.requestData=function(e,n){var r=t.implicitFunction;if(r){var o=[t.sampleDimensions[0],t.sampleDimensions[1],t.sampleDimensions[2]],i=o[0]*o[1]*o[2];if(i<1||o[1]<2||o[1]<2||o[2]<2)$h("Bad volume dimensions");else{var a=es.newInstance(),s=[t.modelBounds[0],t.modelBounds[2],t.modelBounds[4]],u=[(t.modelBounds[1]-t.modelBounds[0])/(o[0]-1),(t.modelBounds[3]-t.modelBounds[2])/(o[1]-1),(t.modelBounds[5]-t.modelBounds[4])/(o[2]-1)],c=o[0]*o[1];a.setDimensions(o),a.setOrigin(s),a.setSpacing(u);var l=fe.newTypedArray(t.pointType,i),f=Fn.newInstance({name:"Scalars",values:l,numberOfComponents:1});a.getPointData().setScalars(f);for(var d=0,p=[0,0,0],h=0;h<o[2];h++){p[2]=s[2]+h*u[2];for(var m=0;m<o[1];m++){p[1]=s[1]+m*u[1];for(var g=0;g<o[0];g++)p[0]=s[0]+g*u[0],d=r.evaluateFunction(p),l[g+m*o[0]+h*c]=d}}n[0]=a}}else $h("An implicit function must be defined")}}var em={implicitFunction:void 0,sampleDimensions:[50,50,50],modelBounds:[-1,1,-1,1,-1,1],pointType:"Float32Array"};function tm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,em,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGetArray(e,t,["sampleDimensions"],3),fe.setGetArray(e,t,["modelBounds"],6),Qh(e,t)}var nm={Core:Zh,Hybrid:{vtkSampleFunction:{newInstance:fe.newInstance(tm,"vtkSampleFunction"),extend:tm}}};function rm(e,t){t.classHierarchy.push("vtkCompositeCameraManipulator"),e.computeDisplayCenter=function(e,n){var r=e.computeWorldToDisplay(n,t.center[0],t.center[1],t.center[2]);t.displayCenter[0]=r[0],t.displayCenter[1]=r[1]}}var om={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]},im={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,om,n),fe.setGet(e,t,["rotationFactor"]),fe.setGetArray(e,t,["displayCenter"],2),fe.setGetArray(e,t,["center"],3),rm(e,t)}};function am(e,t){t.classHierarchy.push("vtkCompositeGestureManipulator"),e.startInteraction=function(){},e.endInteraction=function(){},e.onStartPinch=function(e,t){},e.onStartRotate=function(e,t){},e.onStartPan=function(e,t){},e.onPinch=function(e,t,n){},e.onRotate=function(e,t,n){},e.onPan=function(e,t,n){},e.onEndPinch=function(e){},e.onEndRotate=function(e){},e.onEndPan=function(e){},e.isPinchEnabled=function(){return t.pinchEnabled},e.isPanEnabled=function(){return t.panEnabled},e.isRotateEnabled=function(){return t.rotateEnabled}}var sm={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0},um={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sm,n),fe.set(e,t,["pinchEnabled","panEnabled","rotateEnabled"]),fe.setGet(e,t,["interactorStyle"]),am(e,t)}};function cm(e,t){t.classHierarchy.push("vtkCompositeKeyboardManipulator"),e.onKeyPress=function(e,t,n){},e.onKeyDown=function(e,t,n){},e.onKeyUp=function(e,t,n){}}var lm={},fm={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lm,n),cm(e,t)}};function dm(e,t){t.classHierarchy.push("vtkCompositeMouseManipulator"),e.startInteraction=function(){},e.endInteraction=function(){},e.onButtonDown=function(e,t,n){},e.onButtonUp=function(e){},e.onMouseMove=function(e,t,n){},e.onStartScroll=function(e,t,n){},e.onScroll=function(e,t,n){},e.onEndScroll=function(e){},e.isDragEnabled=function(){return t.dragEnabled},e.isScrollEnabled=function(){return t.scrollEnabled}}var pm={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1},hm={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pm,n),fe.setGet(e,t,["button","shift","control","alt"]),fe.set(e,t,["dragEnabled","scrollEnabled"]),dm(e,t)}},mm={Unknown:0,LeftController:1,RightController:2},gm={Unknown:0,Trigger:1,TrackPad:2,Grip:3,ApplicationMenu:4},vm={Device:mm,Input:gm};function ym(e,t){t.classHierarchy.push("vtkCompositeVRManipulator"),e.onButton3D=function(e,t,n,r,o,i){},e.onMove3D=function(e,t,n,r,o,i){}}var bm={},wm={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bm,n),fe.setGet(e,t,["device","input"]),ym(e,t)},Device:mm,Input:gm};function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sm=vm.Device,Am=vm.Input,_m=fe.vtkWarningMacro,Pm=fe.vtkErrorMacro,Om=fe.normalizeWheel,Em=fe.vtkOnceErrorMacro,Tm={"OpenVR Gamepad":[Am.TrackPad,Am.Trigger,Am.Grip,Am.ApplicationMenu]},Dm=["StartAnimation","Animation","EndAnimation","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction"];function Im(e){return e.cancelable&&(e.stopPropagation(),e.preventDefault()),!1}function km(e,t){t.classHierarchy.push("vtkRenderWindowInteractor");var n=new Set,r=0;function o(n,r){t._forcedRenderer||(t.currentRenderer=e.findPokedRenderer(n,r))}function i(e){var n=t.container.getBoundingClientRect(),r=t.view.getCanvas(),i=r.width/n.width,a=r.height/n.height,s={x:i*(e.clientX-n.left),y:a*(n.height-e.clientY+n.top),z:0};return o(s.x,s.y),s}function a(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.identifier]=i(r)}return t}function s(e){return{controlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey}}function u(e){var t=s(e);return Cm({key:e.key,keyCode:e.charCode},t)}function c(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=document,a=n?"addEventListener":"removeEventListener",s=n?"removeEventListener":"addEventListener";!o&&!n&&r>0&&--r,r&&!o||(r=0,t.container&&t.container[s]("mousemove",e.handleMouseMove),i[a]("mouseup",e.handleMouseUp),i[a]("mousemove",e.handleMouseMove),i[a]("touchend",e.handleTouchEnd,!1),i[a]("touchcancel",e.handleTouchEnd,!1),i[a]("touchmove",e.handleTouchMove,!1)),!o&&n&&++r}function l(){t.view&&t.enabled&&t.enableRender&&(t.inRender=!0,t.view.traverseAllPasses(),t.inRender=!1),e.invokeRenderEvent()}e.start=function(){(t.initialized||(e.initialize(),t.initialized))&&e.startEventLoop()},e.setRenderWindow=function(e){Pm("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},e.setInteractorStyle=function(n){t.interactorStyle!==n&&(null!=t.interactorStyle&&t.interactorStyle.setInteractor(null),t.interactorStyle=n,null!=t.interactorStyle&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))},e.initialize=function(){t.initialized=!0,e.enable(),e.render()},e.enable=function(){return e.setEnabled(!0)},e.disable=function(){return e.setEnabled(!1)},e.startEventLoop=function(){return _m("empty event loop")},e.getCurrentRenderer=function(){return t.currentRenderer||o(0,0),t.currentRenderer},e.bindEvents=function(n){t.container=n,n.addEventListener("contextmenu",Im),n.addEventListener("wheel",e.handleWheel),n.addEventListener("DOMMouseScroll",e.handleWheel),n.addEventListener("mouseenter",e.handleMouseEnter),n.addEventListener("mouseleave",e.handleMouseLeave),n.addEventListener("mousemove",e.handleMouseMove),n.addEventListener("mousedown",e.handleMouseDown),document.addEventListener("keypress",e.handleKeyPress),document.addEventListener("keydown",e.handleKeyDown),document.addEventListener("keyup",e.handleKeyUp),document.addEventListener("pointerlockchange",e.handlePointerLockChange),n.addEventListener("touchstart",e.handleTouchStart,!1)},e.unbindEvents=function(){c(!1,!0),t.container.removeEventListener("contextmenu",Im),t.container.removeEventListener("wheel",e.handleWheel),t.container.removeEventListener("DOMMouseScroll",e.handleWheel),t.container.removeEventListener("mouseenter",e.handleMouseEnter),t.container.removeEventListener("mouseleave",e.handleMouseLeave),t.container.removeEventListener("mousemove",e.handleMouseMove),t.container.removeEventListener("mousedown",e.handleMouseDown),document.removeEventListener("keypress",e.handleKeyPress),document.removeEventListener("keydown",e.handleKeyDown),document.removeEventListener("keyup",e.handleKeyUp),document.removeEventListener("pointerlockchange",e.handlePointerLockChange),t.container.removeEventListener("touchstart",e.handleTouchStart),t.container=null},e.handleKeyPress=function(t){var n=u(t);e.keyPressEvent(n)},e.handleKeyDown=function(t){var n=u(t);e.keyDownEvent(n)},e.handleKeyUp=function(t){var n=u(t);e.keyUpEvent(n)},e.handleMouseDown=function(t){if(!(t.button>2)){c(!0),Im(t);var n=Cm(Cm({},s(t)),{},{position:i(t)});switch(t.button){case 0:e.leftButtonPressEvent(n);break;case 1:e.middleButtonPressEvent(n);break;case 2:e.rightButtonPressEvent(n);break;default:Pm("Unknown mouse button pressed: ".concat(t.button))}}},e.requestPointerLock=function(){e.getView().getCanvas().requestPointerLock()},e.exitPointerLock=function(){return document.exitPointerLock()},e.isPointerLocked=function(){return!!document.pointerLockElement},e.handlePointerLockChange=function(){e.isPointerLocked()?e.startPointerLockEvent():e.endPointerLockEvent()},e.requestAnimation=function(r){void 0!==r?n.has(r)?_m("requester is already registered for animating"):(n.add(r),1===n.size&&(t.lastFrameTime=.1,t.lastFrameStart=Date.now(),t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())):Pm("undefined requester, can not start animating")},e.isAnimating=function(){return t.vrAnimation||null!==t.animationRequest},e.cancelAnimation=function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.has(r))n.delete(r),t.animationRequest&&0===n.size&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render());else if(!o){var i=r&&r.getClassName?r.getClassName():r;_m("".concat(i," did not request an animation"))}},e.switchToVRAnimation=function(){t.animationRequest&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null),t.vrAnimation=!0},e.returnFromVRAnimation=function(){t.vrAnimation=!1,0!==n.size&&(t.FrameTime=-1,t.animationRequest=requestAnimationFrame(e.handleAnimation))},e.updateGamepads=function(n){for(var r=navigator.getGamepads(),o=0;o<r.length;++o){var i=r[o];if(i&&i.displayId===n){i.index in t.lastGamepadValues||(t.lastGamepadValues[i.index]={buttons:{}});for(var a=0;a<i.buttons.length;++a)a in t.lastGamepadValues[i.index].buttons||(t.lastGamepadValues[i.index].buttons[a]=!1),t.lastGamepadValues[i.index].buttons[a]!==i.buttons[a].pressed&&(e.button3DEvent({gamepad:i,position:i.pose.position,orientation:i.pose.orientation,pressed:i.buttons[a].pressed,device:"left"===i.hand?Sm.LeftController:Sm.RightController,input:Tm[i.id]&&Tm[i.id][a]?Tm[i.id][a]:Am.Trigger}),t.lastGamepadValues[i.index].buttons[a]=i.buttons[a].pressed),t.lastGamepadValues[i.index].buttons[a]&&e.move3DEvent({gamepad:i,position:i.pose.position,orientation:i.pose.orientation,device:"left"===i.hand?Sm.LeftController:Sm.RightController})}}},e.handleMouseMove=function(n){var r=Cm(Cm({},s(n)),{},{position:i(n)});0===t.moveTimeoutID?e.startMouseMoveEvent(r):(e.mouseMoveEvent(r),clearTimeout(t.moveTimeoutID)),t.moveTimeoutID=setTimeout((function(){e.endMouseMoveEvent(),t.moveTimeoutID=0}),200)},e.handleAnimation=function(){var n=Date.now();-1===t.FrameTime?t.lastFrameTime=.1:t.lastFrameTime=(n-t.lastFrameStart)/1e3,t.lastFrameTime=Math.max(.01,t.lastFrameTime),t.lastFrameStart=n,e.animationEvent(),l(),t.animationRequest=requestAnimationFrame(e.handleAnimation)},e.handleWheel=function(n){Im(n);var r=Cm(Cm(Cm({},Om(n)),s(n)),{},{position:i(n)});0===t.wheelTimeoutID?e.startMouseWheelEvent(r):(e.mouseWheelEvent(r),clearTimeout(t.wheelTimeoutID)),t.wheelTimeoutID=setTimeout((function(){e.endMouseWheelEvent(),t.wheelTimeoutID=0}),200)},e.handleMouseEnter=function(t){var n=Cm(Cm({},s(t)),{},{position:i(t)});e.mouseEnterEvent(n)},e.handleMouseLeave=function(t){var n=Cm(Cm({},s(t)),{},{position:i(t)});e.mouseLeaveEvent(n)},e.handleMouseUp=function(t){c(!1),Im(t);var n=Cm(Cm({},s(t)),{},{position:i(t)});switch(t.button){case 0:e.leftButtonReleaseEvent(n);break;case 1:e.middleButtonReleaseEvent(n);break;case 2:e.rightButtonReleaseEvent(n);break;default:Pm("Unknown mouse button released: ".concat(t.button))}},e.handleTouchStart=function(n){if(c(!0),Im(n),t.recognizeGestures&&n.touches.length>1){var r=a(n.touches);if(2===n.touches.length){var o={position:i(n.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(o)}e.recognizeGesture("TouchStart",r)}else{var s={position:i(n.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(s)}},e.handleTouchMove=function(n){if(Im(n),t.recognizeGestures&&n.touches.length>1){var r=a(n.touches);e.recognizeGesture("TouchMove",r)}else{var o={position:i(n.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.mouseMoveEvent(o)}},e.handleTouchEnd=function(n){if(Im(n),t.recognizeGestures)if(0===n.touches.length)if(1===n.changedTouches.length){var r={position:i(n.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(r),c(!1)}else{var o=a(n.changedTouches);e.recognizeGesture("TouchEnd",o),c(!1)}else if(1===n.touches.length){var s=a(n.changedTouches);e.recognizeGesture("TouchEnd",s);var u={position:i(n.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(u)}else{var l=a(n.touches);e.recognizeGesture("TouchMove",l)}else{var f={position:i(n.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(f),c(!1)}},e.setView=function(n){t.view!==n&&(t.view=n,t.view.getRenderable().setInteractor(e),e.modified())},e.getFirstRenderer=function(){return t.view.getRenderable().getRenderersByReference()[0]},e.findPokedRenderer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t.view)return null;var r=t.view.getRenderable().getRenderers();r.sort((function(e,t){return e.getLayer()-t.getLayer()}));for(var o=null,i=null,a=null,s=r.length;s--;){var u=r[s];if(t.view.isInViewport(e,n,u)&&u.getInteractive()){a=u;break}null===o&&u.getInteractive()&&(o=u),null===i&&t.view.isInViewport(e,n,u)&&(i=u)}return null===a&&(a=o),null===a&&(a=i),null==a&&(a=r[0]),a},e.render=function(){null!==t.animationRequest||t.inRender||l()},Dm.forEach((function(n){var r=n.charAt(0).toLowerCase()+n.slice(1);e["".concat(r,"Event")]=function(r){if(t.enabled)if(e.getCurrentRenderer()){var o=Cm({type:n,pokedRenderer:t.currentRenderer,firstRenderer:e.getFirstRenderer()},r);e["invoke".concat(n)](o)}else Em("\n          Can not forward events without a current renderer on the interactor.\n        ")}})),e.recognizeGesture=function(n,r){if(!(Object.keys(r).length>2)){if(t.startingEventPositions||(t.startingEventPositions={}),"TouchStart"===n)return Object.keys(r).forEach((function(e){t.startingEventPositions[e]=r[e]})),void(t.currentGesture="Start");if("TouchEnd"===n)return"Pinch"===t.currentGesture&&(e.render(),e.endPinchEvent()),"Rotate"===t.currentGesture&&(e.render(),e.endRotateEvent()),"Pan"===t.currentGesture&&(e.render(),e.endPanEvent()),t.currentGesture="Start",void(t.startingEventPositions={});var o=0,i=[],a=[];Object.keys(r).forEach((function(e){i[o]=r[e],a[o]=t.startingEventPositions[e],o++}));var s=Math.sqrt((a[0].x-a[1].x)*(a[0].x-a[1].x)+(a[0].y-a[1].y)*(a[0].y-a[1].y)),u=Math.sqrt((i[0].x-i[1].x)*(i[0].x-i[1].x)+(i[0].y-i[1].y)*(i[0].y-i[1].y)),c=Pe(Math.atan2(a[1].y-a[0].y,a[1].x-a[0].x)),l=Pe(Math.atan2(i[1].y-i[0].y,i[1].x-i[0].x)),f=l-c;l=l+180>=360?l-180:l+180,c=c+180>=360?c-180:c+180,Math.abs(l-c)<Math.abs(f)&&(f=l-c);var d=[];if(d[0]=(i[0].x-a[0].x+i[1].x-a[1].x)/2,d[1]=(i[0].y-a[0].y+i[1].y-a[1].y)/2,"TouchMove"===n)if("Start"===t.currentGesture){var p=.01*Math.sqrt(t.container.clientWidth*t.container.clientWidth+t.container.clientHeight*t.container.clientHeight);p<15&&(p=15);var h=Math.abs(u-s),m=3.1415926*u*Math.abs(f)/360,g=Math.sqrt(d[0]*d[0]+d[1]*d[1]);if(h>p&&h>m&&h>g){t.currentGesture="Pinch";var v={scale:1,touches:r};e.startPinchEvent(v)}else if(m>p&&m>g){t.currentGesture="Rotate";var y={rotation:0,touches:r};e.startRotateEvent(y)}else if(g>p){t.currentGesture="Pan";var b={translation:[0,0],touches:r};e.startPanEvent(b)}}else{if("Rotate"===t.currentGesture){var w={rotation:f,touches:r};e.rotateEvent(w)}if("Pinch"===t.currentGesture){var x={scale:u/s,touches:r};e.pinchEvent(x)}if("Pan"===t.currentGesture){var C={translation:d,touches:r};e.panEvent(C)}}}},e.handleVisibilityChange=function(){t.lastFrameStart=Date.now()},e.setCurrentRenderer=function(e){t._forcedRenderer=!!e,t.currentRenderer=e};var f=e.delete;e.delete=function(){for(;n.size;)e.cancelAnimation(n.values().next().value);void 0!==document.hidden&&document.removeEventListener("visibilitychange",e.handleVisibilityChange),f()},void 0!==document.hidden&&document.addEventListener("visibilitychange",e.handleVisibilityChange,!1)}var Mm={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,view:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{}};function Nm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Mm,n),fe.obj(e,t),fe.event(e,t,"RenderEvent"),Dm.forEach((function(n){return fe.event(e,t,n)})),fe.get(e,t,["initialized","container","interactorStyle","lastFrameTime","view"]),fe.setGet(e,t,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker"]),km(e,t)}var Rm=Cm({newInstance:fe.newInstance(Nm,"vtkRenderWindowInteractor"),extend:Nm,handledEvents:Dm},vm);function Bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bm(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fm=fe.vtkErrorMacro,jm=fe.VOID;function Vm(e,t){t.classHierarchy.push("vtkInteractorObserver");var n=Lm({},e);function r(){for(;t.subscribedEvents.length;)t.subscribedEvents.pop().unsubscribe()}function o(){Rm.handledEvents.forEach((function(n){e["handle".concat(n)]&&t.subscribedEvents.push(t.interactor["on".concat(n)]((function(r){return t.processEvents?e["handle".concat(n)](r):jm}),t.priority))}))}e.setInteractor=function(n){n!==t.interactor&&(r(),t.interactor=n,n&&t.enabled&&o(),e.modified())},e.setEnabled=function(n){n!==t.enabled&&(r(),n&&(t.interactor?o():Fm("\n          The interactor must be set before subscribing to events\n        ")),t.enabled=n,e.modified())},e.computeDisplayToWorld=function(e,n,r,o){return e?t.interactor.getView().displayToWorld(n,r,o,e):null},e.computeWorldToDisplay=function(e,n,r,o){return e?t.interactor.getView().worldToDisplay(n,r,o,e):null},e.setPriority=function(e){n.setPriority(e)&&t.interactor&&(r(),o())}}var Um={enabled:!0,interactor:null,priority:0,processEvents:!0,subscribedEvents:[]};function zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Um,n),fe.obj(e,t),fe.event(e,t,"InteractionEvent"),fe.event(e,t,"StartInteractionEvent"),fe.event(e,t,"EndInteractionEvent"),fe.get(e,t,["interactor","enabled"]),fe.setGet(e,t,["priority","processEvents"]),Vm(e,t)}var Gm=Lm({newInstance:fe.newInstance(zm,"vtkInteractorObserver"),extend:zm},{computeWorldToDisplay:function(e,t,n,r){return e.getRenderWindow().getViews()[0].worldToDisplay(t,n,r,e)},computeDisplayToWorld:function(e,t,n,r){return e.getRenderWindow().getViews()[0].displayToWorld(t,n,r,e)}}),Wm={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},Hm={States:Wm};function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Km=Hm.States,Xm={Rotate:Km.IS_ROTATE,Pan:Km.IS_PAN,Spin:Km.IS_SPIN,Dolly:Km.IS_DOLLY,CameraPose:Km.IS_CAMERA_POSE,WindowLevel:Km.IS_WINDOW_LEVEL,Slice:Km.IS_SLICE};function Ym(e,t){t.classHierarchy.push("vtkInteractorStyle"),Object.keys(Xm).forEach((function(n){fe.event(e,t,"Start".concat(n,"Event")),e["start".concat(n)]=function(){t.state===Km.IS_NONE&&(t.state=Xm[n],t.interactor.requestAnimation(e),e.invokeStartInteractionEvent({type:"StartInteractionEvent"}),e["invokeStart".concat(n,"Event")]({type:"Start".concat(n,"Event")}))},fe.event(e,t,"End".concat(n,"Event")),e["end".concat(n)]=function(){t.state===Xm[n]&&(t.state=Km.IS_NONE,t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent({type:"EndInteractionEvent"}),e["invokeEnd".concat(n,"Event")]({type:"End".concat(n,"Event")}),t.interactor.render())}})),e.handleKeyPress=function(e){var n=t.interactor;switch(e.key){case"r":case"R":e.pokedRenderer.resetCamera(),n.render();break;case"w":case"W":e.pokedRenderer.getActors().forEach((function(e){var t=e.getProperty();t.setRepresentationToWireframe&&t.setRepresentationToWireframe()})),n.render();break;case"s":case"S":e.pokedRenderer.getActors().forEach((function(e){var t=e.getProperty();t.setRepresentationToSurface&&t.setRepresentationToSurface()})),n.render();break;case"v":case"V":e.pokedRenderer.getActors().forEach((function(e){var t=e.getProperty();t.setRepresentationToPoints&&t.setRepresentationToPoints()})),n.render()}}}var Zm={state:Km.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function Jm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Zm,n),Gm.extend(e,t,n),Ym(e,t)}var $m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(Jm,"vtkInteractorStyle"),extend:Jm},Hm);function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var eg=fe.vtkDebugMacro,tg=$m.States,ng={type:"StartInteractionEvent"},rg={type:"InteractionEvent"},og={type:"EndInteractionEvent"};function ig(e,t,n,r,o,i){var a=e.getActiveCamera(),s=a.getFocalPoint(),u=(s=t.getInteractorStyle().computeWorldToDisplay(e,s[0],s[1],s[2]))[2],c=t.getInteractorStyle().computeDisplayToWorld(e,n,r,u),l=t.getInteractorStyle().computeDisplayToWorld(e,o,i,u),f=[l[0]-c[0],l[1]-c[1],l[2]-c[2]];s=a.getFocalPoint();var d=a.getPosition();a.setFocalPoint(f[0]+s[0],f[1]+s[1],f[2]+s[2]),a.setPosition(f[0]+d[0],f[1]+d[1],f[2]+d[2])}var ag={dollyToPosition:function(e,t,n,r){var o=n.getActiveCamera();if(o.getParallelProjection()){var i=r.getView().getSize(),a=i[0]/2,s=i[1]/2,u=t.x,c=t.y;ig(n,r,a,s,u,c),o.setParallelScale(o.getParallelScale()/e),ig(n,r,u,c,a,s)}else{var l=o.getFocalPoint(),f=o.getViewPlaneNormal();l=r.getInteractorStyle().computeWorldToDisplay(n,l[0],l[1],l[2]);var d=r.getInteractorStyle().computeDisplayToWorld(n,t.x,t.y,l[2]);o.setFocalPoint(d[0],d[1],d[2]),o.dolly(e),n.resetCameraClippingRange();var p=o.getPosition();l=o.getFocalPoint();var h=[0,0,0],m=f[0]*(l[0]-p[0])+f[1]*(l[1]-p[1])+f[2]*(l[2]-p[2]);m/=Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2),h[0]=p[0]+f[0]*m,h[1]=p[1]+f[1]*m,h[2]=p[2]+f[2]*m,o.setFocalPoint(h[0],h[1],h[2]),n.resetCameraClippingRange()}},translateCamera:ig,dollyByFactor:function(e,t,n){if(!Number.isNaN(n)){var r=t.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),t.resetCameraClippingRange()),e.getLightFollowCamera()&&t.updateLightsGeometryToFollowCamera()}}};function sg(e,t){t.classHierarchy.push("vtkInteractorStyleManipulator"),t.mouseManipulators=[],t.keyboardManipulators=[],t.vrManipulators=[],t.gestureManipulators=[],t.currentManipulator=null,t.currentWheelManipulator=null,t.centerOfRotation=[0,0,0],t.rotationFactor=1,e.removeAllManipulators=function(){e.removeAllMouseManipulators(),e.removeAllKeyboardManipulators(),e.removeAllVRManipulators(),e.removeAllGestureManipulators()},e.removeAllMouseManipulators=function(){t.mouseManipulators=[]},e.removeAllKeyboardManipulators=function(){t.keyboardManipulators=[]},e.removeAllVRManipulators=function(){t.vrManipulators=[]},e.removeAllGestureManipulators=function(){t.gestureManipulators=[]};var n=function(t,n){var r=n.indexOf(t);return-1!==r&&(n.splice(r,1),e.modified(),!0)};e.removeMouseManipulator=function(e){return n(e,t.mouseManipulators)},e.removeKeyboardManipulator=function(e){return n(e,t.keyboardManipulators)},e.removeVRManipulator=function(e){return n(e,t.vrManipulators)},e.removeGestureManipulator=function(e){return n(e,t.gestureManipulators)};var r=function(t,n){return-1===n.indexOf(t)&&(n.push(t),e.modified(),!0)};e.addMouseManipulator=function(e){return r(e,t.mouseManipulators)},e.addKeyboardManipulator=function(e){return r(e,t.keyboardManipulators)},e.addVRManipulator=function(e){return r(e,t.vrManipulators)},e.addGestureManipulator=function(e){return r(e,t.gestureManipulators)},e.getNumberOfMouseManipulators=function(){return t.mouseManipulators.length},e.getNumberOfKeyboardManipulators=function(){return t.keyboardManipulators.length},e.getNumberOfVRManipulators=function(){return t.vrManipulators.length},e.getNumberOfGestureManipulators=function(){return t.gestureManipulators.length},e.resetCurrentManipulator=function(){t.currentManipulator=null,t.currentWheelManipulator=null},e.handleLeftButtonPress=function(n){t.previousPosition=n.position,e.onButtonDown(1,n)},e.handleMiddleButtonPress=function(n){t.previousPosition=n.position,e.onButtonDown(2,n)},e.handleRightButtonPress=function(n){t.previousPosition=n.position,e.onButtonDown(3,n)},e.handleButton3D=function(n){n&&(t.currentManipulator=e.findVRManipulator(n.device,n.input,n.pressed),t.currentManipulator?(t.currentManipulator.onButton3D(e,n.pokedRenderer,t.state,n.device,n.input,n.pressed),n.pressed?e.startCameraPose():e.endCameraPose()):eg("No manipulator found"))},e.handleMove3D=function(n){t.currentManipulator&&t.state===tg.IS_CAMERA_POSE&&t.currentManipulator.onMove3D(e,n.pokedRenderer,t.state,n)},e.onButtonDown=function(n,r){t.currentManipulator||(t.currentManipulator=e.findMouseManipulator(n,r.shiftKey,r.controlKey,r.altKey),t.currentManipulator?(t.currentManipulator.setCenter&&t.currentManipulator.setCenter(t.centerOfRotation),t.currentManipulator.setRotationFactor&&t.currentManipulator.setRotationFactor(t.rotationFactor),t.currentManipulator.startInteraction(),t.currentManipulator.onButtonDown(t.interactor,r.pokedRenderer,r.position),t.interactor.requestAnimation(e.onButtonDown),e.invokeStartInteractionEvent(ng)):eg("No manipulator found"))},e.findMouseManipulator=function(e,n,r,o){for(var i=null,a=t.mouseManipulators.length;a--;){var s=t.mouseManipulators[a];s&&s.getButton()===e&&s.getShift()===n&&s.getControl()===r&&s.getAlt()===o&&s.isDragEnabled()&&(i=s)}return i},e.findVRManipulator=function(e,n){for(var r=null,o=t.vrManipulators.length;o--;){var i=t.vrManipulators[o];i&&i.getDevice()===e&&i.getInput()===n&&(r=i)}return r},e.handleLeftButtonRelease=function(){e.onButtonUp(1)},e.handleMiddleButtonRelease=function(){e.onButtonUp(2)},e.handleRightButtonRelease=function(){e.onButtonUp(3)},e.onButtonUp=function(n){t.currentManipulator&&t.currentManipulator.getButton&&t.currentManipulator.getButton()===n&&(t.currentManipulator.onButtonUp(t.interactor),t.currentManipulator.endInteraction(),t.currentManipulator=null,t.interactor.cancelAnimation(e.onButtonDown),e.invokeEndInteractionEvent(og))},e.handleStartMouseWheel=function(n){if(!t.currentWheelManipulator){for(var r=null,o=t.mouseManipulators.length;o--;){var i=t.mouseManipulators[o];i&&i.isScrollEnabled()&&i.getShift()===n.shiftKey&&i.getControl()===n.controlKey&&i.getAlt()===n.altKey&&(r=i)}r?(t.currentWheelManipulator=r,t.currentWheelManipulator.onStartScroll(t.interactor,n.pokedRenderer,n.spinY),t.currentWheelManipulator.startInteraction(),t.interactor.requestAnimation(e.handleStartMouseWheel),e.invokeStartInteractionEvent(ng)):eg("No manipulator found")}},e.handleEndMouseWheel=function(){t.currentWheelManipulator&&t.currentWheelManipulator.onEndScroll&&(t.currentWheelManipulator.onEndScroll(t.interactor),t.currentWheelManipulator.endInteraction(),t.currentWheelManipulator=null,t.interactor.cancelAnimation(e.handleStartMouseWheel),e.invokeEndInteractionEvent(og))},e.handleMouseWheel=function(n){t.currentWheelManipulator&&t.currentWheelManipulator.onScroll&&(t.currentWheelManipulator.onScroll(t.interactor,n.pokedRenderer,n.spinY,t.cachedMousePosition),e.invokeInteractionEvent(rg))},e.handleMouseMove=function(n){t.cachedMousePosition=n.position,t.currentManipulator&&t.currentManipulator.onMouseMove&&(t.currentManipulator.onMouseMove(t.interactor,n.pokedRenderer,n.position),e.invokeInteractionEvent(rg))},e.handleKeyPress=function(n){t.keyboardManipulators.filter((function(e){return e.onKeyPress})).forEach((function(r){r.onKeyPress(t.interactor,n.pokedRenderer,n.key),e.invokeInteractionEvent(rg)}))},e.handleKeyDown=function(n){t.keyboardManipulators.filter((function(e){return e.onKeyDown})).forEach((function(r){r.onKeyDown(t.interactor,n.pokedRenderer,n.key),e.invokeInteractionEvent(rg)}))},e.handleKeyUp=function(n){t.keyboardManipulators.filter((function(e){return e.onKeyUp})).forEach((function(r){r.onKeyUp(t.interactor,n.pokedRenderer,n.key),e.invokeInteractionEvent(rg)}))},e.handleStartPinch=function(n){e.startDolly();for(var r=t.gestureManipulators.length;r--;){var o=t.gestureManipulators[r];o&&o.isPinchEnabled()&&(o.onStartPinch(t.interactor,n.scale),o.startInteraction())}t.interactor.requestAnimation(e.handleStartPinch),e.invokeStartInteractionEvent(ng)},e.handleEndPinch=function(){e.endDolly();for(var n=t.gestureManipulators.length;n--;){var r=t.gestureManipulators[n];r&&r.isPinchEnabled()&&(r.onEndPinch(t.interactor),r.endInteraction())}t.interactor.cancelAnimation(e.handleStartPinch),e.invokeEndInteractionEvent(og)},e.handleStartRotate=function(n){e.startRotate();for(var r=t.gestureManipulators.length;r--;){var o=t.gestureManipulators[r];o&&o.isRotateEnabled()&&(o.onStartRotate(t.interactor,n.rotation),o.startInteraction())}t.interactor.requestAnimation(e.handleStartRotate),e.invokeStartInteractionEvent(ng)},e.handleEndRotate=function(){e.endRotate();for(var n=t.gestureManipulators.length;n--;){var r=t.gestureManipulators[n];r&&r.isRotateEnabled()&&(r.onEndRotate(t.interactor),r.endInteraction())}t.interactor.cancelAnimation(e.handleStartRotate),e.invokeEndInteractionEvent(og)},e.handleStartPan=function(n){e.startPan();for(var r=t.gestureManipulators.length;r--;){var o=t.gestureManipulators[r];o&&o.isPanEnabled()&&(o.onStartPan(t.interactor,n.translation),o.startInteraction())}t.interactor.requestAnimation(e.handleStartPan),e.invokeStartInteractionEvent(ng)},e.handleEndPan=function(){e.endPan();for(var n=t.gestureManipulators.length;n--;){var r=t.gestureManipulators[n];r&&r.isPanEnabled()&&(r.onEndPan(t.interactor),r.endInteraction())}t.interactor.cancelAnimation(e.handleStartPan),e.invokeEndInteractionEvent(og)},e.handlePinch=function(n){for(var r=t.gestureManipulators.length,o=0;r--;){var i=t.gestureManipulators[r];i&&i.isPinchEnabled()&&(i.onPinch(t.interactor,n.pokedRenderer,n.scale),o++)}o&&e.invokeInteractionEvent(rg)},e.handlePan=function(n){for(var r=t.gestureManipulators.length,o=0;r--;){var i=t.gestureManipulators[r];i&&i.isPanEnabled()&&(i.onPan(t.interactor,n.pokedRenderer,n.translation),o++)}o&&e.invokeInteractionEvent(rg)},e.handleRotate=function(n){for(var r=t.gestureManipulators.length,o=0;r--;){var i=t.gestureManipulators[r];i&&i.isRotateEnabled()&&(i.onRotate(t.interactor,n.pokedRenderer,n.rotation),o++)}o&&e.invokeInteractionEvent(rg)}}var ug={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function cg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ug,n),$m.extend(e,t,n),fe.setGet(e,t,["rotationFactor"]),fe.get(e,t,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),fe.setGetArray(e,t,["centerOfRotation"],3),sg(e,t)}var lg=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(cg,"vtkInteractorStyleManipulator"),extend:cg},ag);function fg(e,t){t.classHierarchy.push("vtkGestureCameraManipulator"),e.onStartPinch=function(e,n){t.previousScale=n},e.onStartRotate=function(e,n){t.previousRotation=n},e.onStartPan=function(e,n){t.previousTranslation=n},e.onPinch=function(e,n,r){lg.dollyByFactor(e,n,r/t.previousScale),t.previousScale=r},e.onPan=function(e,n,r){var o=n.getActiveCamera(),i=e.getInteractorStyle(),a=o.getFocalPoint(),s=(a=i.computeWorldToDisplay(n,a[0],a[1],a[2]))[2],u=r,c=t.previousTranslation,l=i.computeDisplayToWorld(n,a[0]+u[0]-c[0],a[1]+u[1]-c[1],s),f=i.computeDisplayToWorld(n,a[0],a[1],s),d=[];d[0]=f[0]-l[0],d[1]=f[1]-l[1],d[2]=f[2]-l[2],a=o.getFocalPoint();var p=o.getPosition();o.setFocalPoint(d[0]+a[0],d[1]+a[1],d[2]+a[2]),o.setPosition(d[0]+p[0],d[1]+p[1],d[2]+p[2]),e.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera(),o.orthogonalizeViewUp(),t.previousTranslation=r},e.onRotate=function(e,n,r){var o=n.getActiveCamera();o.roll(r-t.previousRotation),o.orthogonalizeViewUp(),t.previousRotation=r}}var dg={};function pg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dg,n),fe.obj(e,t),um.extend(e,t,n),im.extend(e,t,n),fg(e,t)}var hg={newInstance:fe.newInstance(pg,"vtkGestureCameraManipulator"),extend:pg},mg=fe.vtkErrorMacro,gg="vtkKeyboardCameraManipulator";function vg(e,t){t.classHierarchy.push("vtkKeyboardCameraManipulator");var n={keysDown:[],direction:[0,0,0],skipUpdateDirection:!1,animationSub:null,cameraModifiedSub:null};e.inMotion=function(){return null!==n.animationSub},e.resetMovementSpeed=function(){var e=t.renderer.computeVisiblePropBounds();t.movementSpeed=Xr.getMaxLength(e)/500},e.startMovement=function(){if(e.inMotion())mg("Camera is already in motion!");else{null===t.movementSpeed&&e.resetMovementSpeed();var r=t.interactor,o=t.renderer;e.calculateCurrentDirection();var i=o.getActiveCamera();n.cameraModifiedSub=i.onModified(e.calculateCurrentDirection),r.requestAnimation(gg),n.animationSub=r.onAnimation((function(){0!==n.keysDown.length&&(n.skipUpdateDirection=!0,e.moveCamera(o.getActiveCamera(),n.direction,t.movementSpeed),o.resetCameraClippingRange(),r.getLightFollowCamera()&&o.updateLightsGeometryToFollowCamera(),n.skipUpdateDirection=!1)}))}},e.endMovement=function(){n.animationSub&&(n.animationSub.unsubscribe(),n.animationSub=null),t.interactor.cancelAnimation(gg),n.cameraModifiedSub&&(n.cameraModifiedSub.unsubscribe(),n.cameraModifiedSub=null)},e.calculateCurrentDirection=function(){if(!n.skipUpdateDirection){n.direction=[0,0,0];var r=t.renderer;if(r){var o=r.getActiveCamera();if(o&&0!==n.keysDown.length){var i=n.keysDown.map((function(t){return e.getDirectionFromKey(t,o)}));if(0!==(i=i.filter((function(e){return e}))).length){var a=i.reduce((function(e,t){return qe(e,t,t),t}));nt(a),n.direction=a}}}}},e.getDirectionFromKey=function(e,n){var r;if(t.moveForwardKeys.includes(e))r=n.getDirectionOfProjection();else if(t.moveLeftKeys.includes(e)){var o=n.getDirectionOfProjection();r=[0,0,0],et(n.getViewUp(),o,r)}else if(t.moveBackwardKeys.includes(e))r=n.getDirectionOfProjection().map((function(e){return-e}));else if(t.moveRightKeys.includes(e))r=[0,0,0],et(n.getDirectionOfProjection(),n.getViewUp(),r);else if(t.moveUpKeys.includes(e))r=n.getViewUp();else{if(!t.moveDownKeys.includes(e))return;r=n.getViewUp().map((function(e){return-e}))}return nt(r),r},e.moveCamera=function(e,t,n){var r=e.getPosition(),o=e.getFocalPoint();e.setFocalPoint(o[0]+t[0]*n,o[1]+t[1]*n,o[2]+t[2]*n),e.setPosition(r[0]+t[0]*n,r[1]+t[1]*n,r[2]+t[2]*n)},e.onKeyPress=function(e,t,n){},e.onKeyDown=function(r,o,i){n.keysDown.includes(i)||(n.keysDown.push(i),e.calculateCurrentDirection()),e.inMotion()||(Object.assign(t,{interactor:r,renderer:o}),e.startMovement())},e.onKeyUp=function(t,r,o){n.keysDown=n.keysDown.filter((function(e){return e.toUpperCase()!==o.toUpperCase()})),e.calculateCurrentDirection(),0===n.keysDown.length&&e.endMovement()}}var yg={movementSpeed:null,moveForwardKeys:["w","W","ArrowUp"],moveLeftKeys:["a","A","ArrowLeft"],moveBackwardKeys:["s","S","ArrowDown"],moveRightKeys:["d","D","ArrowRight"],moveUpKeys:[" "],moveDownKeys:["Shift"],interactor:null,renderer:null};function bg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yg,n),fe.obj(e,t),fm.extend(e,t,n),fe.setGet(e,t,["movementSpeed","moveForwardKeys","moveLeftKeys","moveBackwardKeys","moveRightKeys","moveUpKeys","moveDownKeys","interactor","renderer"]),vg(e,t)}var wg={newInstance:fe.newInstance(bg,"vtkKeyboardCameraManipulator"),extend:bg};function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xg(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sg=[-2,-1,-2,-1],Ag={position:"absolute",zIndex:1,border:"2px solid #F44336",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"4px",boxSizing:"border-box"};function _g(e,t){t.classHierarchy.push("vtkMouseBoxSelectionManipulator");var n=null,r=null,o=null,i=null,a=null,s=!1;function u(){return o&&i?[Math.min(o.x,i.x),Math.max(o.x,i.x),Math.min(o.y,i.y),Math.max(o.y,i.y)]:Sg}function c(){if(n&&r){var e=g(n.getSize(),2),t=e[0],o=e[1],i=r.getBoundingClientRect(),s=i.width,c=i.height,l=g(u(),4),f=l[0],d=l[1],p=l[2],h=l[3];a.style.left="".concat(s*f/t,"px"),a.style.top="".concat(c-c*h/o,"px"),a.style.width="".concat(s*(d-f)/t,"px"),a.style.height="".concat(c*(h-p)/o,"px")}}e.onButtonDown=function(e,i,u){var l,f;o=u,t.renderSelection&&(n||(n=e.getView()),!r&&n&&(r=n.getContainer()),a||(a=document.createElement("div"),l=a,f=t.selectionStyle,Object.keys(f).forEach((function(e){l.style[e]=f[e]}))),c(),r&&!s&&(s=!0,r.appendChild(a)))},e.onMouseMove=function(a,s,l){o&&l&&(i=l,e.invokeBoxSelectInput({view:n,container:r,selection:u()}),t.renderSelection&&c())},e.onButtonUp=function(t,c){o&&i&&(e.invokeBoxSelectChange({view:n,container:r,selection:u()}),s&&(a.parentElement.removeChild(a),s=!1),n=null,r=null,o=null,i=null)}}function Pg(e){return Cg(Cg({renderSelection:!0},e),{},{selectionStyle:Cg(Cg({},Ag),e.selectionStyle)})}function Og(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Pg(n)),W(e,t),hm.extend(e,t,n),te(e,t,"BoxSelectChange"),te(e,t,"BoxSelectInput"),Y(e,t,["renderSelection","selectionStyle"]),_g(e,t)}var Eg={newInstance:ne(Og,"vtkMouseBoxSelectionManipulator"),extend:Og};function Tg(e,t){t.classHierarchy.push("vtkMouseCameraAxisRotateManipulator");var n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(16),i=new Float64Array(3),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3);e.onButtonDown=function(e,n,r){t.previousPosition=r},e.onMouseMove=function(e,c,l){if(l){var f=c.getActiveCamera(),d=f.getPosition(),p=f.getFocalPoint(),h=f.getViewUp(),m=f.getDirectionOfProjection();Di(o);var g=t.center,v=t.rotationFactor,b=t.rotationAxis;Bi(o,o,g);var w=t.previousPosition.x-l.x,x=t.previousPosition.y-l.y,C=e.getView().getSize();if(Fi(o,o,_e(360*w/C[0]*v),b),et(m,h,i),Fi(o,o,_e(-360*x/C[1]*v),i),a[0]=-g[0],a[1]=-g[1],a[2]=-g[2],Bi(o,o,a),ii(n,d,o),ii(r,p,o),Lo(u,n,r),$o(u,u),Math.abs(Qo(u,b))>.95)t.previousPosition=l;else{if(t.useHalfAxis){var S=Ko(n,g);Lo(s,n,g),$o(s,s);var A=Qo(b,s);if(A<0){qo(n,n,b,-A*S),Lo(s,n,g),$o(s,s),qo(n,g,s,S),Lo(i,d,g),$o(i,i);var _=Math.min(1,Math.max(-1,Qo(s,i))),P=Math.acos(_);ei(i,i,s),$o(i,i),Lo(r,p,g);var O=ko(r),E=y(r);Es.buildFromRadian().rotate(P,i).apply(E),qo(r,g,E,O)}}f.setPosition(n[0],n[1],n[2]),f.setFocalPoint(r[0],r[1],r[2]),f.setViewUp(b),c.resetCameraClippingRange(),e.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera(),t.previousPosition=l}}}}var Dg={rotationAxis:[0,0,1],useHalfAxis:!0};function Ig(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Dg,n),fe.obj(e,t),fe.setGet(e,t,["rotationAxis","useHalfAxis"]),hm.extend(e,t,n),im.extend(e,t,n),Tg(e,t)}var kg={newInstance:fe.newInstance(Ig,"vtkMouseCameraAxisRotateManipulator"),extend:Ig};function Mg(e,t){t.classHierarchy.push("vtkMouseCameraSliceManipulator"),e.onButtonDown=function(e,n,r){t.previousPosition=r},e.onMouseMove=function(e,n,r){if(r){var o=r.y-t.previousPosition.y,i=n.getActiveCamera(),a=i.getClippingRange(),s=i.getDistance(),u=0;if(i.getParallelProjection())u=i.getParallelScale();else{var c=_e(i.getViewAngle());u=2*s*Math.tan(.5*c)}(s+=o*u/e.getView().getViewportSize(n)[1])<a[0]&&(s=a[0]+.001*u),s>a[1]&&(s=a[1]-.001*u),i.setDistance(s),t.previousPosition=r}},e.onScroll=function(e,t,n){if(n){var r=1-n;r*=25;var o=t.getActiveCamera(),i=o.getClippingRange(),a=o.getDistance();(a+=r)<i[0]&&(a=i[0]),a>i[1]&&(a=i[1]),o.setDistance(a)}}}var Ng={};function Rg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ng,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),Mg(e,t)}var Bg={newInstance:fe.newInstance(Rg,"vtkMouseCameraSliceManipulator"),extend:Rg};function Lg(){var e=new Po(4);return Po!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Fg(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function jg(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+o*c-i*u,e[1]=o*l+a*u+i*s-r*c,e[2]=i*l+a*c+r*u-o*s,e[3]=a*l-r*s-o*u-i*c,e}var Vg=function(e,t,n,r){var o=new Po(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o};function Ug(e){return function(){return fe.vtkErrorMacro("vtkProp::".concat(e," - NOT IMPLEMENTED"))}}function zg(e,t){t.classHierarchy.push("vtkProp"),e.getMTime=function(){for(var e=t.mtime,n=0;n<t.textures.length;++n){var r=t.textures[n].getMTime();r>e&&(e=r)}return e},e.getNestedProps=function(){return null},e.getActors=function(){return[]},e.getActors2D=function(){return[]},e.getVolumes=function(){return[]},e.pick=Ug("pick"),e.hasKey=Ug("hasKey"),e.getRedrawMTime=function(){return t.mtime},e.setEstimatedRenderTime=function(e){t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=function(){t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=function(e){t.estimatedRenderTime+=e},e.setAllocatedRenderTime=function(e){t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=function(){return!1},e.getTextures=function(){return t.textures},e.hasTexture=function(e){return-1!==t.textures.indexOf(e)},e.addTexture=function(n){n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n),e.modified())},e.removeTexture=function(n){var r=t.textures.filter((function(e){return e!==n}));t.textures.length!==r.length&&(t.textures=r,e.modified())},e.removeAllTextures=function(){t.textures=[],e.modified()}}Do(),Mo(1,0,0),Mo(0,1,0),Lg(),Lg(),ya();var Gg={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function Wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Gg,n),fe.obj(e,t),fe.get(e,t,["estimatedRenderTime","allocatedRenderTime"]),fe.setGet(e,t,["visibility","pickable","dragable","useBounds","renderTimeMultiplier"]),zg(e,t)}var Hg={newInstance:fe.newInstance(Wg,"vtkProp"),extend:Wg};function qg(e,t){t.classHierarchy.push("vtkProp3D"),e.addPosition=function(n){t.position=t.position.map((function(e,t){return e+n[t]})),e.modified()},e.getOrientationWXYZ=function(){var e=Lg();$i(e,t.rotation);var n=new Float64Array(3);return[Pe(function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>_o?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}(n,e)),n[0],n[1],n[2]]},e.rotateX=function(n){0!==n&&(ji(t.rotation,t.rotation,_e(n)),e.modified())},e.rotateY=function(n){0!==n&&(Vi(t.rotation,t.rotation,_e(n)),e.modified())},e.rotateZ=function(n){0!==n&&(Ui(t.rotation,t.rotation,_e(n)),e.modified())},e.rotateWXYZ=function(n,r,o,i){if(0!==n&&(0!==r||0!==o||0!==i)){var a=_e(n),s=Lg();Fg(s,[r,o,i],a);var u=new Float64Array(16);ta(u,s),Ri(t.rotation,t.rotation,u),e.modified()}},e.setOrientation=function(n,r,o){return(n!==t.orientation[0]||r!==t.orientation[1]||o!==t.orientation[2])&&(t.orientation=[n,r,o],Di(t.rotation),e.rotateZ(o),e.rotateX(n),e.rotateY(r),e.modified(),!0)},e.setUserMatrix=function(n){Oi(t.userMatrix,n),e.modified()},e.getMatrix=function(){return e.computeMatrix(),t.matrix},e.computeMatrix=function(){if(e.getMTime()>t.matrixMTime.getMTime()){Di(t.matrix),t.userMatrix&&Ri(t.matrix,t.matrix,t.userMatrix),Bi(t.matrix,t.matrix,t.origin),Bi(t.matrix,t.matrix,t.position),Ri(t.matrix,t.matrix,t.rotation),Li(t.matrix,t.matrix,t.scale),Bi(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),Ii(t.matrix,t.matrix),t.isIdentity=!0;for(var n=0;n<4;++n)for(var r=0;r<4;++r)(n===r?1:0)!==t.matrix[n+4*r]&&(t.isIdentity=!1);t.matrixMTime.modified()}},e.getCenter=function(){return Xr.getCenter(t.bounds)},e.getLength=function(){return Xr.getLength(t.bounds)},e.getXRange=function(){return Xr.getXRange(t.bounds)},e.getYRange=function(){return Xr.getYRange(t.bounds)},e.getZRange=function(){return Xr.getZRange(t.bounds)},e.getUserMatrix=function(){return t.userMatrix},e.onModified((function(){e.computeMatrix()}))}var Kg={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function Xg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Kg,n),Hg.extend(e,t,n),t.matrixMTime={},fe.obj(t.matrixMTime),fe.get(e,t,["bounds","isIdentity"]),fe.getArray(e,t,["orientation"]),fe.setGetArray(e,t,["origin","position","scale"],3),t.matrix=Di(new Float64Array(16)),t.rotation=Di(new Float64Array(16)),t.userMatrix=Di(new Float64Array(16)),t.transform=null,qg(e,t)}var Yg={newInstance:fe.newInstance(Xg,"vtkProp3D"),extend:Xg},Zg={FLAT:0,GOURAUD:1,PHONG:2},Jg={POINTS:0,WIREFRAME:1,SURFACE:2},$g={Shading:Zg,Representation:Jg,Interpolation:Zg};function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ev=$g.Representation,tv=$g.Interpolation;function nv(e){return function(){return fe.vtkErrorMacro("vtkProperty::".concat(e," - NOT IMPLEMENTED"))}}function rv(e,t){t.classHierarchy.push("vtkProperty"),e.setColor=function(n,r,o){Array.isArray(n)?t.color[0]===n[0]&&t.color[1]===n[1]&&t.color[2]===n[2]||(t.color[0]=n[0],t.color[1]=n[1],t.color[2]=n[2],e.modified()):t.color[0]===n&&t.color[1]===r&&t.color[2]===o||(t.color[0]=n,t.color[1]=r,t.color[2]=o,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)},e.computeCompositeColor=nv("ComputeCompositeColor"),e.getColor=function(){var e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(var n=0;n<3;n++)t.color[n]=e*(t.ambient*t.ambientColor[n]+t.diffuse*t.diffuseColor[n]+t.specular*t.specularColor[n]);return[].concat(t.color)},e.addShaderVariable=nv("AddShaderVariable"),e.setInterpolationToFlat=function(){return e.setInterpolation(tv.FLAT)},e.setInterpolationToGouraud=function(){return e.setInterpolation(tv.GOURAUD)},e.setInterpolationToPhong=function(){return e.setInterpolation(tv.PHONG)},e.getInterpolationAsString=function(){return fe.enumToString(tv,t.interpolation)},e.setRepresentationToWireframe=function(){return e.setRepresentation(ev.WIREFRAME)},e.setRepresentationToSurface=function(){return e.setRepresentation(ev.SURFACE)},e.setRepresentationToPoints=function(){return e.setRepresentation(ev.POINTS)},e.getRepresentationAsString=function(){return fe.enumToString(ev,t.representation)}}var ov={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:tv.GOURAUD,representation:ev.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function iv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ov,n),fe.obj(e,t),fe.setGet(e,t,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),fe.setGetArray(e,t,["ambientColor","specularColor","diffuseColor","edgeColor"],3),rv(e,t)}var av=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(iv,"vtkProperty"),extend:iv},$g);function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var uv=fe.vtkDebugMacro;function cv(e,t){t.classHierarchy.push("vtkActor");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getActors=function(){return e},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return(n=n&&(!t.texture||!t.texture.isTranslucent()))&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=av.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||n[0]!==t.mapperBounds[0]||n[1]!==t.mapperBounds[1]||n[2]!==t.mapperBounds[2]||n[3]!==t.mapperBounds[3]||n[4]!==t.mapperBounds[4]||n[5]!==t.mapperBounds[5]||e.getMTime()>t.boundsMTime.getMTime()){uv("Recomputing bounds..."),t.mapperBounds=n.concat();var r=[];Xr.getCorners(n,r),e.computeMatrix();var o=new Float64Array(16);Ii(o,t.matrix),r.forEach((function(e){return ii(e,e,o)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2==0?r.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):r.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=n.getMTime();if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e}if(null!==t.backfaceProperty){var o=t.backfaceProperty.getMTime();e=o>e?o:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}var lv={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function fv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lv,n),Yg.extend(e,t,n),t.boundsMTime={},fe.obj(t.boundsMTime),fe.set(e,t,["property"]),fe.setGet(e,t,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),cv(e,t)}var dv={newInstance:fe.newInstance(fv,"vtkActor"),extend:fv};function pv(e,t){e.update=function(){e.getInputData()},e.addClippingPlane=function(e){"vtkPlane"===e.getClassName()&&t.clippingPlanes.push(e)},e.getNumberOfClippingPlanes=function(){return t.clippingPlanes.length},e.removeAllClippingPlanes=function(){t.clippingPlanes.length=0},e.removeClippingPlane=function(e){e<0||e>=6||t.clippingPlanes.splice(e,1)},e.getClippingPlanes=function(){return t.clippingPlanes},e.setClippingPlanes=function(t){if(t)if(Array.isArray(t))for(var n=t.length,r=0;r<n&&r<6;r++)e.addClippingPlane(t[r]);else e.addClippingPlane(t)}}var hv={clippingPlanes:[]},mv={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hv,n),fe.obj(e,t),fe.algo(e,t,1,0),t.clippingPlanes||(t.clippingPlanes=[]),pv(e,t)}};function gv(e,t){e.getBounds=function(){return 0},e.getBounds=function(n){e.getBounds();for(var r=0;r<6;r++)n[r]=t.bounds[r]},e.getCenter=function(){e.getBounds();for(var n=0;n<3;n++)t.center[n]=(t.bounds[2*n+1]+t.bounds[2*n])/2;return t.center.slice()},e.getLength=function(){var n=0,r=0;e.getBounds();for(var o=0;o<3;o++)r+=(n=t.bounds[2*o+1]-t.bounds[2*o])*n;return Math.sqrt(r)},e.getClippingPlaneInDataCoords=function(e,n,r){var o=t.clippingPlanes,i=e;if(o){var a=o.length;if(n>=0&&n<a){var s=o[n],u=s.getNormal(),c=s.getOrigin(),l=u[0],f=u[1],d=u[2],p=-(l*c[0]+f*c[1]+d*c[2]);return r[0]=l*i[0]+f*i[4]+d*i[8]+p*i[12],r[1]=l*i[1]+f*i[5]+d*i[9]+p*i[13],r[2]=l*i[2]+f*i[6]+d*i[10]+p*i[14],void(r[3]=l*i[3]+f*i[7]+d*i[11]+p*i[15])}}fe.vtkErrorMacro("Clipping plane index ".concat(n," is out of range."))}}var vv={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]},yv={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vv,n),mv.extend(e,t,n),t.bounds||en(t.bounds),t.center||(t.center=[0,0,0]),gv(e,t)}},bv=1,wv=0,xv=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function Cv(){wv=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}var Sv={getResolveCoincidentTopologyAsString:function(){return xv[wv]},getResolveCoincidentTopologyPolygonOffsetFaces:function(){return bv},getResolveCoincidentTopology:function(){return wv},setResolveCoincidentTopology:Cv,setResolveCoincidentTopologyPolygonOffsetFaces:function(e){bv=e},setResolveCoincidentTopologyToDefault:function(){Cv(0)},setResolveCoincidentTopologyToOff:function(){Cv(0)},setResolveCoincidentTopologyToPolygonOffset:function(){Cv(1)}};function Av(e,t,n){n.forEach((function(n){e["get".concat(n.method)]=function(){return t[n.key]},e["set".concat(n.method)]=function(e,r){t[n.key]={factor:e,offset:r}}}))}var _v=["Polygon","Line","Point"],Pv={};Av(Pv,{Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},_v.map((function(e){return{key:e,method:"ResolveCoincidentTopology".concat(e,"OffsetParameters")}})));var Ov={implementCoincidentTopologyMethods:function(e,t){void 0===t.resolveCoincidentTopology&&(t.resolveCoincidentTopology=!1),fe.setGet(e,t,["resolveCoincidentTopology"]),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(Sv).forEach((function(t){e[t]=Sv[t]})),Object.keys(Pv).forEach((function(t){e[t]=Pv[t]})),Av(e,t.topologyOffset,_v.map((function(e){return{key:e,method:"RelativeCoincidentTopology".concat(e,"OffsetParameters")}}))),e.getCoincidentTopologyPolygonOffsetParameters=function(){var t=Pv.getResolveCoincidentTopologyPolygonOffsetParameters(),n=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyLineOffsetParameters=function(){var t=Pv.getResolveCoincidentTopologyLineOffsetParameters(),n=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyPointOffsetParameter=function(){var t=Pv.getResolveCoincidentTopologyPointOffsetParameters(),n=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}}},staticOffsetAPI:Pv,otherStaticMethods:Sv,CATEGORIES:_v};function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dv=Ov.staticOffsetAPI,Iv=Ov.otherStaticMethods,kv=as.ColorMode,Mv=as.ScalarMode,Nv=as.GetArray,Rv=os.VectorMode,Bv=Fn.VtkDataTypes;function Lv(e){return function(){return fe.vtkErrorMacro("vtkMapper::".concat(e," - NOT IMPLEMENTED"))}}function Fv(e,t){t.classHierarchy.push("vtkMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=bn(),t.bounds},e.setForceCompileOnly=function(e){t.forceCompileOnly=e},e.createDefaultLookupTable=function(){t.lookupTable=Ss.newInstance()},e.getColorModeAsString=function(){return fe.enumToString(kv,t.colorMode)},e.setColorModeToDefault=function(){return e.setColorMode(0)},e.setColorModeToMapScalars=function(){return e.setColorMode(1)},e.setColorModeToDirectScalars=function(){return e.setColorMode(2)},e.getScalarModeAsString=function(){return fe.enumToString(Mv,t.scalarMode)},e.setScalarModeToDefault=function(){return e.setScalarMode(0)},e.setScalarModeToUsePointData=function(){return e.setScalarMode(1)},e.setScalarModeToUseCellData=function(){return e.setScalarMode(2)},e.setScalarModeToUsePointFieldData=function(){return e.setScalarMode(3)},e.setScalarModeToUseCellFieldData=function(){return e.setScalarMode(4)},e.setScalarModeToUseFieldData=function(){return e.setScalarMode(5)},e.getAbstractScalars=function(e,n,r,o,i){if(!e||!t.scalarVisibility)return{scalars:null,cellFLag:!1};var a=null,s=!1;if(n===Mv.DEFAULT)(a=e.getPointData().getScalars())||(a=e.getCellData().getScalars(),s=!0);else if(n===Mv.USE_POINT_DATA)a=e.getPointData().getScalars();else if(n===Mv.USE_CELL_DATA)a=e.getCellData().getScalars(),s=!0;else if(n===Mv.USE_POINT_FIELD_DATA){var u=e.getPointData();a=r===Nv.BY_ID?u.getArrayByIndex(o):u.getArrayByName(i)}else if(n===Mv.USE_CELL_FIELD_DATA){var c=e.getCellData();s=!0,a=r===Nv.BY_ID?c.getArrayByIndex(o):c.getArrayByName(i)}else if(n===Mv.USE_FIELD_DATA){var l=e.getFieldData();a=r===Nv.BY_ID?l.getArrayByIndex(o):l.getArrayByName(i)}return{scalars:a,cellFlag:s}},e.mapScalars=function(n,r){var o=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!o)return t.colorCoordinates=null,t.colorTextureMap=null,void(t.colorMapColors=null);var i="".concat(e.getMTime()).concat(o.getMTime()).concat(r);if(t.colorBuildString!==i){if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(n))e.mapScalarsToTexture(o,r);else{t.colorCoordinates=null,t.colorTextureMap=null;var a=e.getLookupTable();a&&(a.build(),t.colorMapColors=a.mapScalars(o,t.colorMode,-1))}t.colorBuildString="".concat(e.getMTime()).concat(o.getMTime()).concat(r)}},e.scalarToTextureCoordinate=function(e,t,n){var r=.5,o=1;return yn(e)||(o=.49,(r=(e-t)*n)>1e3?r=1e3:r<-1e3&&(r=-1e3)),{texCoordS:r,texCoordT:o}},e.createColorTextureCoordinates=function(t,n,r,o,i,a,s,u,c){var l=(a[1]-a[0])/u,f=[];f[0]=a[0]-l,f[1]=a[1]+l;var d=1/(f[1]-f[0]),p=n.getData(),h=t.getData(),m=0,g=0;if(i<0||i>=o)for(var v=0;v<r;++v){for(var y=0,b=0;b<o;++b)y+=h[m]*h[m],m++;var w=Math.sqrt(y);c&&(w=Ss.applyLogScale(w,s,a));var x=e.scalarToTextureCoordinate(w,f[0],d);p[g]=x.texCoordS,p[g+1]=x.texCoordT,g+=2}else{m+=i;for(var C=0;C<r;++C){var S=h[m];c&&(S=Ss.applyLogScale(S,s,a));var A=e.scalarToTextureCoordinate(S,f[0],d);p[g]=A.texCoordS,p[g+1]=A.texCoordT,g+=2,m+=o}}},e.mapScalarsToTexture=function(n,r){var o=t.lookupTable.getRange(),i=t.lookupTable.usingLogScale();i&&Ss.getLogRange(o,o);var a=t.lookupTable.getAlpha();if(t.colorMapColors=null,null==t.colorTextureMap||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==r){t.lookupTable.setAlpha(r),t.colorTextureMap=null,t.lookupTable.build();var s=t.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s+=2;for(var u=(o[1]-o[0])/(s-1-2),c=new Float64Array(2*s),l=0;l<s;++l)c[l]=o[0]+l*u-u,i&&(c[l]=Math.pow(10,c[l]));for(var f=0;f<s;++f)c[f+s]=NaN;t.colorTextureMap=es.newInstance(),t.colorTextureMap.setExtent(0,s-1,0,1,0,0);var d=Fn.newInstance({numberOfComponents:1,values:c});t.colorTextureMap.getPointData().setScalars(t.lookupTable.mapScalars(d,t.colorMode,0)),t.lookupTable.setAlpha(a)}if(!t.colorCoordinates||e.getMTime()>t.colorCoordinates.getMTime()||e.getInputData(0).getMTime()>t.colorCoordinates.getMTime()||t.lookupTable.getMTime()>t.colorCoordinates.getMTime()){t.colorCoordinates=null;var p=n.getNumberOfComponents(),h=n.getNumberOfTuples();t.colorCoordinates=Fn.newInstance({numberOfComponents:2,values:new Float32Array(2*h)});var m=t.lookupTable.getVectorComponent();t.lookupTable.getVectorMode()===Rv.MAGNITUDE&&n.getNumberOfComponents()>1&&(m=-1),e.createColorTextureCoordinates(n,t.colorCoordinates,h,p,m,o,t.lookupTable.getRange(),t.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},e.getIsOpaque=function(){var t=e.getLookupTable();return!t||(t.build(),t.isOpaque())},e.canUseTextureMapForColoring=function(n){if(!t.interpolateScalarsBeforeMapping)return!1;if(t.lookupTable&&t.lookupTable.getIndexedLookup())return!1;var r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName),o=r.scalars;return!(!o||r.cellFlag||t.colorMode===kv.DEFAULT&&o.getDataType()===Bv.UNSIGNED_CHAR||t.colorMode===kv.DIRECT_SCALARS)},e.clearColorArrays=function(){t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=function(){return t.lookupTable||e.createDefaultLookupTable(),t.lookupTable},e.getMTime=function(){var e=t.mtime;if(null!==t.lookupTable){var n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.getPrimitiveCount=function(){var t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getLines().getNumberOfCells()}},e.acquireInvertibleLookupTable=Lv("AcquireInvertibleLookupTable"),e.valueToColor=Lv("ValueToColor"),e.colorToValue=Lv("ColorToValue"),e.useInvertibleColorFor=Lv("UseInvertibleColorFor"),e.clearInvertibleColor=Lv("ClearInvertibleColor")}var jv={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function Vv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jv,n),yv.extend(e,t,n),fe.get(e,t,["colorCoordinates","colorMapColors","colorTextureMap"]),fe.setGet(e,t,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),fe.setGetArray(e,t,["scalarRange"],2),t.viewSpecificProperties||(t.viewSpecificProperties={}),Ov.implementCoincidentTopologyMethods(e,t),Fv(e,t)}var Uv=Tv(Tv(Tv({newInstance:fe.newInstance(Vv,"vtkMapper"),extend:Vv},Dv),Iv),as);function zv(e,t){t.classHierarchy.push("vtkAbstractPicker"),e.initialize=function(){t.renderer=null,t.selectionPoint[0]=0,t.selectionPoint[1]=0,t.selectionPoint[2]=0,t.pickPosition[0]=0,t.pickPosition[1]=0,t.pickPosition[2]=0},e.initializePickList=function(){t.pickList=[]},e.addPickList=function(e){t.pickList.push(e)},e.deletePickList=function(e){var n=t.pickList.indexOf(e);-1!==n&&t.pickList.splice(n,1)}}var Gv={renderer:null,selectionPoint:[0,0,0],pickPosition:[0,0,0],pickFromList:0,pickList:[]};function Wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Gv,n),fe.obj(e,t),fe.get(e,t,["renderer"]),fe.getArray(e,t,["selectionPoint","pickPosition"]),fe.setGet(e,t,["pickFromList","pickList"]),zv(e,t)}var Hv={newInstance:fe.newInstance(Wv,"vtkAbstractPicker"),extend:Wv};function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kv=fe.vtkErrorMacro,Xv=fe.vtkWarningMacro;function Yv(e,t){t.classHierarchy.push("vtkPicker");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qv(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.intersectWithLine=function(e,t,n,r){if(!r)return Number.MAX_VALUE;for(var o=r.getCenter(),i=[],a=0;a<3;a++)i[a]=t[a]-e[a];var s=$e(i,i);return 0===s?2:(i[0]*(o[0]-e[0])+i[1]*(o[1]-e[1])+i[2]*(o[2]-e[2]))/s},e.pick=function(r,o){3!==r.length&&Xv("vtkPicker::pick: selectionPt needs three components");var i,a,s,u,c,l,f,d,p,h,m,g=r[0],v=r[1],y=r[2],b=[],w=[],x=[],C=[],S=[],A=[],_=0,P=[],O=!1,E=new Float64Array(4),T=new Float64Array(4),D=Xr.newInstance(),I=[],k=[],M=o.getRenderWindow().getViews()[0];if(n.initialize(),t.actors=[],t.pickedPositions=[],t.mapperPosition[0]=0,t.mapperPosition[1]=0,t.mapperPosition[2]=0,t.mapper=null,t.dataSet=null,t.globalTMin=Number.MAX_VALUE,t.renderer=o,t.selectionPoint[0]=g,t.selectionPoint[1]=v,t.selectionPoint[2]=y,o){var N=o.getActiveCamera();i=N.getPosition(),a=N.getFocalPoint(),b=o.worldToNormalizedDisplay(a[0],a[1],a[2]),y=(b=M.normalizedDisplayToDisplay(b[0],b[1],b[2]))[2];var R=M.displayToNormalizedDisplay(g,v,y),B=M.getViewportSize(o),L=B[0]/B[1];s=o.normalizedDisplayToWorld(R[0],R[1],R[2],L);for(var F=0;F<3;F++)t.pickPosition[F]=s[F];for(var j=0;j<3;j++)w[j]=t.pickPosition[j]-i[j];for(var V=0;V<3;V++)x[V]=a[V]-i[V];nt(x);var U=$e(x,w);if(0!==U){if(u=N.getClippingRange(),N.getParallelProjection()){c=u[0]-U,l=u[1]-U;for(var z=0;z<3;z++)C[z]=t.pickPosition[z]+c*x[z],S[z]=t.pickPosition[z]+l*x[z]}else{c=u[0]/U,l=u[1]/U;for(var G=0;G<3;G++)C[G]=i[G]+c*w[G],S[G]=i[G]+l*w[G]}C[3]=1,S[3]=1,f=o.getViewport(),o.getRenderWindow()&&(A=o.getRenderWindow().getViews()[0].getSize()),d=A[0]*f[0],p=A[1]*f[1];var W=M.displayToNormalizedDisplay(d,p,y);h=o.normalizedDisplayToWorld(W[0],W[1],W[2],L),d=A[0]*f[2],p=A[1]*f[3];var H=M.displayToNormalizedDisplay(d,p,y);m=o.normalizedDisplayToWorld(H[0],H[1],H[2],L);for(var q=0;q<3;q++)_+=(m[q]-h[q])*(m[q]-h[q]);_=Math.sqrt(_)*t.tolerance,P=t.pickFromList?t.pickList:o.getActors();var K=[];P.forEach((function(n){var r=n.getMapper();if(O=n.getPickable()&&n.getVisibility(),n.getProperty().getOpacity()<=0&&(O=!1),O){t.transformMatrix=n.getMatrix().slice(0),Ii(t.transformMatrix,t.transformMatrix),ki(t.transformMatrix,t.transformMatrix);var o=[t.transformMatrix[0],t.transformMatrix[1],t.transformMatrix[2]],i=[t.transformMatrix[4],t.transformMatrix[5],t.transformMatrix[6]],a=[t.transformMatrix[8],t.transformMatrix[9],t.transformMatrix[10]];K[0]=tt(o),K[1]=tt(i),K[2]=tt(a),jh(E,C,t.transformMatrix),jh(T,S,t.transformMatrix),E[0]/=E[3],E[1]/=E[3],E[2]/=E[3],T[0]/=T[3],T[1]/=T[3],T[2]/=T[3];for(var s=0;s<3;s++)w[s]=T[s]-E[s];if(r?(D.setBounds(r.getBounds()),D.inflate(_)):D.reset(),D.intersectBox(E,w,k,I)&&(I[0]=e.intersectWithLine(E,T,.333*_*(K[0]+K[1]+K[2]),r),I[0]<Number.MAX_VALUE)){var u=[];u[0]=(1-I[0])*C[0]+I[0]*S[0],u[1]=(1-I[0])*C[1]+I[0]*S[1],u[2]=(1-I[0])*C[2]+I[0]*S[2];for(var c=-1,l=0;l<t.actors.length;l++)if(t.actors[l]===n){c=l;break}if(-1===c)t.actors.push(n),t.pickedPositions.push(u);else{var f=t.pickedPositions[c],d=st(C,f);st(C,u)<d&&(t.pickedPositions[c]=u)}}}return e.invokePickChange(t.pickedPositions),1}))}else Xv("Picker::Pick Cannot process points")}else Kv("Picker::Pick Must specify renderer")}}var Zv={tolerance:.025,mapperPosition:[0,0,0],mapper:null,dataSet:null,actors:[],pickedPositions:[],transformMatrix:null,globalTMin:Number.MAX_VALUE};function Jv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Zv,n),Hv.extend(e,t,n),fe.setGet(e,t,["tolerance"]),fe.setGetArray(e,t,["mapperPosition"],3),fe.get(e,t,["mapper","dataSet","actors","pickedPositions"]),fe.event(e,t,"pickChange"),Yv(e,t)}var $v={newInstance:fe.newInstance(Jv,"vtkPicker"),extend:Jv},Qv=fe.vtkErrorMacro;function ey(e,t){t.classHierarchy.push("vtkPointPicker"),e.intersectWithLine=function(n,r,o,i){var a=Number.MAX_VALUE;if(i.isA("vtkImageMapper")){var s=i.intersectWithLineForPointPicking(n,r);s&&(a=s.t,t.pointIJK=s.ijk)}else i.isA("vtkMapper")&&(a=e.intersectActorWithLine(n,r,o,i));return a},e.intersectActorWithLine=function(e,n,r,o){var i=o.getInputData(),a=0,s=i.getPoints().getNumberOfPoints();if(s<=a)return 2;for(var u=[],c=0;c<3;c++)u[c]=n[c]-e[c];var l,f=$e(u,u);if(0===f)return Qv("Cannot process points"),2;var d=-1,p=Number.MAX_VALUE,h=Number.MAX_VALUE,m=[],g=[],v=[],y=i.getPoints();if(t.useCells)for(var b=i.getPolys().getData(),w=b[0],x=i.getPolys().getNumberOfCells(),C=0;C<x;C++)for(var S=C*w+1,A=S+w,_=S;_<A;_++){var P=b[_];if(y.getPoint(P,v),(l=(u[0]*(v[0]-e[0])+u[1]*(v[1]-e[1])+u[2]*(v[2]-e[2]))/f)>=0&&l<=1&&l<=p+t.tolerance){for(var O=0,E=0;E<3;E++){m[E]=e[E]+l*u[E];var T=Math.abs(v[E]-m[E]);T>O&&(O=T)}O<=r&&O<h&&(d=a,g[0]=v[0],g[1]=v[1],g[2]=v[2],h=O,p=l)}}else for(a=0;a<s;a++)if(y.getPoint(a,v),(l=(u[0]*(v[0]-e[0])+u[1]*(v[1]-e[1])+u[2]*(v[2]-e[2]))/f)>=0&&l<=1&&l<=p+t.tolerance){for(var D=0,I=0;I<3;I++){m[I]=e[I]+l*u[I];var k=Math.abs(v[I]-m[I]);k>D&&(D=k)}D<=r&&D<h&&(d=a,g[0]=v[0],g[1]=v[1],g[2]=v[2],h=D,p=l)}return t.pointId=d,p}}var ty={pointId:-1,pointIJK:[],useCells:!1};function ny(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ty,n),$v.extend(e,t,n),fe.getArray(e,t,["pointIJK"]),fe.get(e,t,["pointId"]),fe.setGet(e,t,["useCells"]),ey(e,t)}var ry={newInstance:fe.newInstance(ny,"vtkPointPicker"),extend:ny},oy=Hm.States;function iy(e,t){t.classHierarchy.push("vtkMouseCameraUnicamRotateManipulator"),t.picker=ry.newInstance(),t.downPoint=[0,0,0],t.isDot=!1,t.state=oy.IS_NONE;var n=Jp.newInstance();n.setThetaResolution(6),n.setPhiResolution(6);var r=Uv.newInstance();r.setInputConnection(n.getOutputPort()),t.focusSphere=dv.newInstance(),t.focusSphere.setMapper(r),t.focusSphere.getProperty().setColor(.89,.66,.41),t.focusSphere.getProperty().setAmbient(1),t.focusSphere.getProperty().setDiffuse(0),t.focusSphere.getProperty().setRepresentationToWireframe();var o=function(e){if(e){if(t.useWorldUpVec){var n=e.findPokedRenderer().getActiveCamera();Ot(t.worldUpVec,n.getViewPlaneNormal())||n.setViewUp(t.worldUpVec)}e.render()}},i=function(e,t){var n=g(t.getView().getSize(),2),r=n[0],o=n[1];return{x:2*e.x/r-1,y:2*e.y/o-1}},a=function(e,t,n,r,o,i,a,s){var u=e.getPosition(),c=e.getFocalPoint(),l=e.getViewUp();u[3]=1,c[3]=1,l[3]=0;var f=Di(new Float64Array(16));Bi(f,f,[t,n,r]),Fi(f,f,s,[o,i,a]),Bi(f,f,[-t,-n,-r]);var d=[],p=[];ii(d,u,f),ii(p,c,f),Di(f),Fi(f,f,s,[o,i,a]);var h=[];ii(h,l,f),e.setPosition.apply(e,d),e.setFocalPoint.apply(e,p),e.setViewUp.apply(e,h)},s=function(e){!function(e){var n,r=e.findPokedRenderer();(n=t.focusSphere).setPosition.apply(n,y(t.downPoint));var o=r.getActiveCamera(),i=o.getPosition(),a=[];Ke(t.downPoint,i,a),o.getParallelProjection()&&Xe(a,o.getParallelScale());var s=o.getDirectionOfProjection();nt(s);var u=.02*$e(s,a)*t.focusSphereRadiusFactor;t.focusSphere.setScale(u,u,u)}(e),e.findPokedRenderer().addActor(t.focusSphere),t.isDot=!0};e.onButtonDown=function(e,n,r){t.buttonPressed=!0,t.startPosition=r,t.previousPosition=r;var o=i(r,e);if(Math.abs(o.x)>.9||Math.abs(o.y)>.9)return t.state=oy.IS_ROTATE,void s(e);t.downPoint=function(e,n){var r=e.findPokedRenderer(),o=null;if(t.useHardwareSelector){var i=e.getView().getSelector();i.setCaptureZValues(!0),i.setFieldAssociation(fo.FIELD_ASSOCIATION_POINTS),i.attach(e.getView(),r),i.setArea(n.x,n.y,n.x,n.y),o=i.select()}return o&&0!==o.length?Array.from(o[0].getProperties().worldPosition):function(e,n){var r=e.findPokedRenderer();t.picker.pick([n.x,n.y,n.z],r);var o=t.picker.getPickedPositions();if(0===o.length)return t.picker.getPickPosition();var i=r.getActiveCamera().getPosition();return o.sort((function(e,t){return st(e,i)-st(t,i)})),o[0]}(e,n)}(e,r),t.isDot?t.state=oy.IS_ROTATE:(t.state=oy.IS_NONE,t.displayFocusSphereOnButtonDown&&s(e))},e.onMouseMove=function(n,r,s){t.buttonPressed&&(t.state=oy.IS_ROTATE,function(n,r){var s,u=n.findPokedRenderer(),c=i(r,n),l=i(t.previousPosition,n),f=t.focusSphere.getPosition(),d=(s=n.getView()).worldToDisplay.apply(s,y(f).concat([u]));d=[(d=i({x:f[0],y:f[1]},n)).x,d.y,f[2]];var p=Math.pow(1+Math.abs(d[0]),2),h=[l.x,0,0],m=[c.x,0,0],g=Math.pow(h[0],2),v=Math.pow(m[0],2),b=g>p?0:Math.sqrt(p-g),w=v>p?0:Math.sqrt(p-v),x=[h[0],0,b];nt(x);var C=[m[0],0,w];nt(C);var S=$e(x,C);if(Math.abs(S)>1e-4){var A=-2*Math.acos(rn(S,-1,1))*Math.sign(c.x-l.x)*e.getRotationFactor(),_=u.getActiveCamera(),P=t.useWorldUpVec?t.worldUpVec:_.getViewUp();nt(P),a.apply(void 0,[_].concat(y(f),y(P),[A]));var O=[];Ke(_.getPosition(),r,O);var E=(c.y-l.y)*e.getRotationFactor();nt(O);var T=_.getViewPlaneNormal(),D=[];et(_.getViewUp(),T,D),nt(D),t.useWorldUpVec&&($e(P,T)>.99&&E<0&&(E=0),$e(P,T)<-.99&&E>0&&(E=0)),a.apply(void 0,[_].concat(y(f),D,[E])),t.useWorldUpVec&&!Ot(P,_.getViewPlaneNormal())&&_.setViewUp.apply(_,y(P)),t.previousPosition=r,u.resetCameraClippingRange(),o(n)}}(n,s),t.previousPosition=s)},e.onButtonUp=function(e){var n=e.findPokedRenderer();t.buttonPressed=!1,(t.state!==oy.IS_ROTATE||t.isDot)&&(t.state===oy.IS_ROTATE?function(e){e.findPokedRenderer().removeActor(t.focusSphere),t.isDot=!1}(e):t.state===oy.IS_NONE&&s(e),n.resetCameraClippingRange(),o(e))},e.getFocusSphereColor=function(){t.focusSphere.getProperty().getColor()},e.setFocusSphereColor=function(e,n,r){t.focusSphere.getProperty().setColor(e,n,r)}}var ay={focusSphereRadiusFactor:1,displayFocusSphereOnButtonDown:!0,useHardwareSelector:!0,useWorldUpVec:!0,worldUpVec:[0,0,1]};function sy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ay,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),fe.setGet(e,t,["focusSphereRadiusFactor","displayFocusSphereOnButtonDown","useHardwareSelector","useWorldUpVec"]),fe.get(e,t,["state"]),fe.getArray(e,t,["downPoint"],3),fe.setGetArray(e,t,["worldUpVec"],3),iy(e,t)}var uy={newInstance:fe.newInstance(sy,"vtkMouseCameraUnicamRotateManipulator"),extend:sy},cy=Hm.States;function ly(e,t){t.classHierarchy.push("vtkMouseCameraUnicamManipulator"),t.state=cy.IS_NONE,t.rotateManipulator=uy.newInstance({button:t.button,shift:t.shift,control:t.control,alt:t.alt,dragEnabled:t.dragEnabled,scrollEnabled:t.scrollEnabled,displayFocusSphereOnButtonDown:!1});var n=function(e,t){var n=g(t.getView().getSize(),2),r=n[0],o=n[1];return{x:2*e.x/r-1,y:2*e.y/o-1}},r=function(e,t){var n=t.findPokedRenderer().getActiveCamera(),r=[0,0,0];Ke(e,n.getPosition(),r),n.getParallelProjection()&&Xe(r,n.getParallelScale());var o=n.getViewPlaneNormal();nt(o);var i=$e(r,o),a=_e(n.getViewAngle()),s=g(t.getView().getSize(),2),u=s[0]/s[1]*(2*i*Math.tan(a/2)/2),c=2*i*Math.tan(a/2)/2,l=n.getViewUp(),f=[];return et(l,o,f),et(o,f,l),nt(f),nt(l),Xe(f,u),Xe(l,c),{rightV:f,upV:l}};e.onButtonDown=function(e,n,r){t.buttonPressed=!0,t.startPosition=r,t.previousPosition=r,t.time=Date.now()/1e3,t.dist=0,t.rotateManipulator.onButtonDown(e,n,r),t.downPoint=t.rotateManipulator.getDownPoint()},e.onMouseMove=function(e,o,i){if(t.buttonPressed){if(t.rotateManipulator.getState()===cy.IS_ROTATE)t.rotateManipulator.onMouseMove(e,o,i);else switch(t.state){case cy.IS_NONE:!function(e,r){var o=n(r,e),i=n(t.previousPosition,e),a={x:o.x-i.x,y:o.y-i.y};t.previousPosition=r;var s=Date.now()/1e3-t.time;t.dist+=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));var u={x:r.x-t.startPosition.x,y:r.y-t.startPosition.y},c=Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2));Math.abs(u.y)/c>.9&&s>.05?t.state=cy.IS_DOLLY:(s>=.1||t.dist>=.03)&&(Math.abs(u.x)/c>.6?t.state=cy.IS_PAN:t.state=cy.IS_DOLLY)}(e,i);break;case cy.IS_PAN:!function(e,o){var i=e.findPokedRenderer(),a=n(o,e),s=n(t.previousPosition,e),u=a.x-s.x,c=a.y-s.y,l=i.getActiveCamera();t.previousPosition=o;for(var f=r(t.downPoint,e),d=f.rightV,p=f.upV,h=[],m=0;m<3;m++)h[m]=u*d[m]+c*p[m];l.translate.apply(l,h),i.resetCameraClippingRange(),e.render()}(e,i);break;case cy.IS_DOLLY:!function(e,o){var i=e.findPokedRenderer(),a=n(o,e),s=n(t.previousPosition,e),u={x:a.x-s.x,y:a.y-s.y},c=i.getActiveCamera(),l=c.getPosition();if(c.getParallelProjection())c.zoom(1-u.y);else{var f=[];Ke(t.downPoint,l,f),Xe(f,-4*u.y),c.translate.apply(c,f)}var d=r(t.downPoint,e).rightV;Xe(d,u.x),c.translate.apply(c,y(d)),i.resetCameraClippingRange(),e.render()}(e,i)}t.previousPosition=i}},e.onButtonUp=function(e){t.buttonPressed=!1,t.state===cy.IS_NONE&&t.rotateManipulator.onButtonUp(e),t.state=cy.IS_NONE},e.getUseWorldUpVec=function(){return t.rotateManipulator.getUseWorldUpVec()},e.setUseWorldUpVec=function(e){t.rotateManipulator.setUseWorldUpVec(e)},e.getWorldUpVec=function(){return t.rotateManipulator.getWorldUpVec()},e.setWorldUpVec=function(e,n,r){t.rotateManipulator.setWorldUpVec(e,n,r)},e.getUseHardwareSelector=function(){return t.rotateManipulator.getUseHardwareSelector()},e.setUseHardwareSelector=function(e){t.rotateManipulator.setUseHardwareSelector(e)},e.getFocusSphereColor=function(){t.rotateManipulator.getFocusSphereColor()},e.setFocusSphereColor=function(e,n,r){t.rotateManipulator.setFocusSphereColor(e,n,r)},e.getFocusSphereRadiusFactor=function(){return t.rotateManipulator.getFocusSphereRadiusFactor()},e.setFocusSphereRadiusFactor=function(e){t.rotateManipulator.setFocusSphereRadiusFactor(e)}}var fy={};function dy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fy,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),ly(e,t)}var py={newInstance:fe.newInstance(dy,"vtkMouseCameraUnicamManipulator"),extend:dy};function hy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballFirstPersonManipulator");var n={interactor:null,renderer:null,previousPosition:null};e.onButtonDown=function(r,o,i){n.previousPosition=i,t.usePointerLock&&!r.isPointerLocked()&&(Object.assign(n,{interactor:r,renderer:o}),r.requestPointerLock(),e.startPointerLockInteraction())},e.startPointerLockInteraction=function(){var t=n.interactor;document.addEventListener("mousemove",e.onPointerLockMove);var r=null;r=t.onEndPointerLock((function(){document.removeEventListener("mousemove",e.onPointerLockMove),r.unsubscribe()}))},e.onPointerLockMove=function(n){var r=t.sensitivity,o=-1*n.movementX*r,i=-1*n.movementY*r;e.moveCamera(o,i)},e.onMouseMove=function(r,o,i){if(i){var a=n.previousPosition,s=t.sensitivity,u=(a.x-i.x)*s,c=(i.y-a.y)*s;Object.assign(n,{interactor:r,renderer:o}),e.moveCamera(u,c),n.previousPosition=i}},e.moveCamera=function(e,r){var o=n.renderer,i=n.interactor,a=o.getActiveCamera(),s=t.numAnimationSteps,u=e/s,c=r/s,l=performance.now().toString(),f="".concat("vtkMouseCameraTrackballFirstPersonManipulator",".").concat(l),d=0,p=null;i.requestAnimation(f),p=i.onAnimation((function(){return a.yaw(u),a.pitch(c),a.orthogonalizeViewUp(),void((d+=1)===s&&(p.unsubscribe(),o.resetCameraClippingRange(),i.getLightFollowCamera()&&o.updateLightsGeometryToFollowCamera(),setTimeout((function(){n.interactor.cancelAnimation(f)}),0)))}))}}var my={numAnimationSteps:5,sensitivity:.05,usePointerLock:!0};function gy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,my,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),fe.setGet(e,t,["numAnimationSteps","sensitivity","usePointerLock"]),hy(e,t)}var vy={newInstance:fe.newInstance(gy,"vtkMouseCameraTrackballFirstPersonManipulator"),extend:gy};function yy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");var n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(3),i=new Float64Array(16),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3);e.onButtonDown=function(e,n,r){t.previousPosition=r},e.onMouseMove=function(e,c,l){if(l){var f=c.getActiveCamera(),d=f.getPosition(),p=f.getFocalPoint();Di(i);var h=t.center,m=t.rotationFactor,g=t.previousPosition.x-l.x,v=t.previousPosition.y-l.y,y=e.getView().getSize(),b=f.getViewUp();if(t.useWorldUpVec){var w=new Float64Array(3);No(w,t.worldUpVec),Xe(w,$e(d,t.worldUpVec)/$e(t.worldUpVec,t.worldUpVec)),Bi(i,i,w),Fi(i,i,_e(360*g/y[0]*m),t.worldUpVec),Bi(i,i,Ke(h,w,w))}else Bi(i,i,h),Fi(i,i,_e(360*g/y[0]*m),b);et(f.getDirectionOfProjection(),b,a),Fi(i,i,_e(-360*v/y[1]*m),a),s[0]=-h[0],s[1]=-h[1],s[2]=-h[2],Bi(i,i,s),ii(n,d,i),ii(r,p,i),u[0]=b[0]+d[0],u[1]=b[1]+d[1],u[2]=b[2]+d[2],ii(o,u,i),f.setPosition(n[0],n[1],n[2]),f.setFocalPoint(r[0],r[1],r[2]),f.setViewUp(o[0]-n[0],o[1]-n[1],o[2]-n[2]),f.orthogonalizeViewUp(),c.resetCameraClippingRange(),e.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera(),t.previousPosition=l}}}var by={useWorldUpVec:!1,worldUpVec:[0,1,0]};function wy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,by,n),fe.obj(e,t),hm.extend(e,t,n),im.extend(e,t,n),fe.setGet(e,t,["useWorldUpVec"]),fe.setGetArray(e,t,["worldUpVec"],3),yy(e,t)}var xy={newInstance:fe.newInstance(wy,"vtkMouseCameraTrackballRotateManipulator"),extend:wy};function Cy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");var n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(3),i=new Float64Array(16),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3);e.onButtonDown=function(e,n,r){t.previousPosition=r},e.onMouseMove=function(c,l,f){if(f){var d=l.getActiveCamera(),p=d.getPosition(),h=d.getFocalPoint(),m=d.getViewUp();n[0]=h[0]-p[0],n[1]=h[1]-p[1],n[2]=h[2]-p[2],e.computeDisplayCenter(c.getInteractorStyle(),l);var g=t.previousPosition.x-t.displayCenter[0],v=f.x-t.displayCenter[0],y=t.previousPosition.y-t.displayCenter[1],b=f.y-t.displayCenter[1];if(!(0===v&&0===b||0===g&&0===y)){var w=Pe((g*b-y*v)/(Math.sqrt(g*g+y*y)*Math.sqrt(v*v+b*b))),x=t.center;Di(i),o[0]=-x[0],o[1]=-x[1],o[2]=-x[2],Bi(i,i,x),Fi(i,i,_e(w),n),Bi(i,i,o),ii(a,p,i),ii(s,h,i),r[0]=m[0]+p[0],r[1]=m[1]+p[1],r[2]=m[2]+p[2],ii(u,r,i),d.setPosition(a[0],a[1],a[2]),d.setFocalPoint(s[0],s[1],s[2]),d.setViewUp(u[0]-a[0],u[1]-a[1],u[2]-a[2]),d.orthogonalizeViewUp(),l.resetCameraClippingRange(),c.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),t.previousPosition=f}}}}var Sy={};function Ay(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sy,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),Cy(e,t)}var _y={newInstance:fe.newInstance(Ay,"vtkMouseCameraTrackballRollManipulator"),extend:Ay};function Py(e){return e*e}function Oy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");var n=xy.newInstance(),r=_y.newInstance(),o=null;e.onButtonDown=function(t,i,a){var s,u,c=t.getView().getSize(),l=[.5*c[0],.5*c[1]],f=.9*((s=l[0])<(u=l[1])?u:s),d=Py(l[0]-a.x)+Py(l[1]-a.y);(o=f*f>d?n:r).setButton(e.getButton()),o.setShift(e.getShift()),o.setControl(e.getControl()),o.setCenter(e.getCenter()),o.onButtonDown(t,a)},e.onButtonUp=function(e){o&&o.onButtonUp(e)},e.onMouseMove=function(e,t,n){o&&o.onMouseMove(e,t,n)}}var Ey={};function Ty(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ey,n),fe.obj(e,t),hm.extend(e,t,n),im.extend(e,t,n),Oy(e,t)}var Dy={newInstance:fe.newInstance(Ty,"vtkMouseCameraTrackballMultiRotateManipulator"),extend:Ty};function Iy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),e.onButtonDown=function(e,n,r){t.previousPosition=r},e.onMouseMove=function(e,n,r){if(r){var o=r,i=t.previousPosition;t.previousPosition=r;var a=n.getActiveCamera(),s=a.getPosition(),u=a.getFocalPoint();if(a.getParallelProjection()){a.orthogonalizeViewUp();var c=a.getViewUp(),l=[0,0,0];et(a.getViewPlaneNormal(),c,l);var f=e.getView().getSize()[1],d=(o.x-i.x)/f,p=(i.y-o.y)/f,h=a.getParallelScale();p*=2*h;var m=l[0]*(d*=2*h)+c[0]*p;s[0]+=m,u[0]+=m,m=l[1]*d+c[1]*p,s[1]+=m,u[1]+=m,m=l[2]*d+c[2]*p,s[2]+=m,u[2]+=m,a.setPosition(s[0],s[1],s[2]),a.setFocalPoint(u[0],u[1],u[2])}else{var g=t.center,v=e.getInteractorStyle(),y=v.computeWorldToDisplay(n,g[0],g[1],g[2])[2],b=v.computeDisplayToWorld(n,o.x,o.y,y),w=v.computeDisplayToWorld(n,i.x,i.y,y),x=[s[0]+(w[0]-b[0]),s[1]+(w[1]-b[1]),s[2]+(w[2]-b[2])],C=[u[0]+(w[0]-b[0]),u[1]+(w[1]-b[1]),u[2]+(w[2]-b[2])];a.setPosition(x[0],x[1],x[2]),a.setFocalPoint(C[0],C[1],C[2])}n.resetCameraClippingRange(),e.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera()}}}var ky={};function My(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ky,n),fe.obj(e,t),im.extend(e,t,n),hm.extend(e,t,n),Iy(e,t)}var Ny={newInstance:fe.newInstance(My,"vtkMouseCameraTrackballPanManipulator"),extend:My};function Ry(e,t){t.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),e.onButtonDown=function(e,n,r){t.previousPosition=r;var o=e.getView().getSize(),i=n.getActiveCamera(),a=t.flipDirection?-1:1;if(i.getParallelProjection())t.zoomScale=1.5/o[1]*a;else{var s=i.getClippingRange();t.zoomScale=s[1]/o[1]*1.5*a}},e.onMouseMove=function(e,n,r){if(r){var o=t.previousPosition.y-r.y,i=n.getActiveCamera();if(i.getParallelProjection()){var a=o*t.zoomScale;i.setParallelScale((1-a)*i.getParallelScale())}else{var s=i.getPosition(),u=i.getFocalPoint(),c=i.getDirectionOfProjection(),l=o*t.zoomScale,f=l*c[0];s[0]+=f,u[0]+=f,f=l*c[1],s[1]+=f,u[1]+=f,f=l*c[2],s[2]+=f,u[2]+=f,i.getFreezeFocalPoint()||i.setFocalPoint(u[0],u[1],u[2]),i.setPosition(s[0],s[1],s[2]),n.resetCameraClippingRange()}e.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera(),t.previousPosition=r}},e.onScroll=function(e,t,n){if(n){var r=t.getActiveCamera(),o=1-n/10;r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/o):(r.dolly(o),t.resetCameraClippingRange()),e.getLightFollowCamera()&&t.updateLightsGeometryToFollowCamera()}}}var By={zoomScale:0,flipDirection:!1};function Ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,By,n),fe.obj(e,t),hm.extend(e,t,n),im.extend(e,t,n),fe.setGet(e,t,["flipDirection"]),Ry(e,t)}var Fy={newInstance:fe.newInstance(Ly,"vtkMouseCameraTrackballZoomManipulator"),extend:Ly};function jy(e,t){t.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");var n=e.onButtonDown;e.onButtonDown=function(e,r,o){n(e,r,o),t.zoomPosition=o},e.onMouseMove=function(e,n,r){if(r){var o=(t.previousPosition.y-r.y)*t.zoomScale;lg.dollyToPosition(1-o,t.zoomPosition,n,e),e.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera(),t.previousPosition=r}},e.onScroll=function(e,t,n,r){if(n&&r){var o=1-.1*n;lg.dollyToPosition(o,r,t,e),e.getLightFollowCamera()&&t.updateLightsGeometryToFollowCamera()}}}var Vy={zoomPosition:null};function Uy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Vy,n),Fy.extend(e,t,n),jy(e,t)}var zy={newInstance:fe.newInstance(Uy,"vtkMouseCameraTrackballZoomToMouseManipulator"),extend:Uy};function Gy(e,t){t.classHierarchy.push("vtkMouseRangeManipulator");var n=new Map;function r(e,t){return t*((e.max-e.min)/(e.step+1))}function o(e,t){var r=e.getValue(),o=t*e.scale+n.get(e),i=r+o,a=i-e.min,s=Math.round(a/e.step);i=e.min+e.step*s,i=Math.max(i,e.min),(i=Math.min(i,e.max))!==r?(e.setValue(i),n.set(e,0)):i===e.min&&o<0||i===e.max&&o>0?n.set(e,0):n.set(e,o)}e.setHorizontalListener=function(r,o,i,a,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,c=Number.isFinite(a)?function(){return a}:a;t.horizontalListener={min:r,max:o,step:i,getValue:c,setValue:s,scale:u},n.set(t.horizontalListener,0),e.modified()},e.setVerticalListener=function(r,o,i,a,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,c=Number.isFinite(a)?function(){return a}:a;t.verticalListener={min:r,max:o,step:i,getValue:c,setValue:s,scale:u},n.set(t.verticalListener,0),e.modified()},e.setScrollListener=function(r,o,i,a,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,c=Number.isFinite(a)?function(){return a}:a;t.scrollListener={min:r,max:o,step:i,getValue:c,setValue:s,scale:u},n.set(t.scrollListener,0),e.modified()},e.removeHorizontalListener=function(){t.verticalListener&&(n.delete(t.verticalListener),delete t.verticalListener,e.modified())},e.removeVerticalListener=function(){t.horizontalListener&&(n.delete(t.horizontalListener),delete t.horizontalListener,e.modified())},e.removeScrollListener=function(){t.scrollListener&&(n.delete(t.scrollListener),delete t.scrollListener,e.modified())},e.removeAllListeners=function(){e.removeHorizontalListener(),e.removeVerticalListener(),e.removeScrollListener()},e.onButtonDown=function(e,n,r){t.previousPosition=r;var o=e.getView(),i=o.getContainerSize()[0]/o.getSize()[0],a=o.getViewportSize(n);t.containerSize=a.map((function(e){return e*i}))},e.onMouseMove=function(e,n,i){if((t.verticalListener||t.horizontalListener)&&i){if(t.horizontalListener){var a=(i.x-t.previousPosition.x)/t.containerSize[0],s=r(t.horizontalListener,a);o(t.horizontalListener,s)}if(t.verticalListener){var u=(i.y-t.previousPosition.y)/t.containerSize[1],c=r(t.verticalListener,u);o(t.verticalListener,c)}t.previousPosition=i}},e.onScroll=function(e,n,r){t.scrollListener&&r&&o(t.scrollListener,r*t.scrollListener.step)},e.onStartScroll=e.onScroll}var Wy={horizontalListener:null,verticalListener:null,scrollListener:null};function Hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Wy,n),fe.obj(e,t),hm.extend(e,t,n),Gy(e,t)}var qy={newInstance:fe.newInstance(Hy,"vtkMouseRangeManipulator"),extend:Hy};function Ky(e,t){t.classHierarchy.push("vtkVRButtonPanManipulator"),e.onButton3D=function(e,t,n,r,o,i){i?e.startCameraPose():n===Wm.IS_CAMERA_POSE&&e.endCameraPose()},e.onMove3D=function(e,t,n,r){if(n===Wm.IS_CAMERA_POSE){var o=t.getActiveCamera(),i=o.getPhysicalTranslation(),a=.05*r.gamepad.axes[1]/o.getPhysicalScale(),s=o.physicalOrientationToWorldDirection(r.orientation);o.setPhysicalTranslation(i[0]+s[0]*a,i[1]+s[1]*a,i[2]+s[2]*a)}}}var Xy={device:mm.RightController,input:gm.TrackPad};function Yy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Xy,n),fe.obj(e,t),wm.extend(e,t,n),Ky(e,t)}var Zy=fe.newInstance(Yy,"vtkVRButtonPanManipulator"),Jy={vtkCompositeCameraManipulator:im,vtkCompositeGestureManipulator:um,vtkCompositeKeyboardManipulator:fm,vtkCompositeMouseManipulator:hm,vtkCompositeVRManipulator:wm,vtkGestureCameraManipulator:hg,vtkKeyboardCameraManipulator:wg,vtkMouseBoxSelectorManipulator:Eg,vtkMouseCameraAxisRotateManipulator:kg,vtkMouseCameraSliceManipulator:Bg,vtkMouseCameraUnicamManipulator:py,vtkMouseCameraUnicamRotateManipulator:uy,vtkMouseCameraTrackballFirstPersonManipulator:vy,vtkMouseCameraTrackballMultiRotateManipulator:Dy,vtkMouseCameraTrackballPanManipulator:Ny,vtkMouseCameraTrackballRollManipulator:_y,vtkMouseCameraTrackballRotateManipulator:xy,vtkMouseCameraTrackballZoomManipulator:Fy,vtkMouseCameraTrackballZoomToMouseManipulator:zy,vtkMouseRangeManipulator:qy,vtkVRButtonPanManipulator:{newInstance:Zy,extend:Yy}},$y=[],Qy={device:{},screen:window.orientation||0,supported:!!window.DeviceMotionEvent,update:!1},eb={"landscape-primary":90,"landscape-secondary":-90,"portrait-secondary":180,"portrait-primary":0};function tb(e){Qy.device=e,Number.isFinite(e.alpha)||(Qy.supported=!1)}function nb(){Qy.screen=eb[window.screen.orientation||window.screen.mozOrientation]||window.orientation||0}var rb={vtkDeviceOrientationToCamera:{addCameraToSynchronize:function(e,t,n){var r={subscription:e.onAnimation((function(){if(Qy.update&&(s=Qy.device,Number.isFinite(s.alpha))){var e=Qy.device,r=e.alpha,o=e.beta,i=e.gamma,a=Qy.screen;t.setDeviceAngles(r,o,i,a),n&&n()}var s})),renderWindowInteractor:e},o=$y.length;return $y.push(r),Qy.update&&r.renderWindowInteractor.requestAnimation(),o},addWindowListeners:function(){window.addEventListener("orientationchange",nb,!1),window.addEventListener("deviceorientation",tb,!1),Qy.update=!0,$y.filter((function(e){return!!e})).forEach((function(e){return e.renderWindowInteractor.requestAnimation(e)}))},isDeviceOrientationSupported:function(){return Qy.supported},removeCameraToSynchronize:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$y[e];n&&(n.subscription.unsubscribe(),t&&n.renderWindowInteractor.cancelAnimation()),$y[e]=null},removeWindowListeners:function(){window.removeEventListener("orientationchange",nb,!1),window.removeEventListener("deviceorientation",tb,!1),Qy.update=!1,$y.filter((function(e){return!!e})).forEach((function(e){return e.renderWindowInteractor.cancelAnimation(e)}))}}},ob=Hm.States;function ib(e,t){t.classHierarchy.push("vtkInteractorStyleTrackballCamera"),e.handleMouseMove=function(n){var r=n.position,o=n.pokedRenderer;switch(t.state){case ob.IS_ROTATE:e.handleMouseRotate(o,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case ob.IS_PAN:e.handleMousePan(o,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case ob.IS_DOLLY:e.handleMouseDolly(o,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case ob.IS_SPIN:e.handleMouseSpin(o,r),e.invokeInteractionEvent({type:"InteractionEvent"})}t.previousPosition=r},e.handleButton3D=function(n){n&&n.pressed&&n.device===mm.RightController&&n.input===gm.TrackPad?e.startCameraPose():n&&!n.pressed&&n.device===mm.RightController&&n.input===gm.TrackPad&&t.state===ob.IS_CAMERA_POSE&&e.endCameraPose()},e.handleMove3D=function(n){switch(t.state){case ob.IS_CAMERA_POSE:e.updateCameraPose(n)}},e.updateCameraPose=function(e){var t=e.pokedRenderer.getActiveCamera(),n=t.getPhysicalTranslation(),r=.05*e.gamepad.axes[1]/t.getPhysicalScale(),o=t.physicalOrientationToWorldDirection(e.orientation);t.setPhysicalTranslation(n[0]+o[0]*r,n[1]+o[1]*r,n[2]+o[2]*r)},e.handleLeftButtonPress=function(n){var r=n.position;t.previousPosition=r,n.shiftKey?n.controlKey||n.altKey?e.startDolly():e.startPan():n.controlKey||n.altKey?e.startSpin():e.startRotate()},e.handleLeftButtonRelease=function(){switch(t.state){case ob.IS_DOLLY:e.endDolly();break;case ob.IS_PAN:e.endPan();break;case ob.IS_SPIN:e.endSpin();break;case ob.IS_ROTATE:e.endRotate()}},e.handleStartMouseWheel=function(t){e.startDolly(),e.handleMouseWheel(t)},e.handleEndMouseWheel=function(){e.endDolly()},e.handleStartPinch=function(n){t.previousScale=n.scale,e.startDolly()},e.handleEndPinch=function(){e.endDolly()},e.handleStartRotate=function(n){t.previousRotation=n.rotation,e.startRotate()},e.handleEndRotate=function(){e.endRotate()},e.handleStartPan=function(n){t.previousTranslation=n.translation,e.startPan()},e.handleEndPan=function(){e.endPan()},e.handlePinch=function(n){e.dollyByFactor(n.pokedRenderer,n.scale/t.previousScale),t.previousScale=n.scale},e.handlePan=function(n){var r=n.pokedRenderer.getActiveCamera(),o=r.getFocalPoint(),i=(o=e.computeWorldToDisplay(n.pokedRenderer,o[0],o[1],o[2]))[2],a=n.translation,s=t.previousTranslation,u=e.computeDisplayToWorld(n.pokedRenderer,o[0]+a[0]-s[0],o[1]+a[1]-s[1],i),c=e.computeDisplayToWorld(n.pokedRenderer,o[0],o[1],i),l=[];l[0]=c[0]-u[0],l[1]=c[1]-u[1],l[2]=c[2]-u[2],o=r.getFocalPoint();var f=r.getPosition();r.setFocalPoint(l[0]+o[0],l[1]+o[1],l[2]+o[2]),r.setPosition(l[0]+f[0],l[1]+f[1],l[2]+f[2]),t.interactor.getLightFollowCamera()&&n.pokedRenderer.updateLightsGeometryToFollowCamera(),r.orthogonalizeViewUp(),t.previousTranslation=n.translation},e.handleRotate=function(e){var n=e.pokedRenderer.getActiveCamera();n.roll(e.rotation-t.previousRotation),n.orthogonalizeViewUp(),t.previousRotation=e.rotation},e.handleMouseRotate=function(e,n){var r=t.interactor,o=n.x-t.previousPosition.x,i=n.y-t.previousPosition.y,a=r.getView().getViewportSize(e),s=-.1,u=-.1;a[0]&&a[1]&&(s=-20/a[1],u=-20/a[0]);var c=o*u*t.motionFactor,l=i*s*t.motionFactor,f=e.getActiveCamera();Number.isNaN(c)||Number.isNaN(l)||(f.azimuth(c),f.elevation(l),f.orthogonalizeViewUp()),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange(),r.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()},e.handleMouseSpin=function(e,n){var r=t.interactor,o=e.getActiveCamera(),i=r.getView().getViewportCenter(e),a=Pe(Math.atan2(t.previousPosition.y-i[1],t.previousPosition.x-i[0])),s=Pe(Math.atan2(n.y-i[1],n.x-i[0]))-a;Number.isNaN(s)||(o.roll(s),o.orthogonalizeViewUp())},e.handleMousePan=function(n,r){var o=n.getActiveCamera(),i=o.getFocalPoint(),a=(i=e.computeWorldToDisplay(n,i[0],i[1],i[2]))[2],s=e.computeDisplayToWorld(n,r.x,r.y,a),u=e.computeDisplayToWorld(n,t.previousPosition.x,t.previousPosition.y,a),c=[];c[0]=u[0]-s[0],c[1]=u[1]-s[1],c[2]=u[2]-s[2],i=o.getFocalPoint();var l=o.getPosition();o.setFocalPoint(c[0]+i[0],c[1]+i[1],c[2]+i[2]),o.setPosition(c[0]+l[0],c[1]+l[1],c[2]+l[2]),t.interactor.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera()},e.handleMouseDolly=function(n,r){var o=r.y-t.previousPosition.y,i=t.interactor.getView().getViewportCenter(n),a=t.motionFactor*o/i[1];e.dollyByFactor(n,Math.pow(1.1,a))},e.handleMouseWheel=function(t){var n=1-t.spinY/10;e.dollyByFactor(t.pokedRenderer,n)},e.dollyByFactor=function(e,n){if(!Number.isNaN(n)){var r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange()),t.interactor.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}}}var ab={motionFactor:10};function sb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ab,n),$m.extend(e,t,n),fe.setGet(e,t,["motionFactor"]),ib(e,t)}var ub={newInstance:fe.newInstance(sb,"vtkInteractorStyleTrackballCamera"),extend:sb};function cb(e,t){t.classHierarchy.push("vtkInteractorStyleImage"),e.superHandleMouseMove=e.handleMouseMove,e.handleMouseMove=function(n){var r=n.position,o=n.pokedRenderer;switch(t.state){case Wm.IS_WINDOW_LEVEL:e.windowLevel(o,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case Wm.IS_SLICE:e.slice(o,r),e.invokeInteractionEvent({type:"InteractionEvent"})}e.superHandleMouseMove(n)},e.superHandleLeftButtonPress=e.handleLeftButtonPress,e.handleLeftButtonPress=function(n){var r=n.position;if(n.shiftKey||n.controlKey)"IMAGE3D"===t.interactionMode&&n.shiftKey?e.startRotate():"IMAGE_SLICING"===t.interactionMode&&n.controlKey?(t.lastSlicePosition=r.y,e.startSlice()):e.superHandleLeftButtonPress(n);else{t.windowLevelStartPosition[0]=r.x,t.windowLevelStartPosition[1]=r.y,e.setCurrentImageNumber(t.currentImageNumber);var o=t.currentImageProperty;o&&(t.windowLevelInitial[0]=o.getColorWindow(),t.windowLevelInitial[1]=o.getColorLevel()),e.startWindowLevel()}},e.superHandleLeftButtonRelease=e.handleLeftButtonRelease,e.handleLeftButtonRelease=function(){switch(t.state){case Wm.IS_WINDOW_LEVEL:e.endWindowLevel();break;case Wm.IS_SLICE:e.endSlice();break;default:e.superHandleLeftButtonRelease()}},e.handleStartMouseWheel=function(t){e.startSlice(),e.handleMouseWheel(t)},e.handleEndMouseWheel=function(){e.endSlice()},e.handleMouseWheel=function(e){var t=e.pokedRenderer.getActiveCamera(),n=t.getDistance();n+=e.spinY;var r=t.getClippingRange();n<r[0]&&(n=r[0]),n>r[1]&&(n=r[1]),t.setDistance(n)},e.windowLevel=function(e,n){t.windowLevelCurrentPosition[0]=n.x,t.windowLevelCurrentPosition[1]=n.y;var r=t.interactor;if(t.currentImageProperty){var o=r.getView().getViewportSize(e),i=t.windowLevelInitial[0],a=t.windowLevelInitial[1],s=4*(t.windowLevelCurrentPosition[0]-t.windowLevelStartPosition[0])/o[0],u=4*(t.windowLevelStartPosition[1]-t.windowLevelCurrentPosition[1])/o[1];Math.abs(i)>.01?s*=i:s*=i<0?-.01:.01,Math.abs(a)>.01?u*=a:u*=a<0?-.01:.01,i<0&&(s*=-1),a<0&&(u*=-1);var c=s+i,l=a-u;c<.01&&(c=.01),t.currentImageProperty.setColorWindow(c),t.currentImageProperty.setColorLevel(l)}},e.slice=function(e,n){var r=t.interactor,o=n.y-t.lastSlicePosition,i=e.getActiveCamera(),a=i.getClippingRange(),s=i.getDistance(),u=0;if(i.getParallelProjection())u=i.getParallelScale();else{var c=_e(i.getViewAngle());u=2*s*Math.tan(.5*c)}(s+=o*u/r.getView().getViewportSize(e)[1])<a[0]&&(s=a[0]+.001*u),s>a[1]&&(s=a[1]-.001*u),i.setDistance(s),t.lastSlicePosition=n.y},e.setCurrentImageNumber=function(n){if(null!==n){var r=t.interactor.getCurrentRenderer();if(r){t.currentImageNumber=n;var o=r.getViewProps(),i=n;n<0&&(i+=o.length);for(var a=null,s=!1,u=0;u<o.length&&!s;u++)c(u,o[u],i)&&(s=!0,a=o[u]);a&&e.setCurrentImageProperty(a.getProperty())}}function c(e,t,n){return!(!t.isA("vtkImageSlice")||e!==n||!t.getPickable())}},e.setCurrentImageProperty=function(e){t.currentImageProperty=e}}var lb={windowLevelStartPosition:[0,0],windowLevelCurrentPosition:[0,0],lastSlicePosition:0,windowLevelInitial:[1,.5],currentImageProperty:0,currentImageNumber:-1,interactionMode:"IMAGE2D",xViewRightVector:[0,1,0],xViewUpVector:[0,0,-1],yViewRightVector:[1,0,0],yViewUpVector:[0,0,-1],zViewRightVector:[1,0,0],zViewUpVector:[0,1,0]};function fb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lb,n),ub.extend(e,t,n),fe.setGet(e,t,["interactionMode"]),cb(e,t)}var db={newInstance:fe.newInstance(fb,"vtkInteractorStyleImage"),extend:fb};function pb(e,t,n){return e<t?t:e>n?n:e}function hb(e,t){t.classHierarchy.push("vtkInteractorStyleMPRSlice"),t.trackballManipulator=xy.newInstance({button:1}),t.panManipulator=Ny.newInstance({button:1,shift:!0}),t.zoomManipulator=Fy.newInstance({button:3}),t.scrollManipulator=qy.newInstance({scrollEnabled:!0,dragEnabled:!1});var n={sliceNormal:[0,0,0],sliceRange:[0,0]},r=null;function o(){var n=e.getSliceRange();t.scrollManipulator.removeScrollListener(),t.scrollManipulator.setScrollListener(n[0],n[1],1,e.getSlice,e.setSlice)}var i=e.setInteractor;e.setInteractor=function(t){if(i(t),r&&(r.unsubscribe(),r=null),t){var n=t.getCurrentRenderer().getActiveCamera();r=n.onModified((function(){o(),e.modified()}))}},e.handleMouseMove=fe.chain(e.handleMouseMove,(function(){var e=t.interactor.getCurrentRenderer().getActiveCamera(),n=e.getDistance();e.setClippingRange(n,n+.1)}));var a=e.setVolumeMapper;e.setVolumeMapper=function(n){if(a(n)){var r=t.interactor.getCurrentRenderer().getActiveCamera();n?(r.setFreezeFocalPoint(!0),e.setSliceNormal.apply(e,y(e.getSliceNormal()))):r.setFreezeFocalPoint(!1)}},e.getSlice=function(){var n=t.interactor.getCurrentRenderer().getActiveCamera(),r=e.getSliceNormal(),o=Es.buildFromDegree().identity().rotateFromDirections(r,[1,0,0]),i=n.getFocalPoint();return o.apply(i),i[0]},e.setSlice=function(n){var r=t.interactor.getCurrentRenderer().getActiveCamera();if(t.volumeMapper){var o=e.getSliceRange(),i=t.volumeMapper.getBounds(),a=pb.apply(void 0,[n].concat(y(o))),s=[(i[0]+i[1])/2,(i[2]+i[3])/2,(i[4]+i[5])/2],u=r.getDistance(),c=r.getDirectionOfProjection();nt(c);var l=(o[1]+o[0])/2,f=[s[0]-c[0]*l,s[1]-c[1]*l,s[2]-c[2]*l],d=[f[0]+c[0]*a,f[1]+c[1]*a,f[2]+c[2]*a],p=[d[0]-c[0]*u,d[1]-c[1]*u,d[2]-c[2]*u];r.setPosition.apply(r,p),r.setFocalPoint.apply(r,d)}},e.getSliceRange=function(){if(t.volumeMapper){var r=e.getSliceNormal();if(r[0]===n.sliceNormal[0]&&r[1]===n.sliceNormal[1]&&r[2]===n.sliceNormal[2])return n.sliceRange;var o=[[(l=t.volumeMapper.getBounds())[0],l[2],l[4]],[l[0],l[2],l[5]],[l[0],l[3],l[4]],[l[0],l[3],l[5]],[l[1],l[2],l[4]],[l[1],l[2],l[5]],[l[1],l[3],l[4]],[l[1],l[3],l[5]]],i=Es.buildFromDegree().identity().rotateFromDirections(r,[1,0,0]);o.forEach((function(e){return i.apply(e)}));for(var a=1/0,s=-1/0,u=0;u<8;u++){var c=o[u][0];c>s&&(s=c),c<a&&(a=c)}return n.sliceNormal=r,n.sliceRange=[a,s],n.sliceRange}var l;return[0,0]},e.getSliceNormal=function(){return t.volumeMapper?t.interactor.getCurrentRenderer().getActiveCamera().getDirectionOfProjection():[0,0,0]},e.setSliceNormal=function(){for(var n=t.interactor.getCurrentRenderer().getActiveCamera(),r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(nt(o),t.volumeMapper){var a=t.volumeMapper.getBounds(),s=Math.sqrt(st([a[0],a[2],a[4]],[a[1],a[3],a[5]])),u=[(a[0]+a[1])/2,(a[2]+a[3])/2,(a[4]+a[5])/2],c=90,l=s/(2*Math.tan(c/360*Math.PI)),f=[u[0]-o[0]*l,u[1]-o[1]*l,u[2]-o[2]*l],d=n.getDirectionOfProjection(),p=[0,1,0];Es.buildFromDegree().identity().rotateFromDirections(d,o).apply(p),n.setPosition.apply(n,f),n.setDistance(l),n.setDirectionOfProjection.apply(n,o),n.setViewUp.apply(n,p),n.setViewAngle(c),n.setClippingRange(l,l+.1),e.setCenterOfRotation(u)}},e.removeAllMouseManipulators(),e.addMouseManipulator(t.trackballManipulator),e.addMouseManipulator(t.panManipulator),e.addMouseManipulator(t.zoomManipulator),e.addMouseManipulator(t.scrollManipulator),o()}var mb={};function gb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mb,n),lg.extend(e,t,n),fe.setGet(e,t,["volumeMapper"]),hb(e,t)}var vb={newInstance:fe.newInstance(gb,"vtkInteractorStyleMPRSlice"),extend:gb};function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wb={type:"StartInteractionEvent"},xb={type:"InteractionEvent"},Cb={type:"EndInteractionEvent"};function Sb(e,t){function n(e){var n=t.buttonLeft,r=t.buttonMiddle,o=t.buttonRight,i=e.shiftKey?1:0,a=e.controlKey?1:0,s=e.altKey?1:0,u=e.metaKey?1:0,c=n||r||o?"down":"up",l=g(t.interactor.getView().getSizeByReference(),2),f=l[0],d=l[1],p=e.position,h=p.x,m=p.y;return bb({action:c,x:h/=f,y:m/=d,buttonLeft:n,buttonMiddle:r,buttonRight:o,shiftKey:i,altKey:s,ctrlKey:a,metaKey:u},t.remoteEventAddOn)}t.classHierarchy.push("vtkInteractorStyleRemoteMouse"),e.handleLeftButtonPress=function(n){t.previousPosition=n.position,t.buttonLeft=1,e.onButtonDown(1,n)},e.handleMiddleButtonPress=function(n){t.previousPosition=n.position,t.buttonMiddle=1,e.onButtonDown(2,n)},e.handleRightButtonPress=function(n){t.previousPosition=n.position,t.buttonRight=1,e.onButtonDown(3,n)},e.handleLeftButtonRelease=function(n){t.buttonLeft=0,e.onButtonUp(1,n)},e.handleMiddleButtonRelease=function(n){t.buttonMiddle=0,e.onButtonUp(2,n)},e.handleRightButtonRelease=function(n){t.buttonRight=0,e.onButtonUp(3,n)},e.onButtonDown=function(r,o){t.interactor.requestAnimation(e.onButtonDown),e.invokeStartInteractionEvent(wb),e.invokeRemoteMouseEvent(n(o))},e.onButtonUp=function(r,o){e.invokeRemoteMouseEvent(n(o)),e.invokeEndInteractionEvent(Cb),t.interactor.cancelAnimation(e.onButtonDown)},e.handleStartMouseWheel=function(n){var r=n.spinY,o=n.altKey,i=n.controlKey,a=n.shiftKey;t.interactor.requestAnimation(e.handleStartMouseWheel),e.invokeStartInteractionEvent(wb),e.invokeRemoteWheelEvent(bb({type:"StartMouseWheel",spinY:r,altKey:o,controlKey:i,shiftKey:a},t.remoteEventAddOn))},e.handleMouseWheel=function(n){var r=n.spinY,o=n.altKey,i=n.controlKey,a=n.shiftKey;e.invokeRemoteWheelEvent(bb({type:"MouseWheel",spinY:r,altKey:o,controlKey:i,shiftKey:a},t.remoteEventAddOn)),e.invokeInteractionEvent(xb)},e.handleEndMouseWheel=function(){e.invokeRemoteWheelEvent(bb({type:"EndMouseWheel"},t.remoteEventAddOn)),t.interactor.cancelAnimation(e.handleStartMouseWheel),e.invokeEndInteractionEvent(Cb)},e.handleMouseMove=function(r){var o=Date.now();t.throttleDelay<o-t.lastThrottleTime&&(t.sendMouseMove||t.buttonLeft||t.buttonMiddle||t.buttonRight)&&(t.lastThrottleTime=o,e.invokeRemoteMouseEvent(n(r))),e.invokeInteractionEvent(xb)},e.handleKeyPress=function(){},e.handleStartPinch=function(n){e.startDolly();var r=n.scale;t.interactor.requestAnimation(e.handleStartPinch),e.invokeStartInteractionEvent(wb),e.invokeRemoteGestureEvent(bb({type:"StartPinch",scale:r},t.remoteEventAddOn))},e.handlePinch=function(n){var r=n.scale;e.invokeRemoteGestureEvent(bb({type:"Pinch",scale:r},t.remoteEventAddOn))},e.handleEndPinch=function(){e.endDolly(),e.invokeRemoteGestureEvent(bb({type:"EndPinch"},t.remoteEventAddOn)),t.interactor.cancelAnimation(e.handleStartPinch),e.invokeEndInteractionEvent(Cb)},e.handleStartRotate=function(n){e.startRotate();var r=n.rotation;t.interactor.requestAnimation(e.handleStartRotate),e.invokeStartInteractionEvent(wb),e.invokeRemoteGestureEvent(bb({type:"StartRotate",rotation:r},t.remoteEventAddOn))},e.handleRotate=function(n){var r=n.rotation;e.invokeRemoteGestureEvent(bb({type:"Rotate",rotation:r},t.remoteEventAddOn))},e.handleEndRotate=function(){e.endRotate(),e.invokeRemoteGestureEvent(bb({type:"EndRotate"},t.remoteEventAddOn)),t.interactor.cancelAnimation(e.handleStartRotate),e.invokeEndInteractionEvent(Cb)},e.handleStartPan=function(n){e.startPan();var r=n.translation;t.interactor.requestAnimation(e.handleStartPan),e.invokeStartInteractionEvent(wb),e.invokeRemoteGestureEvent(bb({type:"StartPan",translation:r},t.remoteEventAddOn))},e.handlePan=function(n){var r=n.translation;e.invokeRemoteGestureEvent(bb({type:"Pan",translation:r},t.remoteEventAddOn))},e.handleEndPan=function(){e.endPan(),e.invokeRemoteGestureEvent(bb({type:"EndPan"},t.remoteEventAddOn)),t.interactor.cancelAnimation(e.handleStartPan),e.invokeEndInteractionEvent(Cb)}}var Ab={buttonLeft:0,buttonMiddle:0,buttonRight:0,sendMouseMove:!1,throttleDelay:33.3,lastThrottleTime:0};function _b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ab,n),$m.extend(e,t,n),fe.setGet(e,t,["sendMouseMove","remoteEventAddOn","throttleDelay"]),fe.event(e,t,"RemoteMouseEvent"),fe.event(e,t,"RemoteWheelEvent"),fe.event(e,t,"RemoteGestureEvent"),Sb(e,t)}var Pb={newInstance:fe.newInstance(_b,"vtkInteractorStyleRemoteMouse"),extend:_b},Ob={vtkInteractorStyleImage:db,vtkInteractorStyleManipulator:lg,vtkInteractorStyleMPRSlice:vb,vtkInteractorStyleRemoteMouse:Pb,vtkInteractorStyleTrackballCamera:ub},Eb=n(3379),Tb=n.n(Eb),Db=n(8071),Ib=(Tb()(Db.Z,{insert:"head",singleton:!1}),Db.Z.locals||{});function kb(){}var Mb={nw:"northWestContainer",n:"northContainer",ne:"northEastContainer",w:"westContainer",e:"eastContainer",sw:"southWestContainer",s:"southContainer",se:"southEastContainer"};function Nb(e,t){function n(){for(var e=Object.keys(t.templates),n=e.length;n--;){var r=t[Mb[e[n]]],o=t.templates[e[n]];r&&o&&(r.innerHTML=o(t.metadata))}}t.classHierarchy.push("vtkCornerAnnotation"),t.templates||(t.templates={}),t.metadata||(t.metadata={}),t.annotationContainer=document.createElement("div"),t.annotationContainer.setAttribute("class",Ib.container),t.annotationContainer.innerHTML='\n    <div class="'.concat(Ib.topRow,'">\n      <div class="js-nw ').concat(Ib.northWest,'"></div>\n      <div class="js-n ').concat(Ib.north,'"></div>\n      <div class="js-ne ').concat(Ib.northEast,'"></div>\n    </div>\n    <div class="').concat(Ib.middleRow,'">\n      <div class="js-w ').concat(Ib.west,'"></div>\n      <div class="js-e ').concat(Ib.east,'"></div>\n    </div>\n    <div class="').concat(Ib.bottomRow,'">\n      <div class="js-sw ').concat(Ib.southWest,'"></div>\n      <div class="js-s ').concat(Ib.south,'"></div>\n      <div class="js-se ').concat(Ib.southEast,'"></div>\n    </div>'),t.northWestContainer=t.annotationContainer.querySelector(".js-nw"),t.northContainer=t.annotationContainer.querySelector(".js-n"),t.northEastContainer=t.annotationContainer.querySelector(".js-ne"),t.westContainer=t.annotationContainer.querySelector(".js-w"),t.eastContainer=t.annotationContainer.querySelector(".js-e"),t.southWestContainer=t.annotationContainer.querySelector(".js-sw"),t.southContainer=t.annotationContainer.querySelector(".js-s"),t.southEastContainer=t.annotationContainer.querySelector(".js-se"),e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.annotationContainer),t.container!==n&&(t.container=n,t.container&&(t.container.appendChild(t.annotationContainer),e.resize()),e.modified())},e.resize=kb,e.updateTemplates=function(r){t.templates=Object.assign(t.templates,r),n(),e.modified()},e.updateMetadata=function(r){t.metadata=Object.assign(t.metadata,r),n(),e.modified()}}var Rb={templates:null,metadata:null};function Bb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Rb,n),fe.obj(e,t),fe.get(e,t,["annotationContainer","northWestContainer","northContainer","northEastContainer","westContainer","eastContainer","southWestContainer","southContainer","southEastContainer","metadata"]),Nb(e,t)}var Lb={newInstance:fe.newInstance(Bb,"vtkCornerAnnotation"),extend:Bb,applyTemplate:function(e,t,n){return e.replace(/\${([^{]+)}/g,(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"${".concat(e,"}");return e.split(".").reduce((function(e,t){return void 0!==e[t]?e[t]:n}),t)}(e.substr(2,e.length-3).trim(),t,n)}))}},Fb=n(631),jb=(Tb()(Fb.Z,{insert:"head",singleton:!1}),Fb.Z.locals||{});function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zb=Function.prototype;function Gb(e){for(var t=[],n=e;n>1e3;)t.push("000".concat(n%1e3).slice(-3)),n=Math.floor(n/1e3);return n>0&&t.push(n),t.reverse(),t.join("'")}function Wb(e,t){function n(){if(t.title.style.display=t.titleVisibility?"block":"none",t.titleVisibility){var e=t.buffer[t.buffer.length-1],n="Mean: ".concat(Math.round(t.fpsSum/t.buffer.length)," - Current: ").concat(Math.round(e));n!==t.lastText&&(t.lastText=n,t.title.innerHTML=n)}}function r(){if(t.info.style.display=t.infoVisibility?"grid":"none",t.infoVisibility){var e=[];if(t.renderWindow){var n=t.renderWindow.getViews()[0];n&&n.getSize&&e.push('<label class="'.concat(jb.label,'">Resolution</label><span class="').concat(jb.value,'">').concat(n.getSize().join("x"),"</span>"));var r=Ub(Ub({},t.renderWindow.getStatistics()),t.addOnStats),o=Object.keys(r);o.sort();for(var i=0;i<o.length;i++)"str"!==o[i]&&r[o[i]]&&e.push('<label class="'.concat(jb.label,'">').concat(o[i],'</label><span class="').concat(jb.value,'">').concat(Gb(r[o[i]]),"</span>"))}t.info.innerHTML=e.join("")}}function o(){if(t.canvas.style.display=t.canvasVisibility?"block":"none",t.canvasVisibility){t.canvas.setAttribute("width",t.bufferSize),t.canvas.setAttribute("height",t.graphHeight);var e=t.canvas.getContext("2d"),n=t.canvas,r=n.width,o=n.height;e.clearRect(0,0,r,o),e.strokeStyle="green",e.beginPath(),e.moveTo(0,o-t.buffer[0]);for(var i=1;i<t.buffer.length;i++)e.lineTo(i,o-t.buffer[i]);e.stroke(),e.strokeStyle="black",e.beginPath(),e.moveTo(0,o-60),e.lineTo(r,o-60),e.stroke()}}function i(){if(t.interactor){var e=1/t.interactor.getLastFrameTime();for(t.buffer.push(e),t.fpsSum+=e;t.buffer.length>t.bufferSize;)t.fpsSum-=t.buffer.shift();n(),o()}}t.classHierarchy.push("vtkFPSMonitor"),t.fpsMonitorContainer=document.createElement("div"),t.fpsMonitorContainer.setAttribute("class",t.orientationClass),t.fpsMonitorContainer.innerHTML='\n    <div class="'.concat(jb.leftPane,'">\n      <div class="js-title ').concat(jb.title,'">Mean N/A - Current N/A</div>\n      <canvas class="js-graph ').concat(jb.graph,'"></canvas>\n    </div>\n    <div class="js-info ').concat(jb.rightPane,'">\n    </div>'),t.canvas=t.fpsMonitorContainer.querySelector(".js-graph"),t.title=t.fpsMonitorContainer.querySelector(".js-title"),t.info=t.fpsMonitorContainer.querySelector(".js-info"),e.update=function(){e.render()},e.setRenderWindow=function(e){for(;t.subscriptions.length;)t.subscriptions.pop().unsubscribe();t.renderWindow=e,t.interactor=e?e.getInteractor():null,t.interactor&&t.subscriptions.push(t.interactor.onAnimation(i))},e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.fpsMonitorContainer),t.container!==n&&(t.container=n,t.container&&(t.container.appendChild(t.fpsMonitorContainer),e.resize()),e.modified())},e.render=function(){n(),r(),o()},e.resize=zb,e.setOrientationToHorizontal=function(){t.fpsMonitorContainer.classList.remove(t.orientationClass),t.orientationClass=jb.horizontalContainer,t.fpsMonitorContainer.classList.add(t.orientationClass)},e.setOrientationToVertical=function(){t.fpsMonitorContainer.classList.remove(t.orientationClass),t.orientationClass=jb.verticalContainer,t.fpsMonitorContainer.classList.add(t.orientationClass)},e.setOrientation=function(){"horizontal"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal")?e.setOrientationToHorizontal():e.setOrientationToVertical()},e.setAddOnStats=function(e){t.addOnStats||(t.addOnStats={}),Object.assign(t.addOnStats,e),r()},e.setMonitorVisibility=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.setCanvasVisibility(n),e.setInfoVisibility(r),e.setTitleVisibility(t)};var a=e.delete;e.delete=function(){e.setRenderWindow(null),e.setContainer(null),a()},t.subscriptions.push(e.onModified(e.update))}var Hb={bufferSize:200,graphHeight:120,buffer:[60],subscriptions:[],fpsSum:0,orientationClass:jb.horizontalContainer,canvasVisibility:!0,titleVisibility:!0,infoVisibility:!0};function qb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Hb,n),fe.obj(e,t),fe.get(e,t,["fpsMonitorContainer","renderWindow","addOnStats"]),fe.setGet(e,t,["bufferSize","canvasVisibility","infoVisibility","titleVisibility"]),Wb(e,t)}var Kb={newInstance:fe.newInstance(qb,"vtkFPSMonitor"),extend:qb},Xb='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Contrast</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="linearGradient-1">\n            <stop stop-color="#FFFFFF" offset="0%"></stop>\n            <stop stop-color="#FFFFFF" offset="49.4160555%"></stop>\n            <stop stop-color="#000000" offset="49.6771365%"></stop>\n            <stop stop-color="#000000" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Contrast" stroke-width="10" stroke="#000000" fill="url(#linearGradient-1)">\n            <circle id="Oval" cx="90" cy="90" r="80"></circle>\n        </g>\n    </g>\n</svg>',Yb='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="196px" height="196px" viewBox="0 0 196 196" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>VTK-js favicon-logo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="VTK-js-favicon">\n            <path d="M67.769437,157.024129 C67.2117935,160.021463 66.4450451,163.123308 65.4691689,166.329759 C64.4932927,169.536209 63.0295004,172.446368 61.077748,175.060322 C59.1259956,177.674276 56.5469329,179.817686 53.3404826,181.490617 C50.1340322,183.163547 46.056325,184 41.1072386,184 C34.7640434,184 29.605918,182.449077 25.6327078,179.347185 C21.6594976,176.245293 19.1152871,172.045603 18,166.747989 L34.1018767,161.520107 C34.3806984,163.402154 35.1125946,165.005355 36.2975871,166.329759 C37.4825797,167.654162 39.0509286,168.316354 41.002681,168.316354 C44.0697204,168.316354 46.2654089,167.235936 47.5898123,165.075067 C48.9142157,162.914198 49.8552251,160.195727 50.4128686,156.919571 L58.9865952,107.986595 L76.5522788,107.986595 L67.769437,157.024129 Z M125.798928,125.970509 C124.404819,124.088462 122.662209,122.659522 120.571046,121.683646 C118.479882,120.70777 116.144785,120.219839 113.565684,120.219839 C112.380691,120.219839 111.126012,120.376674 109.801609,120.690349 C108.477205,121.004023 107.274804,121.526806 106.19437,122.258713 C105.113936,122.99062 104.207778,123.914204 103.475871,125.029491 C102.743964,126.144778 102.378016,127.504013 102.378016,129.107239 C102.378016,131.198402 103.197043,132.853881 104.835121,134.073727 C106.473199,135.293572 108.756018,136.426268 111.683646,137.47185 C114.890096,138.587137 117.747977,139.82439 120.257373,141.183646 C122.766769,142.542902 124.892753,144.093825 126.635389,145.836461 C128.378025,147.579097 129.702408,149.548246 130.608579,151.743968 C131.51475,153.939689 131.967828,156.431621 131.967828,159.219839 C131.967828,163.680987 131.044245,167.479877 129.197051,170.616622 C127.349857,173.753367 124.962481,176.315003 122.034853,178.301609 C119.107224,180.288214 115.831117,181.73458 112.206434,182.640751 C108.581751,183.546921 104.991975,184 101.436997,184 C98.7881905,184 96.1394234,183.756035 93.4906166,183.268097 C90.8418098,182.780158 88.2975993,182.065688 85.8579088,181.124665 C83.4182184,180.183641 81.1528255,178.981241 79.0616622,177.517426 C76.9704989,176.053612 75.1930368,174.380706 73.7292225,172.49866 L86.5898123,162.042895 C88.0536266,164.27347 90.2144629,166.085784 93.0723861,167.479893 C95.9303092,168.874002 98.8230417,169.571046 101.75067,169.571046 C103.28419,169.571046 104.765408,169.414211 106.19437,169.100536 C107.623332,168.786862 108.895437,168.264079 110.010724,167.532172 C111.126011,166.800264 112.014742,165.859255 112.676944,164.709115 C113.339145,163.558975 113.670241,162.182314 113.670241,160.579088 C113.670241,157.999987 112.624675,155.961133 110.533512,154.462466 C108.442349,152.963799 105.654173,151.62199 102.168901,150.436997 C99.7292103,149.600532 97.4463913,148.659523 95.3203753,147.613941 C93.1943593,146.568359 91.3471928,145.278828 89.7788204,143.745308 C88.2104479,142.211789 86.9557688,140.382048 86.0147453,138.256032 C85.0737218,136.130016 84.6032172,133.56838 84.6032172,130.571046 C84.6032172,126.806952 85.3873916,123.408862 86.9557641,120.376676 C88.5241365,117.344489 90.6675467,114.765426 93.386059,112.63941 C96.1045712,110.513394 99.2761213,108.875341 102.900804,107.725201 C106.525487,106.575061 110.394081,106 114.506702,106 C116.667571,106 118.86326,106.209113 121.093834,106.627346 C123.324408,107.045578 125.467818,107.655492 127.524129,108.457105 C129.580439,109.258717 131.479884,110.252005 133.22252,111.436997 C134.965156,112.62199 136.428948,113.981226 137.613941,115.514745 L125.798928,125.970509 Z" id="JS" fill="#8A8B8A"></path>\n            <rect id="Rectangle-134" fill="#1C4678" transform="translate(169.748737, 159.748737) rotate(-315.000000) translate(-169.748737, -159.748737) " x="152.248737" y="142.248737" width="35" height="35" rx="17.5"></rect>\n            <g id="Group" transform="translate(3.000000, 11.000000)">\n                <polygon id="Path-94" fill="#1C4678" points="4.775 2.08166817e-17 25.2581621 86.0686648 47.787502 86.0686648 82.02727 14.6613142 60.8423667 14.6613142 39.9088237 59.0295346 25.2581621 2.08166817e-17"></polygon>\n                <polygon id="Path-95" fill="#1C4678" points="85.6632012 14.34375 136.139081 14.34375 128.046342 30.9059381 110.800052 30.8572018 101.147921 85.4767478 82.6093142 85.476745 92.1809484 30.9415527 77.9916667 30.941553"></polygon>\n                <polygon id="Path-96" fill="#1C4678" points="138.366196 14.34375 154.438082 14.4095874 150.024108 39.3972074 152.411743 39.3972071 169.267998 14.34375 190.243337 14.34375 167.800877 47.7472529 181.003613 101.809731 160.064138 101.809731 149.412421 57.3801274 147.116438 57.3801274 141.991155 85.515305 120.966667 85.5153071 130.730408 30.4719174"></polygon>\n                <polygon id="Path-99" fill="#8A8B8A" points="0 0 3.18219711 0 24.0460481 85.9443963 20.8593586 85.9443963"></polygon>\n                <polygon id="Path-100" fill="#8A8B8A" points="55.1015241 14.34375 57.8898582 14.34375 40.7465157 50.155281 39.7916667 46.2891617"></polygon>\n                <polygon id="Path-101" fill="#8A8B8A" points="85.6083812 33.46875 88.4914675 33.46875 79.3341428 85.5648665 76.4 85.5648665"></polygon>\n                <polygon id="Path-102" fill="#8A8B8A" points="123.785174 33.46875 126.709319 33.46875 117.522718 85.5149889 114.6 85.5149889"></polygon>\n                <polygon id="Path-103" fill="#8A8B8A" points="163.380379 14.34375 166.974353 14.34375 154.391667 33.1982334 155.708346 25.6525344"></polygon>\n                <polygon id="Path-104" fill="#8A8B8A" points="147.901937 63.75 156.818933 101.362589 153.508047 101.36259 146.433333 72.2903275"></polygon>\n            </g>\n        </g>\n    </g>\n</svg>',Zb='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Spacing</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">\n        <g id="Spacing" stroke="#000000" stroke-width="10">\n            <path d="M10,90 L170,90" id="Line"></path>\n            <path d="M10,133.488074 L10,47" id="Line"></path>\n            <path d="M170,133.488074 L170,47" id="Line"></path>\n            <path d="M90,133.488074 L90,47" id="Line"></path>\n        </g>\n    </g>\n</svg>',Jb={Contrast:Xb,Logo:Yb,Spacing:Zb,Tint:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Tint</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Tint" stroke="#000000" stroke-width="10" fill="#000000">\n            <path d="M90,24 C110,53.4848089 135,82.5 135,110 C135,137.5 117.5,156.484809 90,156.484809 C62.5,156.484809 45,137.5 45,110 C45,82.5 70,53.4848089 90,24 Z" id="Path-2"></path>\n        </g>\n    </g>\n</svg>'},$b={SliderOrientation:{VERTICAL:0,HORIZONTAL:1}},Qb=n(1995),ew=(Tb()(Qb.Z,{insert:"head",singleton:!1}),Qb.Z.locals||{});function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rw(e,t){for(var n=Number.MAX_VALUE,r=-1,o=t.length;o--;){var i=Math.abs(t[o]-e);i<n&&(n=i,r=o)}return-1!==r?t[r]:void 0}function ow(e,t){function n(){if(t.container){var e=t.containerSizes[0],n=(t.containerSizes[1]-t.containerSizes[0])*(t.value-t.values[0])/(t.values[t.values.length-1]-t.values[0]);Number.isNaN(n)||Number.isNaN(e)||(t.el.style.width="".concat(e,"px"),t.el.style.height="".concat(e,"px"),t.orientation===$b.SliderOrientation.VERTICAL?(t.el.style.left="0",t.el.style.top="".concat(n,"px"),t.el.style.cursor="row-resize"):(t.el.style.top="0",t.el.style.left="".concat(n,"px"),t.el.style.cursor="col-resize"))}}t.classHierarchy.push("vtkSlider"),t.el=document.createElement("div"),t.el.setAttribute("class",ew.cursor);var r=!1,o=0,i=0;function a(e){var t=document.querySelector("body"),n=e?"addEventListener":"removeEventListener";t[n]("mousemove",s),t[n]("mouseleave",u),t[n]("mouseup",c)}function s(n){if(n.preventDefault(),r){var a=rw((i+((t.orientation?n.clientX:n.clientY)-o)/(t.containerSizes[1]-t.containerSizes[0]))*t.range+t.values[0],t.values);void 0!==a&&e.setValue(a)}}function u(e){r=!1}function c(n){if(a(!1),!(r||(t.orientation?n.clientX:n.clientY)-o)){var i=rw(t.values[0]+t.range*(o-t.container.getBoundingClientRect()[t.orientation?"left":"top"]-.5*t.containerSizes[0])/(t.containerSizes[1]-t.containerSizes[0]),t.values);void 0!==i&&e.setValue(i)}r=!1}function l(e){a(!0),e.preventDefault(),r=e.target===t.el,o=t.orientation?e.clientX:e.clientY,i=(t.value-t.values[0])/t.range}e.setContainer=function(n){t.container&&t.container!==n&&(t.container.removeChild(t.el),a(!1),t.container.removeEventListener("mousedown",l)),t.container!==n&&(t.container=n,t.container&&(t.container.appendChild(t.el),e.resize(),t.container.addEventListener("mousedown",l)),e.modified())},e.resize=function(){if(t.container){var r=t.container.getBoundingClientRect(),o=Math.floor(r.width),i=Math.floor(r.height),a=Math.min(o,i),s=Math.max(o,i);e.setOrientation(i===s?$b.SliderOrientation.VERTICAL:$b.SliderOrientation.HORIZONTAL),t.containerSizes=[a,s],n()}},e.setValue=function(r){return t.value!==r&&t.values[0]<=r&&r<=t.values.slice(-1)[0]&&(t.value=r,n(),e.modified(),e.invokeValueChange(r),!0)},e.setValues=function(r){t.values!==r&&(t.values=r,t.range=r[r.length-1]-r[0],n(),e.modified())},e.generateValues=function(r,o,i){var a=(o-r)/(i-1);t.values=[];for(var s=0;s<i;s++)t.values.push(r+s*a);t.range=o-r,n(),e.modified()},e.updateCursorStyle=function(e){t.cursorStyle=nw(nw({},t.cursorStyle),e);for(var n=Object.keys(t.cursorStyle),r=n.length;r--;)t.el.style[n[r]]=t.cursorStyle[n[r]]},e.updateCursorStyle()}var iw={orientation:$b.SliderOrientation.VERTICAL,value:.5,values:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],range:1,containerSizes:[10,100],cursorStyle:{border:"solid 4px #aaa",backgroundColor:"#ccc",transform:"scale(0.7)"}};function aw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iw,n),fe.obj(e,t),fe.get(e,t,["orientation","value","values"]),fe.set(e,t,["orientation"]),fe.event(e,t,"ValueChange"),ow(e,t)}var sw=nw({newInstance:fe.newInstance(aw,"vtkSlider"),extend:aw},$b),uw=JSON.parse('[{"ColorSpace":"Diverging","Name":"Cool to Warm","NanColor":[1,1,0],"RGBPoints":[0,0.23137254902,0.298039215686,0.752941176471,0.5,0.865,0.865,0.865,1,0.705882352941,0.0156862745098,0.149019607843]},{"ColorSpace":"Diverging","Name":"Warm to Cool","NanColor":[1,1,0],"RGBPoints":[0,0.705882352941,0.0156862745098,0.149019607843,0.5,0.865,0.865,0.865,1,0.23137254902,0.298039215686,0.752941176471]},{"ColorSpace":"RGB","Name":"Rainbow Desaturated","NanColor":[1,1,0],"RGBPoints":[0,0.278431372549,0.278431372549,0.858823529412,0.143,0,0,0.360784313725,0.285,0,1,1,0.429,0,0.501960784314,0,0.571,1,1,0,0.714,1,0.380392156863,0,0.857,0.419607843137,0,0,1,0.878431372549,0.301960784314,0.301960784314]},{"ColorSpace":"RGB","Name":"Cold and Hot","NanColor":[1,1,0],"RGBPoints":[0,0,1,1,0.45,0,0,1,0.5,0,0,0.501960784314,0.55,1,0,0,1,1,1,0]},{"ColorSpace":"RGB","Name":"Black-Body Radiation","NanColor":[0,0.498039215686,1],"RGBPoints":[0,0,0,0,0.4,0.901960784314,0,0,0.8,0.901960784314,0.901960784314,0,1,1,1,1]},{"ColorSpace":"RGB","Name":"X Ray","NanColor":[1,0,0],"RGBPoints":[0,1,1,1,1,0,0,0]},{"ColorSpace":"RGB","Name":"Grayscale","NanColor":[1,0,0],"RGBPoints":[0,0,0,0,1,1,1,1]},{"ColorSpace":"RGB","Name":"Black, Blue and White","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,0.333,0,0,0.501960784314,0.666,0,0.501960784314,1,1,1,1,1]},{"ColorSpace":"RGB","Name":"Black, Orange and White","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,0.333,0.501960784314,0,0,0.666,1,0.501960784314,0,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_rainbow_bright","RGBPoints":[-1,0.32549,0.14902,0.960784,-0.866221,0.297047,0.375586,0.963836,-0.732441,0.180302,0.536818,0.964627,-0.598662,0.1302,0.649207,0.929647,-0.464883,0.0445143,0.749654,0.855998,-0.331104,0.0271325,0.830713,0.721527,-0.197324,0.259504,0.866145,0.543555,-0.0635452,0.428364,0.890725,0.329819,0.0702341,0.568503,0.898508,0.187623,0.204013,0.738259,0.890317,0.0825461,0.337793,0.84546,0.86136,0.0147555,0.471572,0.912191,0.808018,0,0.605351,0.962848,0.710445,0,0.73913,0.999469,0.600258,0.0176284,0.87291,0.994156,0.445975,0.193912,1,0.980407,0.247105,0.262699]},{"ColorSpace":"Lab","Name":"erdc_rainbow_dark","RGBPoints":[-1,0,0,0.423499,-0.866221,0,0.119346,0.529237,-0.732441,0,0.238691,0.634976,-0.598662,0,0.346852,0.68788,-0.464883,0,0.45022,0.718141,-0.331104,0,0.553554,0.664839,-0.197324,0,0.651082,0.519303,-0.0635452,0.115841,0.72479,0.352857,0.0702341,0.326771,0.781195,0.140187,0.204013,0.522765,0.798524,0.0284624,0.337793,0.703162,0.788685,0.00885756,0.471572,0.845118,0.751133,0,0.605351,0.955734,0.690825,0,0.73913,0.995402,0.567916,0.0618524,0.87291,0.987712,0.403398,0.164851,1,0.980407,0.247105,0.262699]}]'),cw=Object.create(null);uw.filter((function(e){return e.RGBPoints})).filter((function(e){return"CIELAB"!==e.ColorSpace})).forEach((function(e){cw[e.Name]=e}));var lw=Object.keys(cw);lw.sort();var fw={addPreset:function(e){e.RGBPoints&&"CIELAB"!==e.ColorSpace&&(cw[e.Name]||(lw.push(e.Name),lw.sort()),cw[e.Name]=e)},removePresetByName:function(e){var t=lw.indexOf(e);t>-1&&lw.splice(t,1),delete cw[e]},getPresetByName:function(e){return cw[e]},rgbPresetNames:lw};function dw(){return cd()('/*! For license information please see ComputeHistogram.worker.worker.js.LICENSE.txt */\n!function(){"use strict";var e,t,r={666:function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=r(197),s="main",c=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,p,y=(p=e,(r=s)in(t={})?Object.defineProperty(t,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):t.main=p,t),v=self.postMessage.bind(self),h=new(function(e){function t(){return u(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return v({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return y[e]=t,this}}]),t}(l)),b=function(e,t,r){var n,o=function(t){t&&t instanceof c?d(e,1,t.payload,t.transferable):d(e,1,t)},a=function(t){d(e,0,{message:t.message,stack:t.stack})};try{var u=m(e,t,r);"object"===(void 0===(n=u)?"undefined":i(n))&&"function"==typeof n.then&&"function"==typeof n.catch?u.then(o).catch(a):o(u)}catch(e){a(e)}},m=function(e,t,r){var n=y[r||s];if(!n)throw new Error("Not found handler for this request");return n(t,_.bind(null,e))},d=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];v([0,e,t,r],n)},_=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");v([1,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?b.apply(void 0,a(t)):t&&t.eventName&&h.emitLocally.apply(h,[t.eventName].concat(a(t.args)))})),h},e.exports.TransferableResponse=c},197:function(e){var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return t(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var l=u.value;l.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this;return this.on(e,(function n(){r.off(e,n),t.apply(void 0,arguments)}))}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=r}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=o(666),(t=o.n(e))()((function(e,r){var n=e.array,o=e.min,i=e.max,a=e.component||0,u=e.numberOfComponents||1,f=e.numberOfBins,l=i-o,s=new Float32Array(f);s.fill(0);for(var c=n.length,p=a;p<c;p+=u)s[Math.floor((f-1)*(Number(n[p])-o)/l)]+=1;return Promise.resolve(new(t().TransferableResponse)(s,[s.buffer]))}))}();\n',"Worker",void 0,void 0)}function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pw(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mw=.001,gw={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},vw=[],yw={adjustPosition:function(e,t,n){var r=n.originalXY,o=n.gaussian,i=n.originalGaussian.position-r[0];return o.position=e+i,!0},adjustHeight:function(e,t,n){var r=n.model,o=n.gaussian;return o.height=1-t,o.height=Math.min(1,Math.max(r.gaussianMinimumHeight,o.height)),!0},adjustBias:function(e,t,n){var r=n.originalXY,o=n.gaussian,i=n.originalGaussian;return o.xBias=i.xBias-(r[0]-e)/o.height,o.yBias=i.yBias+4*(r[1]-t)/o.height,o.xBias=Math.max(-1,Math.min(1,o.xBias)),o.yBias=Math.max(0,Math.min(2,o.yBias)),!0},adjustWidth:function(e,t,n){var r=n.originalXY,o=n.gaussian,i=n.originalGaussian,a=n.gaussianSide;return o.width=a<0?i.width-(r[0]-e):i.width+(r[0]-e),o.width<mw&&(o.width=mw),!0},adjustZoom:function(e,t,n){var r=n.rangeZoom,o=n.publicAPI,i=r[1]-r[0],a=(e-r[0])/i,s=Math.abs(a-r[0]),u=Math.abs(a-r[1]);if(Math.abs(a-.5*(r[0]+r[1]))<Math.min(s,u)){var c=.5*i;r[0]=Math.min(Math.max(a-c,0),r[1]-.1),r[1]=Math.max(Math.min(a+c,1),r[0]+.1)}else s<u?r[0]=Math.min(Math.max(a,0),r[1]-.1):r[1]=Math.max(Math.min(a,1),r[0]+.1);return o.invokeZoomChange(r),!1}};function bw(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=[];n.length<t;)n.push(0);for(var r=e.length;r--;)for(var o=e[r],i=o.position,a=o.height,s=o.width,u=o.xBias,c=o.yBias,l=0;l<t;l++){var f=l/(t-1);if(f>i+s||f<i-s)n[l]<0&&(n[l]=0);else{var d=s<mw?mw:s,p=((0===u||f===i+u?f:f>i+u?d===u?i:i+d/(d-u)*(f-i-u):-d===u?i:i-d/(d+u)*(f-i-u))-i)/d,h=Math.exp(-4*p*p),m=1-p*p,g=a*(c<1?c*m+(1-c)*h:(2-c)*m+1*(c-1));g>n[l]&&(n[l]=g)}}return n}function ww(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{lineWidth:1,strokeStyle:"#000"},o=t[3],i=t[2]/(n.length-1),a=!!r.fillStyle,s=o+t[1];e.lineWidth=r.lineWidth,e.strokeStyle=r.strokeStyle,e.beginPath(),e.moveTo(t[0],t[1]+t[3]);for(var u=0;u<n.length;u++)e.lineTo(t[0]+u*i,Math.max(t[1],s-n[u]*o));if(a){if(e.fillStyle=r.fillStyle,e.lineTo(t[0]+t[2],t[1]+t[3]),r.clip)return void e.clip();e.fill()}e.stroke()}function xw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,1];return[r[0]+(e-n[0])/n[2]*(r[1]-r[0]),(t-n[1])/n[3]]}function Cw(e,t){var n=t.map((function(t){return Math.abs(t.position-e)})),r=Math.min.apply(Math,y(n));return n.indexOf(r)}function Sw(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){var r=n.offsetX,o=n.offsetY;t&&n.preventDefault(),e(r,o)}}function Aw(){vw.filter((function(e){return e.ready})).forEach((function(e){e.callbacks.forEach((function(t){t.touches===e.touches&&t.clicks===e.count&&t.action.apply(t,y(e.singleTouche))})),e.ts=0,e.count=0,e.touches=0,e.ready=!1}))}function _w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o){var i=o.target.getBoundingClientRect(),a=Array.prototype.map.call(o.touches,(function(e){return[e.pageX-i.left,e.pageY-i.top]})).reduce((function(e,t){return[e[0]+t[0],e[1]+t[1]]}),[0,0]).map((function(e){return e/o.touches.length}));"touchstart"===o.type?(clearTimeout(vw[e].timeout),vw[e].ts=o.timeStamp,vw[e].singleTouche=a,vw[e].touches=o.touches.length):"touchmove"===o.type?(vw[e].ts=0,vw[e].count=0,vw[e].ready=!1):"touchend"===o.type&&(o.timeStamp-vw[e].ts<vw[e].deltaT?(vw[e].count+=1,vw[e].ready=!0,r&&o.preventDefault(),vw[e].timeout=setTimeout(Aw,vw[e].deltaT)):vw[e].ready=!1),o.touches.length===n&&(t.apply(void 0,y(a)),r&&o.preventDefault())}}function Pw(e,t,n){return function(r){return e()?t(r):n(r)}}function Ow(e,t){if(!t)return e;var n=e.length-1,r=t.map((function(e){return Math.round(e*n)}));return e.slice(r[0],r[1]+1)}var Ew={applyGaussianToPiecewiseFunction:function(e,t,n,r){for(var o=bw(e,t),i=[],a=(n[1]-n[0])/(o.length-1),s=0;s<o.length;s++){var u=n[0]+a*s,c=o[s];i.push({x:u,y:c,midpoint:.5,sharpness:0})}r.setNodes(i)},computeOpacities:bw,createListener:Sw,drawChart:ww,findGaussian:Cw,listenerSelector:Pw,normalizeCoordinates:xw};function Tw(e,t){t.classHierarchy.push("vtkPiecewiseGaussianWidget"),t.canvas||(t.canvas=document.createElement("canvas")),e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.canvas),t.container!==n&&(t.container=n,t.container&&t.container.appendChild(t.canvas),e.modified())},e.setGaussians=function(n){t.gaussians!==n&&(t.gaussians=n,t.opacities=bw(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified())},e.addGaussian=function(n,r,o,i,a){var s=t.gaussians.length;return t.gaussians.push({position:n,height:r,width:o,xBias:i,yBias:a}),t.opacities=bw(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified(),s},e.removeGaussian=function(n){t.gaussians.splice(n,1),t.opacities=bw(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified()},e.setSize=function(n,r){t.canvas.setAttribute("width",n),t.canvas.setAttribute("height",r),t.size[0]===n&&t.size[1]===r||(t.size=[n,r],t.colorCanvasMTime=0,e.modified())},e.updateStyle=function(n){t.style=hw(hw({},t.style),n),e.modified()},e.setDataArray=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.numberOfBinToConsiders,i=void 0===o?1:o,a=r.numberOfBinsToSkip,s=void 0===a?1:a,u=r.numberOfComponents,c=void 0===u?1:u,l=r.component,f=void 0===l?0:l;t.histogram=null,t.histogramArray=n,t.dataRange=Ne(n,f,c);var d=g(t.dataRange,2),p=d[0],h=d[1],m=4,v=Math.floor(n.length/m)||1;v+=v%c;for(var y=0,b=[],w=[];y<n.length;){var x=new dw;w.push(x);var C=new($f())(x),S=y,A=Math.min(y+v,n.length-1),_=new n.constructor(n.slice(S,A+1));b.push(C.postMessage({array:_,component:f,numberOfComponents:c,min:p,max:h,numberOfBins:t.numberOfBins},[_.buffer])),y+=v}Promise.all(b).then((function(n){w.forEach((function(e){return e.terminate()})),t.histogram=new Float32Array(t.numberOfBins),t.histogram.fill(0),n.forEach((function(e){for(var n=0,r=e.length;n<r;++n)t.histogram[n]+=e[n]}));var r=Math.min(i,t.histogram.length-s),o=Array.from(t.histogram);o.sort((function(e,t){return Number(e)-Number(t)}));for(var a=0;a<s;a++)o.pop();for(;o.length>r;)o.shift();for(var u=o.reduce((function(e,t){return e+t}),0)/r,c=0,l=t.histogram.length;c<l;++c)t.histogram[c]/=u;e.modified(),setTimeout(e.render,0)})),e.modified()},e.onClick=function(n,r){var o=g(xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),2),i=o[0],a=o[1];if(i<0&&t.style.iconSize>1){for(var s=t.style.iconSize+t.style.padding,u=s,c=0;r>u;)c+=1,u+=s;switch(c){case 0:var l=e.addGaussian(0,1,.1,0,0),f=t.gaussians[l],d=hw({},f),p=yw.adjustPosition;t.activeGaussian=l,t.selectedGaussian=l,fe.setImmediate((function(){e.onDown(n,r),t.dragAction={originalXY:[0,0],action:p,gaussian:f,originalGaussian:d}}));break;case 1:-1!==t.selectedGaussian&&e.removeGaussian(t.selectedGaussian);break;default:t.selectedGaussian=-1,t.dragAction=null}}else if(i<0||i>1||a<0||a>1)t.selectedGaussian=-1,t.dragAction=null;else{var h=Cw(i,t.gaussians);h!==t.selectedGaussian&&(t.selectedGaussian=h,e.modified())}return!0},e.onHover=function(n,r){var o=20/t.canvas.height,i=g(xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),2),a=i[0],s=i[1],u=g(xw(n,r,t.graphArea),1)[0],c=a<0?t.selectedGaussian:Cw(a,t.gaussians);t.canvas.style.cursor="default";var l=t.gaussians[c];if(t.enableRangeZoom&&u>=0&&r<t.graphArea[1]-6){var f=(t.rangeZoom[1]-t.rangeZoom[0])/3;u<t.rangeZoom[0]+f||u>t.rangeZoom[1]-f?t.canvas.style.cursor=gw.adjustZoom:t.canvas.style.cursor=gw.adjustPosition,t.dragAction={rangeZoom:t.rangeZoom,action:yw.adjustZoom}}else if(l&&u>=0){var d,p=1-s;d=p>l.height+o?"adjustPosition":p>l.height-o?Math.abs(a-l.position)<o?"adjustHeight":"adjustPosition":p>.5*l.height+o?"adjustPosition":p>.5*l.height-o?Math.abs(a-l.position)<o?"adjustBias":"adjustPosition":p>o?"adjustPosition":"adjustWidth",t.canvas.style.cursor=gw[d];var h=yw[d],m=hw({},l);t.dragAction={originalXY:[a,s],action:h,gaussian:l,originalGaussian:m}}return c!==t.activeGaussian&&(t.activeGaussian=c,e.modified()),!0},e.onDown=function(n,r){t.mouseIsDown||e.invokeAnimation(!0),t.mouseIsDown=!0;var o=xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null)[0],i=Cw(o,t.gaussians);t.gaussianSide=0;var a=t.gaussians[i];return a&&(t.gaussianSide=a.position-o),i!==t.selectedGaussian&&o>0&&(t.selectedGaussian=i,e.modified()),!0},e.onDrag=function(n,r){if(t.dragAction){var o=g(xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),2),i=o[0],a=o[1];(0,t.dragAction.action)(i,a,hw({gaussianSide:t.gaussianSide,model:t,publicAPI:e},t.dragAction))&&(t.opacities=bw(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e,!0)),e.modified()}return!0},e.onUp=function(n,r){return t.mouseIsDown&&e.invokeAnimation(!1),t.mouseIsDown=!1,!0},e.onLeave=function(n,r){return e.onUp(n,r),t.canvas.style.cursor="default",t.activeGaussian=-1,e.modified(),!0},e.onAddGaussian=function(n,r){var o=g(xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),2),i=o[0],a=o[1];return i>=0&&e.addGaussian(i,1-a,.1,0,0),!0},e.onRemoveGaussian=function(n,r){var o=xw(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null)[0],i=Cw(o,t.gaussians);return o>=0&&-1!==i&&e.removeGaussian(i),!0},e.bindMouseListeners=function(){if(!t.listeners){var n=function(){return!!t.mouseIsDown},r=function(){for(var e=vw.length,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vw.push({callbacks:n,timeout:0,deltaT:200,count:0,ready:!1}),e}({clicks:1,touches:1,action:e.onClick},{clicks:2,touches:1,action:e.onAddGaussian},{clicks:2,touches:2,action:e.onRemoveGaussian});t.listeners={mousemove:Pw(n,Sw(e.onDrag),Sw(e.onHover)),dblclick:Sw(e.onAddGaussian),contextmenu:Sw(e.onRemoveGaussian),click:Sw(e.onClick),mouseup:Sw(e.onUp),mousedown:Sw(e.onDown),mouseout:Sw(e.onLeave),touchstart:_w(r,fe.chain(e.onHover,e.onDown)),touchmove:Pw(n,_w(r,e.onDrag),_w(r,e.onHover)),touchend:_w(r,e.onUp,0)},Object.keys(t.listeners).forEach((function(e){t.canvas.addEventListener(e,t.listeners[e],!1)}))}},e.unbindMouseListeners=function(){t.listeners&&(Object.keys(t.listeners).forEach((function(e){t.canvas.removeEventListener(e,t.listeners[e])})),delete t.listeners)},e.render=function(){var e=t.canvas.getContext("2d");e.imageSmoothingEnabled=!0;var n=g(t.size,2),r=n[0],o=n[1],i=t.style.padding,a=[Math.floor(t.style.iconSize+i),Math.floor(i),Math.ceil(r-2*i-t.style.iconSize),Math.ceil(o-2*i)],s=t.style.zoomControlHeight;if(t.enableRangeZoom&&(a[1]+=Math.floor(s),a[3]-=Math.floor(s)),t.graphArea=a,e.clearRect(0,0,r,o),e.lineJoin="round",e.fillStyle=t.style.backgroundColor,e.fillRect.apply(e,a),t.style.iconSize>1){var u=Math.round(t.style.iconSize/2-t.style.strokeWidth),c=Math.round(u+i+t.style.strokeWidth);e.beginPath(),e.lineWidth=t.style.buttonStrokeWidth,e.strokeStyle=t.style.buttonStrokeColor,e.arc(c-i/2,c,u,0,2*Math.PI,!1),e.fillStyle=t.style.buttonFillColor,e.fill(),e.stroke(),e.moveTo(c-u+t.style.strokeWidth+2-i/2,c),e.lineTo(c+u-t.style.strokeWidth-2-i/2,c),e.stroke(),e.moveTo(c-i/2,c-u+t.style.strokeWidth+2),e.lineTo(c-i/2,c+u-t.style.strokeWidth-2),e.stroke(),-1===t.selectedGaussian?(e.fillStyle=t.style.buttonDisableFillColor,e.lineWidth=t.style.buttonDisableStrokeWidth,e.strokeStyle=t.style.buttonDisableStrokeColor):(e.fillStyle=t.style.buttonFillColor,e.lineWidth=t.style.buttonStrokeWidth,e.strokeStyle=t.style.buttonStrokeColor),e.beginPath(),e.arc(c-i/2,c+i/2+t.style.iconSize,u,0,2*Math.PI,!1),e.fill(),e.stroke(),e.moveTo(c-u+t.style.strokeWidth+2-i/2,c+i/2+t.style.iconSize),e.lineTo(c+u-t.style.strokeWidth-2-i/2,c+i/2+t.style.iconSize),e.stroke()}if(t.histogram&&ww(e,a,Ow(t.histogram,t.rangeZoom),{lineWidth:1,strokeStyle:t.style.histogramColor,fillStyle:t.style.histogramColor}),ww(e,a,Ow(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:t.style.strokeWidth,strokeStyle:t.style.strokeColor}),t.colorTransferFunction&&t.colorTransferFunction.getSize()){var l=t.dataRange||t.colorTransferFunction.getMappingRange();t.colorCanvas&&t.colorCanvasMTime===t.colorTransferFunction.getMTime()||(t.colorCanvasMTime=t.colorTransferFunction.getMTime(),t.colorCanvas=function(e,t,n,r){var o=r||document.createElement("canvas");o.setAttribute("width",t),o.setAttribute("height",256);for(var i=o.getContext("2d"),a=e.getUint8Table(n[0],n[1],t,4),s=i.getImageData(0,0,t,256),u=0;u<256;u++)s.data.set(a,4*u*t);for(var c=256*t*4,l=4*t,f=3;f<c;f+=4)s.data[f]=255-Math.floor(f/l);return i.putImageData(s,0,0),o}(t.colorTransferFunction,a[2],l,t.colorCanvas)),e.save(),ww(e,a,Ow(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),t.enableRangeZoom?e.drawImage(t.colorCanvas,t.rangeZoom[0]*a[2],0,a[2],a[3],a[0],a[1],a[2]/(t.rangeZoom[1]-t.rangeZoom[0]),a[3]):e.drawImage(t.colorCanvas,a[0],a[1]),e.restore()}else t.backgroundImage&&(t.colorCanvas=function(e,t,n){var r=n||document.createElement("canvas");return r.setAttribute("width",t),r.setAttribute("height",256),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,256),r}(t.backgroundImage,a[2],t.colorCanvas),e.save(),ww(e,a,Ow(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),e.drawImage(t.colorCanvas,a[0],a[1]),e.restore());t.enableRangeZoom&&(e.fillStyle=t.style.zoomControlColor,e.beginPath(),e.rect(a[0]+t.rangeZoom[0]*a[2],0,(t.rangeZoom[1]-t.rangeZoom[0])*a[2],s),e.fill());var f=t.gaussians[t.activeGaussian]||t.gaussians[t.selectedGaussian];if(f){ww(e,a,Ow(bw([f],a[2]),t.enableRangeZoom&&t.rangeZoom),{lineWidth:t.style.activeStrokeWidth,strokeStyle:t.style.activeColor});var d=a[0]+function(e,t){return t?(e-t[0])/(t[1]-t[0]):e}(f.position,t.enableRangeZoom&&t.rangeZoom)*a[2],p=a[1]+(1-f.height)*a[3],h=a[1]+(1-.5*f.height)*a[3],m=a[1]+a[3],v=f.width*a[2];t.enableRangeZoom&&(v/=t.rangeZoom[1]-t.rangeZoom[0]),e.lineWidth=t.style.handleWidth,e.strokeStyle=t.style.handleColor,e.fillStyle=t.style.backgroundColor,e.beginPath(),e.moveTo(d,a[1]+(1-f.height)*a[3]),e.lineTo(d,a[1]+a[3]),e.stroke(),e.beginPath(),e.arc(d,p,6,0,2*Math.PI),e.fill(),e.stroke();var y=Math.min(.1*v,f.height*a[3]*.2);e.beginPath(),e.rect(d-y,h-y,2*y,2*y),e.fill(),e.stroke(),e.beginPath();var b=.8*v;e.rect(d-b,m-5,2*b,10),e.fill(),e.stroke()}},e.getOpacityNodes=function(e){for(var n=e||t.dataRange,r=(n[1]-n[0])/(t.opacities.length-1),o=[],i=0;i<t.opacities.length;i++){var a=n[0]+r*i,s=t.opacities[i];o.push({x:a,y:s,midpoint:.5,sharpness:0})}return o},e.applyOpacity=function(t,n){var r=e.getOpacityNodes(n);t.setNodes(r)},e.getOpacityRange=function(e){for(var n=e||t.dataRange,r=(n[1]-n[0])/(t.opacities.length-1),o=t.opacities.length-1,i=0,a=0;a<t.opacities.length;a++)t.opacities[a]>0&&(o=Math.min(o,a)),t.opacities[a]>0&&(i=Math.max(i,a));return[n[0]+o*r,n[0]+i*r]};var n=e.setEnableRangeZoom;e.setEnableRangeZoom=function(e){var r=n(e);return r&&(t.colorCanvasMTime=0,t.rangeZoom=[0,1]),r};var r=e.setRangeZoom;e.setRangeZoom=function(){var e=r.apply(void 0,arguments);return e&&(t.colorCanvasMTime=0),e},e.onModified((function(){return e.render()})),e.setSize.apply(e,y(t.size))}var Dw={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,gaussianMinimumHeight:.05,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]};function Iw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Dw,n),fe.obj(e,t),fe.setGet(e,t,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom","gaussianMinimumHeight"]),fe.setGetArray(e,t,["rangeZoom"],2),fe.get(e,t,["size","canvas","gaussians"]),fe.event(e,t,"opacityChange"),fe.event(e,t,"animation"),fe.event(e,t,"zoomChange"),Tw(e,t)}var kw=hw({newInstance:fe.newInstance(Iw,"vtkPiecewiseGaussianWidget"),extend:Iw},Ew),Mw=n(4734),Nw=(Tb()(Mw.Z,{insert:"head",singleton:!1}),Mw.Z.locals||{}),Rw=fw.rgbPresetNames.map((function(e){return'<option value="'.concat(e,'">').concat(e,"</option>")}));function Bw(e,t){function n(){var e=!!Number(t.el.querySelector(".js-shadow").value);t.actor.getProperty().setShade(e),t.renderWindow.render()}function r(){var e=t.actor.getMapper().getInputData();if(e){var n=e.getPointData().getScalars()||e.getPointData().getArrays()[0],r=t.rescaleColorMap?t.colorDataRange:n.getRange(),o=fw.getPresetByName(t.el.querySelector(".js-color-preset").value),i=t.actor.getProperty().getRGBTransferFunction(0);i.applyColorMap(o),i.setMappingRange.apply(i,y(r)),i.updateRange(),t.renderWindow.render()}}function o(){var e=Number(t.el.querySelector(".js-spacing").value),n=t.actor.getMapper().getInputData(),r=.7*Math.sqrt(n.getSpacing().map((function(e){return e*e})).reduce((function(e,t){return e+t}),0));t.actor.getMapper().setSampleDistance(r*Math.pow(2,3*e-1.5)),t.renderWindow.render()}function i(){var e=Number(t.el.querySelector(".js-edge").value);if(0===e)t.actor.getProperty().setUseGradientOpacity(0,!1);else{var n=t.actor.getMapper().getInputData(),r=(n.getPointData().getScalars()||n.getPointData().getArrays()[0]).getRange();t.actor.getProperty().setUseGradientOpacity(0,!0);var o=Math.max(0,e-.3)/.7;t.actor.getProperty().setGradientOpacityMinimumValue(0,.2*(r[1]-r[0])*o*o),t.actor.getProperty().setGradientOpacityMaximumValue(0,1*(r[1]-r[0])*e*e)}t.renderWindow.render()}t.classHierarchy.push("vtkVolumeController"),t.el=document.createElement("div"),t.el.setAttribute("class",Nw.container),t.widget=kw.newInstance({numberOfBins:256,size:t.size}),e.setupContent=function(a,s,u){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"erdc_rainbow_bright";e.setActor(s),e.setRenderWindow(a);var f=t.actor.getMapper().getInputData(),d=f.getPointData().getScalars()||f.getPointData().getArrays()[0],p=t.actor.getProperty().getRGBTransferFunction(0),h=t.actor.getProperty().getScalarOpacity(0),m=u?"DarkBG":"BrightBG",g={};["button","presets","shadow"].forEach((function(e){g[e]=Nw["".concat(e).concat(m)]})),t.el.innerHTML='\n      <div class="'.concat(Nw.line,'">\n        <div class="').concat(g.button,' js-button">').concat(Yb,'</div>\n        <select class="').concat(g.shadow,' js-shadow js-toggle">\n          <option value="1">Use Shadow</option>\n          <option value="0">No Shadow</option>\n        </select>\n        <select class="').concat(g.presets,' js-color-preset js-toggle">\n          ').concat(Rw,'\n        </select>\n      </div>\n      <div class="').concat(Nw.line,' js-toggle">\n        <div class="').concat(Nw.sliderEntry,'">\n          <div class="').concat(Nw.sliderIcon,'">').concat(Zb,'</div>\n          <input type="range" min="0" max="1" value="0.4" step="0.01" class="').concat(Nw.slider,' js-spacing" />\n        </div>\n        <div class="').concat(Nw.sliderEntry,'">\n          <div class="').concat(Nw.sliderIcon,'">').concat(Xb,'</div>\n          <input type="range" min="0" max="1" value="0.2" step="0.01" class="').concat(Nw.slider,' js-edge" />\n        </div>\n      </div>\n      <div class="').concat(Nw.piecewiseEditor,' js-pwf js-toggle"></div>\n    ');var v=t.el.querySelector(".js-button"),y=t.el.querySelector(".js-shadow"),b=t.el.querySelector(".js-color-preset"),w=t.el.querySelector(".js-spacing"),x=t.el.querySelector(".js-edge"),C=t.el.querySelector(".js-pwf");t.widget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),t.widget.addGaussian(.5,1,.5,.5,.4),t.widget.setDataArray(d.getData()),t.widget.setColorTransferFunction(p),t.widget.applyOpacity(h),t.widget.setContainer(C),t.widget.bindMouseListeners(),t.colorDataRange=t.widget.getOpacityRange(),v.addEventListener("click",e.toggleVisibility),y.addEventListener("change",n),b.addEventListener("change",r),w.addEventListener("input",o),x.addEventListener("input",i),t.widget.onOpacityChange((function(){t.widget.applyOpacity(h),t.colorDataRange=t.widget.getOpacityRange(),t.rescaleColorMap&&r(),t.renderWindow.getInteractor().isAnimating()||t.renderWindow.render()})),t.widget.onAnimation((function(e){e?t.renderWindow.getInteractor().requestAnimation(t.widget):(t.renderWindow.getInteractor().cancelAnimation(t.widget),t.renderWindow.render())})),p.onModified((function(){t.widget.render(),t.renderWindow.getInteractor().isAnimating()||t.renderWindow.render()})),y.value=Number(c)?"1":"0",b.value=l,n(),r(),o(),i()},e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.el),t.container!==n&&(t.container=n,t.container&&t.container.appendChild(t.el),e.modified())};var a=e.setRescaleColorMap;e.setRescaleColorMap=function(e){return!!a(e)&&(r(),!0)},e.toggleVisibility=function(){e.setExpanded(!e.getExpanded())},e.setExpanded=function(e){var n=t.el.querySelectorAll(".js-toggle"),r=n.length;if(t.expanded=e,t.expanded)for(;r--;)n[r].style.display="flex";else for(;r--;)n[r].style.display="none"},e.getExpanded=function(){return t.expanded},e.setSize=t.widget.setSize,e.render=t.widget.render,e.onAnimation=t.widget.onAnimation,e.onModified(e.render),e.setSize.apply(e,y(t.size))}var Lw={size:[600,300],expanded:!0,rescaleColorMap:!1};function Fw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Lw,n),fe.obj(e,t),fe.setGet(e,t,["actor","renderWindow","rescaleColorMap"]),fe.get(e,t,["widget"]),Bw(e,t)}var jw=fe.newInstance(Fw,"vtkVolumeController"),Vw={vtkCornerAnnotation:Lb,vtkFPSMonitor:Kb,vtkIcons:Jb,vtkSlider:sw,vtkVolumeController:{newInstance:jw,extend:Fw}};function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uw(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gw(e,t){t.classHierarchy.push("vtkAbstractWidget");var n=zw({},e);e.createDefaultRepresentation=function(){},e.setEnabled=function(r){if(r!==t.enabled){if(t.interactor){var o=t.interactor.getCurrentRenderer();o&&t.widgetRep&&o.removeViewProp(t.widgetRep)}if(n.setEnabled(r),r){if(!t.interactor)return;var i=t.interactor.getCurrentRenderer();if(!i)return;e.createDefaultRepresentation(),t.widgetRep.setRenderer(i),t.widgetRep.buildRepresentation(),i.addViewProp(t.widgetRep)}}},e.render=function(){!t.parent&&t.interactor&&t.interactor.render()},e.isDragable=function(){return t.dragable&&(!t.parent||t.parent.isDragable())}}var Ww={enabled:!1,priority:.5,widgetRep:null,parent:null,dragable:!0};function Hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=zw(zw({},Ww),n);Gm.extend(e,t,r),fe.setGet(e,t,["widgetRep","parent","dragable"]),Gw(e,t)}var qw={newInstance:fe.newInstance(Hw,"vtkAbstractWidget"),extend:Hw};function Kw(e,t){t.classHierarchy.push("vtkPixelSpaceCallbackMapper"),t.callback||(t.callback=function(){}),e.invokeCallback=function(e,n,r,o,i){if(t.callback){var a=n.getCompositeProjectionMatrix(r,-1,1);Ii(a,a);for(var s=e.getPoints(),u=new Float64Array(3),c=o.usize,l=o.vsize,f=c/2,d=l/2,p=[],h=0;h<s.getNumberOfPoints();h+=1){ii(u,s.getPoint(h),a);var m=[u[0]*f+f,u[1]*d+d,u[2],0];if(i){var g=4*(Math.floor(m[1])*c+Math.floor(m[0])),v=(i[g]/255*256+i[g+1]/255)/257;m[3]=2*v-1}p.push(m)}t.callback(p,n,r,i,[c,l])}}}var Xw={callback:null,useZValues:!1};function Yw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Xw,n),Uv.extend(e,t,n),fe.setGet(e,t,["callback","useZValues"]),Kw(e,t)}var Zw={newInstance:fe.newInstance(Yw,"vtkPixelSpaceCallbackMapper"),extend:Yw},Jw={OUTSIDE:0,NEARBY:1,SELECTING:2,TRANSLATING:3,SCALING:4},$w={InteractionState:Jw},Qw={DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,PROJECTION:4,VIEW:5,WORLD:6},ex={Coordinate:Qw};function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var nx=ex.Coordinate,rx=fe.vtkErrorMacro;function ox(e,t){t.classHierarchy.push("vtkCoordinate"),e.setValue=function(){if(t.deleted)return rx("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r;if(1===i.length&&Array.isArray(i[0])&&(i=i[0]),2===i.length)return e.setValue(i[0],i[1],0),!0;if(3!==i.length)throw new RangeError("Invalid number of values for array setter");var a=!1;return t.value.forEach((function(e,t){if(e!==i[t]){if(a)return;a=!0}})),a&&(t.value=[].concat(i),e.modified()),!0},e.setCoordinateSystemToDisplay=function(){e.setCoordinateSystem(nx.DISPLAY)},e.setCoordinateSystemToNormalizedDisplay=function(){e.setCoordinateSystem(nx.NORMALIZED_DISPLAY)},e.setCoordinateSystemToViewport=function(){e.setCoordinateSystem(nx.VIEWPORT)},e.setCoordinateSystemToNormalizedViewport=function(){e.setCoordinateSystem(nx.NORMALIZED_VIEWPORT)},e.setCoordinateSystemToProjection=function(){e.setCoordinateSystem(nx.PROJECTION)},e.setCoordinateSystemToView=function(){e.setCoordinateSystem(nx.VIEW)},e.setCoordinateSystemToWorld=function(){e.setCoordinateSystem(nx.WORLD)},e.getCoordinateSystemAsString=function(){return fe.enumToString(nx,t.coordinateSystem)},e.getComputedWorldValue=function(n){var r=t.computedWorldValue;if(t.computing)return r;t.computing=1,r[0]=t.value[0],r[1]=t.value[1],r[2]=t.value[2];var o=n;if(t.renderer&&(o=t.renderer),!o){if(t.coordinateSystem===nx.WORLD){if(t.referenceCoordinate){var i=t.referenceCoordinate.getComputedWorldValue(o);r[0]+=i[0],r[1]+=i[1],r[2]+=i[2]}t.computing=0}else rx("Attempt to compute world coordinates from another coordinate system without a renderer");return r}var a=null;if(!o||!o.getRenderWindow().getViews())return t.computedWorldValue;var s=(a=o.getRenderWindow().getViews()[0]).getViewportSize(o),u=s[0]/s[1];if(t.referenceCoordinate&&t.coordinateSystem!==nx.WORLD){var c=t.referenceCoordinate.getComputedDoubleDisplayValue(o),l=[c[0],c[1],0];switch(t.coordinateSystem){case nx.NORMALIZED_DISPLAY:l=a.displayToNormalizedDisplay(l[0],l[1],l[2]);break;case nx.VIEWPORT:l=a.displayToNormalizedDisplay(l[0],l[1],l[2]),l=a.normalizedDisplayToViewport(l[0],l[1],l[2],o);break;case nx.NORMALIZED_VIEWPORT:l=a.displayToNormalizedDisplay(l[0],l[1],l[2]),l=a.normalizedDisplayToViewport(l[0],l[1],l[2],o),l=a.viewportToNormalizedViewport(l[0],l[1],l[2],o);break;case nx.PROJECTION:l=a.displayToNormalizedDisplay(l[0],l[1],l[2]),l=a.normalizedDisplayToViewport(l[0],l[1],l[2],o),l=a.viewportToNormalizedViewport(l[0],l[1],l[2],o),l=o.normalizedViewportToProjection(l[0],l[1],l[2]);break;case nx.VIEW:l=a.displayToNormalizedDisplay(l[0],l[1],l[2]),l=a.normalizedDisplayToViewport(l[0],l[1],l[2],o),l=a.viewportToNormalizedViewport(l[0],l[1],l[2],o),l=o.normalizedViewportToProjection(l[0],l[1],l[2]),l=o.projectionToView(l[0],l[1],l[2],u)}r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}switch(t.coordinateSystem){case nx.DISPLAY:r=a.displayToNormalizedDisplay(r[0],r[1],r[2]),r=a.normalizedDisplayToViewport(r[0],r[1],r[2],o),r=a.viewportToNormalizedViewport(r[0],r[1],r[2],o),r=o.normalizedViewportToProjection(r[0],r[1],r[2]),r=o.projectionToView(r[0],r[1],r[2],u),r=o.viewToWorld(r[0],r[1],r[2]);break;case nx.NORMALIZED_DISPLAY:r=a.normalizedDisplayToViewport(r[0],r[1],r[2],o),r=a.viewportToNormalizedViewport(r[0],r[1],r[2],o),r=o.normalizedViewportToProjection(r[0],r[1],r[2]),r=o.projectionToView(r[0],r[1],r[2],u),r=o.viewToWorld(r[0],r[1],r[2]);break;case nx.VIEWPORT:r=a.viewportToNormalizedViewport(r[0],r[1],r[2],o),r=o.normalizedViewportToProjection(r[0],r[1],r[2]),r=o.projectionToView(r[0],r[1],r[2],u),r=o.viewToWorld(r[0],r[1],r[2]);break;case nx.NORMALIZED_VIEWPORT:r=o.normalizedViewportToProjection(r[0],r[1],r[2]),r=o.projectionToView(r[0],r[1],r[2],u),r=o.viewToWorld(r[0],r[1],r[2]);break;case nx.PROJECTION:r=o.projectionToView(r[0],r[1],r[2],u),r=o.viewToWorld(r[0],r[1],r[2]);break;case nx.VIEW:r=o.viewToWorld(r[0],r[1],r[2])}if(t.referenceCoordinate&&t.coordinateSystem===nx.WORLD){var f=e.getComputedWorldValue(o);r[0]+=f[0],r[1]+=f[1],r[2]+=f[2]}return t.computing=0,t.computedWorldValue=r.slice(0),r},e.getComputedViewportValue=function(t){var n=e.getComputedDoubleViewportValue(t);return[Oe(n[0]),Oe(n[1])]},e.getComputedDisplayValue=function(t){var n=e.getComputedDoubleDisplayValue(t);return[Ee(n[0]),Ee(n[1])]},e.getComputedLocalDisplayValue=function(n){var r=n;t.renderer&&(r=t.renderer);var o=e.getComputedDisplayValue(r);return r?r&&r.getRenderWindow().getViews()?(o=r.getRenderWindow().getViews()[0].displayToLocalDisplay(o[0],o[1],o[2]),[Oe(o[0]),Oe(o[1])]):o:(rx("Attempt to convert to local display coordinates without a renderer"),o)},e.getComputedDoubleViewportValue=function(n){var r=n;t.renderer&&(r=t.renderer);var o=e.getComputedDoubleDisplayValue(r);if(!r)return o;var i=null;return r&&r.getRenderWindow().getViews()?(o=(i=r.getRenderWindow().getViews()[0]).displayToNormalizedDisplay(o[0],o[1],o[2]),[(o=i.normalizedDisplayToViewport(o[0],o[1],o[2],r))[0],o[1]]):o},e.getComputedDoubleDisplayValue=function(e){if(t.computing)return t.computedDoubleDisplayValue;t.computing=1;var n=t.value.slice(0),r=e;if(t.renderer&&(r=t.renderer),!r){if(t.coordinateSystem===nx.DISPLAY){if(t.computedDoubleDisplayValue[0]=n[0],t.computedDoubleDisplayValue[1]=n[1],t.referenceCoordinate){var o=t.referenceCoordinate.getComputedDoubleDisplayValue();t.computedDoubleDisplayValue[0]+=o[0],t.computedDoubleDisplayValue[1]+=o[1]}}else t.computedDoubleDisplayValue[0]=Number.MAX_VALUE,t.computedDoubleDisplayValue[1]=Number.MAX_VALUE,rx("Request for coordinate transformation without required viewport");return t.computedDoubleDisplayValue}var i=null;if(!r||!r.getRenderWindow().getViews())return n;var a=(i=r.getRenderWindow().getViews()[0]).getViewportSize(r),s=a[0]/a[1];switch(t.coordinateSystem){case nx.WORLD:if(t.referenceCoordinate){var u=t.referenceCoordinate.getComputedWorldValue(r);n[0]+=u[0],n[1]+=u[1],n[2]+=u[2]}n=r.worldToView(n[0],n[1],n[2]),n=r.viewToProjection(n[0],n[1],n[2],s),n=r.projectionToNormalizedViewport(n[0],n[1],n[2]),n=i.normalizedViewportToViewport(n[0],n[1],n[2]),n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.VIEW:n=r.viewToProjection(n[0],n[1],n[2],s),n=r.projectionToNormalizedViewport(n[0],n[1],n[2]),n=i.normalizedViewportToViewport(n[0],n[1],n[2]),n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.PROJECTION:n=r.projectionToNormalizedViewport(n[0],n[1],n[2]),n=i.normalizedViewportToViewport(n[0],n[1],n[2]),n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.NORMALIZED_VIEWPORT:if(n=i.normalizedViewportToViewport(n[0],n[1],n[2]),t.referenceCoordinate){var c=t.referenceCoordinate.getComputedDoubleViewportValue(r);n[0]+=c[0],n[1]+=c[1]}n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.VIEWPORT:if(t.referenceCoordinate){var l=t.referenceCoordinate.getComputedDoubleViewportValue(r);n[0]+=l[0],n[1]+=l[1]}n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.NORMALIZED_DISPLAY:n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case nx.USERDEFINED:n=t.value.slice(0)}if(t.referenceCoordinate&&(t.coordinateSystem===nx.DISPLAY||t.coordinateSystem===nx.NORMALIZED_DISPLAY)){var f=t.referenceCoordinate.getComputedDoubleDisplayValue(r);n[0]+=f[0],n[1]+=f[1]}return t.computedDoubleDisplayValue[0]=n[0],t.computedDoubleDisplayValue[1]=n[1],t.computing=0,t.computedDoubleDisplayValue},e.getComputedValue=function(n){var r=n;switch(t.renderer&&(r=t.renderer),t.coordinateSystem){case nx.WORLD:return e.getComputedWorldValue(r);case nx.VIEW:case nx.NORMALIZED_VIEWPORT:case nx.VIEWPORT:var o=e.getComputedViewportValue(r);t.computedWorldValue[0]=o[0],t.computedWorldValue[1]=o[1];break;case nx.NORMALIZED_DISPLAY:case nx.DISPLAY:var i=t.getComputedDisplayValue(r);t.computedWorldValue[0]=i[0],t.computedWorldValue[1]=i[1]}return t.computedWorldValue}}var ix={coordinateSystem:nx.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]};function ax(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ix,n),fe.obj(e,t),fe.set(e,t,["property"]),fe.get(e,t,["value"]),fe.setGet(e,t,["coordinateSystem","referenceCoordinate","renderer"]),fe.getArray(e,t,["value"],3),ox(e,t)}var sx=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(ax,"vtkCoordinate"),extend:ax},ex);function ux(e,t){t.classHierarchy.push("vtkPointPlacer"),e.computeWorldPosition=function(e,t,n){if(e){var r=sx.newInstance();return r.setCoordinateSystemToDisplay(),r.setValue(t[0],t[1]),n[0]=r.getComputedWorldValue(e)[0],n[1]=r.getComputedWorldValue(e)[1],n[2]=r.getComputedWorldValue(e)[2],1}return 0}}var cx={pixelTolerance:5,worldTolerance:.001};function lx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,cx,n),fe.obj(e,t),fe.setGet(e,t,["pixelTolerance","worldTolerance"]),ux(e,t)}var fx={newInstance:fe.newInstance(lx,"vtkPointPlacer"),extend:lx},dx=fe.vtkErrorMacro;function px(e,t){t.classHierarchy.push("vtkWidgetRepresentation"),e.getPickedActor=function(e,n,r,o){return o.pick(e,n,r,t.renderer),o.getActors[0]},e.adjustBounds=function(e,n,r){6===e.length?(r[0]=(e[0]+e[1])/2,r[1]=(e[2]+e[3])/2,r[2]=(e[4]+e[5])/2,n[0]=r[0]+t.placeFactor*(e[0]-r[0]),n[1]=r[0]+t.placeFactor*(e[1]-r[0]),n[2]=r[1]+t.placeFactor*(e[2]-r[1]),n[3]=r[1]+t.placeFactor*(e[3]-r[1]),n[4]=r[2]+t.placeFactor*(e[4]-r[2]),n[5]=r[2]+t.placeFactor*(e[5]-r[2])):dx("vtkWidgetRepresentation::adjustBounds Can't process bounds, not enough values...")},e.sizeHandlesInPixels=function(e,n){var r=t.renderer;if(!t.validPick||!r||!r.getActiveCamera())return t.handleSize*e*t.initialLength;var o=Gm.computeWorldToDisplay(r,n[0],n[1],n[2]),i=o[2],a=o[0]-t.handleSize/2,s=o[1]-t.handleSize/2,u=Gm.computeDisplayToWorld(r,a,s,i);a=o[0]+t.handleSize/2,s=o[1]+t.handleSize/2;for(var c=Gm.computeDisplayToWorld(r,a,s,i),l=0,f=0;f<3;f++)l+=(c[f]-u[f])*(c[f]-u[f]);return e*(Math.sqrt(l)/2)},e.sizeHandlesRelativeToViewport=function(e,n){var r=t.renderer;if(!t.validPick||!r||!r.getActiveCamera())return t.handleSize*e*t.initialLength;var o=r.getViewport(),i=r.getRenderWindow().getViews()[0].getViewportSize(r),a=Gm.computeWorldToDisplay(r,n[0],n[1],n[2])[2],s=i[0]*o[0],u=i[1]*o[1],c=Gm.computeDisplayToWorld(r,s,u,a);s=i[0]*o[2],u=i[1]*o[3];for(var l=Gm.computeDisplayToWorld(r,s,u,a),f=0,d=0;d<3;d++)f+=(l[d]-c[d])*(l[d]-c[d]);return e*(Math.sqrt(f)/2)}}var hx={renderer:null,interactionState:0,startEventPosition:[0,0,0],lastEventPosition:[0,0,0],placeFactor:.5,placed:0,handleSize:.05,validPick:0,initialBounds:[0,1,0,1,0,1],initialLength:0,needToRender:0};function mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hx,n),Hg.extend(e,t,n),fe.setGet(e,t,["renderer","handleSize","placeFactor","needToRender","interactionState"]),px(e,t)}var gx={newInstance:fe.newInstance(mx,"vtkWidgetRepresentation"),extend:mx};function vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yx=$w.InteractionState;function bx(e,t){t.classHierarchy.push("vtkHandleRepresentation"),e.setDisplayPosition=function(e){if(t.renderer&&t.pointPlacer){var n=[];t.pointPlacer.computeWorldPosition(t.renderer,e,n)&&(t.displayPosition.setValue(e),t.worldPosition.setValue(n))}else t.displayPosition.setValue(e)},e.getDisplayPosition=function(e){if(t.renderer){var n=t.worldPosition.getComputedDisplayValue(t.renderer);t.displayPosition.setValue(n[0],n[1],0)}e[0]=t.displayPosition.getValue()[0],e[1]=t.displayPosition.getValue()[1],e[2]=t.displayPosition.getValue()[2]},e.getDisplayPosition=function(){if(t.renderer){var e=t.worldPosition.getComputedDisplayValue(t.renderer);t.displayPosition.setValue(e[0],e[1],0)}return t.displayPosition.getValue()},e.setWorldPosition=function(e){t.worldPosition.setValue(e)},e.getWorldPosition=function(e){t.worldPosition.getValue(e)},e.getWorldPosition=function(){return t.worldPosition.getValue()}}var wx={displayPosition:null,worldPosition:null,tolerance:15,activeRepresentation:0,constrained:0,pointPlacer:null};function xx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wx,n),gx.extend(e,t,n),t.displayPosition=sx.newInstance(),t.displayPosition.setCoordinateSystemToDisplay(),t.worldPosition=sx.newInstance(),t.worldPosition.setCoordinateSystemToWorld(),t.pointPlacer=fx.newInstance(),t.interactionState=yx.OUTSIDE,fe.setGet(e,t,["activeRepresentation","tolerance"]),bx(e,t)}var Cx=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(xx,"vtkHandleRepresentation"),extend:xx},$w),Sx="LEFT",Ax="RIGHT",_x="CENTER",Px="BOTTOM",Ox="CENTER";function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ex(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dx(e,t){t.classHierarchy.push("vtkLabelRepresentation");var n=Tx({},e);e.buildRepresentation=function(){null!==t.labelText&&e.setLabelText(t.labelText),e.modified()},e.getActors=function(){return[t.actor]},e.getNestedProps=function(){return e.getActors()},e.computeInteractionState=function(e){if(t.canvas){var n=window.devicePixelRatio||1,r=t.canvas.height*n,o=t.canvas.width*n,i=function(){if(t.canvas){var e=window.devicePixelRatio;return{left:Number(t.canvas.style.left.split("px")[0])*e,bottom:Number(t.canvas.style.bottom.split("px")[0])*e}}return null}();e[0]>=i.left&&e[0]<=i.left+o&&e[1]>=i.bottom&&e[1]<=i.bottom+r?t.interactionState=Jw.SELECTING:t.interactionState=Jw.OUTSIDE}return t.interactionState},e.startComplexWidgetInteraction=function(e){t.startEventPosition[0]=e[0],t.startEventPosition[1]=e[1],t.startEventPosition[2]=0,t.lastEventPosition[0]=e[0],t.lastEventPosition[1]=e[1]},e.complexWidgetInteraction=function(n){if(t.interactionState===Jw.SELECTING){var r=t.point.getCenter(),o=Gm.computeWorldToDisplay(t.renderer,r[0],r[1],r[2])[2],i=Gm.computeDisplayToWorld(t.renderer,t.lastEventPosition[0],t.lastEventPosition[1],o),a=Gm.computeDisplayToWorld(t.renderer,n[0],n[1],o);e.moveFocus(i,a),t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1],e.modified()}},e.setWorldPosition=function(r){t.point.setCenter(r),n.setWorldPosition(t.point.getCenter()),e.modified()},e.setDisplayPosition=function(r){n.setDisplayPosition(r),e.setWorldPosition(t.worldPosition.getValue())},e.moveFocus=function(n,r){var o=[];Ke(r,n,o);var i=t.point.getCenter();qe(i,o,i),e.setWorldPosition(i)},e.getBounds=function(){var e=t.point.getCenter(),n=[];return n[0]=t.placeFactor*(e[0]-1),n[1]=t.placeFactor*(e[0]+1),n[2]=t.placeFactor*(e[1]-1),n[3]=t.placeFactor*(e[1]+1),n[4]=t.placeFactor*(e[2]-1),n[5]=t.placeFactor*(e[2]+1),n},e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.canvas),t.container!==n&&(t.container=n,t.container&&t.container.appendChild(t.canvas),e.modified())},e.setLabelStyle=function(n){t.labelStyle=Tx(Tx({},t.labelStyle),n),e.modified()},e.setSelectLabelStyle=function(n){t.selectLabelStyle=Tx(Tx({},t.selectLabelStyle),n),e.modified()},e.computeTextDimensions=function(e){var n=t.highlight?t.selectLabelStyle:t.labelStyle,r=/\r?\n/.exec(e),o=null!==r?r[0]:null,i=e.split(o),a=n.fontSize*(1+n.lineSpace),s=n.fontSize/4,u=2*s+n.fontSize+(i.length-1)*a;return{width:i.reduce((function(e,n){return Math.max(e,Math.round(t.context.measureText(n).width))}),0),height:u,lineSpace:a,padding:s,lines:i}},e.updateLabel=function(){if(t.context&&t.canvas&&(t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.canvas.hidden=!t.actor.getVisibility(),t.actor.getVisibility())){var n=t.highlight?t.selectLabelStyle:t.labelStyle,r=e.computeTextDimensions(t.labelText),o=r.width,i=r.height,a=r.lineSpace,s=r.padding,u=r.lines;t.canvas.height=Math.round(i),t.canvas.width=o+2*s,t.context.strokeStyle=n.strokeColor,t.context.lineWidth=n.strokeSize,t.context.fillStyle=n.fontColor,t.context.font="".concat(n.fontStyle," ").concat(n.fontSize,"px ").concat(n.fontFamily);var c=s,l=n.fontSize;u.forEach((function(e){var n=0;t.textAlign===Ax?n=o-Math.round(t.context.measureText(e).width):t.textAlign===_x&&(n=.5*(o-Math.round(t.context.measureText(e).width))),t.context.strokeText(e,c+n,l),t.context.fillText(e,c+n,l),l+=a}))}},e.highlight=function(n){t.highlight=n,e.modified()},e.getCanvasSize=function(){return t.canvas?{height:t.canvas.height,width:t.canvas.width}:null}}function Ix(e){return Tx({container:null,labelStyle:{fontColor:"white",fontStyle:"normal",fontSize:15,fontFamily:"Arial",strokeColor:"black",strokeSize:1,lineSpace:.2},labelText:"",textAlign:Sx,verticalAlign:Px,selectLabelStyle:{fontColor:"rgb(0, 255, 0)",fontStyle:"normal",fontSize:15,fontFamily:"Arial",strokeColor:"black",strokeSize:1,lineSpace:.2}},e)}function kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ix(n)),Cx.extend(e,t,n),e.setPlaceFactor(1),t.canvas=document.createElement("canvas"),t.canvas.style.position="absolute",t.context=t.canvas.getContext("2d"),t.point=jp.newInstance(),t.point.setNumberOfPoints(1),t.point.setRadius(0),t.mapper=Zw.newInstance(),t.mapper.setInputConnection(t.point.getOutputPort()),t.mapper.setCallback((function(n){if(t.canvas){var r=0;t.verticalAlign===Px?r=-t.canvas.height:t.verticalAlign===Ox&&(r=-.5*t.canvas.height);var o=window.devicePixelRatio;t.canvas.style.left="".concat(Math.round(n[0][0])/o,"px"),t.canvas.style.bottom="".concat(Math.round(n[0][1]/o+r),"px"),e.modified()}})),t.actor=dv.newInstance(),t.actor.setMapper(t.mapper),t.actorVisibility=!0,t.highlight=!1,t.actor.onModified((function(){t.actorVisibility!==t.actor.getVisibility()&&(t.actorVisibility=t.actor.getVisibility(),e.modified())})),e.onModified((function(){e.updateLabel()})),fe.setGet(e,t,["labelText","textAlign","verticalAlign"]),fe.get(e,t,["container","labelStyle"]),Dx(e,t)}var Mx={newInstance:fe.newInstance(kx,"vtkLabelRepresentation"),extend:kx},Nx={OUTSIDE:0,ONP1:1,ONP2:2,TRANSLATINGP1:3,TRANSLATINGP2:4,ONLINE:5,SCALING:6},Rx=Nx;function Bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fx(e,t,n,r){for(var o={planeId:-1,t1:0,t2:1,intersect:0},i=e.getNumberOfClippingPlanes(),a=[],s=0;s<i;s++){e.getClippingPlaneInDataCoords(t,s,a);var u=a[0]*n[0]+a[1]*n[1]+a[2]*n[2]+a[3],c=a[0]*r[0]+a[1]*r[1]+a[2]*r[2]+a[3];if(u<0&&c<0)return 0;if(u<0||c<0){var l=0;if(0!==u&&(l=u/(u-c)),u<0?l>=o.t1&&(o.t1=l,o.planeId=s):l<=o.t2&&(o.t2=l),o.t1>o.t2)return o.intersect=0,o}}return o.intersect=1,o}var jx={clipLineWithPlane:Fx};function Vx(e,t){t.classHierarchy.push("vtkCellPicker");var n=Lx({},e);function r(){t.dataSet=null,t.mapper=null,t.cellId=-1,t.pCoords[0]=0,t.pCoords[1]=0,t.pCoords[2]=0,t.cellIJK[0]=0,t.cellIJK[1]=0,t.cellIJK[2]=0,t.mapperNormal[0]=0,t.mapperNormal[1]=0,t.mapperNormal[2]=1,t.pickNormal[0]=0,t.pickNormal[1]=0,t.pickNormal[2]=1}e.initialize=function(){r(),n.initialize()},e.computeSurfaceNormal=function(e,t,n,r){var o=e.getPointData().getNormals();if(!o)return 0;r[0]=0,r[1]=0,r[2]=0;for(var i=[],a=0;a<3;a++)o.getTuple(t.getPointsIds()[a],i),r[0]+=i[0]*n[a],r[1]+=i[1]*n[a],r[2]+=i[2]*n[a];return nt(r),1},e.pick=function(r,o){e.initialize();var i=n.pick(r,o);if(i){var a=o.getActiveCamera(),s=[];if(a.getPosition(s),a.getParallelProjection()){var u=[];a.getFocalPoint(u),t.pickNormal[0]=s[0]-u[0],t.pickNormal[1]=s[1]-u[1],t.pickNormal[2]=s[2]-u[2]}else t.pickNormal[0]=s[0]-t.pickPosition[0],t.pickNormal[1]=s[1]-t.pickPosition[1],t.pickNormal[2]=s[2]-t.pickPosition[2];nt(t.pickNormal)}return i},e.intersectWithLine=function(n,r,o,i){var a=Number.MAX_VALUE,s=Fx(i,t.transformMatrix,n,r);if(i&&!s.intersect)return Number.MAX_VALUE;if(i.isA("vtkImageMapper")){var u=i.intersectWithLineForCellPicking(n,r);u&&(a=u.t,t.cellIJK=u.ijk,t.pCoords=u.pCoords)}else i.isA("vtkMapper")&&(a=e.intersectActorWithLine(n,r,0,1,o,i));if(a<t.globalTMin){if(t.globalTMin=a,Math.abs(a-0)<1e-14&&s.clippingPlaneId>=0){t.mapperPosition[0]=1*n[0]+0*r[0],t.mapperPosition[1]=1*n[1]+0*r[1],t.mapperPosition[2]=1*n[2]+0*r[2];var c=[];i.getClippingPlaneInDataCoords(t.transformMatrix,s.clippingPlaneId,c),nt(c),t.mapperNormal[0]=-c[0],t.mapperNormal[1]=-c[1],t.mapperNormal[2]=-c[2]}ii(t.pickPosition,t.mapperPosition,t.transformMatrix);var l=t.transformMatrix;t.mapperNormal[0]=l[0]*t.pickNormal[0]+l[4]*t.pickNormal[1]+l[8]*t.pickNormal[2],t.mapperNormal[1]=l[1]*t.pickNormal[0]+l[5]*t.pickNormal[1]+l[9]*t.pickNormal[2],t.mapperNormal[2]=l[2]*t.pickNormal[0]+l[6]*t.pickNormal[1]+l[10]*t.pickNormal[2]}return a},e.intersectActorWithLine=function(n,o,i,a,s,u){var c=Number.MAX_VALUE,l=[0,0,0],f=Number.MAX_VALUE,d=[0,0,0],p=-1,h=Mc.newInstance(),m=[],g=u.getInputData(),v=[0,0,0],y=[0,0,0];if(v[0]=n[0],v[1]=n[1],v[2]=n[2],y[0]=o[0],y[1]=o[1],y[2]=o[2],0!==i||1!==a)for(var b=0;b<3;b++)v[b]=n[b]*(1-i)+o[b]*i,y[b]=n[b]*(1-a)+o[b]*a;if(g.getPolys)for(var w=g.getPolys(),x=g.getPoints(),C=w.getData(),S=0,A=[-1,-1,-1],_=Mc.newInstance(),P=Ns.newInstance(),O=0;O<C.length;S++){var E,T=[0,0,0],D=C[O++];P.setNumberOfPoints(D);for(var I=0;I<D;I++)A[I]=C[O++];if(_.initialize(x,A),1===(E=_.intersectWithLine(n,o,s,m,T)).intersect&&E.t<=c+t.tolerance&&E.t>=i&&E.t<=a){var k=_.getParametricDistance(T);if(k<f||k===f&&E.t<c){c=E.t,f=k,p=S,_.deepCopy(h);for(var M=0;M<3;M++)l[M]=m[M],d[M]=T[M]}}}if(p>=0&&c<t.globalTMin){r();for(var N=h.getNumberOfPoints(),R=new Array(N),B=0;B<N;B++)R[B]=0;h.evaluateLocation(d,[],R),t.dataSet=g,t.cellId=p,t.pCoords[0]=d[0],t.pCoords[1]=d[1],t.pCoords[2]=d[2];for(var L=0,F=-1,j=0;j<N;j++)R[j]>L&&(F=j,L=R[j]);-1!==F&&(t.pointId=h.getPointsIds()[F]),t.mapperPosition[0]=l[0],t.mapperPosition[1]=l[1],t.mapperPosition[2]=l[2],e.computeSurfaceNormal(g,h,R,t.mapperNormal)||(t.mapperNormal[0]=n[0]-o[0],t.mapperNormal[1]=n[1]-o[1],t.mapperNormal[2]=n[2]-o[2],nt(t.mapperNormal))}return c}}var Ux={cellId:-1,pCoords:[],cellIJK:[],pickNormal:[],mapperNormal:[]};function zx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ux,n),$v.extend(e,t,n),fe.getArray(e,t,["pickNormal","mapperNormal","pCoords","cellIJK"]),fe.get(e,t,["cellId"]),Vx(e,t)}var Gx=Lx({newInstance:fe.newInstance(zx,"vtkCellPicker"),extend:zx},jx);function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hx(e,t){t.classHierarchy.push("vtkSphereHandleRepresentation");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getActors=function(){return[t.actor]},e.getNestedProps=function(){return e.getActors()},e.placeWidget=function(){var n=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))n=arguments.length<=0?void 0:arguments[0];else for(var r=0;r<arguments.length;r++)n.push(r<0||arguments.length<=r?void 0:arguments[r]);if(6===n.length){var o=[],i=[];e.adjustBounds(n,o,i),e.setWorldPosition(i);for(var a=0;a<6;a++)t.initialBounds[a]=o[a];t.initialLength=Math.sqrt((o[1]-o[0])*(o[1]-o[0])+(o[3]-o[2])*(o[3]-o[2])+(o[5]-o[4])*(o[5]-o[4]))}},e.setSphereRadius=function(n){t.sphere.setRadius(n),e.modified()},e.getSphereRadius=function(){return t.sphere.getRadius()},e.getBounds=function(){var e=t.sphere.getRadius(),n=t.sphere.getCenter(),r=[];return r[0]=t.placeFactor*(n[0]-e),r[1]=t.placeFactor*(n[0]+e),r[2]=t.placeFactor*(n[1]-e),r[3]=t.placeFactor*(n[1]+e),r[4]=t.placeFactor*(n[2]-e),r[5]=t.placeFactor*(n[2]+e),r},e.setWorldPosition=function(e){t.sphere.setCenter(e),n.setWorldPosition(t.sphere.getCenter())},e.setDisplayPosition=function(r){n.setDisplayPosition(r),e.setWorldPosition(t.worldPosition.getValue())},e.setHandleSize=function(e){n.setHandleSize(e),t.currentHandleSize=t.handleSize},e.computeInteractionState=function(e){t.visibility=1;var n=[e[0],e[1],0];return t.cursorPicker.pick(n,t.renderer),t.cursorPicker.getDataSet()?t.interactionState=Jw.SELECTING:(t.interactionState=Jw.OUTSIDE,t.activeRepresentation&&(t.visibility=0)),t.interactionState},e.determineConstraintAxis=function(e,n){if(!t.constrained)return-1;if(e>=0&&e<3)return e;if(!t.waitingForMotion){var r=st(t.cursorPicker.getPickPosition(),t.startEventPosition),o=t.hotSpotSize*t.initialLength;return r>o*o?(t.waitingForMotion=0,t.cursorPicker.getCellId()):(t.waitingForMotion=1,t.waitCount=0,-1)}if(t.waitingForMotion&&n){t.waitingForMotion=0;var i=[];return i[0]=Math.abs(n[0]-t.startEventPosition[0]),i[1]=Math.abs(n[1]-t.startEventPosition[1]),i[2]=Math.abs(n[2]-t.startEventPosition[2]),i[0]>i[1]?i[0]>i[2]?0:2:i[1]>i[2]?1:2}return-1},e.startComplexWidgetInteraction=function(n){t.startEventPosition[0]=n[0],t.startEventPosition[1]=n[1],t.startEventPosition[2]=0,t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1];var r=[n[0],n[1],0];t.cursorPicker.pick(r,t.renderer),t.cursorPicker.getDataSet()?(t.interactionState=Jw.SELECTING,t.constraintAxis=e.determineConstraintAxis(-1,null),t.lastPickPosition=t.cursorPicker.getPickPosition()):(t.interactionState=Jw.OUTSIDE,t.constraintAxis=-1)},e.displayToWorld=function(e,n){return Gm.computeDisplayToWorld(t.renderer,e[0],e[1],n)},e.complexWidgetInteraction=function(n){var r=Gm.computeWorldToDisplay(t.renderer,t.lastPickPosition[0],t.lastPickPosition[1],t.lastPickPosition[2])[2],o=e.displayToWorld(t.lastEventPosition,r),i=e.displayToWorld(n,r);t.interactionState===Jw.SELECTING||t.interactionState===Jw.TRANSLATING?(!t.waitingForMotion||t.waitCount++>3)&&(t.constraintAxis=e.determineConstraintAxis(t.constraintAxis,i),t.interactionState!==Jw.SELECTING||t.translationMode?e.translate(o,i):e.moveFocus(o,i)):t.interactionState===Jw.SCALING&&e.scale(o,i,n),t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1],e.modified()},e.moveFocus=function(n,r){var o=[];o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2];var i=t.sphere.getCenter();t.constraintAxis>=0?i[t.constraintAxis]+=o[t.constraintAxis]:(i[0]+=o[0],i[1]+=o[1],i[2]+=o[2]),e.setWorldPosition(i)},e.translate=function(n,r){var o=[];o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2];var i=t.sphere.getCenter();if(t.constraintAxis>=0)for(var a=0;a<3;a++)a!==t.constraintAxis&&(o[a]=0);for(var s=[],u=0;u<3;u++)s[u]=i[u]+o[u];e.setWorldPosition(s);var c=e.sizeHandlesInPixels(1,s);c*=t.currentHandleSize/t.handleSize,t.sphere.setRadius(c)},e.sizeBounds=function(){var n=t.sphere.getCenter(),r=e.sizeHandlesInPixels(1,n);r*=t.currentHandleSize/t.handleSize,t.sphere.setRadius(r)},e.scale=function(n,r,o){var i=[];i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2];var a=e.getBounds(),s=tt(i)/Math.sqrt((a[1]-a[0])*(a[1]-a[0])+(a[3]-a[2])*(a[3]-a[2])+(a[5]-a[4])*(a[5]-a[4]));o[1]>t.lastEventPosition[1]?s+=1:s=1-s,t.currentHandleSize*=s,t.currentHandleSize=t.currentHandleSize<.001?.001:t.currentHandleSize,e.sizeBounds()},e.highlight=function(n){n?e.applyProperty(t.selectProperty):e.applyProperty(t.property)},e.buildRepresentation=function(){t.renderer&&(t.placed||(t.validPick=1,t.placed=1),e.sizeBounds(),t.sphere.update(),e.modified())},e.applyProperty=function(e){t.actor.setProperty(e)}}var qx={actor:null,mapper:null,sphere:null,cursorPicker:null,lastPickPosition:[0,0,0],lastEventPosition:[0,0],constraintAxis:-1,translationMode:1,property:null,selectProperty:null,placeFactor:1,waitingForMotion:0,hotSpotSize:.05};function Kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qx,n),Cx.extend(e,t,n),fe.setGet(e,t,["glyphResolution","defaultScale"]),fe.setGet(e,t,["translationMode","property","selectProperty"]),fe.get(e,t,["actor"]),t.sphere=Jp.newInstance(),t.sphere.setThetaResolution(16),t.sphere.setPhiResolution(8),t.mapper=Uv.newInstance(),t.mapper.setInputConnection(t.sphere.getOutputPort()),t.actor=dv.newInstance(),t.actor.setMapper(t.mapper),e.setHandleSize(15),t.currentHandleSize=t.handleSize,t.cursorPicker=Gx.newInstance(),t.cursorPicker.setPickFromList(1),t.cursorPicker.initializePickList(),t.cursorPicker.addPickList(t.actor),t.property=av.newInstance(),t.property.setColor(1,1,1),t.selectProperty=av.newInstance(),t.selectProperty.setColor(0,1,0),t.actor.setProperty(t.property),Hx(e,t)}var Xx={newInstance:fe.newInstance(Kx,"vtkSphereHandleRepresentation"),extend:Kx};function Yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zx=Rx;function Jx(e,t){t.classHierarchy.push("vtkLineRepresentation");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setResolution=function(e){t.lineSource.setResolution(e)},e.setLineVisibility=function(e){t.lineActor.setVisibility(e)},e.setPoint1Visibility=function(e){t.point1Representation.getActors()[0].setVisibility(e)},e.setPoint2Visibility=function(e){t.point2Representation.getActors()[0].setVisibility(e)},e.getResolution=function(){return t.lineSource.getResolution()},e.getPoint1WorldPosition=function(){return t.point1Representation.getWorldPosition()},e.getPoint2WorldPosition=function(){return t.point2Representation.getWorldPosition()},e.getPoint1DisplayPosition=function(){return t.point1Representation.getDisplayPosition()},e.getPoint2DisplayPosition=function(){return t.point2Representation.getDisplayPosition()},e.setPoint1WorldPosition=function(e){var n;t.point1Representation.setWorldPosition(e),(n=t.lineSource).setPoint1.apply(n,y(e))},e.setPoint2WorldPosition=function(e){var n;t.point2Representation.setWorldPosition(e),(n=t.lineSource).setPoint2.apply(n,y(e))},e.setPoint1DisplayPosition=function(e){t.point1Representation.setDisplayPosition(e);var n=t.point1Representation.getWorldPosition();t.point1Representation.setWorldPosition(n)},e.setPoint2DisplayPosition=function(e){t.point2Representation.setDisplayPosition(e);var n=t.point2Representation.getWorldPosition();t.point2Representation.setWorldPosition(n)},e.setRenderer=function(e){t.point1Representation.setRenderer(e),t.point2Representation.setRenderer(e),n.setRenderer(e)},e.startComplexWidgetInteraction=function(e){if(t.startEventPosition[0]=e[0],t.startEventPosition[1]=e[1],t.startEventPosition[2]=0,t.lastEventPosition[0]=e[0],t.lastEventPosition[1]=e[1],t.lastEventPosition[2]=0,t.startP1=t.point1Representation.getWorldPosition(),t.startP2=t.point2Representation.getWorldPosition(),t.interactionState===Zx.SCALING){var n=t.point1Representation.getDisplayPosition(),r=t.point2Representation.getDisplayPosition();t.length=Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}},e.complexWidgetInteraction=function(n){if(t.interactionState===Zx.ONP1){if(0!==t.restrictFlag){for(var r=t.point1Representation.getWorldPosition(),o=0;o<3;o++)r[o]=t.restrictFlag===o+1?r[o]:t.startP1[o];t.point1Representation.setWorldPosition(r)}}else if(t.interactionState===Zx.ONP2){if(0!==t.restrictFlag){for(var i=t.point2Representation.getWorldPosition(),a=0;a<3;a++)i[a]=t.restrictFlag===a+1?i[a]:t.startP2[a];t.point2Representation.setWorldPosition(i)}}else if(t.interactionState===Zx.ONLINE);else if(t.interactionState===Zx.SCALING);else if(t.interactionState===Zx.TRANSLATINGP1){for(var s=t.point1Representation.getWorldPosition(),u=[],c=0;c<3;c++)u[c]=t.startP2[c]+(s[c]-t.startP1[c]);t.point1Representation.setWorldPosition(u)}else if(t.interactionState===Zx.TRANSLATINGP2){for(var l=t.point2Representation.getWorldPosition(),f=[],d=0;d<3;d++)f[d]=t.startP1[d]+(l[d]-t.startP2[d]);t.point2Representation.setWorldPosition(f)}t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1],t.lastEventPosition[2]=0,e.modified()},e.placeWidget=function(){var n=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))n=arguments.length<=0?void 0:arguments[0];else for(var r=0;r<arguments.length;r++)n.push(r<0||arguments.length<=r?void 0:arguments[r]);if(6===n.length){var o=t.placeFactor;t.placeFactor=1;var i=[],a=[];e.adjustBounds(n,i,a),t.placeFactor=o;for(var s=0;s<6;s++)t.initialBounds[s]=i[s];t.initialLength=Math.sqrt((i[1]-i[0])*(i[1]-i[0])+(i[3]-i[2])*(i[3]-i[2])+(i[5]-i[4])*(i[5]-i[4]));var u=t.lineSource.getPoint1(),c=t.lineSource.getPoint2(),l=[t.initialLength*(u[0]-c[0]),t.initialLength*(u[1]-c[1]),t.initialLength*(u[2]-c[2])],f=[a[0]-l[0],a[1]-l[1],a[2]-l[2]],d=[],p=[];Xr.intersectBox(n,f,l,d,p),e.setPoint1WorldPosition(d),l[0]=t.initialLength*(c[0]-u[0]),l[1]=t.initialLength*(c[1]-u[1]),l[2]=t.initialLength*(c[2]-u[2]),f[0]=a[0]-l[0],f[1]=a[1]-l[1],f[2]=a[2]-l[2];var h=[];Xr.intersectBox(n,f,l,h,p),e.setPoint2WorldPosition(h),t.placed=1,t.validPick=1,e.buildRepresentation()}},e.computeInteractionState=function(n){var r=t.point1Representation.computeInteractionState(n),o=t.point2Representation.computeInteractionState(n);if(r===Jw.SELECTING?(t.interactionState=Zx.ONP1,e.setRepresentationState(Zx.ONP1)):o===Jw.SELECTING?(t.interactionState=Zx.ONP2,e.setRepresentationState(Zx.ONP2)):t.interactionState=Zx.OUTSIDE,t.interactionState!==Zx.OUTSIDE)return t.interactionState;var i=e.getPoint1DisplayPosition(),a=e.getPoint2DisplayPosition(),s=[n[0],n[1],0],u=[i[0],i[1],0],c=[a[0],a[1],0],l=t.tolerance*t.tolerance,f=Uu.distanceToLine(s,u,c);return f.distance<=l&&f.t<1&&f.t>0?(t.interactionState=Zx.ONLINE,e.setRepresentationState(Zx.ONLINE),i=e.getPoint1WorldPosition(),a=e.getPoint2WorldPosition()):(t.interactionState=Zx.OUTSIDE,e.setRepresentationState(Zx.OUTSIDE)),t.interactionState},e.setRepresentationState=function(n){t.representationState!==n&&(t.representationState=n,e.modified(),n===Zx.OUTSIDE?(e.highlightPoint(0,0),e.highlightPoint(1,0),e.highlightLine(0)):n===Zx.ONP1?(e.highlightPoint(0,1),e.highlightPoint(1,0),e.highlightLine(0)):n===Zx.ONP2?(e.highlightPoint(0,0),e.highlightPoint(1,1),e.highlightLine(0)):n===Zx.ONLINE?(e.highlightPoint(0,0),e.highlightPoint(1,0),e.highlightLine(1)):(e.highlightPoint(0,1),e.highlightPoint(1,1),e.highlightLine(1)))},e.sizeHandles=function(){},e.buildRepresentation=function(){var n,r;t.point1Representation.buildRepresentation(),t.point2Representation.buildRepresentation(),0===t.initializeDisplayPosition&&t.renderer&&(e.setPoint1WorldPosition(t.lineSource.getPoint1()),e.setPoint2WorldPosition(t.lineSource.getPoint2()),t.validPick=1,t.initializeDisplayPosition=1),t.point1Representation.setTolerance(t.tolerance),t.point2Representation.setTolerance(t.tolerance);var o=e.getPoint1WorldPosition();(n=t.lineSource).setPoint1.apply(n,y(o)),t.point1Representation.setWorldPosition(o);var i=e.getPoint2WorldPosition();(r=t.lineSource).setPoint2.apply(r,y(i)),t.point2Representation.setWorldPosition(i),e.sizeHandles(),e.modified()},e.highlightPoint=function(e,n){0===e?n?t.point1Representation.applyProperty(t.selectedEndPointProperty):t.point1Representation.applyProperty(t.endPointProperty):1===e&&(n?t.point2Representation.applyProperty(t.selectedEndPoint2Property):t.point2Representation.applyProperty(t.endPoint2Property))},e.highlightLine=function(e){e?t.lineActor.setProperty(t.selectedLineProperty):t.lineActor.setProperty(t.lineProperty)},e.setLineColor=function(){var e=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0];else for(var n=0;n<arguments.length;n++)e.push(n<0||arguments.length<=n?void 0:arguments[n]);3===e.length&&t.lineActor.getProperty()&&t.lineActor.getProperty().setColor(e[0],e[1],e[2])},e.clampPosition=function(e){for(var n=0;n<3;n++)e[n]<t.initialBounds[2*n]&&(e[n]=t.initialBounds[2*n]),e[n]>t.initialBounds[2*n+1]&&(e[n]=t.initialBounds[2*n+1])},e.getBounds=function(){return t.boundingBox.setBounds(t.lineActor.getBounds()),t.boundingBox.addBounds(t.point1Representation.getBounds()),t.boundingBox.addBounds(t.point2Representation.getBounds()),t.boundingBox.getBounds()},e.getActors=function(){var e=[];return e.push.apply(e,y(t.point1Representation.getActors())),e.push.apply(e,y(t.point2Representation.getActors())),e.push(t.lineActor),e},e.getNestedProps=function(){return e.getActors()}}var $x={point1Representation:null,point2Representation:null,lineSource:null,lineMapper:null,lineActor:null,endPointProperty:null,selectedEndPointProperty:null,endPoint2Property:null,selectedEndPoint2Property:null,lineProperty:null,selectedLineProperty:null,tolerance:5,placed:0,representationState:Zx.OUTSIDE,startP1:[0,0,0],startP2:[0,0,0],length:0,restrictFlag:0,initializeDisplayPosition:0,boundingBox:null};function Qx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$x,n),gx.extend(e,t,n),fe.get(e,t,["point1Representation","point2Representation","endPointProperty","selectedEndPointProperty","endPoint2Property","selectedEndPoint2Property","lineProperty","selectedLineProperty"]),e.setHandleSize(5),t.boundingBox=ou.newInstance(),t.point1Representation=Xx.newInstance(),t.point2Representation=Xx.newInstance();var r=10;t.point1Representation.setHandleSize(r),t.point2Representation.setHandleSize(r),t.lineSource=Dp.newInstance({point1:[-.5,0,0],point2:[.5,0,0],resolution:5}),t.lineSource.setResolution(5),t.lineMapper=Uv.newInstance(),t.lineMapper.setInputConnection(t.lineSource.getOutputPort()),t.lineActor=dv.newInstance(),t.lineActor.setMapper(t.lineMapper),t.endPointProperty=av.newInstance(),t.endPointProperty.setColor(1,1,1),t.selectedEndPointProperty=av.newInstance(),t.selectedEndPointProperty.setColor(0,1,0),t.endPoint2Property=av.newInstance(),t.endPoint2Property.setColor(1,1,1),t.selectedEndPoint2Property=av.newInstance(),t.selectedEndPoint2Property.setColor(0,1,0),t.lineProperty=av.newInstance(),t.lineProperty.setAmbient(1),t.lineProperty.setAmbientColor(1,1,1),t.lineProperty.setLineWidth(2),t.selectedLineProperty=av.newInstance(),t.selectedLineProperty.setAmbient(1),t.selectedLineProperty.setColor(0,1,0),t.selectedLineProperty.setLineWidth(2),t.point1Representation.applyProperty(t.endPointProperty),t.point2Representation.applyProperty(t.endPoint2Property),t.point1Representation.setWorldPosition(t.lineSource.getPoint1()),t.point2Representation.setWorldPosition(t.lineSource.getPoint2()),t.lineActor.setProperty(t.lineProperty),Jx(e,t)}var eC={newInstance:fe.newInstance(Qx,"vtkLineRepresentation"),extend:Qx};function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nC(e,t){t.classHierarchy.push("vtkDistanceRepresentation");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setRenderer=function(r){t.labelRepresentation.setRenderer(r),n.setRenderer(r),e.modified()},e.getContainer=function(){return t.labelRepresentation.getContainer()},e.setContainer=function(n){t.labelRepresentation.setContainer(n),e.modified()},e.getLabelStyle=function(){return t.labelRepresentation.getLabelStyle()},e.setLabelStyle=function(n){t.labelRepresentation.setLabelStyle(n),e.modified()},e.getActors=function(){var e=n.getActors();return[].concat(y(e),y(t.labelRepresentation.getActors()))},e.getDistance=function(){return Math.sqrt(st(e.getPoint1WorldPosition(),e.getPoint2WorldPosition())).toFixed(t.numberOfDecimals)},e.setPoint1WorldPosition=function(t){n.setPoint1WorldPosition(t),e.updateLabelRepresentation(),e.modified()},e.setPoint2WorldPosition=function(t){n.setPoint2WorldPosition(t),e.updateLabelRepresentation(),e.modified()},e.updateLabelRepresentation=function(){t.labelRepresentation.setLabelText(e.getDistance());for(var n=t.point1Representation.getWorldPosition(),r=t.point2Representation.getWorldPosition(),o=[],i=0;i<3;i++)o[i]=n[i]+(r[i]-n[i])*t.labelPositionInLine;t.labelRepresentation.setWorldPosition(o)}}var rC={labelStyle:{fontColor:"white",fontStyle:"normal",fontSize:"15",fontFamily:"Arial",strokeColor:"black",strokeSize:"1"},numberOfDecimals:2,labelPositionInLine:.5,container:null};function oC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rC,n),eC.extend(e,t,n),t.labelRepresentation=Mx.newInstance(),fe.setGet(e,t,["numberOfDecimals","labelPosition"]),fe.get(e,t,["labelRepresentation"]),nC(e,t)}var iC={newInstance:fe.newInstance(oC,"vtkDistanceRepresentation"),extend:oC},aC={WidgetState:{START:0,ACTIVE:1}};function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var uC=fe.VOID,cC=fe.EVENT_ABORT,lC=Cx.InteractionState,fC=aC.WidgetState;function dC(e,t){function n(){e.setCursor(t.widgetRep.getInteractionState()),t.widgetRep.highlight(1),e.invokeStartInteractionEvent(),e.render()}t.classHierarchy.push("vtkHandleWidget"),e.createDefaultRepresentation=function(){t.widgetRep||(t.widgetRep=Xx.newInstance())},e.handleMouseMove=function(t){return e.moveAction(t)},e.handleLeftButtonPress=function(t){return e.selectAction(t)},e.handleLeftButtonRelease=function(t){return e.endSelectAction(t)},e.handleMiddleButtonPress=function(t){return e.translateAction(t)},e.handleMiddleButtonRelease=function(t){return e.endSelectAction(t)},e.handleRightButtonPress=function(t){return e.scaleAction(t)},e.handleRightButtonRelease=function(t){return e.endSelectAction(t)},e.setCursor=function(e){switch(e){case lC.OUTSIDE:t.interactor.getView().setCursor("default");break;default:t.interactor.getView().setCursor("pointer")}},e.selectAction=function(e){var r=[e.position.x,e.position.y];return t.widgetRep.computeInteractionState(r),t.widgetRep.getInteractionState()===lC.OUTSIDE?uC:(t.widgetRep.startComplexWidgetInteraction(r),t.widgetState=fC.ACTIVE,t.widgetRep.setInteractionState(lC.SELECTING),n(),cC)},e.translateAction=function(e){var r=[e.position.x,e.position.y];return t.widgetRep.computeInteractionState(r),t.widgetRep.getInteractionState()===lC.OUTSIDE?uC:(t.widgetRep.startComplexWidgetInteraction(r),t.widgetState=fC.ACTIVE,t.widgetRep.setInteractionState(lC.TRANSLATING),n(),cC)},e.scaleAction=function(e){if(!t.allowHandleResize)return uC;var r=[e.position.x,e.position.y];return t.widgetRep.computeInteractionState(r),t.widgetRep.getInteractionState()===lC.OUTSIDE?uC:(t.widgetRep.startComplexWidgetInteraction(r),t.widgetState=fC.ACTIVE,t.widgetRep.setInteractionState(lC.SCALING),n(),cC)},e.endSelectAction=function(){return t.widgetState!==fC.ACTIVE?uC:(t.widgetState=fC.START,t.widgetRep.highlight(0),e.invokeEndInteractionEvent(),e.render(),cC)},e.moveAction=function(n){var r=[n.position.x,n.position.y],o=t.widgetRep.getInteractionState();return t.widgetState===fC.START?(t.widgetRep.computeInteractionState(r),o=t.widgetRep.getInteractionState(),e.setCursor(o),t.widgetRep.getActiveRepresentation()&&o!==t.widgetRep.getInteractionState()&&e.render(),o===lC.OUTSIDE?uC:cC):e.isDragable()?(e.setCursor(o),t.widgetRep.complexWidgetInteraction(r),e.invokeInteractionEvent(),e.render(),cC):uC}}var pC={allowHandleResize:1,widgetState:fC.START};function hC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pC,n),qw.extend(e,t,n),fe.setGet(e,t,["allowHandleResize"]),dC(e,t)}var mC=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(hC,"vtkHandleWidget"),extend:hC},aC);function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vC=fe.VOID;function yC(e,t){t.classHierarchy.push("vtkLabelWidget");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.createDefaultRepresentation=function(){t.widgetRep||(t.widgetRep=Mx.newInstance())},e.setEnabled=function(e){if(!e&&t.widgetRep&&t.widgetRep.setContainer(null),n.setEnabled(e),e){var r=t.interactor?t.interactor.getContainer():null;t.widgetRep.setContainer(r)}},e.scaleAction=function(e){return vC}}var bC={};function wC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bC,n),mC.extend(e,t,n),yC(e,t)}var xC={newInstance:fe.newInstance(wC,"vtkLabelWidget"),extend:wC};function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var SC=0,AC=2,_C=3,PC=$w.InteractionState;function OC(e,t){t.classHierarchy.push("vtkLineWidget");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setCursor=function(e){switch(e){case Nx.OUTSIDE:t.interactor.getView().setCursor("default");break;default:t.interactor.getView().setCursor("pointer")}},e.setCurrentHandle=function(e){t.currentHandle=e},e.setInteractor=function(r){n.setInteractor(r),t.point1Widget.setInteractor(t.interactor),t.point2Widget.setInteractor(t.interactor),e.modified()},e.setEnabled=function(e){n.setEnabled(e),t.widgetRep&&(t.point1Widget.setWidgetRep(t.widgetRep.getPoint1Representation()),t.point2Widget.setWidgetRep(t.widgetRep.getPoint2Representation()),t.widgetState===SC?(t.point1Widget.setEnabled(0),t.point2Widget.setEnabled(0),t.widgetRep.setLineVisibility(0),t.widgetRep.setPoint1Visibility(1),t.widgetRep.setPoint2Visibility(0)):(t.point1Widget.setEnabled(e),t.point2Widget.setEnabled(e),t.widgetRep.setLineVisibility(1),t.widgetRep.setPoint1Visibility(1),t.widgetRep.setPoint2Visibility(1)))},e.setProcessEvents=function(e){n.setProcessEvents(e),t.point1Widget.setProcessEvents(e),t.point2Widget.setProcessEvents(e)},e.setWidgetStateToStart=function(){t.widgetState=SC,e.setCurrentHandle(0),e.setEnabled(t.enabled)},e.setWidgetStateToManipulate=function(){t.widgetState=AC,e.setCurrentHandle(-1),e.setEnabled(t.enabled)},e.handleMouseMove=function(t){return e.moveAction(t)},e.handleLeftButtonPress=function(t){return e.selectAction(t)},e.handleLeftButtonRelease=function(t){return e.endSelectAction(t)},e.handleMiddleButtonPress=function(t){return e.translateAction(t)},e.handleMiddleButtonRelease=function(t){return e.endSelectAction(t)},e.handleRightButtonPress=function(t){return e.scaleAction(t)},e.handleRightButtonRelease=function(t){return e.endSelectAction(t)},e.selectAction=function(n){var r=[n.position.x,n.position.y];if(t.widgetState===SC){var o=t.point1Widget.getWidgetRep().displayToWorld(r,0);t.currentHandle<1?(t.widgetRep.setLineVisibility(1),t.widgetRep.setPoint1WorldPosition(o),o[0]+=1e-9,t.widgetRep.setPoint2WorldPosition(o),e.setCurrentHandle(t.currentHandle+1)):(t.widgetRep.setPoint2Visibility(1),t.widgetRep.setPoint2WorldPosition(o),t.widgetState=AC,e.setCurrentHandle(-1))}else{var i=t.widgetRep.computeInteractionState(r);if(i===PC.OUTSIDE)return;t.widgetState=_C,e.updateHandleWidgets(i),e.invokeStartInteractionEvent()}t.widgetRep.startComplexWidgetInteraction(r),e.render()},e.translateAction=function(n){var r=[n.position.x,n.position.y];t.widgetRep.computeInteractionState(r)!==PC.OUTSIDE&&(t.widgetState=_C,t.widgetRep.startComplexWidgetInteraction(r),e.invokeStartInteractionEvent())},e.scaleAction=function(n){var r=[n.position.x,n.position.y];t.widgetRep.computeInteractionState(r)!==PC.OUTSIDE&&(t.widgetState=_C,t.widgetRep.startComplexWidgetInteraction(r),e.invokeStartInteractionEvent())},e.moveAction=function(n){var r=[n.position.x,n.position.y],o=!1;if(t.widgetState===AC){var i=t.widgetRep.computeInteractionState(r);o=e.updateHandleWidgets(i)}else if(t.widgetState===SC){t.widgetRep.complexWidgetInteraction(r);var a=t.point1Widget.getWidgetRep().displayToWorld(r,0);0===t.currentHandle?t.widgetRep.setPoint1WorldPosition(a):t.widgetRep.setPoint2WorldPosition(a),o=!0}else t.widgetState===_C&&(t.widgetRep.setPoint1WorldPosition(t.point1Widget.getWidgetRep().getWorldPosition()),t.widgetRep.setPoint2WorldPosition(t.point2Widget.getWidgetRep().getWorldPosition()),o=!0);o&&(e.invokeInteractionEvent(),e.render())},e.endSelectAction=function(n){if(t.widgetState!==SC){var r=[n.position.x,n.position.y];t.widgetRep.complexWidgetInteraction(r),t.widgetRep.setPoint1WorldPosition(t.point1Widget.getWidgetRep().getWorldPosition()),t.widgetRep.setPoint2WorldPosition(t.point2Widget.getWidgetRep().getWorldPosition()),t.widgetState=AC,e.invokeEndInteractionEvent(),e.render()}},e.createDefaultRepresentation=function(){t.widgetRep||(t.widgetRep=eC.newInstance())},e.updateHandleWidgets=function(n){var r=!1;e.setCursor(n);var o=n===Nx.ONP1,i=n===Nx.ONP2;return o!==t.point1Widget.getEnabled()&&(t.point1Widget.setEnabled(o),r=!0),i!==t.point2Widget.getEnabled()&&(t.point2Widget.setEnabled(i),r=!0),r}}var EC={widgetState:SC,currentHandle:0,point1Widget:null,point2Widget:null};function TC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,EC,n),qw.extend(e,t,n),t.point1Widget=mC.newInstance(),t.point1Widget.setParent(e),t.point1Widget.createDefaultRepresentation(),t.point2Widget=mC.newInstance(),t.point2Widget.setParent(e),t.point2Widget.createDefaultRepresentation(),OC(e,t)}var DC={newInstance:fe.newInstance(TC,"vtkLineWidget"),extend:TC};function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kC(e,t){t.classHierarchy.push("vtkDistanceWidget");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setInteractor=function(r){n.setInteractor(r),t.labelWidget.setInteractor(t.interactor),e.modified()},e.setEnabled=function(r){n.setEnabled(r),t.labelWidget.setEnabled(e.computeLabelWidgetVisibility())},e.createDefaultRepresentation=function(){t.widgetRep||e.setWidgetRep(iC.newInstance())},e.setWidgetRep=function(e){n.setWidgetRep(e),t.widgetRep&&t.labelWidget.setWidgetRep(t.widgetRep.getLabelRepresentation())},e.computeLabelWidgetVisibility=function(){return 0!==t.currentHandle&&t.enabled},e.setCurrentHandle=function(r){n.setCurrentHandle(r),t.labelWidget.setEnabled(e.computeLabelWidgetVisibility())}}var MC={};function NC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MC,n),DC.extend(e,t,n),t.labelWidget=xC.newInstance(),t.labelWidget.setProcessEvents(!1),kC(e,t)}var RC={newInstance:fe.newInstance(NC,"vtkDistanceWidget"),extend:NC},BC=26,LC=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7];function FC(e){for(var t=0;t<6;t+=2)if(e[t]>e[t+1]){var n=e[t+1];e[t+1]=e[t],e[t]=n}}function jC(e,t){t.classHierarchy.push("vtkImageCroppingRegionsRepresentation"),t.placeFactor=1,t.picker=Gx.newInstance(),t.picker.setPickFromList(1),t.picker.initializePickList(),t.handles=Array(BC).fill(null).map((function(){var e=Jp.newInstance(),n=Uv.newInstance(),r=dv.newInstance();return n.setInputConnection(e.getOutputPort()),r.setMapper(n),t.picker.addPickList(r),{source:e,mapper:n,actor:r}})),t.outline={polydata:Vc.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance()},t.outline.polydata.getPoints().setData(new Float32Array(24),3),t.outline.polydata.getLines().setData(Uint16Array.from(LC)),t.outline.mapper.setInputData(t.outline.polydata),t.outline.actor.setMapper(t.outline.mapper),e.getActors=function(){for(var e=[t.outline.actor],n=0;n<t.handlePositions.length;++n)t.handlePositions[n]&&e.push(t.handles[n].actor);return e},e.getNestedProps=function(){return e.getActors()},e.getMapper=function(){return t.outline.mapper},e.getEventIntersection=function(e){var n=e.position,r=n.x,o=n.y,i=n.z;t.picker.pick([r,o,i],e.pokedRenderer);var a=t.picker.getActors();if(a.length){var s=0;if(a.length>1){var u=t.picker.getPickedPositions().map((function(t){return st(e.pokedRenderer.getActiveCamera().getPosition(),t)})),c=1/0;u.forEach((function(e,t){c>e&&(s=t,c=e)}))}var l=a[s];return t.handles.findIndex((function(e){return e.actor===l}))}return-1},e.placeWidget=function(){for(var n=[],r=0;r<arguments.length;r++)n.push(r<0||arguments.length<=r?void 0:arguments[r]);if(6===n.length){FC(n);var o=[],i=[];e.adjustBounds(n,o,i);for(var a=0;a<6;a++)t.initialBounds[a]=o[a];t.initialLength=Math.sqrt((o[1]-o[0])*(o[1]-o[0])+(o[3]-o[2])*(o[3]-o[2])+(o[5]-o[4])*(o[5]-o[4])),e.modified()}},e.updateGeometry=function(){for(var e,n=t.outline.polydata.getPoints().getData(),r=0;r<t.handles.length;++r)if(t.handlePositions[r]){var o=t.handles[r],i=o.actor,a=o.source;a.setRadius(t.handleSizes[r]),a.setCenter(t.handlePositions[r]),t.activeHandleIndex===r?i.getProperty().setColor(0,1,0):i.getProperty().setColor(1,1,1)}for(var s=0;s<t.bboxCorners.length;++s)n.set(t.bboxCorners[s],3*s);(e=t.outline.actor.getProperty()).setEdgeColor.apply(e,y(t.edgeColor)),t.outline.polydata.getPoints().modified(),t.outline.polydata.modified()},e.getBounds=function(){return t.initialBounds},e.buildRepresentation=function(){t.renderer&&(t.placed||(t.validPick=1,t.placed=1),e.updateGeometry())},e.setProperty=function(e){t.actor.setProperty(e)},e.onModified(e.updateGeometry)}var VC={activeHandleIndex:-1,handlePositions:Array(BC).fill(null),handleSizes:Array(BC).fill(0),bboxCorners:Array(8).fill([0,0,0]),edgeColor:[1,1,1]};function UC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VC,n),gx.extend(e,t,n),fe.setGet(e,t,["activeHandleIndex"]),fe.setGetArray(e,t,["edgeColor"],3),fe.setGetArray(e,t,["handlePositions"],BC),fe.setGetArray(e,t,["handleSizes"],BC),fe.setGetArray(e,t,["bboxCorners"],8),jC(e,t)}var zC={newInstance:fe.newInstance(UC,"vtkImageCroppingRegionsRepresentation"),extend:UC};function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HC=fe.vtkErrorMacro,qC=fe.VOID,KC=fe.EVENT_ABORT,XC={IDLE:0,CROPPING:1},YC=["CroppingPlanesChanged"],ZC=[[0,0],[0,1],[1,0],[1,1]];function JC(e,t){t.classHierarchy.push("vtkImageCroppingRegionsWidget");var n=null;t.indexToWorld=Di(new Float64Array(16)),t.worldToIndex=Di(new Float64Array(16));var r=null;function o(e){var n=[];return ii(n,e,t.worldToIndex),n}function i(e){var n=[];return ii(n,e,t.indexToWorld),n}t.widgetState={activeHandleIndex:-1,planes:Array(6).fill(0),controlState:XC.IDLE},e.createDefaultRepresentation=function(){t.widgetRep||(t.widgetRep=zC.newInstance(),e.updateRepresentation())},e.getWidgetState=function(){return WC({},t.widgetState)},e.updateWidgetState=function(n){if(Object.keys(n).reduce((function(e,r){return e||t.widgetState[r]!==n[r]}),!1)){var o=t.widgetState;t.widgetState=WC(WC({},o),n),function(e,t){if(e.length===t.length){for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}return!1}(o.planes,t.widgetState.planes)||(r=null,e.invokeCroppingPlanesChanged(t.widgetState.planes)),e.updateRepresentation(),e.modified()}},e.setVolumeMapper=function(n){n!==t.volumeMapper&&(t.volumeMapper=n,e.resetWidgetState(),t.enabled&&e.updateRepresentation())},e.planesToHandles=function(e){if(!t.volumeMapper||!t.volumeMapper.getInputData())return null;if(r)return r;var n=Array(26).fill(null);if(t.faceHandlesEnabled)for(var o=function(t){var r=[0,0,0].map((function(n,r){return r===Math.floor(t/2)?e[t]:(e[2*r]+e[2*r+1])/2}));n[t]=[r[0],r[1],r[2]]},a=0;a<6;++a)o(a);if(t.edgeHandlesEnabled)for(var s=0;s<12;++s){for(var u=Math.floor(s/4),c=ZC[s%4].slice(),l=[],f=0;f<3;++f)f!==u&&l.push(e[2*f+c.shift()]);l.splice(u,0,(e[2*u]+e[2*u+1])/2),n[s+6]=[l[0],l[1],l[2]]}if(t.cornerHandlesEnabled)for(var d=0;d<8;++d)n[d+18]=[e[0+(d>>2&1)],e[2+(d>>1&1)],e[4+(d>>0&1)]];for(var p=0;p<n.length;++p)n[p]&&(n[p]=i(n[p]));return r=n,n},e.planesToBBoxCorners=function(e){return t.volumeMapper&&t.volumeMapper.getInputData()?[[e[0],e[2],e[4]],[e[0],e[2],e[5]],[e[0],e[3],e[4]],[e[0],e[3],e[5]],[e[1],e[2],e[4]],[e[1],e[2],e[5]],[e[1],e[3],e[4]],[e[1],e[3],e[5]]].map((function(e){return i(e)})):null},e.resetWidgetState=function(){if(t.volumeMapper)if(t.volumeMapper.getInputData()){var n=t.volumeMapper.getInputData();t.indexToWorld=n.getIndexToWorld(),t.worldToIndex=n.getWorldToIndex();var r=n.getExtent();e.setCroppingPlanes.apply(e,y(r))}else HC("Volume mapper has no input data");else HC("Volume mapper must be set to update representation")},e.setEnabled=fe.chain(e.setEnabled,(function(t){if(n&&n.unsubscribe(),t){var r=e.getInteractor().getCurrentRenderer().getActiveCamera();n=r.onModified(e.updateRepresentation),e.updateRepresentation()}})),e.setFaceHandlesEnabled=function(n){t.faceHandlesEnabled!==n&&(t.faceHandlesEnabled=n,e.updateRepresentation(),e.modified())},e.setEdgeHandlesEnabled=function(n){t.edgeHandlesEnabled!==n&&(t.edgeHandlesEnabled=n,e.updateRepresentation(),e.modified())},e.setCornerHandlesEnabled=function(n){t.cornerHandlesEnabled!==n&&(t.cornerHandlesEnabled=n,e.updateRepresentation(),e.modified())},e.setHandleSize=function(n){t.handleSize!==n&&(t.handleSize=n,e.updateRepresentation(),e.modified())},e.getCroppingPlanes=function(){return t.widgetState.planes.slice()},e.setCroppingPlanes=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.updateWidgetState({planes:n})},e.updateRepresentation=function(){if(t.widgetRep){var n,r=t.volumeMapper.getBounds();(n=t.widgetRep).placeWidget.apply(n,y(r));var o=t.widgetState,i=o.activeHandleIndex,a=o.planes,s=e.planesToBBoxCorners(a),u=e.planesToHandles(a),c=u.map((function(n){return n?e.adjustHandleSize(n,t.handleSize):t.handleSize}));t.widgetRep.set({activeHandleIndex:i,handlePositions:u,bboxCorners:s,handleSizes:c}),e.render()}},e.adjustHandleSize=function(t,n){var r=e.getInteractor();if(!r&&!r.getCurrentRenderer())return null;var o=r.getCurrentRenderer();if(!o.getActiveCamera())return null;for(var i=e.computeWorldToDisplay(o,t[0],t[1],t[2]),a=e.computeDisplayToWorld(o,i[0]-n/2,i[1]-n/2,i[2]),s=e.computeDisplayToWorld(o,i[0]+n/2,i[1]+n/2,i[2]),u=0,c=0;c<3;c++)u+=(s[c]-a[c])*(s[c]-a[c]);return Math.sqrt(u)/2},e.displayToPlane=function(t,n,r){for(var o=e.getInteractor().getView(),i=e.getInteractor().getCurrentRenderer(),a=i.getActiveCamera(),s=a.getFocalPoint(),u=a.getPosition(),c=o.worldToDisplay.apply(o,y(s).concat([i])),l=o.displayToWorld(t[0],t[1],c[2],i),f=[0,0,0],d=0;d<3;++d)f[d]=l[d]-u[d];var p=a.getDirectionOfProjection();nt(p);var h=$e(p,f),m=a.getClippingRange(),g=[0,0,0],v=[0,0,0];if(a.getParallelProjection())for(var b=m[0]-h,w=m[1]-h,x=0;x<3;x++)g[x]=l[x]+b*p[x],v[x]=l[x]+w*p[x];else for(var C=m[0]/h,S=m[1]/h,A=0;A<3;A++)g[A]=u[A]+C*f[A],v[A]=u[A]+S*f[A];var _=dr.intersectWithLine(g,v,n,r);return _.intersection?_.x:null},e.handleLeftButtonPress=function(t){return e.pressAction(t)},e.handleLeftButtonRelease=function(t){return e.endMoveAction(t)},e.handleMiddleButtonPress=function(t){return e.pressAction(t)},e.handleMiddleButtonRelease=function(t){return e.endMoveAction(t)},e.handleRightButtonPress=function(t){return e.pressAction(t)},e.handleRightButtonRelease=function(t){return e.endMoveAction(t)},e.handleMouseMove=function(t){return e.moveAction(t)},e.pressAction=function(n){if(t.widgetState.controlState===XC.IDLE){var r=t.widgetRep.getEventIntersection(n);if(r>-1)return t.activeHandleIndex=r,e.updateWidgetState({activeHandleIndex:r,controlState:XC.CROPPING}),KC}return qC},e.moveAction=function(n){var r=t.widgetState,i=r.controlState,a=r.planes,s=r.activeHandleIndex;if(i===XC.IDLE||-1===s)return qC;var u=e.planesToHandles(a),c=[n.position.x,n.position.y],l=u[s],f=e.getInteractor().getCurrentRenderer().getActiveCamera().getDirectionOfProjection(),d=e.displayToPlane(c,l,f);if(!d)return KC;var p=a.slice();if(s<6){var h=Math.floor(s/2),m=3*h,g=t.volumeMapper.getInputData().getDirection().slice(m,m+3),v=[0,0,0],b=[0,0,0],w=[0,0,0];Ke(d,l,b),ot(b,g,w),qe(l,w,v);var x=o(v);p[s]=x[h]}else if(s<18){var C=s-6,S=Math.floor(C/4),A=3*S,_=t.volumeMapper.getInputData().getDirection().slice(A,A+3),P=[0,0,0],O=[0,0,0],E=[0,0,0];Ke(d,l,O),dr.projectVector(O,_,E),qe(l,E,P);for(var T=o(P),D=ZC[C%4].slice(),I=[],k=0;k<3;++k)k!==S&&I.push(2*k+D.shift());I.forEach((function(e){p[e]=T[Math.floor(e/2)]}))}else{var M=s-18,N=o(d);[0+(M>>2&1),2+(M>>1&1),4+(M>>0&1)].forEach((function(e){p[e]=N[Math.floor(e/2)]}))}return e.setCroppingPlanes.apply(e,y(p)),KC},e.endMoveAction=function(){t.widgetState.activeHandleIndex>-1&&e.updateWidgetState({activeHandleIndex:-1,controlState:XC.IDLE})}}var $C={handleSize:5,faceHandlesEnabled:!1,edgeHandlesEnabled:!1,cornerHandlesEnabled:!0};function QC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$C,n),qw.extend(e,t,$C,n),YC.forEach((function(n){return fe.event(e,t,n)})),fe.get(e,t,["volumeMapper","handleSize","faceHandlesEnabled","edgeHandlesEnabled","cornerHandlesEnabled"]),JC(e,t)}var eS={newInstance:fe.newInstance(QC,"vtkImageCroppingRegionsWidget"),extend:QC},tS=fe.vtkDebugMacro;function nS(e,t){t.classHierarchy.push("vtkCamera");var n=new Float64Array(3),r=new Float64Array([0,0,-1]),o=new Float64Array([0,1,0]),i=Di(new Float64Array(16)),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3),c=Di(new Float64Array(16)),l=Di(new Float64Array(16)),f=new Float64Array(3),d=new Float64Array(3);function p(){t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]}e.orthogonalizeViewUp=function(){var n=e.getViewMatrix();t.viewUp[0]=n[4],t.viewUp[1]=n[5],t.viewUp[2]=n[6],e.modified()},e.setPosition=function(n,r,o){n===t.position[0]&&r===t.position[1]&&o===t.position[2]||(t.position[0]=n,t.position[1]=r,t.position[2]=o,e.computeDistance(),e.modified())},e.setFocalPoint=function(n,r,o){n===t.focalPoint[0]&&r===t.focalPoint[1]&&o===t.focalPoint[2]||(t.focalPoint[0]=n,t.focalPoint[1]=r,t.focalPoint[2]=o,e.computeDistance(),e.modified())},e.setDistance=function(n){if(t.distance!==n){t.distance=n,t.distance<1e-20&&(t.distance=1e-20,tS("Distance is set to minimum."));var r=t.directionOfProjection;t.focalPoint[0]=t.position[0]+r[0]*t.distance,t.focalPoint[1]=t.position[1]+r[1]*t.distance,t.focalPoint[2]=t.position[2]+r[2]*t.distance,e.modified()}},e.computeDistance=function(){var e=t.focalPoint[0]-t.position[0],n=t.focalPoint[1]-t.position[1],r=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(e*e+n*n+r*r),t.distance<1e-20){t.distance=1e-20,tS("Distance is set to minimum.");var o=t.directionOfProjection;t.focalPoint[0]=t.position[0]+o[0]*t.distance,t.focalPoint[1]=t.position[1]+o[1]*t.distance,t.focalPoint[2]=t.position[2]+o[2]*t.distance}t.directionOfProjection[0]=e/t.distance,t.directionOfProjection[1]=n/t.distance,t.directionOfProjection[2]=r/t.distance,p()},e.dolly=function(n){if(!(n<=0)){var r=t.distance/n;e.setPosition(t.focalPoint[0]-r*t.directionOfProjection[0],t.focalPoint[1]-r*t.directionOfProjection[1],t.focalPoint[2]-r*t.directionOfProjection[2])}},e.roll=function(n){var r=t.position,o=t.focalPoint,i=t.viewUp,a=new Float64Array([i[0],i[1],i[2],0]);Di(c);var s=new Float64Array([o[0]-r[0],o[1]-r[1],o[2]-r[2]]);Fi(c,c,_e(n),s),jh(a,a,c),t.viewUp[0]=a[0],t.viewUp[1]=a[1],t.viewUp[2]=a[2],e.modified()},e.azimuth=function(n){var r=t.focalPoint;Di(l),Bi(l,l,r),Fi(l,l,_e(n),t.viewUp),Bi(l,l,[-r[0],-r[1],-r[2]]),ii(f,t.position,l),e.setPosition(f[0],f[1],f[2])},e.yaw=function(n){var r=t.position;Di(l),Bi(l,l,r),Fi(l,l,_e(n),t.viewUp),Bi(l,l,[-r[0],-r[1],-r[2]]),ii(d,t.focalPoint,l),e.setFocalPoint(d[0],d[1],d[2])},e.elevation=function(n){var r=t.focalPoint,o=e.getViewMatrix(),i=[-o[0],-o[1],-o[2]];Di(l),Bi(l,l,r),Fi(l,l,_e(n),i),Bi(l,l,[-r[0],-r[1],-r[2]]),ii(f,t.position,l),e.setPosition(f[0],f[1],f[2])},e.pitch=function(n){var r=t.position,o=e.getViewMatrix(),i=[o[0],o[1],o[2]];Di(l),Bi(l,l,r),Fi(l,l,_e(n),i),Bi(l,l,[-r[0],-r[1],-r[2]]),ii(d,t.focalPoint,l),e.setFocalPoint.apply(e,y(d))},e.zoom=function(n){n<=0||(t.parallelProjection?t.parallelScale/=n:t.viewAngle/=n,e.modified())},e.translate=function(n,r,o){var i=[n,r,o];qe(t.position,i,t.position),qe(t.focalPoint,i,t.focalPoint),e.computeDistance(),e.modified()},e.applyTransform=function(n){var r=[].concat(y(t.viewUp),[1]),o=[],i=[],a=[];r[0]+=t.position[0],r[1]+=t.position[1],r[2]+=t.position[2],jh(o,[].concat(y(t.position),[1]),n),jh(i,[].concat(y(t.focalPoint),[1]),n),jh(a,r,n),a[0]-=o[0],a[1]-=o[1],a[2]-=o[2],e.setPosition.apply(e,y(o.slice(0,3))),e.setFocalPoint.apply(e,y(i.slice(0,3))),e.setViewUp.apply(e,y(a.slice(0,3)))},e.getThickness=function(){return t.clippingRange[1]-t.clippingRange[0]},e.setThickness=function(n){var r=n;r<1e-20&&(r=1e-20,tS("Thickness is set to minimum.")),e.setClippingRange(t.clippingRange[0],t.clippingRange[0]+r)},e.setThicknessFromFocalPoint=function(n){var r=n;r<1e-20&&(r=1e-20,tS("Thickness is set to minimum.")),e.setClippingRange(t.distance-r/2,t.distance+r/2)},e.setRoll=function(e){},e.getRoll=function(){},e.setObliqueAngles=function(e,t){},e.getOrientation=function(){},e.getOrientationWXYZ=function(){},e.getFrustumPlanes=function(e){},e.getCameraLightTransformMatrix=function(){},e.deepCopy=function(e){},e.physicalOrientationToWorldDirection=function(e){var t,n,r=Vg(e[0],e[1],e[2],e[3]),o=Lg(),i=Vg(0,0,1,0);return n=r,(t=o)[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],jg(i,r,i),jg(i,i,o),[i[0],i[1],i[2]]},e.getPhysicalToWorldMatrix=function(t){e.getWorldToPhysicalMatrix(t),ki(t,t)},e.getWorldToPhysicalMatrix=function(e){Di(e);var n=[3];et(t.physicalViewNorth,t.physicalViewUp,n),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[4]=t.physicalViewUp[0],e[5]=t.physicalViewUp[1],e[6]=t.physicalViewUp[2],e[8]=-t.physicalViewNorth[0],e[9]=-t.physicalViewNorth[1],e[10]=-t.physicalViewNorth[2],Ii(e,e),Ro(a,1/t.physicalScale,1/t.physicalScale,1/t.physicalScale),Li(e,e,a),Bi(e,e,t.physicalTranslation)},e.computeViewParametersFromViewMatrix=function(c){ki(i,c),ii(a,n,i),e.computeDistance();var l=t.distance;e.setPosition(a[0],a[1],a[2]),ii(s,r,i),Lo(s,s,a),$o(s,s),e.setDirectionOfProjection(s[0],s[1],s[2]),ii(u,o,i),Lo(u,u,a),$o(u,u),e.setViewUp(u[0],u[1],u[2]),e.setDistance(l)},e.computeViewParametersFromPhysicalMatrix=function(t){e.getWorldToPhysicalMatrix(i),Ri(i,t,i),e.computeViewParametersFromViewMatrix(i)},e.setViewMatrix=function(n){t.viewMatrix=n,t.viewMatrix&&(Oi(i,t.viewMatrix),e.computeViewParametersFromViewMatrix(i),Ii(t.viewMatrix,t.viewMatrix))},e.getViewMatrix=function(){if(t.viewMatrix)return t.viewMatrix;aa(i,t.position,t.focalPoint,t.viewUp),Ii(i,i);var e=new Float64Array(16);return Oi(e,i),e},e.setProjectionMatrix=function(e){t.projectionMatrix=e},e.getProjectionMatrix=function(e,n,r){var o=new Float64Array(16);if(Di(o),t.projectionMatrix){var s=1/t.physicalScale;return Ro(a,s,s,s),Oi(o,t.projectionMatrix),Li(o,o,a),Ii(o,o),o}Di(i);var u=t.clippingRange[1]-t.clippingRange[0],c=[t.clippingRange[0]+(n+1)*u/2,t.clippingRange[0]+(r+1)*u/2];if(t.parallelProjection){var l=t.parallelScale*e,f=t.parallelScale,d=(t.windowCenter[0]-1)*l,p=(t.windowCenter[0]+1)*l,h=(t.windowCenter[1]-1)*f,m=(t.windowCenter[1]+1)*f;ia(i,d,p,h,m,c[0],c[1]),Ii(i,i)}else{if(t.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var g,v,y=Math.tan(_e(t.viewAngle)/2);!0===t.useHorizontalViewAngle?(g=t.clippingRange[0]*y,v=t.clippingRange[0]*y/e):(g=t.clippingRange[0]*y*e,v=t.clippingRange[0]*y);var b=(t.windowCenter[0]-1)*g,w=(t.windowCenter[0]+1)*g,x=(t.windowCenter[1]-1)*v,C=(t.windowCenter[1]+1)*v,S=c[0],A=c[1];i[0]=2*S/(w-b),i[5]=2*S/(C-x),i[2]=(b+w)/(w-b),i[6]=(x+C)/(C-x),i[10]=-(S+A)/(A-S),i[14]=-1,i[11]=-2*S*A/(A-S),i[15]=0}return Oi(o,i),o},e.getCompositeProjectionMatrix=function(t,n,r){var o=e.getViewMatrix(),i=e.getProjectionMatrix(t,n,r);return Ri(i,o,i),i},e.setDirectionOfProjection=function(e,n,r){if(t.directionOfProjection[0]!==e||t.directionOfProjection[1]!==n||t.directionOfProjection[2]!==r){t.directionOfProjection[0]=e,t.directionOfProjection[1]=n,t.directionOfProjection[2]=r;var o=t.directionOfProjection;t.focalPoint[0]=t.position[0]+o[0]*t.distance,t.focalPoint[1]=t.position[1]+o[1]*t.distance,t.focalPoint[2]=t.position[2]+o[2]*t.distance,p()}},e.setDeviceAngles=function(n,r,o,i){var a=[3];et(t.physicalViewNorth,t.physicalViewUp,a);var s=Di(new Float64Array(16));Fi(s,s,_e(n),t.physicalViewUp),Fi(s,s,_e(r),a),Fi(s,s,_e(o),t.physicalViewNorth),Fi(s,s,_e(-i),t.physicalViewUp);var u=new Float64Array([-t.physicalViewUp[0],-t.physicalViewUp[1],-t.physicalViewUp[2]]),c=new Float64Array(t.physicalViewNorth);ii(u,u,s),ii(c,c,s),e.setDirectionOfProjection(u[0],u[1],u[2]),e.setViewUp(c[0],c[1],c[2]),e.modified()},e.setOrientationWXYZ=function(t,n,r,o){var i=Di(new Float64Array(16));if(0!==t&&(0!==n||0!==r||0!==o)){var a=_e(t),s=Lg();Fg(s,[n,r,o],a),ta(i,s)}var u=new Float64Array(3);ii(u,[0,0,-1],i);var c=new Float64Array(3);ii(c,[0,1,0],i),e.setDirectionOfProjection.apply(e,y(u)),e.setViewUp.apply(e,y(c)),e.modified()},e.computeClippingRange=function(e){var n,r;n=t.viewPlaneNormal,r=t.position;for(var o=-n[0],i=-n[1],a=-n[2],s=-(o*r[0]+i*r[1]+a*r[2]),u=[o*e[0]+i*e[2]+a*e[4]+s,1e-18],c=0;c<2;c++)for(var l=0;l<2;l++)for(var f=0;f<2;f++){var d=o*e[f]+i*e[2+l]+a*e[4+c]+s;u[0]=d<u[0]?d:u[0],u[1]=d>u[1]?d:u[1]}return u}}var rS={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function oS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rS,n),fe.obj(e,t),fe.get(e,t,["distance"]),fe.setGet(e,t,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),fe.getArray(e,t,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),fe.setGetArray(e,t,["clippingRange","windowCenter"],2),fe.setGetArray(e,t,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),nS(e,t)}var iS={newInstance:fe.newInstance(oS,"vtkCamera"),extend:oS};function aS(e,t){t.classHierarchy.push("vtkLight"),e.getTransformedPosition=function(){return t.transformMatrix?[]:[].concat(t.position)},e.getTransformedFocalPoint=function(){return t.transformMatrix?[]:[].concat(t.focalPoint)},e.getDirection=function(){return t.directionMTime<t.mtime&&(t.direction[0]=t.focalPoint[0]-t.position[0],t.direction[1]=t.focalPoint[1]-t.position[1],t.direction[2]=t.focalPoint[2]-t.position[2],nt(t.direction),t.directionMTime=t.mtime),t.direction},e.setDirectionAngle=function(t,n){var r=_e(t),o=_e(n);e.setPosition(Math.cos(r)*Math.sin(o),Math.sin(r),Math.cos(r)*Math.cos(o)),e.setFocalPoint(0,0,0),e.setPositional(0)},e.setLightTypeToHeadLight=function(){e.setLightType("HeadLight")},e.setLightTypeToCameraLight=function(){e.setLightType("CameraLight")},e.setLightTypeToSceneLight=function(){e.setTransformMatrix(null),e.setLightType("SceneLight")},e.lightTypeIsHeadLight=function(){return"HeadLight"===t.lightType},e.lightTypeIsSceneLight=function(){return"SceneLight"===t.lightType},e.lightTypeIsCameraLight=function(){return"CameraLight"===t.lightType}}var sS={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function uS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sS,n),fe.obj(e,t),fe.setGet(e,t,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation"]),fe.setGetArray(e,t,["color","position","focalPoint","attenuationValues"],3),aS(e,t)}var cS={newInstance:fe.newInstance(uS,"vtkLight"),extend:uS,LIGHT_TYPES:["HeadLight","CameraLight","SceneLight"]},lS=fe.vtkErrorMacro;function fS(e,t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);var r=e.getNestedProps();if(r&&r.length)for(var o=0;o<r.length;o++)n(r[o],t);return t}t.classHierarchy.push("vtkViewport"),e.getViewProps=function(){return t.props},e.hasViewProp=function(e){return!!t.props.filter((function(t){return t===e})).length},e.addViewProp=function(n){n&&!e.hasViewProp(n)&&(t.props=t.props.concat(n))},e.removeViewProp=function(e){var n=t.props.filter((function(t){return t!==e}));t.props.length!==n.length&&(t.props=n)},e.removeAllViewProps=function(){t.props=[]},e.getViewPropsWithNestedProps=function(){for(var e=[],r=0;r<t.props.length;r++)n(t.props[r],e);return e},e.addActor2D=e.addViewProp,e.removeActor2D=function(t){e.removeViewProp(t)},e.getActors2D=function(){return t.actors2D=[],t.props.forEach((function(e){t.actors2D=t.actors2D.concat(e.getActors2D())})),t.actors2D},e.displayToView=function(){return lS("call displayToView on your view instead")},e.viewToDisplay=function(){return lS("callviewtodisplay on your view instead")},e.getSize=function(){return lS("call getSize on your View instead")},e.normalizedDisplayToProjection=function(t,n,r){var o=e.normalizedDisplayToNormalizedViewport(t,n,r);return e.normalizedViewportToProjection(o[0],o[1],o[2])},e.normalizedDisplayToNormalizedViewport=function(e,n,r){var o=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/o[0],(n-t.viewport[1])/o[1],r]},e.normalizedViewportToProjection=function(e,t,n){return[2*e-1,2*t-1,2*n-1]},e.projectionToNormalizedDisplay=function(t,n,r){var o=e.projectionToNormalizedViewport(t,n,r);return e.normalizedViewportToNormalizedDisplay(o[0],o[1],o[2])},e.normalizedViewportToNormalizedDisplay=function(e,n,r){var o=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[e*o[0]+t.viewport[0],n*o[1]+t.viewport[1],r]},e.projectionToNormalizedViewport=function(e,t,n){return[.5*(e+1),.5*(t+1),.5*(n+1)]},e.PickPropFrom=function(){return lS("vtkViewport::".concat("PickPropFrom"," - NOT IMPLEMENTED"))}}var dS={vtkWindow:null,background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function pS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dS,n),fe.obj(e,t),fe.event(e,t,"event"),fe.setGetArray(e,t,["viewport"],4),fe.setGetArray(e,t,["background","background2"],3),fS(e,t)}var hS={newInstance:fe.newInstance(pS,"vtkViewport"),extend:pS},mS=k,gS=M,vS=N;function yS(e){return function(){return gS("vtkRenderer::".concat(e," - NOT IMPLEMENTED"))}}function bS(e,t){for(t.classHierarchy.push("vtkRenderer"),t.background||(t.background=[0,0,0,1]);t.background.length<3;)t.background.push(0);3===t.background.length&&t.background.push(1);var n={type:"ComputeVisiblePropBoundsEvent",renderer:e},r={type:"ResetCameraClippingRangeEvent",renderer:e},o={type:"ResetCameraEvent",renderer:e};e.updateCamera=function(){return t.activeCamera||(mS("No cameras are on, creating one."),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0},e.updateLightsGeometryToFollowCamera=function(){var n=e.getActiveCameraAndResetIfCreated();t.lights.forEach((function(e){e.lightTypeIsSceneLight()||e.lightTypeIsCameraLight()||(e.lightTypeIsHeadLight()?(e.setPositionFrom(n.getPositionByReference()),e.setFocalPointFrom(n.getFocalPointByReference()),e.modified(n.getMTime())):gS("light has unknown light type",e.get()))}))},e.updateLightGeometry=function(){return!t.lightFollowCamera||e.updateLightsGeometryToFollowCamera()},e.allocateTime=yS("allocateTime"),e.updateGeometry=yS("updateGeometry"),e.getVTKWindow=function(){return t.renderWindow},e.setLayer=function(n){mS(e.getClassName(),e,"setting Layer to ",n),t.layer!==n&&(t.layer=n,e.modified()),e.setPreserveColorBuffer(!!n)},e.setActiveCamera=function(n){return t.activeCamera!==n&&(t.activeCamera=n,e.modified(),e.invokeEvent({type:"ActiveCameraEvent",camera:n}),!0)},e.makeCamera=function(){var t=iS.newInstance();return e.invokeEvent({type:"CreateCameraEvent",camera:t}),t},e.getActiveCamera=function(){return t.activeCamera||(t.activeCamera=e.makeCamera()),t.activeCamera},e.getActiveCameraAndResetIfCreated=function(){return t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera},e.getActors=function(){return t.actors=[],t.props.forEach((function(e){t.actors=t.actors.concat(e.getActors())})),t.actors},e.addActor=e.addViewProp,e.removeActor=function(n){t.actors=t.actors.filter((function(e){return e!==n})),e.removeViewProp(n),e.modified()},e.removeAllActors=function(){e.getActors().forEach((function(t){e.removeViewProp(t)})),t.actors=[],e.modified()},e.getVolumes=function(){return t.volumes=[],t.props.forEach((function(e){t.volumes=t.volumes.concat(e.getVolumes())})),t.volumes},e.addVolume=e.addViewProp,e.removeVolume=function(n){t.volumes=t.volumes.filter((function(e){return e!==n})),e.removeViewProp(n),e.modified()},e.removeAllVolumes=function(){e.getVolumes().forEach((function(t){e.removeViewProp(t)})),t.volumes=[],e.modified()},e.addLight=function(n){t.lights=[].concat(t.lights,n),e.modified()},e.removeLight=function(n){t.lights=t.lights.filter((function(e){return e!==n})),e.modified()},e.removeAllLights=function(){t.lights=[],e.modified()},e.setLightCollection=function(n){t.lights=n,e.modified()},e.makeLight=cS.newInstance,e.createLight=function(){t.automaticLightCreation&&(t.createdLight&&(e.removeLight(t.createdLight),t.createdLight.delete(),t.createdLight=null),t.createdLight=e.makeLight(),e.addLight(t.createdLight),t.createdLight.setLightTypeToHeadLight(),t.createdLight.setPosition(e.getActiveCamera().getPosition()),t.createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))},e.normalizedDisplayToWorld=function(t,n,r,o){var i=e.normalizedDisplayToProjection(t,n,r);return i=e.projectionToView(i[0],i[1],i[2],o),e.viewToWorld(i[0],i[1],i[2])},e.worldToNormalizedDisplay=function(t,n,r,o){var i=e.worldToView(t,n,r);return i=e.viewToProjection(i[0],i[1],i[2],o),e.projectionToNormalizedDisplay(i[0],i[1],i[2])},e.viewToWorld=function(e,n,r){if(null===t.activeCamera)return gS("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getViewMatrix();ki(o,o),Ii(o,o);var i=new Float64Array([e,n,r]);return ii(i,i,o),i},e.projectionToView=function(e,n,r,o){if(null===t.activeCamera)return gS("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var i=t.activeCamera.getProjectionMatrix(o,-1,1);ki(i,i),Ii(i,i);var a=new Float64Array([e,n,r]);return ii(a,a,i),a},e.worldToView=function(e,n,r){if(null===t.activeCamera)return gS("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getViewMatrix();Ii(o,o);var i=new Float64Array([e,n,r]);return ii(i,i,o),i},e.viewToProjection=function(e,n,r,o){if(null===t.activeCamera)return gS("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var i=t.activeCamera.getProjectionMatrix(o,-1,1);Ii(i,i);var a=new Float64Array([e,n,r]);return ii(a,a,i),a},e.computeVisiblePropBounds=function(){t.allBounds[0]=Xr.INIT_BOUNDS[0],t.allBounds[1]=Xr.INIT_BOUNDS[1],t.allBounds[2]=Xr.INIT_BOUNDS[2],t.allBounds[3]=Xr.INIT_BOUNDS[3],t.allBounds[4]=Xr.INIT_BOUNDS[4],t.allBounds[5]=Xr.INIT_BOUNDS[5];var r=!0;e.invokeEvent(n);for(var o=0;o<t.props.length;++o){var i=t.props[o];if(i.getVisibility()&&i.getUseBounds()){var a=i.getBounds();a&&tn(a)&&(r=!1,a[0]<t.allBounds[0]&&(t.allBounds[0]=a[0]),a[1]>t.allBounds[1]&&(t.allBounds[1]=a[1]),a[2]<t.allBounds[2]&&(t.allBounds[2]=a[2]),a[3]>t.allBounds[3]&&(t.allBounds[3]=a[3]),a[4]<t.allBounds[4]&&(t.allBounds[4]=a[4]),a[5]>t.allBounds[5]&&(t.allBounds[5]=a[5]))}}return r&&(en(t.allBounds),mS("Can't compute bounds, no 3D props are visible")),t.allBounds},e.resetCamera=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||e.computeVisiblePropBounds(),r=[0,0,0];if(!tn(n))return mS("Cannot reset camera!"),!1;var i=null;if(!e.getActiveCamera())return gS("Trying to reset non-existent camera"),!1;i=t.activeCamera.getViewPlaneNormal(),t.activeCamera.setViewAngle(30),r[0]=(n[0]+n[1])/2,r[1]=(n[2]+n[3])/2,r[2]=(n[4]+n[5])/2;var a=n[1]-n[0],s=n[3]-n[2],u=n[5]-n[4],c=(a*=a)+(s*=s)+(u*=u);c=0===c?1:c,c=.5*Math.sqrt(c);var l=_e(t.activeCamera.getViewAngle()),f=c,d=c/Math.sin(.5*l),p=t.activeCamera.getViewUp();return Math.abs($e(p,i))>.999&&(vS("Resetting view-up since view plane normal is parallel"),t.activeCamera.setViewUp(-p[2],p[0],p[1])),t.activeCamera.setFocalPoint(r[0],r[1],r[2]),t.activeCamera.setPosition(r[0]+d*i[0],r[1]+d*i[1],r[2]+d*i[2]),e.resetCameraClippingRange(n),t.activeCamera.setParallelScale(f),t.activeCamera.setPhysicalScale(c),t.activeCamera.setPhysicalTranslation(-r[0],-r[1],-r[2]),e.invokeEvent(o),!0},e.resetCameraClippingRange=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||e.computeVisiblePropBounds();if(!tn(n))return mS("Cannot reset camera clipping range!"),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return gS("Trying to reset clipping range of non-existent camera"),!1;var o=t.activeCamera.computeClippingRange(n),i=0;if(t.activeCamera.getParallelProjection())i=.1*t.activeCamera.getParallelScale();else{var a=_e(t.activeCamera.getViewAngle());i=.2*Math.tan(a/2)*o[1]}return o[1]-o[0]<i&&(i=i-o[1]+o[0],o[1]+=i/2,o[0]-=i/2),o[0]<0&&(o[0]=0),o[0]=.99*o[0]-(o[1]-o[0])*t.clippingRangeExpansion,o[1]=1.01*o[1]+(o[1]-o[0])*t.clippingRangeExpansion,o[0]=o[0]>=o[1]?.01*o[1]:o[0],t.nearClippingPlaneTolerance||(t.nearClippingPlaneTolerance=.01),o[0]<t.nearClippingPlaneTolerance*o[1]&&(o[0]=t.nearClippingPlaneTolerance*o[1]),t.activeCamera.setClippingRange(o[0],o[1]),e.invokeEvent(r),!1},e.setRenderWindow=function(e){e!==t.renderWindow&&(t.vtkWindow=e,t.renderWindow=e)},e.visibleActorCount=function(){return t.props.filter((function(e){return e.getVisibility()})).length},e.visibleVolumeCount=e.visibleActorCount,e.getMTime=function(){var e=t.mtime,n=t.activeCamera?t.activeCamera.getMTime():0;n>e&&(e=n);var r=t.createdLight?t.createdLight.getMTime():0;return r>e&&(e=r),e},e.getTransparent=function(){return!!t.preserveColorBuffer},e.isActiveCameraCreated=function(){return!!t.activeCamera}}var wS={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,createdLight:null,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:bn(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function xS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wS,n),hS.extend(e,t,n),H(e,t,["renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Y(e,t,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),Z(e,t,["actors","volumes","lights"]),$(e,t,["background"],4,1),bS(e,t)}var CS={newInstance:ne(xS,"vtkRenderer"),extend:xS},SS={Corners:{TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}};function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PS=fe.vtkErrorMacro,OS=SS.Corners;function ES(e,t){t.classHierarchy.push("vtkOrientationMarkerWidget");var n=_S({},e),r=[],o=CS.newInstance(),i=new ResizeObserver((function(t){1===t.length&&e.updateViewport()})),a=null,s=null;e.computeViewport=function(){var e=g(t.interactor.getView().getSize(),2),n=e[0],r=e[1],o=Math.min(n,r),i=t.viewportSize*o,a=(i=Math.max(Math.min(t.minPixelSize,o),Math.min(t.maxPixelSize,i)))/n,s=i/r;switch(t.viewportCorner){case OS.TOP_LEFT:return[0,1-s,a,1];case OS.TOP_RIGHT:return[1-a,1-s,1,1];case OS.BOTTOM_LEFT:return[0,0,a,s];case OS.BOTTOM_RIGHT:return[1-a,0,1,s];default:return PS("Invalid widget corner"),null}},e.updateViewport=function(){o.setViewport.apply(o,y(e.computeViewport())),t.interactor.render()},e.updateMarkerOrientation=function(){var e=t.interactor.findPokedRenderer().getActiveCamera();if(e){var n=e.getReferenceByName("position"),i=e.getReferenceByName("focalPoint"),a=e.getReferenceByName("viewUp");if(r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==i[0]||r[4]!==i[1]||r[5]!==i[2]||r[6]!==a[0]||r[7]!==a[1]||r[8]!==a[2]){r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=i[0],r[4]=i[1],r[5]=i[2],r[6]=a[0],r[7]=a[1],r[8]=a[2];var s=o.getActiveCamera();s.setPosition(n[0],n[1],n[2]),s.setFocalPoint(i[0],i[1],i[2]),s.setViewUp(a[0],a[1],a[2]),o.resetCamera()}}},e.setEnabled=function(n){if(n){if(t.enabled)return;if(!t.actor)return void PS("Must set actor before enabling orientation marker.");if(!t.interactor)return void PS("Must set interactor before enabling orientation marker.");var r=t.interactor.findPokedRenderer().getRenderWindow();r.addRenderer(o),r.getNumberOfLayers()<2&&r.setNumberOfLayers(2),o.setLayer(r.getNumberOfLayers()-1),o.setInteractive(!1),o.addViewProp(t.actor),t.actor.setVisibility(!0);var s=t.interactor.onAnimation(e.updateMarkerOrientation);a=s.unsubscribe,i.observe(t.interactor.getView().getCanvas()),e.updateViewport(),e.updateMarkerOrientation(),t.enabled=!0}else{if(!t.enabled)return;t.enabled=!1,i.disconnect(),a(),a=null,t.actor.setVisibility(!1),o.removeViewProp(t.actor);var u=t.interactor.findPokedRenderer().getRenderWindow();u&&u.removeRenderer(o)}e.modified()},e.setViewportCorner=function(n){n!==t.viewportCorner&&(t.viewportCorner=n,t.enabled&&e.updateViewport())},e.setViewportSize=function(n){var r=Math.min(1,Math.max(0,n));r!==t.viewportSize&&(t.viewportSize=r,t.enabled&&e.updateViewport())},e.setActor=function(n){var r=t.enabled;e.setEnabled(!1),t.actor=n,e.setEnabled(r)},e.getRenderer=function(){return o},e.delete=function(){n.delete(),s&&(s.unsubscribe(),s=null),a&&(a(),a=null),i.disconnect()},s=e.onModified(e.updateViewport)}var TS={viewportCorner:SS.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200};function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,TS,n),fe.obj(e,t),fe.get(e,t,["enabled","viewportCorner","viewportSize"]),fe.setGet(e,t,["interactor","minPixelSize","maxPixelSize"]),fe.get(e,t,["actor"]),ES(e,t)}var IS=_S({newInstance:fe.newInstance(DS,"vtkOrientationMarkerWidget"),extend:DS},SS),kS=0,MS=2;function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var RS=fe.vtkErrorMacro;function BS(e,t){t.classHierarchy.push("vtkResliceCursor");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);function r(e,t){return e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[2]&&e[1]<=t[3]&&e[2]>=t[4]&&e[2]<=t[5]||(e[0]=rn(e[0],t[0],t[1]),e[1]=rn(e[1],t[2],t[3]),e[2]=rn(e[2],t[4],t[5])),e}e.buildCursorTopology=function(){for(var e=0;e<3;++e){t.centerlinesAxis[e].getPoints().setNumberOfPoints(2);var n=new Float32Array(3),r=qn.newInstance({values:n});n[0]=2,n[1]=0,n[2]=1,t.centerlinesAxis[e].setLines(r)}},e.buildCursorGeometry=function(){e.computeAxes();for(var n=t.image.getBounds(),r=10*Math.sqrt((n[1]-n[0])*(n[1]-n[0])+(n[3]-n[2])*(n[3]-n[2])+(n[5]-n[4])*(n[5]-n[4])),o=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],i=0;i<3;i++)o[0][i]=t.center[i]-r*t.xAxis[i],o[1][i]=t.center[i]+r*t.xAxis[i],o[2][i]=t.center[i]-r*t.yAxis[i],o[3][i]=t.center[i]+r*t.yAxis[i],o[4][i]=t.center[i]-r*t.zAxis[i],o[5][i]=t.center[i]+r*t.zAxis[i];for(var a=0;a<3;a++){var s=t.centerlinesAxis[a].getPoints().getData();s[0]=o[2*a][0],s[1]=o[2*a][1],s[2]=o[2*a][2],s[3]=o[2*a+1][0],s[4]=o[2*a+1][1],s[5]=o[2*a+1][2],t.centerlinesAxis[a].modified()}t.polyDataBuildTime.modified()},e.computeAxes=function(){for(var n=[],r=0;r<3;++r)n[r]=e.getPlane(r).getNormal();et(n[0],n[1],t.zAxis),et(n[1],n[2],t.xAxis),et(n[2],n[0],t.yAxis),nt(t.xAxis),nt(t.yAxis),nt(t.zAxis)},e.reset=function(){t.xAxis=[1,0,0],t.yAxis=[0,1,0],t.zAxis=[0,0,1],t.xViewUp=[0,0,1],t.yViewUp=[0,0,1],t.zViewUp=[0,-1,0],e.getImage()?t.center=e.getImage().getCenter():t.center=[0,0,0];for(var n=0;n<3;++n)e.getPlane(n).setOrigin(t.center);t.reslicePlanes[0].setNormal([1,0,0]),t.reslicePlanes[1].setNormal([0,-1,0]),t.reslicePlanes[2].setNormal([0,0,1]),e.buildCursorTopology(),e.buildCursorGeometry()},e.getPlane=function(e){return t.reslicePlanes[e]},e.update=function(){e.getImage()?e.getMTime()>t.polyDataBuildTime.getMTime()&&(e.buildCursorTopology(),e.buildCursorGeometry()):RS("Image not set! ")},e.getPolyData=function(){return e.update(),t.polyData},e.setCenter=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kS;if((t.center[0]!==n[0]||t.center[1]!==n[1]||t.center[2]!==n[2])&&t.image){var i=t.image.getBounds(),a=y(n);if(o===kS&&(a[0]<i[0]||a[0]>i[1]||a[1]<i[2]||a[1]>i[3]||a[2]<i[4]||a[2]>i[5]))return;if(o===MS&&3!==(a=r(a,i)).length)return;t.center=a,e.getPlane(0).setOrigin(t.center),e.getPlane(1).setOrigin(t.center),e.getPlane(2).setOrigin(t.center),e.modified()}},e.getCenterlineAxisPolyData=function(n){return e.update(),t.centerlinesAxis[n]},e.getAxis=function(e){return 0===e?t.xAxis:1===e?t.yAxis:t.zAxis},e.getViewUp=function(e){return 0===e?t.xViewUp:1===e?t.yViewUp:t.zViewUp},e.getMTime=function(){for(var t=n.getMTime(),r=0;r<3;++r){var o=e.getPlane(r).getMTime();o>t&&(t=o)}return t}}var LS={image:null,center:[0,0,0],xAxis:[1,0,0],yAxis:[0,1,0],zAxis:[0,0,1],xViewUp:[0,0,1],yViewUp:[0,0,1],zViewUp:[0,-1,0]};function FS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LS,n),fe.obj(e,t),fe.setGet(e,t,["image"]),fe.setGetArray(e,t,["xAxis","yAxis","zAxis","xViewUp","yViewUp","zViewUp"],3),fe.getArray(e,t,["center"],3),t.reslicePlanes=[],t.centerlinesAxis=[],t.polyDataBuildTime={},fe.obj(t.polyDataBuildTime),BS(e,t);for(var r=0;r<3;++r)t.reslicePlanes.push(dr.newInstance()),t.centerlinesAxis.push(Vc.newInstance());t.reslicePlanes[0].setNormal([1,0,0]),t.reslicePlanes[1].setNormal([0,-1,0]),t.reslicePlanes[2].setNormal([0,0,-1]),e.buildCursorTopology()}var jS={newInstance:fe.newInstance(FS,"vtkResliceCursor"),extend:FS},VS=0,US=1,zS=2;function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WS(e,t){t.classHierarchy.push("vtkResliceCursorPolyDataAlgorithm");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setReslicePlaneNormalToXAxis=function(){e.setReslicePlaneNormal(VS)},e.setReslicePlaneNormalToYAxis=function(){e.setReslicePlaneNormal(US)},e.setReslicePlaneNormalToZAxis=function(){e.setReslicePlaneNormal(zS)},e.getCenterlineAxis1=function(){return e.getOutputData(0)},e.getCenterlineAxis2=function(){return e.getOutputData(1)},e.getAxis1=function(){return t.reslicePlaneNormal===zS?1:2},e.getAxis2=function(){return t.reslicePlaneNormal===VS?1:0},e.getPlaneAxis1=function(){return t.reslicePlaneNormal===VS?1:0},e.getPlaneAxis2=function(){return t.reslicePlaneNormal===zS?1:2},e.getOtherPlaneForAxis=function(e){for(var n=0;n<3;n++)if(n!==e&&n!==t.reslicePlaneNormal)return n;return-1},e.getMTime=function(){var e=n.getMTime();if(t.resliceCursor){var r=t.resliceCursor.getMTime();r>e&&(e=r)}return e},e.requestData=function(n,r){if(t.resliceCursor){var o=e.getAxis1();r[0]=t.resliceCursor.getCenterlineAxisPolyData(o);var i=e.getAxis2();r[1]=t.resliceCursor.getCenterlineAxisPolyData(i)}}}var HS={reslicePlaneNormal:VS};function qS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HS,n),t.resliceCursor=null,fe.obj(e,t),fe.algo(e,t,0,2),fe.setGet(e,t,["reslicePlaneNormal","resliceCursor"]),WS(e,t)}var KS={newInstance:fe.newInstance(qS,"vtkResliceCursorPolyDataAlgorithm"),extend:qS};function XS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YS(e,t){t.classHierarchy.push("vtkResliceCursorActor");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getActors=function(){return t.cursorAlgorithm.getResliceCursor()&&e.updateViewProps(),y(t.cursorCenterlineActor)},e.getNestedProps=function(){return e.getActors()},e.updateViewProps=function(){if(t.cursorAlgorithm.getResliceCursor()){t.cursorAlgorithm.update();var e=t.cursorAlgorithm.getReslicePlaneNormal(),n=t.cursorAlgorithm.getPlaneAxis1(),r=t.cursorAlgorithm.getPlaneAxis2();t.cursorCenterlineMapper[n].setInputData(t.cursorAlgorithm.getOutputData(0)),t.cursorCenterlineMapper[r].setInputData(t.cursorAlgorithm.getOutputData(1)),t.cursorCenterlineActor[n].setVisibility(t.visibility),t.cursorCenterlineActor[r].setVisibility(t.visibility),t.cursorCenterlineActor[e].setVisibility(0)}},e.getBounds=function(){en(t.bounds),e.updateViewProps();for(var n=y(Xr.INIT_BOUNDS),r=[],o=0;o<3;o++)t.cursorCenterlineActor[o].getVisibility()&&t.cursorCenterlineActor[o].getUseBounds()&&(r=t.cursorCenterlineActor[o].getBounds(),Xr.addBounds(n,r[0],r[1],r[2],r[3],r[4],r[5]));return t.bounds=n,t.bounds},e.getMTime=function(){var e=n.getMTime();if(t.cursorAlgorithm){var r=t.cursorAlgorithm.getMTime();r>e&&(e=r)}return e},e.getCenterlineProperty=function(e){return t.centerlineProperty[e]},e.getCenterlineActor=function(e){return t.cursorCenterlineActor[e]},e.setUserMatrix=function(e){t.cursorCenterlineActor[0].setUserMatrix(e),t.cursorCenterlineActor[1].setUserMatrix(e),t.cursorCenterlineActor[2].setUserMatrix(e),n.setUserMatrix(e)}}var ZS={};function JS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ZS,n),Yg.extend(e,t,n),t.cursorAlgorithm=KS.newInstance(),t.cursorCenterlineMapper=[],t.cursorCenterlineActor=[],t.centerlineProperty=[];for(var r=0;r<3;r++)t.cursorCenterlineMapper[r]=Uv.newInstance(),t.cursorCenterlineMapper[r].setScalarVisibility(!1),t.cursorCenterlineMapper[r].setResolveCoincidentTopologyToPolygonOffset(),t.cursorCenterlineMapper[r].setResolveCoincidentTopologyLineOffsetParameters(-1,-1),t.cursorCenterlineActor[r]=dv.newInstance(),t.cursorCenterlineActor[r].setMapper(t.cursorCenterlineMapper[r]),t.centerlineProperty[r]=av.newInstance(),t.cursorCenterlineActor[r].setProperty(t.centerlineProperty[r]);t.centerlineProperty[0].setColor(1,0,0),t.centerlineProperty[1].setColor(0,1,0),t.centerlineProperty[2].setColor(0,0,1),fe.get(e,t,["cursorAlgorithm"]),YS(e,t)}var $S={newInstance:fe.newInstance(JS,"vtkResliceCursorActor"),extend:JS},QS={SlicingMode:{NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5}};function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nA=Ov.staticOffsetAPI,rA=Ov.otherStaticMethods,oA=fe.vtkWarningMacro,iA=QS.SlicingMode;function aA(e,t){function n(){var n;switch(t.slicingMode){case iA.X:n=[1,0,0];break;case iA.Y:n=[0,1,0];break;case iA.Z:n=[0,0,1];break;default:return void(t.closestIJKAxis={ijkMode:t.slicingMode,flip:!1})}var r=[0,0,0],o=e.getInputData().getDirection();bt([[o[0],o[1],o[2]],[o[3],o[4],o[5]],[o[6],o[7],o[8]]],n,r);for(var i=0,a=-1,s=!1,u=0;u<r.length;++u){var c=Math.abs(r[u]);c>i&&(i=c,s=r[u]<0,a=u)}if(1!==i){var l="IJKXYZ"[t.slicingMode],f="IJKXYZ"[a];oA("Unaccurate slicing along ".concat(l," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(f," axis  as a fallback (").concat(i,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}t.closestIJKAxis={ijkMode:a,flip:s}}function r(n,r){var o=e.getInputData(),i=o.getExtent(),a=[i[0],i[2],i[4]],s=e.getClosestIJKAxis().ijkMode,u=t.slice;s!==t.slicingMode&&(u=e.getSliceAtPosition(u)),a[s]+=u;var c=[0,0,0];o.indexToWorld(a,c),a[s]+=1;var l=[0,0,0];o.indexToWorld(a,l),l[0]-=c[0],l[1]-=c[1],l[2]-=c[2],$o(l,l);var f=dr.intersectWithLine(n,r,c,l);if(f.intersection){var d=f.x,p=[0,0,0];return o.worldToIndex(d,p),{t:f.t,absoluteIJK:p}}return null}t.classHierarchy.push("vtkImageMapper"),e.getSliceAtPosition=function(n){var r,o=e.getInputData();if(3===n.length)r=n;else if(Number.isFinite(n)){var i=o.getBounds();switch(t.slicingMode){case iA.X:r=[n,(i[3]+i[2])/2,(i[5]+i[4])/2];break;case iA.Y:r=[(i[1]+i[0])/2,n,(i[5]+i[4])/2];break;case iA.Z:r=[(i[1]+i[0])/2,(i[3]+i[2])/2,n]}}var a=[0,0,0];o.worldToIndex(r,a);var s=o.getExtent(),u=0;switch(e.getClosestIJKAxis().ijkMode){case iA.I:u=rn(a[0],s[0],s[1]),u=Math.round(u);break;case iA.J:u=rn(a[1],s[2],s[3]),u=Math.round(u);break;case iA.K:u=rn(a[2],s[4],s[5]),u=Math.round(u);break;default:return 0}return u},e.setSliceFromCamera=function(n){var r=n.getFocalPoint();switch(t.slicingMode){case iA.I:case iA.J:case iA.K:var o=e.getSliceAtPosition(r);e.setSlice(o);break;case iA.X:e.setSlice(r[0]);break;case iA.Y:e.setSlice(r[1]);break;case iA.Z:e.setSlice(r[2])}},e.setXSlice=function(t){e.setSlicingMode(iA.X),e.setSlice(t)},e.setYSlice=function(t){e.setSlicingMode(iA.Y),e.setSlice(t)},e.setZSlice=function(t){e.setSlicingMode(iA.Z),e.setSlice(t)},e.setISlice=function(t){e.setSlicingMode(iA.I),e.setSlice(t)},e.setJSlice=function(t){e.setSlicingMode(iA.J),e.setSlice(t)},e.setKSlice=function(t){e.setSlicingMode(iA.K),e.setSlice(t)},e.getSlicingModeNormal=function(){var n=[0,0,0],r=e.getInputData().getDirection(),o=[[r[0],r[1],r[2]],[r[3],r[4],r[5]],[r[6],r[7],r[8]]];switch(t.slicingMode){case iA.X:n[0]=1;break;case iA.Y:n[1]=1;break;case iA.Z:n[2]=1;break;case iA.I:bt(o,[1,0,0],n);break;case iA.J:bt(o,[0,1,0],n);break;case iA.K:bt(o,[0,0,1],n)}return n},e.setSlicingMode=function(r){t.slicingMode!==r&&(t.slicingMode=r,e.getInputData()&&n(),e.modified())},e.getClosestIJKAxis=function(){return void 0!==t.closestIJKAxis&&t.closestIJKAxis.ijkMode!==iA.NONE||!e.getInputData()||n(),t.closestIJKAxis},e.getBounds=function(){var n=e.getInputData();if(!n)return bn();if(!t.useCustomExtents)return n.getBounds();var r=t.customDisplayExtent.slice(),o=e.getClosestIJKAxis().ijkMode,i=t.slice;switch(o!==t.slicingMode&&(i=e.getSliceAtPosition(t.slice)),o){case iA.I:r[0]=i,r[1]=i;break;case iA.J:r[2]=i,r[3]=i;break;case iA.K:r[4]=i,r[5]=i}return n.extentToBounds(r)},e.getBoundsForSlice=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.slice,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.getInputData();if(!o)return bn();var i=o.getExtent(),a=e.getClosestIJKAxis().ijkMode,s=n;switch(a!==t.slicingMode&&(s=e.getSliceAtPosition(n)),a){case iA.I:i[0]=s-r,i[1]=s+r;break;case iA.J:i[2]=s-r,i[3]=s+r;break;case iA.K:i[4]=s-r,i[5]=s+r}return o.extentToBounds(i)},e.getIsOpaque=function(){return!0},e.intersectWithLineForPointPicking=function(t,n){var o=r(t,n);if(o){var i=e.getInputData().getExtent(),a=[Math.round(o.absoluteIJK[0]),Math.round(o.absoluteIJK[1]),Math.round(o.absoluteIJK[2])];return a[0]<i[0]||a[0]>i[1]||a[1]<i[2]||a[1]>i[3]||a[2]<i[4]||a[2]>i[5]?null:{t:o.t,ijk:a}}return null},e.intersectWithLineForCellPicking=function(t,n){var o=r(t,n);if(o){var i=e.getInputData().getExtent(),a=o.absoluteIJK,s=[Math.floor(a[0]),Math.floor(a[1]),Math.floor(a[2])];if(s[0]<i[0]||s[0]>i[1]-1||s[1]<i[2]||s[1]>i[3]-1||s[2]<i[4]||s[2]>i[5]-1)return null;var u=[a[0]-s[0],a[1]-s[1],a[2]-s[2]];return{t:o.t,ijk:s,pCoords:u}}return null}}var sA={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:iA.NONE,closestIJKAxis:{ijkMode:iA.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function uA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sA,n),mv.extend(e,t,n),fe.get(e,t,["slicingMode"]),fe.setGet(e,t,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),fe.setGetArray(e,t,["customDisplayExtent"],4),Ov.implementCoincidentTopologyMethods(e,t),aA(e,t)}var cA=tA(tA(tA({newInstance:fe.newInstance(uA,"vtkImageMapper"),extend:uA},nA),rA),QS),lA={NEAREST:0,LINEAR:1},fA=lA,dA=fe.vtkErrorMacro;function pA(e,t){t.classHierarchy.push("vtkImageProperty"),e.getMTime=function(){for(var e,n=t.mtime,r=0;r<4;r++)t.componentData[r].rGBTransferFunction&&(n=n>(e=t.componentData[r].rGBTransferFunction.getMTime())?n:e),t.componentData[r].piecewiseFunction&&(n=n>(e=t.componentData[r].piecewiseFunction.getMTime())?n:e);return n},e.setRGBTransferFunction=function(n,r){var o=n,i=r;return Number.isInteger(n)||(i=n,o=0),t.componentData[o].rGBTransferFunction!==i&&(t.componentData[o].rGBTransferFunction=i,e.modified(),!0)},e.getRGBTransferFunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.componentData[e].rGBTransferFunction},e.setPiecewiseFunction=function(n,r){var o=n,i=r;return Number.isInteger(n)||(i=n,o=0),t.componentData[o].piecewiseFunction!==i&&(t.componentData[o].piecewiseFunction=i,e.modified(),!0)},e.getPiecewiseFunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.componentData[e].piecewiseFunction},e.setScalarOpacity=function(t,n){var r=t,o=n;return Number.isInteger(t)||(o=t,r=0),e.setPiecewiseFunction(r,o)},e.getScalarOpacity=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.getPiecewiseFunction(t)},e.setComponentWeight=function(n,r){if(n<0||n>=4)return dA("Invalid index"),!1;var o=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight!==o&&(t.componentData[n].componentWeight=o,e.modified(),!0)},e.getComponentWeight=function(e){return e<0||e>=4?(dA("Invalid index"),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(fA.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(fA.LINEAR)},e.getInterpolationTypeAsString=function(){return fe.enumToString(fA,t.interpolationType)}}var hA={independentComponents:!1,interpolationType:fA.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1};function mA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,hA,n),fe.obj(e,t),!t.componentData){t.componentData=[];for(var r=0;r<4;r++)t.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}fe.setGet(e,t,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity"]),pA(e,t)}var gA={newInstance:fe.newInstance(mA,"vtkImageProperty"),extend:mA},vA=fe.vtkDebugMacro;function yA(e,t){t.classHierarchy.push("vtkImageSlice"),e.getActors=function(){return e},e.getImages=function(){return e},e.getIsOpaque=function(){return!!t.forceOpaque||!t.forceTranslucent&&(t.property||e.getProperty(),t.property.getOpacity()>=1&&(!t.mapper||t.mapper.getIsOpaque()))},e.hasTranslucentPolygonalGeometry=function(){return!1},e.makeProperty=gA.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n,r=t.mapper.getBounds();if(!r||6!==r.length)return r;if(r[0]>r[1])return t.mapperBounds=r.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),r;if(!t.mapperBounds||!(n=[r,t.mapperBounds],n[0].map((function(e,t){return n.map((function(e){return e[t]}))}))).reduce((function(e,t){return e&&t[0]===t[1]}),!0)||e.getMTime()>t.boundsMTime.getMTime()){vA("Recomputing bounds..."),t.mapperBounds=r.map((function(e){return e}));var o=[];Xr.getCorners(r,o),e.computeMatrix();var i=new Float64Array(16);Ii(i,t.matrix),o.forEach((function(e){return ii(e,e,i)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2==0?o.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):o.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getBoundsForSlice=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.mapper.getBoundsForSlice(n,r);if(!o||6!==o.length)return o;if(o[0]>o[1])return o;var i=[];Xr.getCorners(o,i),e.computeMatrix();var a=new Float64Array(16);return Ii(a,t.matrix),i.forEach((function(e){return ii(e,e,a)})),[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE].map((function(e,t){return t%2==0?i.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):i.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)}))},e.getMinXBound=function(){return e.getBounds(),t.bounds[0]},e.getMaxXBound=function(){return e.getBounds(),t.bounds[1]},e.getMinYBound=function(){return e.getBounds(),t.bounds[2]},e.getMaxYBound=function(){return e.getBounds(),t.bounds[3]},e.getMinZBound=function(){return e.getBounds(),t.bounds[4]},e.getMaxZBound=function(){return e.getBounds(),t.bounds[5]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e,null!==t.property.getRGBTransferFunction()&&(e=(r=t.property.getRGBTransferFunction().getMTime())>e?r:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}var bA={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function wA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bA,n),Yg.extend(e,t,n),t.boundsMTime={},fe.obj(t.boundsMTime),fe.set(e,t,["property"]),fe.setGet(e,t,["mapper"]),fe.getArray(e,t,["bounds"],6),yA(e,t)}var xA={newInstance:fe.newInstance(wA,"vtkImageSlice"),extend:wA},CA={DEFAULT:0,GEOMETRY:1,SLICE:2,VOLUME:3,YZ_PLANE:4,XZ_PLANE:5,XY_PLANE:6},SA={PICKING_BUFFER:0,FRONT_BUFFER:1},AA={ViewTypes:CA,RenderingTypes:SA,CaptureOn:{MOUSE_MOVE:0,MOUSE_RELEASE:1}};function _A(e,t,n,r){var o=[];Ke(n,t,o),nt(o);var i=[];Ke(r,t,i),nt(i);var a=[0,0,1];et(o,i,a),nt(a);var s=dr.newInstance();s.setOrigin.apply(s,y(t)),s.setNormal.apply(s,a);var u=vp.newInstance();u.setBounds(e);var c=Tl.newInstance();c.setCutFunction(s),c.setInputConnection(u.getOutputPort());var l=c.getOutputData();if(0!==l.getNumberOfPoints())for(var f=Kr.computeLocalBounds(l.getPoints(),o,i,a),d=0;d<3;d+=1)t[d]=f[0]*o[d]+f[2]*i[d]+f[4]*a[d],n[d]=f[1]*o[d]+f[2]*i[d]+f[4]*a[d],r[d]=f[0]*o[d]+f[3]*i[d]+f[4]*a[d]}function PA(e,t,n){var r=y(e);return Es.buildFromRadian().rotate(n,t).apply(r),r}function OA(e,t,n,r,o){var i=[t[0]-r*n[0],t[1]-r*n[1],t[2]-r*n[2]],a=[t[0]+r*n[0],t[1]+r*n[1],t[2]+r*n[2]],s=[t[0]-o*n[0],t[1]-o*n[1],t[2]-o*n[2]],u=[t[0]+o*n[0],t[1]+o*n[1],t[2]+o*n[2]];e.setPoint1(i),e.setPoint2(a),e.setRotationPoint1(s),e.setRotationPoint2(u)}function EA(e){var t=e.getPlanes()[CA.YZ_PLANE].normal,n=e.getPlanes()[CA.XZ_PLANE].normal,r=e.getPlanes()[CA.XY_PLANE].normal,o=et(n,r,[]),i=et(r,t,[]),a=et(t,n,[]),s=e.getImage().getBounds(),u=e.getCenter(),c=.425,l=(s[1]-s[0])*c,f=(s[3]-s[2])*c,d=(s[5]-s[4])*c,p=10*Xr.getDiagonalLength(s);OA(e.getAxisXinY(),u,a,p,d),OA(e.getAxisYinX(),u,a,p,d),OA(e.getAxisYinZ(),u,o,p,l),OA(e.getAxisZinY(),u,o,p,l),OA(e.getAxisXinZ(),u,i,p,f),OA(e.getAxisZinX(),u,i,p,f)}function TA(e,t,n,r){e.setNormal(n);var o=ct(Ke(e.getPoint2(),e.getOrigin(),[]),r,n);e.rotate(o,n),e.setCenter(t)}function DA(e){switch(e){case"AxisXinY":return"AxisZinY";case"AxisXinZ":return"AxisYinZ";case"AxisYinX":return"AxisZinX";case"AxisYinZ":return"AxisXinZ";case"AxisZinX":return"AxisYinX";case"AxisZinY":return"AxisXinY";default:return""}}var IA=fe.vtkErrorMacro;function kA(e,t){t.classHierarchy.push("vtkResliceCursorRepresentation");var n={};fe.obj(n),e.getResliceCursor=function(){},e.getCursorAlgorithm=function(){},e.createDefaultResliceAlgorithm=function(){t.reslice||(t.reslice=Yh.newInstance(),t.reslice.setTransformInputSampling(!1),t.reslice.setAutoCropOutput(!0),t.reslice.setOutputDimensionality(2))},e.buildRepresentation=function(){if(e.getResliceCursor()){var r=e.getResliceCursor().getImage();if(r){t.reslice.setInputData(r),t.imageActor.setVisibility(t.showReslicedImage);var o=Math.max(e.getMTime(),e.getResliceCursor().getMTime());n.getMTime()<o&&e.updateReslicePlane()}else t.imageActor.setVisibility(!1)}},e.computeReslicePlaneOrigin=function(){for(var n=e.getResliceCursor(),r=n.getImage().getBounds(),o=n.getCenter(),i=n.getImage().getCenter(),a=[],s=0;s<3;s++)a[s]=-Math.abs(o[s]-i[s]),a[s]*=2;var u=e.getCursorAlgorithm().getReslicePlaneNormal();1===u?(t.planeSource.setOrigin(r[0]+a[0],o[1],r[4]+a[2]),t.planeSource.setPoint1(r[1]-a[0],o[1],r[4]+a[2]),t.planeSource.setPoint2(r[0]+a[0],o[1],r[5]-a[2])):2===u?(t.planeSource.setOrigin(r[0]+a[0],r[2]+a[1],o[2]),t.planeSource.setPoint1(r[1]-a[0],r[2]+a[1],o[2]),t.planeSource.setPoint2(r[0]+a[0],r[3]-a[1],o[2])):0===u&&(t.planeSource.setOrigin(o[0],r[2]+a[1],r[4]+a[2]),t.planeSource.setPoint1(o[0],r[3]-a[1],r[4]+a[2]),t.planeSource.setPoint2(o[0],r[2]+a[1],r[5]-a[2]))},e.resetCamera=function(){if(t.renderer){var n=e.getResliceCursor().getCenter();t.renderer.getActiveCamera().setFocalPoint(n[0],n[1],n[2]);var r=e.getCursorAlgorithm().getReslicePlaneNormal(),o=[];qe(n,e.getResliceCursor().getPlane(r).getNormal(),o),t.renderer.getActiveCamera().setPosition(o[0],o[1],o[2]),t.renderer.resetCamera(),t.renderer.resetCameraClippingRange()}},e.initializeReslicePlane=function(){e.getResliceCursor().getImage()&&(e.computeReslicePlaneOrigin(),e.resetCamera())},e.updateReslicePlane=function(){if(e.getResliceCursor().getImage()&&t.imageActor.getVisibility()){t.planeInitialized||(e.initializeReslicePlane(),t.planeInitialized=!0);var r=e.getResliceCursor().getImage().getSpacing(),o=e.getCursorAlgorithm().getReslicePlaneNormal(),i=e.getResliceCursor().getPlane(o);e.computeReslicePlaneOrigin();var a=e.getResliceCursor().getViewUp(o);TA(t.planeSource,e.getResliceCursor().getCenter(),i.getNormal(),a);var s=y(t.planeSource.getOrigin()),u=y(t.planeSource.getPoint1()),c=y(t.planeSource.getPoint2());_A(e.getResliceCursor().getImage().getBounds(),s,u,c),t.planeSource.setOrigin(s),t.planeSource.setPoint1(u[0],u[1],u[2]),t.planeSource.setPoint2(c[0],c[1],c[2]);var l=t.planeSource.getOrigin(),f=[];Ke(t.planeSource.getPoint1(),l,f);var d=[];Ke(t.planeSource.getPoint2(),l,d);var p=nt(f),h=nt(d),m=t.planeSource.getNormal();Di(t.newResliceAxes);for(var g=0;g<3;g++)t.newResliceAxes[4*g+0]=f[g],t.newResliceAxes[4*g+1]=d[g],t.newResliceAxes[4*g+2]=m[g];var v=Math.abs(f[0]*r[0])+Math.abs(f[1]*r[1])+Math.abs(f[2]*r[2]),b=Math.abs(d[0]*r[0])+Math.abs(d[1]*r[1])+Math.abs(d[2]*r[2]),w=[],x=[];jh(w,[].concat(y(t.planeSource.getOrigin()),[1]),t.newResliceAxes),Ii(t.newResliceAxes,t.newResliceAxes),jh(x,w,t.newResliceAxes),t.newResliceAxes[12]=x[0],t.newResliceAxes[13]=x[1],t.newResliceAxes[14]=x[2];var C=0,S=0,A=0===v?Number.MAX_SAFE_INTEGER:p/v,_=1073741823;if(A>_)IA("Invalid X extent: ",A),C=0;else for(C=1;C<A;)C<<=1;var P=0===b?Number.MAX_SAFE_INTEGER:h/b;if(P>_)IA("Invalid Y extent:",P),S=0;else for(S=1;S<P;)S<<=1;for(var O=0===C?1:p/C,E=0===S?1:h/S,T=!1,D=0;D<4;D++)for(var I=0;I<4;I++){var k=4*I+D,M=t.newResliceAxes[k];M!==t.resliceAxes[k]&&(t.resliceAxes[k]=M,T=!0)}T&&(e.setResliceParameters(O,E,C,S),e.modified()),n.modified(),e.resetCamera()}},e.setResliceParameters=function(e,n,r,o){t.reslice&&(t.reslice.setResliceAxes(t.resliceAxes),t.reslice.setOutputSpacing([e,n,1]),t.reslice.setOutputOrigin([.5*e,.5*n,0]),t.reslice.setOutputExtent([0,r-1,0,o-1,0,0]),t.imageActor.setUserMatrix(t.resliceAxes),t.reslice.update())},e.computeOrigin=function(t){var n=e.getResliceCursor().getCenter(),r=[];jh(r,n,t);for(var o=0;o<3;o++)t[12+o]=t[12+o]+n[o]-r[o]},e.getActors=function(){return t.imageActor},e.getNestedProps=function(){return e.getActors()},e.boundPoint=function(t,n,r,o){if(e.getResliceCursor()){for(var i=e.getResliceCursor().getImage().getBounds(),a=n.map((function(e){return Math.abs(e)})),s=r.map((function(e){return Math.abs(e)})),u=1e-5,c=0,l=0,f=0;f<3;f++){var d=0,p=a[f]>s[f],h=p?n:r,m=p?a:s;t[f]<i[2*f]?d=m[f]>u?(i[2*f]-t[f])/h[f]:0:t[f]>i[2*f+1]&&(d=m[f]!==u?(i[2*f+1]-t[f])/h[f]:0),p?Math.abs(d)>Math.abs(c)&&(c=d):Math.abs(d)>Math.abs(l)&&(l=d)}if(o[0]=t[0],o[1]=t[1],o[2]=t[2],0!==c){var g=[];g[0]=n[0]*c,g[1]=n[1]*c,g[2]=n[2]*c,qe(o,g,o)}if(0!==l){var v=[];v[0]=r[0]*l,v[1]=r[1]*l,v[2]=r[2]*l,qe(o,v,o)}}},e.getBounds=function(){return t.imageActor.getBounds()}}var MA={tolerance:5,showReslicedImage:!0};function NA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MA,n),gx.extend(e,t,n),t.reslice=null,t.planeSource=Rp.newInstance(),t.resliceAxes=Di(new Float64Array(16)),t.newResliceAxes=Di(new Float64Array(16)),t.imageActor=xA.newInstance(),t.imageMapper=cA.newInstance(),t.imageMapper.setResolveCoincidentTopologyToPolygonOffset(),t.imageMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(1,1),t.planeInitialized=!1,fe.setGet(e,t,["tolerance","planeSource","showReslicedImage"]),fe.get(e,t,["resliceAxes","reslice","imageActor"]),kA(e,t),e.createDefaultResliceAlgorithm(),t.imageMapper.setInputConnection(t.reslice.getOutputPort()),t.imageActor.setMapper(t.imageMapper)}var RA={newInstance:fe.newInstance(NA,"vtkResliceCursorRepresentation"),extend:NA};function BA(e,t,n,r){var o=n.getPoints(),i=[];o.getPoint(0,i);var a=Gm.computeWorldToDisplay(e,i[0],i[1],i[2]),s=[];o.getPoint(o.getNumberOfPoints()-1,s);var u=Gm.computeWorldToDisplay(e,s[0],s[1],s[2]),c=[r[0],r[1],0],l=[a[0],a[1],0],f=[u[0],u[1],0],d=Uu.distanceToLine(c,l,f);return d.distance<=t*t&&d.t<1&&d.t>0}function LA(e,t){t.classHierarchy.push("vtkResliceCursorLineRepresentation"),e.getResliceCursor=function(){return t.resliceCursorActor.getCursorAlgorithm().getResliceCursor()},e.getCursorAlgorithm=function(){return t.resliceCursorActor.getCursorAlgorithm()},e.displayToReslicePlaneIntersection=function(n){var r=t.renderer.getActiveCamera().getPosition(),o=e.getResliceCursor(),i=function(e,t){var n=t.getActiveCamera().getFocalPoint(),r=Gm.computeWorldToDisplay(t,n[0],n[1],n[2]);return Gm.computeDisplayToWorld(t,e[0],e[1],r[2])}(n,t.renderer);if(!o)return null;var a=t.resliceCursorActor.getCursorAlgorithm().getReslicePlaneNormal(),s=o.getPlane(a);return dr.intersectWithLine(i,r,s.getOrigin(),s.getNormal()).x},e.computeInteractionState=function(n){if(t.interactionState=0,!t.renderer||!t.resliceCursorActor.getVisibility())return t.interactionState;var r=e.getResliceCursor();if(!r)return t.interactionState;var o=t.resliceCursorActor.getCursorAlgorithm().getAxis1(),i=t.resliceCursorActor.getCenterlineActor(o).getBounds();if(i[1]<i[0])return t.interactionState;var a=r.getCenterlineAxisPolyData(o),s=BA(t.renderer,t.tolerance,a,n),u=t.resliceCursorActor.getCursorAlgorithm().getAxis2(),c=r.getCenterlineAxisPolyData(u),l=BA(t.renderer,t.tolerance,c,n);if(s&&l){var f=Gm.computeWorldToDisplay(t.renderer,r.getCenter()[0],r.getCenter()[1],r.getCenter()[2]);st([f[0],f[1],0],[n[0],n[1],0])<=t.tolerance*t.tolerance?t.interactionState=4:t.interactionState=5}else s?t.interactionState=5:l&&(t.interactionState=6);return t.startPickPosition=e.displayToReslicePlaneIntersection(n),null===t.startPickPosition&&(t.startPickPosition=[0,0,0]),t.interactionState},e.startComplexWidgetInteraction=function(n){t.startEventPosition[0]=n[0],t.startEventPosition[1]=n[1],t.startEventPosition[2]=0;var r=e.getResliceCursor();r&&(t.startCenterPosition=r.getCenter()),t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1],t.lastEventPosition[2]=0},e.complexWidgetInteraction=function(n){var r=e.getResliceCursor();if(0===t.interactionState||!t.renderer||!r)return t.lastEventPosition[0]=n[0],void(t.lastEventPosition[1]=n[1]);if(4===t.interactionState){var o=e.displayToReslicePlaneIntersection(n);if(null!==o){for(var i=[],a=0;a<3;a++)i[a]=t.startCenterPosition[a]+o[a]-t.startPickPosition[a];r.setCenter(i)}}5===t.interactionState&&e.rotateAxis(n,t.resliceCursorActor.getCursorAlgorithm().getPlaneAxis1()),6===t.interactionState&&e.rotateAxis(n,t.resliceCursorActor.getCursorAlgorithm().getPlaneAxis2()),t.lastEventPosition=[].concat(y(n),[0])},e.rotateAxis=function(n,r){var o=e.getResliceCursor();if(!o)return 0;var i=o.getCenter(),a=e.displayToReslicePlaneIntersection(n),s=e.displayToReslicePlaneIntersection(t.lastEventPosition);if(s[0]===a[0]&&s[1]===a[1]&&s[2]===a[2])return 0;for(var u=[],c=[],l=0;l<3;l++)u[l]=s[l]-i[l],c[l]=a[l]-i[l];nt(u),nt(c);var f=Math.acos($e(u,c)),d=[];et(u,c,d);var p=t.resliceCursorActor.getCursorAlgorithm().getReslicePlaneNormal();return 0==(f*=$e(o.getPlane(p).getNormal(),d)>0?1:-1)?0:(e.applyRotation(r,f),f)},e.applyRotation=function(n,r){var o=e.getResliceCursor(),i=t.resliceCursorActor.getCursorAlgorithm().getReslicePlaneNormal(),a=o.getPlane(n),s=o.getViewUp(n),u=a.getNormal(),c=o.getPlane(i).getNormal(),l=y(u);Es.buildFromRadian().rotate(r,c).apply(l),Es.buildFromRadian().rotate(r,c).apply(s),a.setNormal(l)},e.getBounds=function(){var t=[];en(t);var n=e.getResliceCursor();return n&&n.getImage()&&(t=n.getImage().getBounds()),t},e.getActors=function(){return e.buildRepresentation(),e.updateCamera(),[t.imageActor].concat(y(t.resliceCursorActor.getActors()))},e.updateCamera=function(){var n=t.resliceCursorActor.getCursorAlgorithm().getReslicePlaneNormal(),r=t.renderer.getActiveCamera().getFocalPoint(),o=t.renderer.getActiveCamera().getPosition(),i=e.getResliceCursor().getPlane(n),a=i.getNormal(),s=Math.sqrt(st(o,r)),u=[r[0]+s*a[0],r[1]+s*a[1],r[2]+s*a[2]],c=dr.intersectWithLine(r,u,i.getOrigin(),i.getNormal()).x;t.renderer.getActiveCamera().setFocalPoint(c[0],c[1],c[2]);var l=[c[0]+s*a[0],c[1]+s*a[1],c[2]+s*a[2]];t.renderer.getActiveCamera().setPosition(l[0],l[1],l[2]);var f=t.renderer.computeVisiblePropBounds(),d=e.getBounds();f[0]=Math.min(d[0],f[0]),f[1]=Math.max(d[1],f[1]),f[2]=Math.min(d[2],f[2]),f[3]=Math.max(d[3],f[3]),f[4]=Math.min(d[4],f[4]),f[5]=Math.max(d[5],f[5]),t.renderer.resetCameraClippingRange(f)},e.resetCamera=function(){if(t.renderer){var n=e.getCursorAlgorithm().getReslicePlaneNormal(),r=e.getResliceCursor().getPlane(n).getNormal(),o=e.getResliceCursor().getViewUp(n),i=t.renderer.getActiveCamera().getFocalPoint(),a=t.renderer.getActiveCamera().getPosition(),s=Math.sqrt(st(a,i)),u=[i[0]+s*r[0],i[1]+s*r[1],i[2]+s*r[2]];t.renderer.getActiveCamera().setPosition(u[0],u[1],u[2]),t.renderer.getActiveCamera().setViewUp(o[0],o[1],o[2])}}}var FA={};function jA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,FA,n),RA.extend(e,t,FA,n),t.resliceCursorActor=$S.newInstance(),t.startPickPosition=null,t.startCenterPosition=null,fe.get(e,t,["resliceCursorActor"]),LA(e,t)}var VA={newInstance:fe.newInstance(jA,"vtkResliceCursorLineRepresentation"),extend:jA},UA=0,zA=1,GA=2;function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var HA=fe.VOID,qA=fe.EVENT_ABORT;function KA(e,t){t.classHierarchy.push("vtkResliceCursorWidget");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WA(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setCursor=function(e){switch(e){case 5:case 6:case 4:t.interactor.getView().setCursor("pointer");break;default:t.interactor.getView().setCursor("default")}},e.createDefaultRepresentation=function(){t.widgetRep||e.setWidgetRep(VA.newInstance())},e.handleMouseMove=function(t){return e.moveAction(t)},e.handleLeftButtonPress=function(t){return e.selectAction(t)},e.handleLeftButtonRelease=function(t){return e.endSelectAction(t)},e.selectAction=function(n){var r=[n.position.x,n.position.y],o=t.widgetRep.computeInteractionState(r);return 0===o?(t.widgetState=GA,t.imageInteractorStyle.handleLeftButtonPress(n)):(t.widgetRep.startComplexWidgetInteraction(r),t.widgetState=zA,e.setCursor(o)),e.invokeStartInteractionEvent(),e.render(),qA},e.endSelectAction=function(n){return t.widgetState===UA?HA:(t.widgetState===GA&&t.imageInteractorStyle.handleLeftButtonRelease(n),t.widgetState=UA,e.invokeEndInteractionEvent(),e.render(),qA)},e.moveAction=function(n){var r=[n.position.x,n.position.y];if(t.widgetState===UA){var o=t.widgetRep.getInteractionState();return t.widgetRep.computeInteractionState(r),e.setCursor(t.widgetRep.getInteractionState()),o!==t.widgetRep.getInteractionState()&&e.render(),HA}return t.widgetState===GA?t.imageInteractorStyle.handleMouseMove(n):t.widgetRep.complexWidgetInteraction(r),e.invokeInteractionEvent(),e.render(),qA},e.setWidgetRep=function(e){n.setWidgetRep(e),t.imageInteractorStyle.setCurrentImageProperty(t.widgetRep.getImageActor().getProperty())},e.setInteractor=function(e){n.setInteractor(e),t.imageInteractorStyle.setInteractor(t.interactor),t.imageInteractorStyle.setEnabled(!1)}}var XA={widgetState:UA};function YA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,XA,n),qw.extend(e,t,XA,n),t.imageInteractorStyle=db.newInstance({currentImageNumber:null}),KA(e,t)}var ZA=fe.newInstance(YA,"vtkResliceCursorWidget"),JA={Manipulators:Jy,Misc:rb,Style:Ob,UI:Vw,Widgets:{vtkAbstractWidget:qw,vtkDistanceRepresentation:iC,vtkDistanceWidget:RC,vtkHandleRepresentation:Cx,vtkHandleWidget:mC,vtkImageCroppingRegionsRepresentation:zC,vtkImageCroppingRegionsWidget:eS,vtkLabelRepresentation:Mx,vtkLabelWidget:xC,vtkLineRepresentation:eC,vtkLineWidget:DC,vtkOrientationMarkerWidget:IS,vtkPiecewiseGaussianWidget:kw,vtkPointPlacer:fx,vtkResliceCursor:jS,vtkResliceCursorLineRepresentation:VA,vtkResliceCursorWidget:{newInstance:ZA,extend:YA},vtkSphereHandleRepresentation:Xx,vtkWidgetRepresentation:gx}};function $A(e){let t=e.length;for(;--t>=0;)e[t]=0}const QA=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),e_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),t_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r_=new Array(576);$A(r_);const o_=new Array(60);$A(o_);const i_=new Array(512);$A(i_);const a_=new Array(256);$A(a_);const s_=new Array(29);$A(s_);const u_=new Array(30);function c_(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let l_,f_,d_;function p_(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}$A(u_);const h_=e=>e<256?i_[e]:i_[256+(e>>>7)],m_=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},g_=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,m_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},v_=(e,t,n)=>{g_(e,n[2*t],n[2*t+1])},y_=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},b_=(e,t,n)=>{const r=new Array(16);let o,i,a=0;for(o=1;o<=15;o++)r[o]=a=a+n[o-1]<<1;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=y_(r[t]++,t))}},w_=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},x_=e=>{e.bi_valid>8?m_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},C_=(e,t,n,r)=>{const o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},S_=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&C_(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!C_(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},A_=(e,t,n)=>{let r,o,i,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?v_(e,o,t):(i=a_[o],v_(e,i+256+1,t),a=QA[i],0!==a&&(o-=s_[i],g_(e,o,a)),r--,i=h_(r),v_(e,i,n),a=e_[i],0!==a&&(r-=u_[i],g_(e,r,a)))}while(s<e.last_lit);v_(e,256,t)},__=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,s,u,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<i;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[2*u]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[2*u+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)S_(e,n,a);u=i;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],S_(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*u]=n[2*a]+n[2*s],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=u,e.heap[1]=u++,S_(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,l,f,d,p,h,m=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)l=e.heap[c],d=n[2*n[2*l+1]+1]+1,d>u&&(d=u,m++),n[2*l+1]=d,l>r||(e.bl_count[d]++,p=0,l>=s&&(p=a[l-s]),h=n[2*l],e.opt_len+=h*(d+p),i&&(e.static_len+=h*(o[2*l+1]+p)));if(0!==m){do{for(d=u-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[u]--,m-=2}while(m>0);for(d=u;0!==d;d--)for(l=e.bl_count[d];0!==l;)f=e.heap[--c],f>r||(n[2*f+1]!==d&&(e.opt_len+=(d-n[2*f+1])*n[2*f],n[2*f+1]=d),l--)}})(e,t),b_(n,c,e.bl_count)},P_=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<u&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4))},O_=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<u&&o===a)){if(s<c)do{v_(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(v_(e,o,e.bl_tree),s--),v_(e,16,e.bl_tree),g_(e,s-3,2)):s<=10?(v_(e,17,e.bl_tree),g_(e,s-3,3)):(v_(e,18,e.bl_tree),g_(e,s-11,7));s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4)}};let E_=!1;const T_=(e,t,n,r)=>{g_(e,0+(r?1:0),3),((e,t,n,r)=>{x_(e),m_(e,n),m_(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n)};var D_={_tr_init:e=>{E_||((()=>{let e,t,n,r,o;const i=new Array(16);for(n=0,r=0;r<28;r++)for(s_[r]=n,e=0;e<1<<QA[r];e++)a_[n++]=r;for(a_[n-1]=r,o=0,r=0;r<16;r++)for(u_[r]=o,e=0;e<1<<e_[r];e++)i_[o++]=r;for(o>>=7;r<30;r++)for(u_[r]=o<<7,e=0;e<1<<e_[r]-7;e++)i_[256+o++]=r;for(t=0;t<=15;t++)i[t]=0;for(e=0;e<=143;)r_[2*e+1]=8,e++,i[8]++;for(;e<=255;)r_[2*e+1]=9,e++,i[9]++;for(;e<=279;)r_[2*e+1]=7,e++,i[7]++;for(;e<=287;)r_[2*e+1]=8,e++,i[8]++;for(b_(r_,287,i),e=0;e<30;e++)o_[2*e+1]=5,o_[2*e]=y_(e,5);l_=new c_(r_,QA,257,286,15),f_=new c_(o_,e_,0,30,15),d_=new c_(new Array(0),t_,0,19,7)})(),E_=!0),e.l_desc=new p_(e.dyn_ltree,l_),e.d_desc=new p_(e.dyn_dtree,f_),e.bl_desc=new p_(e.bl_tree,d_),e.bi_buf=0,e.bi_valid=0,w_(e)},_tr_stored_block:T_,_tr_flush_block:(e,t,n,r)=>{let o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),__(e,e.l_desc),__(e,e.d_desc),a=(e=>{let t;for(P_(e,e.dyn_ltree,e.l_desc.max_code),P_(e,e.dyn_dtree,e.d_desc.max_code),__(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*n_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?T_(e,t,n,r):4===e.strategy||i===o?(g_(e,2+(r?1:0),3),A_(e,r_,o_)):(g_(e,4+(r?1:0),3),((e,t,n,r)=>{let o;for(g_(e,t-257,5),g_(e,n-1,5),g_(e,r-4,4),o=0;o<r;o++)g_(e,e.bl_tree[2*n_[o]+1],3);O_(e,e.dyn_ltree,t-1),O_(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),A_(e,e.dyn_ltree,e.dyn_dtree)),w_(e),r&&x_(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(a_[n]+256+1)]++,e.dyn_dtree[2*h_(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{g_(e,2,3),v_(e,256,r_),(e=>{16===e.bi_valid?(m_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},I_=(e,t,n,r)=>{let o=65535&e|0,i=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{o=o+t[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16|0};const k_=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var M_=(e,t,n,r)=>{const o=k_,i=r+n;e^=-1;for(let n=r;n<i;n++)e=e>>>8^o[255&(e^t[n])];return-1^e},N_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:B_,_tr_stored_block:L_,_tr_flush_block:F_,_tr_tally:j_,_tr_align:V_}=D_,{Z_NO_FLUSH:U_,Z_PARTIAL_FLUSH:z_,Z_FULL_FLUSH:G_,Z_FINISH:W_,Z_BLOCK:H_,Z_OK:q_,Z_STREAM_END:K_,Z_STREAM_ERROR:X_,Z_DATA_ERROR:Y_,Z_BUF_ERROR:Z_,Z_DEFAULT_COMPRESSION:J_,Z_FILTERED:$_,Z_HUFFMAN_ONLY:Q_,Z_RLE:eP,Z_FIXED:tP,Z_DEFAULT_STRATEGY:nP,Z_UNKNOWN:rP,Z_DEFLATED:oP}=R_,iP=258,aP=262,sP=103,uP=113,cP=666,lP=(e,t)=>(e.msg=N_[t],t),fP=e=>(e<<1)-(e>4?9:0),dP=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let pP=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const hP=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},mP=(e,t)=>{F_(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,hP(e.strm)},gP=(e,t)=>{e.pending_buf[e.pending++]=t},vP=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},yP=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=I_(e.adler,t,o,n):2===e.state.wrap&&(e.adler=M_(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},bP=(e,t)=>{let n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match;const u=e.strstart>e.w_size-aP?e.strstart-(e.w_size-aP):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+iP;let p=c[i+a-1],h=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===h&&c[n+a-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=iP-(d-i),i=d-iP,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[i+a-1],h=c[i+a]}}}while((t=f[t&l])>u&&0!=--o);return a<=e.lookahead?a:e.lookahead},wP=e=>{const t=e.w_size;let n,r,o,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-aP)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--r);r=t,n=r;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--r);i+=t}if(0===e.strm.avail_in)break;if(r=yP(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=pP(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=pP(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<aP&&0!==e.strm.avail_in)},xP=(e,t)=>{let n,r;for(;;){if(e.lookahead<aP){if(wP(e),e.lookahead<aP&&t===U_)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=pP(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-aP&&(e.match_length=bP(e,n)),e.match_length>=3)if(r=j_(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=pP(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=pP(e,e.ins_h,e.window[e.strstart+1]);else r=j_(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(mP(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===W_?(mP(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mP(e,!1),0===e.strm.avail_out)?1:2},CP=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<aP){if(wP(e),e.lookahead<aP&&t===U_)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=pP(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-aP&&(e.match_length=bP(e,n),e.match_length<=5&&(e.strategy===$_||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=j_(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=pP(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(mP(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=j_(e,0,e.window[e.strstart-1]),r&&mP(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=j_(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===W_?(mP(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mP(e,!1),0===e.strm.avail_out)?1:2};function SP(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const AP=[new SP(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(wP(e),0===e.lookahead&&t===U_)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,mP(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-aP&&(mP(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===W_?(mP(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(mP(e,!1),e.strm.avail_out),1)})),new SP(4,4,8,4,xP),new SP(4,5,16,8,xP),new SP(4,6,32,32,xP),new SP(4,4,16,16,CP),new SP(8,16,32,32,CP),new SP(8,16,128,128,CP),new SP(8,32,128,256,CP),new SP(32,128,258,1024,CP),new SP(32,258,258,4096,CP)];function _P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oP,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dP(this.dyn_ltree),dP(this.dyn_dtree),dP(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dP(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dP(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const PP=e=>{if(!e||!e.state)return lP(e,X_);e.total_in=e.total_out=0,e.data_type=rP;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:uP,e.adler=2===t.wrap?0:1,t.last_flush=U_,B_(t),q_},OP=e=>{const t=PP(e);var n;return t===q_&&((n=e.state).window_size=2*n.w_size,dP(n.head),n.max_lazy_match=AP[n.level].max_lazy,n.good_match=AP[n.level].good_length,n.nice_match=AP[n.level].nice_length,n.max_chain_length=AP[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t};var EP=(e,t,n,r,o,i)=>{if(!e)return X_;let a=1;if(t===J_&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||n!==oP||r<8||r>15||t<0||t>9||i<0||i>tP)return lP(e,X_);8===r&&(r=9);const s=new _P;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,OP(e)},TP=(e,t)=>e&&e.state?2!==e.state.wrap?X_:(e.state.gzhead=t,q_):X_,DP=(e,t)=>{let n,r;if(!e||!e.state||t>H_||t<0)return e?lP(e,X_):X_;const o=e.state;if(!e.output||!e.input&&0!==e.avail_in||o.status===cP&&t!==W_)return lP(e,0===e.avail_out?Z_:X_);o.strm=e;const i=o.last_flush;if(o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,gP(o,31),gP(o,139),gP(o,8),o.gzhead?(gP(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),gP(o,255&o.gzhead.time),gP(o,o.gzhead.time>>8&255),gP(o,o.gzhead.time>>16&255),gP(o,o.gzhead.time>>24&255),gP(o,9===o.level?2:o.strategy>=Q_||o.level<2?4:0),gP(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(gP(o,255&o.gzhead.extra.length),gP(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=M_(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(gP(o,0),gP(o,0),gP(o,0),gP(o,0),gP(o,0),gP(o,9===o.level?2:o.strategy>=Q_||o.level<2?4:0),gP(o,3),o.status=uP);else{let t=oP+(o.w_bits-8<<4)<<8,n=-1;n=o.strategy>=Q_||o.level<2?0:o.level<6?1:6===o.level?2:3,t|=n<<6,0!==o.strstart&&(t|=32),t+=31-t%31,o.status=uP,vP(o,t),0!==o.strstart&&(vP(o,e.adler>>>16),vP(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),hP(e),n=o.pending,o.pending!==o.pending_buf_size));)gP(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),hP(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,gP(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),hP(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,gP(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=M_(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.status=sP)}else o.status=sP;if(o.status===sP&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&hP(e),o.pending+2<=o.pending_buf_size&&(gP(o,255&e.adler),gP(o,e.adler>>8&255),e.adler=0,o.status=uP)):o.status=uP),0!==o.pending){if(hP(e),0===e.avail_out)return o.last_flush=-1,q_}else if(0===e.avail_in&&fP(t)<=fP(i)&&t!==W_)return lP(e,Z_);if(o.status===cP&&0!==e.avail_in)return lP(e,Z_);if(0!==e.avail_in||0!==o.lookahead||t!==U_&&o.status!==cP){let n=o.strategy===Q_?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(wP(e),0===e.lookahead)){if(t===U_)return 1;break}if(e.match_length=0,n=j_(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(mP(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===W_?(mP(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mP(e,!1),0===e.strm.avail_out)?1:2})(o,t):o.strategy===eP?((e,t)=>{let n,r,o,i;const a=e.window;for(;;){if(e.lookahead<=iP){if(wP(e),e.lookahead<=iP&&t===U_)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+iP;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=iP-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=j_(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=j_(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(mP(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===W_?(mP(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(mP(e,!1),0===e.strm.avail_out)?1:2})(o,t):AP[o.level].func(o,t);if(3!==n&&4!==n||(o.status=cP),1===n||3===n)return 0===e.avail_out&&(o.last_flush=-1),q_;if(2===n&&(t===z_?V_(o):t!==H_&&(L_(o,0,0,!1),t===G_&&(dP(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),hP(e),0===e.avail_out))return o.last_flush=-1,q_}return t!==W_?q_:o.wrap<=0?K_:(2===o.wrap?(gP(o,255&e.adler),gP(o,e.adler>>8&255),gP(o,e.adler>>16&255),gP(o,e.adler>>24&255),gP(o,255&e.total_in),gP(o,e.total_in>>8&255),gP(o,e.total_in>>16&255),gP(o,e.total_in>>24&255)):(vP(o,e.adler>>>16),vP(o,65535&e.adler)),hP(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?q_:K_)},IP=e=>{if(!e||!e.state)return X_;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==sP&&t!==uP&&t!==cP?lP(e,X_):(e.state=null,t===uP?lP(e,Y_):q_)},kP=(e,t)=>{let n=t.length;if(!e||!e.state)return X_;const r=e.state,o=r.wrap;if(2===o||1===o&&42!==r.status||r.lookahead)return X_;if(1===o&&(e.adler=I_(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===o&&(dP(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,wP(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=pP(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,wP(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=i,r.wrap=o,q_};const MP=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var NP=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)MP(n,t)&&(e[t]=n[t])}}return e},RP=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,o=e.length;t<o;t++){let o=e[t];n.set(o,r),r+=o.length}return n};let BP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){BP=!1}const LP=new Uint8Array(256);for(let e=0;e<256;e++)LP[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;LP[254]=LP[254]=1;var FP=e=>{let t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},jP=(e,t)=>{let n,r;const o=t||e.length,i=new Array(2*o);for(r=0,n=0;n<o;){let t=e[n++];if(t<128){i[r++]=t;continue}let a=LP[t];if(a>4)i[r++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<o;)t=t<<6|63&e[n++],a--;a>1?i[r++]=65533:t<65536?i[r++]=t:(t-=65536,i[r++]=55296|t>>10&1023,i[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&BP)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,r)},VP=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+LP[e[n]]>t?n:t},UP=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const zP=Object.prototype.toString,{Z_NO_FLUSH:GP,Z_SYNC_FLUSH:WP,Z_FULL_FLUSH:HP,Z_FINISH:qP,Z_OK:KP,Z_STREAM_END:XP,Z_DEFAULT_COMPRESSION:YP,Z_DEFAULT_STRATEGY:ZP,Z_DEFLATED:JP}=R_;function $P(e){this.options=NP({level:YP,method:JP,chunkSize:16384,windowBits:15,memLevel:8,strategy:ZP},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UP,this.strm.avail_out=0;let n=EP(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==KP)throw new Error(N_[n]);if(t.header&&TP(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?FP(t.dictionary):"[object ArrayBuffer]"===zP.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=kP(this.strm,e),n!==KP)throw new Error(N_[n]);this._dict_set=!0}}function QP(e,t){const n=new $P(t);if(n.push(e,!0),n.err)throw n.msg||N_[n.err];return n.result}$P.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?qP:GP,"string"==typeof e?n.input=FP(e):"[object ArrayBuffer]"===zP.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===WP||i===HP)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=DP(n,i),o===XP)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=IP(this.strm),this.onEnd(o),this.ended=!0,o===KP;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},$P.prototype.onData=function(e){this.chunks.push(e)},$P.prototype.onEnd=function(e){e===KP&&(this.result=RP(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var eO={Deflate:$P,deflate:QP,deflateRaw:function(e,t){return(t=t||{}).raw=!0,QP(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,QP(e,t)},constants:R_},tO=function(e,t){let n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,x,C,S,A,_;const P=e.state;n=e.next_in,A=e.input,r=n+(e.avail_in-5),o=e.next_out,_=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),s=P.dmax,u=P.wsize,c=P.whave,l=P.wnext,f=P.window,d=P.hold,p=P.bits,h=P.lencode,m=P.distcode,g=(1<<P.lenbits)-1,v=(1<<P.distbits)-1;e:do{p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),y=h[d&g];t:for(;;){if(b=y>>>24,d>>>=b,p-=b,b=y>>>16&255,0===b)_[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=h[(65535&y)+(d&(1<<b)-1)];continue t}if(32&b){P.mode=12;break e}e.msg="invalid literal/length code",P.mode=30;break e}w=65535&y,b&=15,b&&(p<b&&(d+=A[n++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),y=m[d&v];n:for(;;){if(b=y>>>24,d>>>=b,p-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=m[(65535&y)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",P.mode=30;break e}if(x=65535&y,b&=15,p<b&&(d+=A[n++]<<p,p+=8,p<b&&(d+=A[n++]<<p,p+=8)),x+=d&(1<<b)-1,x>s){e.msg="invalid distance too far back",P.mode=30;break e}if(d>>>=b,p-=b,b=o-i,x>b){if(b=x-b,b>c&&P.sane){e.msg="invalid distance too far back",P.mode=30;break e}if(C=0,S=f,0===l){if(C+=u-b,b<w){w-=b;do{_[o++]=f[C++]}while(--b);C=o-x,S=_}}else if(l<b){if(C+=u+l-b,b-=l,b<w){w-=b;do{_[o++]=f[C++]}while(--b);if(C=0,l<w){b=l,w-=b;do{_[o++]=f[C++]}while(--b);C=o-x,S=_}}}else if(C+=l-b,b<w){w-=b;do{_[o++]=f[C++]}while(--b);C=o-x,S=_}for(;w>2;)_[o++]=S[C++],_[o++]=S[C++],_[o++]=S[C++],w-=3;w&&(_[o++]=S[C++],w>1&&(_[o++]=S[C++]))}else{C=o-x;do{_[o++]=_[C++],_[o++]=_[C++],_[o++]=_[C++],w-=3}while(w>2);w&&(_[o++]=_[C++],w>1&&(_[o++]=_[C++]))}break}}break}}while(n<r&&o<a);w=p>>3,n-=w,p-=w<<3,d&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<a?a-o+257:257-(o-a),P.hold=d,P.bits=p};const nO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var aO=(e,t,n,r,o,i,a,s)=>{const u=s.bits;let c,l,f,d,p,h,m=0,g=0,v=0,y=0,b=0,w=0,x=0,C=0,S=0,A=0,_=null,P=0;const O=new Uint16Array(16),E=new Uint16Array(16);let T,D,I,k=null,M=0;for(m=0;m<=15;m++)O[m]=0;for(g=0;g<r;g++)O[t[n+g]]++;for(b=u,y=15;y>=1&&0===O[y];y--);if(b>y&&(b=y),0===y)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(v=1;v<y&&0===O[v];v++);for(b<v&&(b=v),C=1,m=1;m<=15;m++)if(C<<=1,C-=O[m],C<0)return-1;if(C>0&&(0===e||1!==y))return-1;for(E[1]=0,m=1;m<15;m++)E[m+1]=E[m]+O[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[E[t[n+g]]++]=g);if(0===e?(_=k=a,h=19):1===e?(_=nO,P-=257,k=rO,M-=257,h=256):(_=oO,k=iO,h=-1),A=0,g=0,m=v,p=i,w=b,x=0,f=-1,S=1<<b,d=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){T=m-x,a[g]<h?(D=0,I=a[g]):a[g]>h?(D=k[M+a[g]],I=_[P+a[g]]):(D=96,I=0),c=1<<m-x,l=1<<w,v=l;do{l-=c,o[p+(A>>x)+l]=T<<24|D<<16|I|0}while(0!==l);for(c=1<<m-1;A&c;)c>>=1;if(0!==c?(A&=c-1,A+=c):A=0,g++,0==--O[m]){if(m===y)break;m=t[n+a[g]]}if(m>b&&(A&d)!==f){for(0===x&&(x=b),p+=v,w=m-x,C=1<<w;w+x<y&&(C-=O[w+x],!(C<=0));)w++,C<<=1;if(S+=1<<w,1===e&&S>852||2===e&&S>592)return 1;f=A&d,o[f]=b<<24|w<<16|p-i|0}}return 0!==A&&(o[p+A]=m-x<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:sO,Z_BLOCK:uO,Z_TREES:cO,Z_OK:lO,Z_STREAM_END:fO,Z_NEED_DICT:dO,Z_STREAM_ERROR:pO,Z_DATA_ERROR:hO,Z_MEM_ERROR:mO,Z_BUF_ERROR:gO,Z_DEFLATED:vO}=R_,yO=12,bO=30,wO=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xO(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const CO=e=>{if(!e||!e.state)return pO;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,lO},SO=e=>{if(!e||!e.state)return pO;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,CO(e)},AO=(e,t)=>{let n;if(!e||!e.state)return pO;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?pO:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,SO(e))};let _O,PO,OO=!0;const EO=e=>{if(OO){_O=new Int32Array(512),PO=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(aO(1,e.lens,0,288,_O,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;aO(2,e.lens,0,32,PO,0,e.work,{bits:5}),OO=!1}e.lencode=_O,e.lenbits=9,e.distcode=PO,e.distbits=5},TO=(e,t,n,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var DO=SO,IO=(e,t)=>{if(!e)return pO;const n=new xO;e.state=n,n.window=null;const r=AO(e,t);return r!==lO&&(e.state=null),r},kO=(e,t)=>{let n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,x,C,S,A=0;const _=new Uint8Array(4);let P,O;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return pO;n=e.state,n.mode===yO&&(n.mode=13),a=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,f=s,d=u,S=lO;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=M_(n.check,_,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=bO;break}if((15&c)!==vO){e.msg="unknown compression method",n.mode=bO;break}if(c>>>=4,l-=4,C=8+(15&c),0===n.wbits)n.wbits=C;else if(C>n.wbits){e.msg="invalid window size",n.mode=bO;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:yO,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==vO){e.msg="unknown compression method",n.mode=bO;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=bO;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=M_(n.check,_,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=M_(n.check,_,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=M_(n.check,_,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=M_(n.check,_,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),C)),512&n.flags&&(n.check=M_(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;p=0;do{C=r[i+p++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C))}while(C&&p<s);if(512&n.flags&&(n.check=M_(n.check,r,p,i)),s-=p,i+=p,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;p=0;do{C=r[i+p++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C))}while(C&&p<s);if(512&n.flags&&(n.check=M_(n.check,r,p,i)),s-=p,i+=p,C)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=bO;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=yO;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}e.adler=n.check=wO(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=l,dO;e.adler=n.check=1,n.mode=yO;case yO:if(t===uO||t===cO)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=14;break;case 1:if(EO(n),n.mode=20,t===cO){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=bO}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=bO;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===cO)break e;case 15:n.mode=16;case 16:if(p=n.length,p){if(p>s&&(p=s),p>u&&(p=u),0===p)break e;o.set(r.subarray(i,i+p),a),s-=p,i+=p,u-=p,a+=p,n.length-=p;break}n.mode=yO;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=bO;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.lens[E[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},S=aO(0,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,S){e.msg="invalid code lengths set",n.mode=bO;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[c&(1<<n.lenbits)-1],g=A>>>24,v=A>>>16&255,y=65535&A,!(g<=l);){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(y<16)c>>>=g,l-=g,n.lens[n.have++]=y;else{if(16===y){for(O=g+2;l<O;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=bO;break}C=n.lens[n.have-1],p=3+(3&c),c>>>=2,l-=2}else if(17===y){for(O=g+3;l<O;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}c>>>=g,l-=g,C=0,p=3+(7&c),c>>>=3,l-=3}else{for(O=g+7;l<O;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}c>>>=g,l-=g,C=0,p=11+(127&c),c>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=bO;break}for(;p--;)n.lens[n.have++]=C}}if(n.mode===bO)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=bO;break}if(n.lenbits=9,P={bits:n.lenbits},S=aO(1,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,S){e.msg="invalid literal/lengths set",n.mode=bO;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},S=aO(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,S){e.msg="invalid distances set",n.mode=bO;break}if(n.mode=20,t===cO)break e;case 20:n.mode=21;case 21:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=l,tO(e,d),a=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===yO&&(n.back=-1);break}for(n.back=0;A=n.lencode[c&(1<<n.lenbits)-1],g=A>>>24,v=A>>>16&255,y=65535&A,!(g<=l);){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(v&&0==(240&v)){for(b=g,w=v,x=y;A=n.lencode[x+((c&(1<<b+w)-1)>>b)],g=A>>>24,v=A>>>16&255,y=65535&A,!(b+g<=l);){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,n.length=y,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=yO;break}if(64&v){e.msg="invalid literal/length code",n.mode=bO;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(O=n.extra;l<O;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=n.distcode[c&(1<<n.distbits)-1],g=A>>>24,v=A>>>16&255,y=65535&A,!(g<=l);){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(0==(240&v)){for(b=g,w=v,x=y;A=n.distcode[x+((c&(1<<b+w)-1)>>b)],g=A>>>24,v=A>>>16&255,y=65535&A,!(b+g<=l);){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=bO;break}n.offset=y,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(O=n.extra;l<O;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=bO;break}n.mode=25;case 25:if(0===u)break e;if(p=d-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=bO;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=o,h=a-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do{o[a++]=m[h++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;o[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=r[i++]<<l,l+=8}if(d-=u,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?M_(n.check,o,d,a-d):I_(n.check,o,d,a-d)),d=u,(n.flags?c:wO(c))!==n.check){e.msg="incorrect data check",n.mode=bO;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=r[i++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=bO;break}c=0,l=0}n.mode=29;case 29:S=fO;break e;case bO:S=hO;break e;case 31:return mO;case 32:default:return pO}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||d!==e.avail_out&&n.mode<bO&&(n.mode<27||t!==sO))&&TO(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?M_(n.check,o,d,e.next_out-d):I_(n.check,o,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===yO?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===d||t===sO)&&S===lO&&(S=gO),S},MO=e=>{if(!e||!e.state)return pO;let t=e.state;return t.window&&(t.window=null),e.state=null,lO},NO=(e,t)=>{if(!e||!e.state)return pO;const n=e.state;return 0==(2&n.wrap)?pO:(n.head=t,t.done=!1,lO)},RO=(e,t)=>{const n=t.length;let r,o,i;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?pO:11===r.mode&&(o=1,o=I_(o,t,n,0),o!==r.check)?hO:(i=TO(e,t,n,n),i?(r.mode=31,mO):(r.havedict=1,lO))):pO},BO=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const LO=Object.prototype.toString,{Z_NO_FLUSH:FO,Z_FINISH:jO,Z_OK:VO,Z_STREAM_END:UO,Z_NEED_DICT:zO,Z_STREAM_ERROR:GO,Z_DATA_ERROR:WO,Z_MEM_ERROR:HO}=R_;function qO(e){this.options=NP({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UP,this.strm.avail_out=0;let n=IO(this.strm,t.windowBits);if(n!==VO)throw new Error(N_[n]);if(this.header=new BO,NO(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=FP(t.dictionary):"[object ArrayBuffer]"===LO.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=RO(this.strm,t.dictionary),n!==VO)))throw new Error(N_[n])}function KO(e,t){const n=new qO(t);if(n.push(e),n.err)throw n.msg||N_[n.err];return n.result}qO.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?jO:FO,"[object ArrayBuffer]"===LO.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=kO(n,a),i===zO&&o&&(i=RO(n,o),i===VO?i=kO(n,a):i===WO&&(i=zO));n.avail_in>0&&i===UO&&n.state.wrap>0&&0!==e[n.next_in];)DO(n),i=kO(n,a);switch(i){case GO:case WO:case zO:case HO:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===UO))if("string"===this.options.to){let e=VP(n.output,n.next_out),t=n.next_out-e,o=jP(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==VO||0!==s){if(i===UO)return i=MO(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},qO.prototype.onData=function(e){this.chunks.push(e)},qO.prototype.onEnd=function(e){e===VO&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=RP(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var XO={Inflate:qO,inflate:KO,inflateRaw:function(e,t){return(t=t||{}).raw=!0,KO(e,t)},ungzip:KO,constants:R_};const{Deflate:YO,deflate:ZO,deflateRaw:JO,gzip:$O}=eO,{Inflate:QO,inflate:eE,inflateRaw:tE,ungzip:nE}=XO;var rE={Deflate:YO,deflate:ZO,deflateRaw:JO,gzip:$O,Inflate:QO,inflate:eE,inflateRaw:tE,ungzip:nE,constants:R_},oE={};function iE(e){return!!oE[e]}function aE(e,t){oE[e]=t}var sE={get:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oE[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http"](e)},has:iE,registerType:aE},uE=fe.vtkErrorMacro,cE=fe.vtkDebugMacro,lE=0;function fE(e){var t=document.querySelector('.webResource[data-url="'.concat(e,'"]'));return t?t.innerHTML:null}function dE(e){return document.querySelector('.webResource[data-url="'.concat(e,'"]'))}function pE(e){return"/"===e[0]?e.substr(1):e}var hE={fetchJSON:function(){var e=arguments.length>1?arguments[1]:void 0;return new Promise((function(t,n){var r=fE(pE(e));null===r?n(new Error("No such JSON ".concat(e))):t(JSON.parse(r))}))},fetchText:function(){var e=arguments.length>1?arguments[1]:void 0;return new Promise((function(t,n){var r=fE(e);null===r?n(new Error("No such text ".concat(e))):t(r)}))},fetchArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,i){var a=pE([t,n.ref.basepath,r.compression?"".concat(n.ref.id,".gz"):n.ref.id].join("/")),s=fE(a);if(null===s)i(new Error("No such array ".concat(a)));else{if("string"===n.dataType){var u=atob(s);r.compression&&(u=rE.inflate(u,{to:"string"})),n.values=JSON.parse(u)}else{var c=new Uint8Array(d.toArrayBuffer(s));n.buffer=new ArrayBuffer(c.length),new Uint8Array(n.buffer).set(c),r.compression&&("string"===n.dataType||"JSON"===n.dataType?n.buffer=rE.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=rE.inflate(new Uint8Array(n.buffer)).buffer),"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(Xn.ENDIANNESS!==n.ref.encode&&Xn.ENDIANNESS&&(cE("Swap bytes of ".concat(n.name)),Xn.swapBytes(n.buffer,de[n.dataType])),n.values=fe.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&uE("Error in FetchArray: ".concat(n.name," does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size))}delete n.ref,0==--lE&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),o(n)}}))},fetchImage:function(){var e=arguments.length>1?arguments[1]:void 0;return new Promise((function(t,n){var r=dE(e);r?t(r):n(new Error("No such image ".concat(e)))}))}};aE("html",(function(e){return hE}));var mE=fe.vtkErrorMacro,gE=fe.vtkDebugMacro,vE=0;function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new XMLHttpRequest;return r.open(e,t,!0),n.headers&&Object.entries(n.headers).forEach((function(e){var t=g(e,2),n=t[0],o=t[1];return r.setRequestHeader(n,o)})),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}var bE={fetchArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.ref&&!n.ref.pending?new Promise((function(o,i){var a=yE("GET",[t,n.ref.basepath,r.compression?"".concat(n.ref.id,".gz"):n.ref.id].join("/"),r);a.onreadystatechange=function(t){1===a.readyState&&(n.ref.pending=!0,1==++vE&&e.invokeBusy&&e.invokeBusy(!0)),4===a.readyState&&(n.ref.pending=!1,200===a.status||0===a.status?(n.buffer=a.response,r.compression&&("string"===n.dataType||"JSON"===n.dataType?n.buffer=rE.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=rE.inflate(new Uint8Array(n.buffer)).buffer),"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(Xn.ENDIANNESS!==n.ref.encode&&Xn.ENDIANNESS&&(gE("Swap bytes of ".concat(n.name)),Xn.swapBytes(n.buffer,de[n.dataType])),n.values=fe.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&mE("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,0==--vE&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),o(n)):i({xhr:a,e:t}))},a.responseType=r.compression||"string"!==n.dataType?"arraybuffer":"text",a.send()})):Promise.resolve(n)},fetchJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var i=yE("GET",t,n);i.onreadystatechange=function(t){1===i.readyState&&1==++vE&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--vE&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?n.compression?r(JSON.parse(rE.inflate(new Uint8Array(i.response),{to:"string"}))):r(JSON.parse(i.responseText)):o({xhr:i,e:t}))},i.responseType=n.compression?"arraybuffer":"text",i.send()}))},fetchText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression&&"gz"!==n.compression&&(mE("Supported algorithms are: [gz]"),mE("Unkown compression algorithm: ".concat(n.compression))),new Promise((function(r,o){var i=yE("GET",t,n);i.onreadystatechange=function(t){1===i.readyState&&1==++vE&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--vE&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?n.compression?r(rE.inflate(new Uint8Array(i.response),{to:"string"})):r(i.responseText):o({xhr:i,e:t}))},i.responseType=n.compression?"arraybuffer":"text",i.send()}))},fetchBinary:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var o=yE("GET",e,t);o.onreadystatechange=function(e){4===o.readyState&&(200===o.status||0===o.status?n(o.response):r({xhr:o,e}))},o.responseType="arraybuffer",o.send()}))},fetchImage:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){var o=new Image;t.crossOrigin&&(o.crossOrigin=t.crossOrigin),o.onload=function(){return n(o)},o.onerror=r,o.src=e}))}};aE("http",(function(e){return bE}));var wE=n(6085),xE=n.n(wE),CE=fe.vtkErrorMacro,SE=fe.vtkDebugMacro;function AE(e){var t=e.split(".").pop().toLowerCase();return"jpg"===t?"jpeg":t}var _E={uint8array:function(e,t,n){return function(r){e.buffer=new ArrayBuffer(r.length),new Uint8Array(e.buffer).set(r),t&&("string"===e.dataType||"JSON"===e.dataType?e.buffer=rE.inflate(new Uint8Array(e.buffer),{to:"string"}):e.buffer=rE.inflate(new Uint8Array(e.buffer)).buffer),"JSON"===e.ref.encode?e.values=JSON.parse(e.buffer):(Xn.ENDIANNESS!==e.ref.encode&&Xn.ENDIANNESS&&(SE("Swap bytes of ".concat(e.name)),Xn.swapBytes(e.buffer,de[e.dataType])),e.values=fe.newTypedArray(e.dataType,e.buffer)),e.values.length!==e.size&&CE("Error in FetchArray: ".concat(e.name," does not have the proper array size. Got ").concat(e.values.length,", instead of ").concat(e.size)),n()}},string:function(e,t,n){return function(r){e.values=t?JSON.parse(rE.inflate(r,{to:"string"})):JSON.parse(r),n()}}};function PE(e){return function(e){return"/"===e[0]?e.substr(1):e}(function(e){return new URL(e,"http://any").pathname}(e))}var OE=function(e){var t=!1,n=0,r=new(xE()),o=r;return r.loadAsync(e.zipContent).then((function(){t=!0;var n=[];r.forEach((function(e,t){-1!==e.indexOf("index.json")&&n.push(e)})),n.sort((function(e,t){return e.length-t.length}));for(var i=n[0].split("/");i.length>1;){var a=i.shift();o=o.folder(a)}e.callback&&e.callback(r)})),{fetchArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(s,u){t||CE("ERROR!!! zip not ready...");var c=PE([r,i.ref.basepath,a.compression?"".concat(i.ref.id,".gz"):i.ref.id].join("/"));1==++n&&e.invokeBusy&&e.invokeBusy(!0);var l="string"!==i.dataType||a.compression?"uint8array":"string",f=_E[l](i,a.compression,(function(){delete i.ref,0==--n&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),s(i)}));o.file(c).async(l).then(f)}))},fetchJSON:function(){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=PE(arguments.length>1?arguments[1]:void 0);return t||CE("ERROR!!! zip not ready..."),e.compression?"gz"===e.compression?o.file(n).async("uint8array").then((function(e){var t=rE.inflate(e,{to:"string"});return Promise.resolve(JSON.parse(t))})):Promise.reject(new Error("Invalid compression")):o.file(n).async("string").then((function(e){return Promise.resolve(JSON.parse(e))}))},fetchText:function(){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=PE(arguments.length>1?arguments[1]:void 0);return t||CE("ERROR!!! zip not ready..."),e.compression?"gz"===e.compression?o.file(n).async("uint8array").then((function(e){var t=rE.inflate(e,{to:"string"});return Promise.resolve(t)})):Promise.reject(new Error("Invalid compression")):o.file(n).async("string").then((function(e){return Promise.resolve(e)}))},fetchImage:function(){var e=PE(arguments.length>1?arguments[1]:void 0);return t||CE("ERROR!!! zip not ready..."),new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,o.file(e).async("base64").then((function(t){r.src="data:image/".concat(AE(e),";base64,").concat(t)}))}))},fetchBinary:function(){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=PE(arguments.length>1?arguments[1]:void 0);return t||CE("ERROR!!! zip not ready..."),e.compression?"gz"===e.compression?o.file(n).then((function(e){var t=rE.inflate(e).buffer;return Promise.resolve(t)})):Promise.reject(new Error("Invalid compression")):o.file(n).async("arraybuffer").then((function(e){return Promise.resolve(e)}))}}};function EE(e){if("TextDecoder"in window)return new TextDecoder("latin1").decode(e);for(var t=new Uint8Array(e),n=[],r=0;r<t.length;++r)n[r]=String.fromCharCode(t[r]);return n.join("")}aE("zip",(function(e){return OE(e)}));var TE={arrayBufferToString:EE,extractBinary:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=EE(e),o=t.exec(r);if(!o)return{text:r};var i=o.index+o[0].length,a=r.substring(0,i),s=n?n.exec(r):null;return s?{text:a+r.substr(s.index),binaryBuffer:e.slice(i,s.index)}:{text:a,binaryBuffer:e.slice(i)}}},DE=fe.vtkErrorMacro,IE=fe.vtkDebugMacro,kE=function(){return DE("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."))},ME=0;function NE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new XMLHttpRequest;return r.open(e,t,!0),n.headers&&Object.entries(n.headers).forEach((function(e){var t=g(e,2),n=t[0],o=t[1];return r.setRequestHeader(n,o)})),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}var RE={fetchArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r&&r.compression?kE():n.ref&&!n.ref.pending?new Promise((function(o,i){var a=NE("GET",[t,n.ref.basepath,n.ref.id].join("/"),r);a.onreadystatechange=function(t){1===a.readyState&&(n.ref.pending=!0,1==++ME&&e.invokeBusy&&e.invokeBusy(!0)),4===a.readyState&&(n.ref.pending=!1,200===a.status||0===a.status?(n.buffer=a.response,"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(Xn.ENDIANNESS!==n.ref.encode&&Xn.ENDIANNESS&&(IE("Swap bytes of ".concat(n.name)),Xn.swapBytes(n.buffer,de[n.dataType])),n.values=fe.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&DE("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,0==--ME&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),o(n)):i({xhr:a,e:t}))},a.responseType="string"!==n.dataType?"arraybuffer":"text",a.send()})):Promise.resolve(n)},fetchJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression?kE():new Promise((function(r,o){var i=NE("GET",t,n);i.onreadystatechange=function(t){1===i.readyState&&1==++ME&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--ME&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?r(JSON.parse(i.responseText)):o({xhr:i,e:t}))},i.responseType="text",i.send()}))},fetchText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression?kE():new Promise((function(r,o){var i=NE("GET",t,n);i.onreadystatechange=function(t){1===i.readyState&&1==++ME&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--ME&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?r(i.responseText):o({xhr:i,e:t}))},i.responseType="text",i.send()}))},fetchBinary:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var o=NE("GET",e,t);o.onreadystatechange=function(e){4===o.readyState&&(200===o.status||0===o.status?n(o.response):r({xhr:o,e}))},o.responseType="arraybuffer",o.send()}))},fetchImage:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){var o=new Image;t.crossOrigin&&(o.crossOrigin=t.crossOrigin),o.onload=function(){return n(o)},o.onerror=r,o.src=e}))}};iE("http")||aE("http",(function(e){return RE}));var BE=["pointData","cellData","fieldData"],LE={vtkDataArray:Fn,vtkStringArray:Ws},FE={},jE={vtkPolyData:function(e){var t=[];return t.push(e.points),["verts","lines","polys","strips"].forEach((function(n){e[n]&&t.push(e[n])})),t},vtkImageData:function(e){return[]},vtkUnstructuredGrid:function(e){var t=[];return t.push(e.points),t.push(e.cells),t.push(e.cellTypes),t},vtkRectilinearGrid:function(e){var t=[];return t.push(e.xCoordinates),t.push(e.yCoordinates),t.push(e.zCoordinates),t}};function VE(e,t,n,r,o,i,a){var s=t.enableArray;t.arrays=[],BE.forEach((function(e){n[e]&&(n[e].arrays.map((function(e){return e.data})).forEach((function(n){t.arrays.push({name:n.name,enable:s,location:e,array:n,registration:n.ref.registration||"addArray"})})),n[e].arrays=[])}));var u=[],c=t.progressCallback,l=t.fetchGzip?"gz":null;function f(){t.dataset=A(n),a?e.loadData().then((function(){t.output[0]=t.dataset,o(e,t.output[0])})):(t.output[0]=t.dataset,o(e,t.output[0]))}jE[n.vtkClass](n).forEach((function(e){u.push(r(e,{compression:l,progressCallback:c}))})),u.length?Promise.all(u).then(f,(function(e){i(e)})):f()}function UE(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="".concat(n.ref.id,"|").concat(n.vtkClass);return FE[o]?Promise.resolve(FE[o]).then((function(e){n!==e&&(Object.assign(n,e),delete n.ref)})):FE[o]=t.dataAccessHelper.fetchArray(e,t.baseURL,n,r).then((function(e){return FE[o]=e,e})),Promise.resolve(FE[o])}t.classHierarchy.push("vtkHttpDataSetReader"),t.output[0]=A({vtkClass:"vtkPolyData"}),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.updateMetadata=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"zip"===t.compression?new Promise((function(o,i){sE.get("http").fetchBinary(t.url).then((function(a){t.dataAccessHelper=sE.get("zip",{zipContent:a,callback:function(a){t.baseURL="",t.dataAccessHelper.fetchJSON(e,"index.json").then((function(a){VE(e,t,a,n,o,i,r)}),(function(e){i(e)}))}})}),(function(e){i(e)}))})):new Promise((function(o,i){t.dataAccessHelper.fetchJSON(e,t.url).then((function(a){VE(e,t,a,n,o,i,r)}),(function(e){i(e)}))}))},e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1!==n.indexOf("index.json")||r.fullpath){t.url=n;var o=n.split("/");o.pop(),t.baseURL=o.join("/")}else t.baseURL=n,t.url="".concat(n,"/index.json");return t.compression=r.compression,e.updateMetadata(!!r.loadData)},e.loadData=function(){var r=t.dataset,o=t.arrays.filter((function(e){return e.enable})).filter((function(e){return e.array.ref})).map((function(e){return e.array}));return new Promise((function(i,a){var s=function(e){a(e)};!function a(){if(o.length){var u=t.progressCallback,c=t.fetchGzip?"gz":null;n(o.pop(),{compression:c,progressCallback:u}).then(a,s)}else r&&(t.arrays.filter((function(e){return e.registration&&!e.array.ref})).forEach((function(e){var t=LE[e.array.vtkClass].newInstance(e.array);r["get".concat(fe.capitalize(e.location))]()[e.registration](t),delete e.registration})),r.modified(),i(e,r))}()}))},e.requestData=function(e,t){},e.enableArray=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t.arrays.filter((function(t){return t.name===n&&t.location===e}));1===o.length&&(o[0].enable=r)},e.isBusy=function(){return!!t.requestCount}}var zE={enableArray:!0,fetchGzip:!1,arrays:[],url:null,baseURL:null,requestCount:0};function GE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,zE,n),fe.obj(e,t),fe.get(e,t,["enableArray","fetchGzip","url","baseURL","dataAccessHelper"]),fe.set(e,t,["dataAccessHelper","progressCallback"]),fe.getArray(e,t,["arrays"]),fe.algo(e,t,0,1),fe.event(e,t,"busy"),UE(e,t),void 0===t.progressCallback&&(t.progressCallback=null)}var WE={newInstance:fe.newInstance(GE,"vtkHttpDataSetReader"),extend:GE},HE={ColorSpace:{RGB:0,HSV:1,LAB:2,DIVERGING:3},Scale:{LINEAR:0,LOG10:1}};function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var KE=HE.ColorSpace,XE=HE.Scale,YE=ys.ScalarMappingTarget,ZE=fe.vtkDebugMacro,JE=fe.vtkErrorMacro,$E=fe.vtkWarningMacro;function QE(e,t){var n=e[0],r=e[1],o=e[2],i=Math.sqrt(n*n+r*r+o*o),a=i>.001?Math.acos(n/i):0,s=a>.001?Math.atan2(o,r):0;t[0]=i,t[1]=a,t[2]=s}function eT(e,t){if(e[0]>=t-.1)return e[2];var n=e[1]*Math.sqrt(t*t-e[0]*e[0])/(e[0]*Math.sin(e[1]));return e[2]>-.3*Math.PI?e[2]+n:e[2]-n}function tT(e,t,n,r){var o=[],i=[];$t(t,o),$t(n,i);var a=[],s=[];QE(o,a),QE(i,s);var u=e;if(a[1]>.05&&s[1]>.05&&function(e,t){var n=e-t;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}(a[2],s[2])>.33*Math.PI){var c=Math.max(a[0],s[0]);c=Math.max(88,c),e<.5?(s[0]=c,s[1]=0,s[2]=0,u*=2):(a[0]=c,a[1]=0,a[2]=0,u=2*u-1)}a[1]<.05&&s[1]>.05?a[2]=eT(s,a[0]):s[1]<.05&&a[1]>.05&&(s[2]=eT(a,s[0]));var l=[];l[0]=(1-u)*a[0]+u*s[0],l[1]=(1-u)*a[1]+u*s[1],l[2]=(1-u)*a[2]+u*s[2];var f=[];!function(e,t){var n=e[0],r=e[1],o=e[2];t[0]=n*Math.cos(r),t[1]=n*Math.sin(r)*Math.cos(o),t[2]=n*Math.sin(r)*Math.sin(o)}(l,f),Qt(f,r)}function nT(e,t){t.classHierarchy.push("vtkColorTransferFunction"),e.getSize=function(){return t.nodes.length},e.addRGBPoint=function(t,n,r,o){return e.addRGBPointLong(t,n,r,o,.5,0)},e.addRGBPointLong=function(n,r,o,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(a<0||a>1)return JE("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return JE("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var u={x:n,r,g:o,b:i,midpoint:a,sharpness:s};t.nodes.push(u),e.sortAndUpdateRange();for(var c=0;c<t.nodes.length&&t.nodes[c].x!==n;c++);return c<t.nodes.length?c:-1},e.addHSVPoint=function(t,n,r,o){return e.addHSVPointLong(t,n,r,o,.5,0)},e.addHSVPointLong=function(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=[];return Kt([n,r,o],s),e.addRGBPoint(t,s[0],s[1],s[2],i,a)},e.setNodes=function(n){t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=function(){t.nodes.sort((function(e,t){return e.x-t.x})),e.updateRange()||e.modified()},e.updateRange=function(){var n=[2];n[0]=t.mappingRange[0],n[1]=t.mappingRange[1];var r=t.nodes.length;return r?(t.mappingRange[0]=t.nodes[0].x,t.mappingRange[1]=t.nodes[r-1].x):(t.mappingRange[0]=0,t.mappingRange[1]=0),(n[0]!==t.mappingRange[0]||n[1]!==t.mappingRange[1])&&(e.modified(),!0)},e.removePoint=function(n){for(var r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);var o=r;if(r>=t.nodes.length)return-1;var i=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(i=e.updateRange()),i||e.modified(),o},e.movePoint=function(n,r){if(n!==r){e.removePoint(r);for(var o=0;o<t.nodes.length;o++)if(t.nodes[o].x===n){t.nodes[o].x=r,e.sortAndUpdateRange();break}}},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addRGBSegment=function(n,r,o,i,a,s,u,c){e.sortAndUpdateRange();for(var l=0;l<t.nodes.length;)t.nodes[l].x>=n&&t.nodes[l].x<=a?t.nodes.splice(l,1):l++;e.addRGBPointLong(n,r,o,i,.5,0),e.addRGBPointLong(a,s,u,c,.5,0),e.modified()},e.addHSVSegment=function(t,n,r,o,i,a,s,u){var c=[a,s,u],l=[],f=[];Kt([n,r,o],l),Kt(c,f),e.addRGBSegment(t,l[0],l[1],l[2],i,f[0],f[1],f[2])},e.mapValue=function(t){var n=[];return e.getColor(t,n),[Math.floor(255*n[0]+.5),Math.floor(255*n[1]+.5),Math.floor(255*n[2]+.5),255]},e.getColor=function(n,r){if(t.indexedLookup){var o=e.getSize(),i=e.getAnnotatedValueIndexInternal(n);if(i<0||0===o)e.getNanColor(r);else{var a=[];e.getNodeValue(i%o,a),r[0]=a.r,r[1]=a.g,r[2]=a.b}}else e.getTable(n,n,1,r)},e.getRedValue=function(t){var n=[];return e.getColor(t,n),n[0]},e.getGreenValue=function(t){var n=[];return e.getColor(t,n),n[1]},e.getBlueValue=function(t){var n=[];return e.getColor(t,n),n[2]},e.getTable=function(n,r,o,i){if(yn(n)||yn(r))for(var a=0;a<o;a++)i[3*a+0]=t.nanColor[0],i[3*a+1]=t.nanColor[1],i[3*a+2]=t.nanColor[2];else{var s=0,u=t.nodes.length,c=0,l=0,f=0;0!==u&&(c=t.nodes[u-1].r,l=t.nodes[u-1].g,f=t.nodes[u-1].b);var d=0,p=0,h=0,m=[0,0,0],g=[0,0,0],v=0,y=0,b=[],w=t.scale===XE.LOG10;w&&(w=t.mappingRange[0]>0);var x=0,C=0,S=0;w&&(x=Math.log10(n),C=Math.log10(r));for(var A=0;A<o;A++){var _=3*A;if(o>1?w?(S=x+A/(o-1)*(C-x),d=Math.pow(10,S)):d=n+A/(o-1)*(r-n):w?(S=.5*(x+C),d=Math.pow(10,S)):d=.5*(n+r),t.discretize){var P=t.mappingRange;if(d>=P[0]&&d<=P[1]){var O=t.numberOfValues,E=P[1]-P[0];if(O<=1)d=P[0]+E/2;else{var T=(d-P[0])/E,D=Ee(O*T);d=P[0]+D/(O-1)*E}}}for(;s<u&&d>t.nodes[s].x;)++s<u&&(p=t.nodes[s-1].x,h=t.nodes[s].x,w&&(p=Math.log10(p),h=Math.log10(h)),m[0]=t.nodes[s-1].r,g[0]=t.nodes[s].r,m[1]=t.nodes[s-1].g,g[1]=t.nodes[s].g,m[2]=t.nodes[s-1].b,g[2]=t.nodes[s].b,v=t.nodes[s-1].midpoint,y=t.nodes[s-1].sharpness,v<1e-5&&(v=1e-5),v>.99999&&(v=.99999));if(d>t.mappingRange[1])i[_]=0,i[_+1]=0,i[_+2]=0,t.clamping&&(e.getUseAboveRangeColor()?(i[_]=t.aboveRangeColor[0],i[_+1]=t.aboveRangeColor[1],i[_+2]=t.aboveRangeColor[2]):(i[_]=c,i[_+1]=l,i[_+2]=f));else if(d<t.mappingRange[0]||mn(d)&&d<0)i[_]=0,i[_+1]=0,i[_+2]=0,t.clamping&&(e.getUseBelowRangeColor()?(i[_]=t.belowRangeColor[0],i[_+1]=t.belowRangeColor[1],i[_+2]=t.belowRangeColor[2]):u>0&&(i[_]=t.nodes[0].r,i[_+1]=t.nodes[0].g,i[_+2]=t.nodes[0].b));else if(0===s&&(Math.abs(d-n)<1e-6||t.discretize))u>0?(i[_]=t.nodes[0].r,i[_+1]=t.nodes[0].g,i[_+2]=t.nodes[0].b):(i[_]=0,i[_+1]=0,i[_+2]=0);else{var I=0;if(I=(I=w?(S-p)/(h-p):(d-p)/(h-p))<v?.5*I/v:.5+.5*(I-v)/(1-v),y>.99){if(I<.5){i[_]=m[0],i[_+1]=m[1],i[_+2]=m[2];continue}i[_]=g[0],i[_+1]=g[1],i[_+2]=g[2];continue}if(y<.01){if(t.colorSpace===KE.RGB)i[_]=(1-I)*m[0]+I*g[0],i[_+1]=(1-I)*m[1]+I*g[1],i[_+2]=(1-I)*m[2]+I*g[2];else if(t.colorSpace===KE.HSV){var k=[],M=[];qt(m,k),qt(g,M),t.hSVWrap&&(k[0]-M[0]>.5||M[0]-k[0]>.5)&&(k[0]>M[0]?k[0]-=1:M[0]-=1);var N=[];N[0]=(1-I)*k[0]+I*M[0],N[0]<0&&(N[0]+=1),N[1]=(1-I)*k[1]+I*M[1],N[2]=(1-I)*k[2]+I*M[2],Kt(N,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]}else if(t.colorSpace===KE.LAB){var R=[],B=[];$t(m,R),$t(g,B);var L=[];L[0]=(1-I)*R[0]+I*B[0],L[1]=(1-I)*R[1]+I*B[1],L[2]=(1-I)*R[2]+I*B[2],Qt(L,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]}else t.colorSpace===KE.DIVERGING?(tT(I,m,g,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]):JE("ColorSpace set to invalid value.",t.colorSpace);continue}I<.5?I=.5*Math.pow(2*I,1+10*y):I>.5&&(I=1-.5*Math.pow(2*(1-I),1+10*y));var F=I*I,j=F*I,V=2*j-3*F+1,U=-2*j+3*F,z=j-2*F+I,G=j-F,W=void 0;if(t.colorSpace===KE.RGB)for(var H=0;H<3;H++)W=(1-y)*(g[H]-m[H]),i[_+H]=V*m[H]+U*g[H]+z*W+G*W;else if(t.colorSpace===KE.HSV){var q=[],K=[];qt(m,q),qt(g,K),t.hSVWrap&&(q[0]-K[0]>.5||K[0]-q[0]>.5)&&(q[0]>K[0]?q[0]-=1:K[0]-=1);for(var X=[],Y=0;Y<3;Y++)W=(1-y)*(K[Y]-q[Y]),X[Y]=V*q[Y]+U*K[Y]+z*W+G*W,0===Y&&X[Y]<0&&(X[Y]+=1);Kt(X,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]}else if(t.colorSpace===KE.LAB){var Z=[],J=[];$t(m,Z),$t(g,J);for(var $=[],Q=0;Q<3;Q++)W=(1-y)*(J[Q]-Z[Q]),$[Q]=V*Z[Q]+U*J[Q]+z*W+G*W;Qt($,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]}else t.colorSpace===KE.DIVERGING?(tT(I,m,g,b),i[_]=b[0],i[_+1]=b[1],i[_+2]=b[2]):JE("ColorSpace set to invalid value.");for(var ee=0;ee<3;ee++)i[_+ee]=i[_+ee]<0?0:i[_+ee],i[_+ee]=i[_+ee]>1?1:i[_+ee]}}}},e.getUint8Table=function(n,r,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.getMTime()<=t.buildTime&&t.tableSize===o&&t.tableWithAlpha!==i)return t.table;if(0===t.nodes.length)return JE("Attempting to lookup a value with no points in the function"),t.table;var a=i?4:3;t.tableSize===o&&t.tableWithAlpha===i||(t.table=new Uint8Array(o*a),t.tableSize=o,t.tableWithAlpha=i);var s=[];e.getTable(n,r,o,s);for(var u=0;u<o;u++)t.table[u*a+0]=Math.floor(255*s[3*u+0]+.5),t.table[u*a+1]=Math.floor(255*s[3*u+1]+.5),t.table[u*a+2]=Math.floor(255*s[3*u+2]+.5),i&&(t.table[u*a+3]=255);return t.buildTime.modified(),t.table},e.buildFunctionFromTable=function(n,r,o,i){var a=0;e.removeAllPoints(),o>1&&(a=(r-n)/(o-1));for(var s=0;s<o;s++){var u={x:n+a*s,r:i[3*s],g:i[3*s+1],b:i[3*s+2],sharpness:0,midpoint:.5};t.nodes.push(u)}e.sortAndUpdateRange()},e.getNodeValue=function(e,n){return e<0||e>=t.nodes.length?(JE("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].r,n[2]=t.nodes[e].g,n[3]=t.nodes[e].b,n[4]=t.nodes[e].midpoint,n[5]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){if(n<0||n>=t.nodes.length)return JE("Index out of range!"),-1;var o=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].r=r[1],t.nodes[n].g=r[2],t.nodes[n].b=r[3],t.nodes[n].midpoint=r[4],t.nodes[n].sharpness=r[5],o!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.getNumberOfAvailableColors=function(){return t.indexedLookup&&e.getSize()?e.getSize():t.tableSize?t.tableSize:16777216},e.getIndexedColor=function(t,n){var r=e.getSize();if(r>0&&t>=0){var o=[];e.getNodeValue(t%r,o);for(var i=0;i<3;++i)n[i]=o[i+1];n[3]=1}else e.getNanColor(n),n[3]=1},e.fillFromDataPointer=function(t,n){if(!(t<=0)&&n){e.removeAllPoints();for(var r=0;r<t;r++)e.addRGBPoint(n[4*r],n[4*r+1],n[4*r+2],n[4*r+3])}},e.setMappingRange=function(n,r){var o=[n,r],i=e.getRange();if(i[1]!==o[1]||i[0]!==o[0])if(o[1]!==o[0]){for(var a=(o[1]-o[0])/(i[1]-i[0]),s=o[0]-i[0]*a,u=0;u<t.nodes.length;++u)t.nodes[u].x=t.nodes[u].x*a+s;t.mappingRange[0]=o[0],t.mappingRange[1]=o[1],e.modified()}else JE("attempt to set zero width color range")},e.adjustRange=function(n){var r=e.getRange(),o=[];r[0]<n[0]?(e.getColor(n[0],o),e.addRGBPoint(n[0],o[0],o[1],o[2])):(e.getColor(r[0],o),e.addRGBPoint(n[0],o[0],o[1],o[2])),r[1]>n[1]?(e.getColor(n[1],o),e.addRGBPoint(n[1],o[0],o[1],o[2])):(e.getColor(r[1],o),e.addRGBPoint(n[1],o[0],o[1],o[2])),e.sortAndUpdateRange();for(var i=0;i<t.nodes.length;)t.nodes[i].x>=n[0]&&t.nodes[i].x<=n[1]?t.nodes.splice(i,1):++i;return 1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){if(t.nodes.length<2)return-1;for(var e=Number.MAX_VALUE,n=0;n<t.nodes.length-1;n++){var r=t.nodes[n+1].x-t.nodes[n].x;r<e&&(e=r)}return e},e.mapScalarsThroughTable=function(n,r,o,i){0!==e.getSize()?t.indexedLookup?e.mapDataIndexed(n,r,o,i):e.mapData(n,r,o,i):ZE("Transfer Function Has No Points!")},e.mapData=function(t,n,r,o){if(0!==e.getSize()){var i=Math.floor(255*e.getAlpha()+.5),a=t.getNumberOfTuples(),s=t.getNumberOfComponents(),u=n.getData(),c=t.getData(),l=[];if(r===YE.RGBA)for(var f=0;f<a;f++){var d=c[f*s+o];e.getColor(d,l),u[4*f]=Math.floor(255*l[0]+.5),u[4*f+1]=Math.floor(255*l[1]+.5),u[4*f+2]=Math.floor(255*l[2]+.5),u[4*f+3]=i}if(r===YE.RGB)for(var p=0;p<a;p++){var h=c[p*s+o];e.getColor(h,l),u[3*p]=Math.floor(255*l[0]+.5),u[3*p+1]=Math.floor(255*l[1]+.5),u[3*p+2]=Math.floor(255*l[2]+.5)}if(r===YE.LUMINANCE)for(var m=0;m<a;m++){var g=c[m*s+o];e.getColor(g,l),u[m]=Math.floor(76.5*l[0]+150.45*l[1]+28.05*l[2]+.5)}if(r===YE.LUMINANCE_ALPHA)for(var v=0;v<a;v++){var y=c[v*s+o];e.getColor(y,l),u[2*v]=Math.floor(76.5*l[0]+150.45*l[1]+28.05*l[2]+.5),u[2*v+1]=i}}else $E("Transfer Function Has No Points!")},e.applyColorMap=function(n){if(n.ColorSpace&&(t.colorSpace=KE[n.ColorSpace.toUpperCase()],void 0===t.colorSpace&&(JE("ColorSpace ".concat(n.ColorSpace," not supported, using RGB instead")),t.colorSpace=KE.RGB)),n.NanColor)for(t.nanColor=[].concat(n.NanColor);t.nanColor.length<4;)t.nanColor.push(1);if(n.RGBPoints){var r=n.RGBPoints.length;t.nodes=[];for(var o=0;o<r;o+=4)t.nodes.push({x:n.RGBPoints[o],r:n.RGBPoints[o+1],g:n.RGBPoints[o+2],b:n.RGBPoints[o+3],midpoint:.5,sharpness:0})}e.sortAndUpdateRange()}}var rT={clamping:!0,colorSpace:KE.RGB,hSVWrap:!0,scale:XE.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function oT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rT,n),ys.extend(e,t,n),t.table=[],t.nodes=[],t.nanColor=[.5,0,0,1],t.belowRangeColor=[0,0,0,1],t.aboveRangeColor=[1,1,1,1],t.buildTime={},fe.obj(t.buildTime),fe.get(e,t,["buildTime","mappingRange"]),fe.setGet(e,t,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),fe.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),fe.getArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"]),nT(e,t)}var iT=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(oT,"vtkColorTransferFunction"),extend:oT},HE),aT={NEAREST:0,LINEAR:1,FAST_LINEAR:2},sT={FRACTIONAL:0,PROPORTIONAL:1},uT={InterpolationType:aT,OpacityMode:sT};function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lT=uT.InterpolationType,fT=uT.OpacityMode,dT=fe.vtkErrorMacro;function pT(e,t){t.classHierarchy.push("vtkVolumeProperty"),e.getMTime=function(){for(var e,n=t.mtime,r=0;r<4;r++)1===t.componentData[r].colorChannels?t.componentData[r].grayTransferFunction&&(n=n>(e=t.componentData[r].grayTransferFunction.getMTime())?n:e):3===t.componentData[r].colorChannels&&t.componentData[r].rGBTransferFunction&&(n=n>(e=t.componentData[r].rGBTransferFunction.getMTime())?n:e),t.componentData[r].scalarOpacity&&(n=n>(e=t.componentData[r].scalarOpacity.getMTime())?n:e),t.componentData[r].gradientOpacity&&(t.componentData[r].disableGradientOpacity||(n=n>(e=t.componentData[r].gradientOpacity.getMTime())?n:e));return n},e.getColorChannels=function(e){return e<0||e>3?(dT("Bad index - must be between 0 and 3"),0):t.componentData[e].colorChannels},e.setGrayTransferFunction=function(n,r){var o=!1;return t.componentData[n].grayTransferFunction!==r&&(t.componentData[n].grayTransferFunction=r,o=!0),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1,o=!0),o&&e.modified(),o},e.getGrayTransferFunction=function(n){return null===t.componentData[n].grayTransferFunction&&(t.componentData[n].grayTransferFunction=Ju.newInstance(),t.componentData[n].grayTransferFunction.addPoint(0,0),t.componentData[n].grayTransferFunction.addPoint(1024,1),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1),e.modified()),t.componentData[n].grayTransferFunction},e.setRGBTransferFunction=function(n,r){var o=!1;return t.componentData[n].rGBTransferFunction!==r&&(t.componentData[n].rGBTransferFunction=r,o=!0),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3,o=!0),o&&e.modified(),o},e.getRGBTransferFunction=function(n){return null===t.componentData[n].rGBTransferFunction&&(t.componentData[n].rGBTransferFunction=iT.newInstance(),t.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),t.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3),e.modified()),t.componentData[n].rGBTransferFunction},e.setScalarOpacity=function(n,r){return t.componentData[n].scalarOpacity!==r&&(t.componentData[n].scalarOpacity=r,e.modified(),!0)},e.getScalarOpacity=function(n){return null===t.componentData[n].scalarOpacity&&(t.componentData[n].scalarOpacity=Ju.newInstance(),t.componentData[n].scalarOpacity.addPoint(0,1),t.componentData[n].scalarOpacity.addPoint(1024,1),e.modified()),t.componentData[n].scalarOpacity},e.setComponentWeight=function(n,r){if(n<0||n>=4)return dT("Invalid index"),!1;var o=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight!==o&&(t.componentData[n].componentWeight=o,e.modified(),!0)},e.getComponentWeight=function(e){return e<0||e>=4?(dT("Invalid index"),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(lT.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(lT.LINEAR)},e.setInterpolationTypeToFastLinear=function(){return e.setInterpolationType(lT.FAST_LINEAR)},e.getInterpolationTypeAsString=function(){return fe.enumToString(lT,t.interpolationType)},["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach((function(n){var r=fe.capitalize(n);e["set".concat(r)]=function(r,o){return t.componentData[r]["".concat(n)]!==o&&(t.componentData[r]["".concat(n)]=o,e.modified(),!0)}})),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach((function(n){var r=fe.capitalize(n);e["get".concat(r)]=function(e){return t.componentData[e]["".concat(n)]}}))}var hT={independentComponents:!0,interpolationType:lT.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1};function mT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,hT,n),fe.obj(e,t),!t.componentData){t.componentData=[];for(var r=0;r<4;++r)t.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:fT.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}fe.setGet(e,t,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),pT(e,t)}var gT=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(mT,"vtkVolumeProperty"),extend:mT},uT),vT=fe.vtkDebugMacro;function yT(e,t){t.classHierarchy.push("vtkVolume"),e.getVolumes=function(){return e},e.makeProperty=gT.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n,r=t.mapper.getBounds();if(!r||6!==r.length)return r;if(r[0]>r[1])return t.mapperBounds=r.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),r;if(!t.mapperBounds||!(n=[r,t.mapperBounds],n[0].map((function(e,t){return n.map((function(e){return e[t]}))}))).reduce((function(e,t){return e&&t[0]===t[1]}),!0)||e.getMTime()>t.boundsMTime.getMTime()){vT("Recomputing bounds..."),t.mapperBounds=r.map((function(e){return e}));var o=[];Xr.getCorners(r,o),e.computeMatrix();var i=new Float64Array(16);Ii(i,t.matrix),o.forEach((function(e){return ii(e,e,i)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2==0?o.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):o.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e}}var bT={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function wT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bT,n),Yg.extend(e,t,n),t.boundsMTime={},fe.obj(t.boundsMTime),fe.set(e,t,["property"]),fe.setGet(e,t,["mapper"]),fe.getArray(e,t,["bounds"],6),yT(e,t)}var xT={newInstance:fe.newInstance(wT,"vtkVolume"),extend:wT},CT=sE.get("http");function ST(e,t,n,r,o,i){t.readers=[];var a=[];return n.series.forEach((function(e){var n=WE.newInstance({fetchGzip:t.fetchGzip,dataAccessHelper:t.dataAccessHelper});a.push(n.setUrl("".concat(t.baseURL,"/").concat(e.url),{loadData:i})),t.readers.push({timeStep:e.timeStep,reader:n})})),Promise.all(a).then((function(){var t=e.getTimeRange();t&&0!==t.length&&e.setUpdateTimeStep(t[0]),r(e)}),(function(e){o(e)}))}function AT(e,t){t.classHierarchy.push("vtkHttpDataSetSeriesReader"),t.output[0]=A({vtkClass:"vtkPolyData"}),t.dataAccessHelper||(t.dataAccessHelper=CT),t.currentReader=null,e.updateMetaData=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"zip"===t.compression?new Promise((function(r,o){CT.fetchBinary(t.baseURL).then((function(i){t.dataAccessHelper=sE.get("zip",{zipContent:i,callback:function(i){t.baseURL="",t.dataAccessHelper.fetchJSON(e,"index.json").then((function(i){ST(e,t,i,r,o,n)}),(function(e){o(e)}))}})}))})):new Promise((function(r,o){t.dataAccessHelper.fetchJSON(e,t.url).then((function(i){return ST(e,t,i,r,o,n)}),(function(e){o(e)}))}))},e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.endsWith("index.json")||r.fullpath){t.url=n;var o=n.split("/");o.pop(),t.baseURL=o.join("/")}else t.baseURL=n,t.url="".concat(n,"/index.json");return t.compression=r.compression,e.updateMetaData(r.loadData)},e.getTimeSteps=function(){return t.readers.map((function(e){return e.timeStep})).sort()},e.getTimeRange=function(){var t=e.getTimeSteps(),n=t.length;return n>=1?[t[0],t[n-1]]:[]},e.setUpdateTimeStep=function(n){var r=t.readers.reduce((function(e,t){return t.timeStep<=n?t:e}));void 0!==r&&(t.currentReader=r.reader,t.output[0]=t.currentReader.getOutputData(),t.output[0].modified(),e.modified())},e.requestData=function(e,n){t.currentReader&&(n[0]=t.currentReader.getOutputData())},e.enableArray=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.currentReader&&t.currentReader.reader.enableArray(e,n,r)},e.loadData=function(){t.currentReader&&t.currentReader.reader.loadData()}}var _T={fetchGzip:!1,url:null,baseURL:null,dataAccessHelper:null};function PT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_T,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.set(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),AT(e,t)}var OT={newInstance:fe.newInstance(PT,"vtkHttpDataSetSeriesReader"),extend:PT};function ET(e,t){t.classHierarchy.push("vtkTexture"),e.imageLoaded=function(){t.image.removeEventListener("load",e.imageLoaded),t.imageLoaded=!0,e.modified()},e.setImage=function(n){t.image!==n&&(null!==n&&(e.setInputData(null),e.setInputConnection(null)),t.image=n,t.imageLoaded=!1,n.complete?e.imageLoaded():n.addEventListener("load",e.imageLoaded),e.modified())}}var TT={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,imageLoaded:!1};function DT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,TT,n),fe.obj(e,t),fe.algo(e,t,6,0),fe.get(e,t,["imageLoaded"]),fe.setGet(e,t,["repeat","edgeClamp","interpolate","image"]),ET(e,t)}var IT={newInstance:fe.newInstance(DT,"vtkTexture"),extend:DT},kT=fe.vtkErrorMacro;function MT(e,t){t.classHierarchy.push("vtkTextureLODsDownloader");var n={downloadStack:[]};e.startDownloads=function(){if(t.texture)if(t.files&&0!==t.files.length){var e=t.baseUrl;e&&!e.endsWith("/")&&(e+="/"),n.downloadStack=[],t.files.forEach((function(t){return n.downloadStack.push("".concat(e).concat(t))})),setTimeout((function e(){if(0!==n.downloadStack.length){var r=function(){setTimeout(e,t.waitTimeBetweenDownloads)},o=new Image;t.crossOrigin&&(o.crossOrigin=t.crossOrigin);var i=n.downloadStack.shift();(function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("HEAD",e,!0),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var o=r.getResponseHeader("Content-Length");t(o)}else console.log("Failed to get remote file size of",e),n(r)},r.send()}))})(i).then((function(e){if(!e||e/1024>t.maxTextureLODSize)return e?console.log("Skipping image",i,", because it is larger","than the max texture size:",t.maxTextureLODSize,"KiB"):console.log("Failed to get image size"),void r();o.src=i,o.decode().then((function(){t.texture.setImage(o),t.stepFinishedCallback&&t.stepFinishedCallback(),r()})).catch((function(e){console.log("Failed to decode image:",o.src),console.log("Error is:",e),r()}))})).catch((function(e){console.log("Failed to get size of:",i),console.log("status was:",e.status),console.log("statusText was:",e.statusText),r()}))}}),t.waitTimeToStart)}else kT("No files set.");else kT("Texture was not set.")}}var NT={baseUrl:"",files:[],texture:null,crossOrigin:void 0,maxTextureLODSize:5e4,stepFinishedCallback:null,waitTimeToStart:4e3,waitTimeBetweenDownloads:0};function RT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,NT,n),fe.obj(e,t),fe.setGet(e,t,["baseUrl","files","texture","crossOrigin","maxTextureLODSize","stepFinishedCallback","waitTimeToStart","waitTimeBetweenDownloads"]),MT(e,t)}var BT={newInstance:fe.newInstance(RT,"vtkTextureLODsDownloader"),extend:RT},LT=fe.vtkErrorMacro;function FT(e,t){t.classHierarchy.push("vtkHttpDataSetLODsLoader");var n={downloadStack:[]};e.startDownloads=function(){if(t.mapper)if(t.files&&0!==t.files.length){var e=t.baseUrl;e&&!e.endsWith("/")&&(e+="/"),n.downloadStack=[],t.files.forEach((function(t){return n.downloadStack.push("".concat(e).concat(t))})),setTimeout((function e(){var r=n.downloadStack.shift(),o=WE.newInstance({dataAccessHelper:sE.get("http")});t.currentSource=o,o.setUrl(r,{compression:"zip",loadData:!0,fullpath:!0}).then((function(){if(t.mapper.setInputConnection(o.getOutputPort()),t.sceneItem){var r=t.sceneItem.defaultSettings;r.mapper&&r.mapper.colorByArrayName&&o.enableArray(r.mapper.colorByArrayName,r.mapper.colorByArrayName),t.sceneItem.source=o}t.stepFinishedCallback&&t.stepFinishedCallback(),0!==n.downloadStack.length&&setTimeout(e,t.waitTimeBetweenDownloads)}))}),t.waitTimeToStart)}else LT("No files set.");else LT("Mapper was not set.")}}var jT={baseUrl:"",currentSource:null,files:[],mapper:null,sceneItem:null,stepFinishedCallback:null,waitTimeToStart:4e3,waitTimeBetweenDownloads:0};function VT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jT,n),fe.obj(e,t),fe.setGet(e,t,["baseUrl","files","mapper","sceneItem","stepFinishedCallback","waitTimeToStart","waitTimeBetweenDownloads"]),fe.get(e,t,["currentSource"]),FT(e,t)}var UT={newInstance:fe.newInstance(VT,"vtkHttpDataSetLODsLoader"),extend:VT},zT={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4},GT=zT;function WT(e,t){t.classHierarchy.push("vtkVolumeMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=bn(),t.bounds},e.update=function(){e.getInputData()},e.setBlendModeToComposite=function(){e.setBlendMode(GT.COMPOSITE_BLEND)},e.setBlendModeToMaximumIntensity=function(){e.setBlendMode(GT.MAXIMUM_INTENSITY_BLEND)},e.setBlendModeToMinimumIntensity=function(){e.setBlendMode(GT.MINIMUM_INTENSITY_BLEND)},e.setBlendModeToAverageIntensity=function(){e.setBlendMode(GT.AVERAGE_INTENSITY_BLEND)},e.setBlendModeToAdditiveIntensity=function(){e.setBlendMode(GT.ADDITIVE_INTENSITY_BLEND)},e.setAverageIPScalarRange=function(t,n){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),e.setIpScalarRange(t,n)},e.getBlendModeAsString=function(){return fe.enumToString(GT,t.blendMode)}}var HT={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:GT.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6]};function qT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HT,n),mv.extend(e,t,n),fe.obj(e,t),fe.algo(e,t,1,0),fe.setGet(e,t,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode"]),fe.setGetArray(e,t,["ipScalarRange"],2),fe.event(e,t,"lightingActivated"),WT(e,t)}var KT={newInstance:fe.newInstance(qT,"vtkVolumeMapper"),extend:qT};function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XT(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZT(e,t){e.setCurrentTimeStep=function(n){t.timeSteps&&0!==t.timeSteps.length&&(t.timeSteps.includes(n)?t.currentTimeStep=n:n<=t.timeSteps[0]?t.currentTimeStep=t.timeSteps[0]:t.currentTimeStep=t.timeSteps.find((function(e,t,r){return t===r.length-1||n>=e&&n<r[t+1]})),e.update())},e.setData=function(e){t.data=e,e.timeSteps&&(t.timeSteps=e.timeSteps.map((function(e){return e.time})),t.timeRange=[t.timeSteps[0],t.timeSteps[t.timeSteps.length-1]],t.currentTimeStep=t.timeSteps[0])},e.setScene=function(e,n,r,o){t.scene=e,t.originalMetadata=n,t.applySettings=r,t.renderer=o},e.setCameraParameters=function(e){t.renderers&&t.renderers.forEach((function(t){var n=t.getActiveCamera();n&&n.set(e)}))},e.setBackground=function(e){t.renderers&&t.renderers.forEach((function(t){t.setBackground(e)}))},e.update=function(){if(t.data&&t.scene){var n=t.data.timeSteps.find((function(e){return e.time===t.currentTimeStep}));if(n.camera){var r=YT({},t.originalMetadata.camera);Object.assign(r,n.camera),e.setCameraParameters(r)}n.background&&e.setBackground(n.background),t.scene&&t.scene.forEach((function(e){e.source.setUpdateTimeStep&&e.source.getTimeSteps().includes(t.currentTimeStep)&&e.source.setUpdateTimeStep(t.currentTimeStep);var r=e.id;if(n[r]){var o=YT({},e.defaultSettings);Object.assign(o,n[r]),t.applySettings(e,o)}}))}},e.addRenderer=function(e){e&&!t.renderers.includes(e)&&t.renderers.push(e)}}var JT={timeSteps:[0],timeRange:[0,0],currentTimeStep:0,scene:null,data:null,renderers:[],applySettings:null,originalMetadata:null};function $T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,JT,n),fe.obj(e,t),fe.get(e,t,["applySettings","currentTimeStep","data","originalMetada","scene","timeRange","timeSteps"]),fe.setGet(e,t,["renderers"]),ZT(e,t)}var QT={newInstance:fe.newInstance($T,"vtkTimeStepBasedAnimationHandler"),extend:$T};function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nD=fe.vtkErrorMacro,rD=1;function oD(e,t){if(t.actor&&e.actor.set(t.actor),t.actorRotation&&e.actor.rotateWXYZ(t.actorRotation[0],t.actorRotation[1],t.actorRotation[2],t.actorRotation[3]),t.volumeRotation&&e.volume.rotateWXYZ(t.volumeRotation[0],t.volumeRotation[1],t.volumeRotation[2],t.volumeRotation[3]),t.property)if(t.volume){var n=tD({},t.property);if(delete n.components,e.volume.getProperty().set(n),t.property.components){var r=e.volume.getProperty();e.volumeComponents.forEach((function(e,n){r.setScalarOpacityUnitDistance(n,t.property.components[n].scalarOpacityUnitDistance),e.rgbTransferFunction&&r.setRGBTransferFunction(n,e.rgbTransferFunction),e.grayTransferFunction&&r.setGrayTransferFunction(n,e.grayTransferFunction),e.scalarOpacity&&r.setScalarOpacity(n,e.scalarOpacity)}))}}else e.actor.getProperty().set(t.property);t.mapper&&(t.mapper.colorByArrayName&&(e.source.enableArray(t.mapper.colorByArrayName,t.mapper.colorByArrayName),e.source.loadData()),e.mapper.set(t.mapper),t.mapper.colorByArrayName&&t.luts[t.mapper.colorByArrayName]&&(e.mapper.setLookupTable(t.luts[t.mapper.colorByArrayName]),e.mapper.setUseLookupTableScalarRange(!0))),t.lookupTable&&(e.mapper.getLookupTable().set(t.lookupTable),e.mapper.getLookupTable().build()),t.textureLODs&&(e.textureLODs=t.textureLODs),t.sourceLODs&&(e.sourceLODs=t.sourceLODs)}function iD(e){var t=iT.newInstance(e);return e.nodes&&(t.removeAllPoints(),e.nodes.forEach((function(e){var n=g(e,6),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5];t.addRGBPointLong(r,o,i,a,s,u)}))),t}function aD(e){var t=Ju.newInstance(e);return e.points&&(t.removeAllPoints(),e.points.forEach((function(e){var n=g(e,4),r=n[0],o=n[1],i=n[2],a=n[3];return t.addPointLong(r,o,i,a)}))),t}function sD(e){return function(t,n,r){var o,i=e.newInstance({fetchGzip:n.fetchGzip,dataAccessHelper:n.dataAccessHelper});o=t.volume?KT.newInstance():Uv.newInstance();var a={name:t.name||"Item ".concat(rD++),source:i,mapper:o,defaultSettings:t};if(t.volume){var s=xT.newInstance();a.volume=s,n.renderer&&n.renderer.addVolume(s),t.property&&t.property.components&&(a.volumeComponents=t.property.components.map((function(e){var t={};return e.rgbTransferFunction?t.rgbTransferFunction=iD(e.rgbTransferFunction):e.grayTransferFunction&&(t.grayTransferFunction=aD(e.grayTransferFunction)),e.scalarOpacity&&(t.scalarOpacity=aD(e.scalarOpacity)),t}))),s.setMapper(o)}else{var u=dv.newInstance();if(a.actor=u,t.texture&&t.texture in n.usedTextures)u.addTexture(n.usedTextures[t.texture]);else if(t.texture){var c=[n.baseURL,t.texture].join("/"),l=IT.newInstance();if(l.setInterpolate(!0),l.setRepeat(!0),u.addTexture(l),a.texture=l,n.usedTextures[t.texture]=l,function(e){var t=e.split(".").pop().toLowerCase();return-1!==["jpg","png","jpeg"].indexOf(t)}(t.texture))n.dataAccessHelper.fetchImage({},c,{crossOrigin:"anonymous"}).then((function(e){l.setImage(e)}));else{var f=e.newInstance({fetchGzip:n.fetchGzip,dataAccessHelper:n.dataAccessHelper});f.setUrl(c,{loadData:!0}).then((function(){l.setInputData(f.getOutputData())}))}}var d=t.textureLODs;if(d&&d.files&&0!==d.files.length){var p=JSON.stringify(d);if(p in n.usedTextureLODs)u.addTexture(n.usedTextureLODs[p]);else{a.textureLODsDownloader=BT.newInstance();var h=a.textureLODsDownloader,m=IT.newInstance();m.setInterpolate(!0),u.addTexture(m),n.usedTextureLODs[p]=m,h.setTexture(m),h.setCrossOrigin("anonymous"),h.setBaseUrl(d.baseUrl),h.setFiles(d.files),n.startLODLoaders&&h.startDownloads()}}n.renderer&&n.renderer.addActor(u),u.setMapper(o)}o.setInputConnection(i.getOutputPort()),i.setUrl([n.baseURL,t[t.type].url].join("/"),{loadData:!0}).then((function(){return r.invokeReady()})),oD(a,t),n.scene.push(a);var g=t.sourceLODs;if(g&&g.files&&0!==g.files.length){a.dataSetLODsLoader=UT.newInstance();var v=a.dataSetLODsLoader;v.setMapper(o),v.setSceneItem(a),v.setBaseUrl(g.baseUrl),v.setFiles(g.files),n.startLODLoaders&&v.startDownloads()}return a}}function uD(e,t){t.animationHandler=QT.newInstance({scene:t.scene,originalMetadata:t.metadata,applySettings:oD}),t.animationHandler&&t.renderer&&t.animationHandler.addRenderer(t.renderer),t.animationHandler.setData(e)}var cD={httpDataSetReader:sD(WE),vtkHttpDataSetReader:sD(WE),httpDataSetSeriesReader:sD(OT),vtkHttpDataSetSeriesReader:sD(OT)},lD={timeStepBasedAnimationHandler:uD,vtkTimeStepBasedAnimationHandler:uD};function fD(e,t){var r={};function o(e){if(t.renderer){var n=t.renderer.getActiveCamera();n?n.set(e):nD("No active camera to update")}}function i(e){t.renderer&&t.renderer.setBackground(e)}t.usedTextures||(t.usedTextures={}),t.usedTextureLODs||(t.usedTextureLODs={}),t.classHierarchy.push("vtkHttpSceneLoader"),t.scene||(t.scene=[]),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.update=function(){t.dataAccessHelper.fetchJSON(e,t.url).then((function(a){void 0!==a.fetchGzip&&(t.fetchGzip=a.fetchGzip),a.background&&t.renderer&&i(a.background),a.camera&&(r.camera=a.camera,o(a.camera));var s={};a.lookupTables&&Object.keys(a.lookupTables).forEach((function(e){var t=iD(a.lookupTables[e]);s[e]=t})),a.scene&&(a.scene.forEach((function(n){var r=cD[n.type];r&&r(tD({luts:s},n),t,e)})),n.g.scene=t.scene,t.usedTextures={},t.usedTextureLODs={}),t.metadata=a,a.animation&&(0,lD[a.animation.type])(tD({},a.animation),t,e,o,i)}),(function(e){nD("Error fetching scene ".concat(e))}))},e.resetScene=function(){r.camera&&o(r.camera)},e.setUrl=function(n){if(-1===n.indexOf("index.json"))t.baseURL=n,t.url="".concat(n,"/index.json");else{t.url=n;var r=n.split("/");r.pop(),t.baseURL=r.join("/")}return e.update()}}var dD={fetchGzip:!1,url:null,baseURL:null,animationHandler:null,startLODLoaders:!0};function pD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dD,n),fe.obj(e,t),fe.get(e,t,["fetchGzip","url","baseURL","scene","metadata","animationHandler"]),fe.setGet(e,t,["renderer"]),fe.event(e,t,"ready"),fD(e,t)}var hD={newInstance:fe.newInstance(pD,"vtkHttpSceneLoader"),extend:pD,applySettings:oD,updateDatasetTypeMapping:function(e,t){cD[e]=t}};function mD(e){return{subscribeToImageStream:function(t){return e.subscribe("viewport.image.push.subscription",t)},unsubscribeToImageStream:function(t){return e.unsubscribe(t)},registerView:function(t){return e.call("viewport.image.push.observer.add",[t])},unregisterView:function(t){return e.call("viewport.image.push.observer.remove",[t])},enableView:function(t,n){return e.call("viewport.image.push.enabled",[t,n])},render:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:[400,400],view:-1};return e.call("viewport.image.push",[t])},resetCamera:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return e.call("viewport.camera.reset",[t])},invalidateCache:function(t){return e.call("viewport.image.push.invalidate.cache",[t])},setQuality:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.call("viewport.image.push.quality",[t,n,r])},setSize:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return e.call("viewport.image.push.original.size",[t,n,r])},setServerAnimationFPS:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e.call("viewport.image.animation.fps.max",[t])},getServerAnimationFPS:function(){return e.call("viewport.image.animation.fps.get",[])},startAnimation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return e.call("viewport.image.animation.start",[t])},stopAnimation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return e.call("viewport.image.animation.stop",[t])},updateCamera:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return e.call("viewport.camera.update",[t,n,r,o,i])},updateCameraParameters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.call("viewport.camera.update.params",[t,n,r])}}}function gD(e,t){function n(n){var r=Number(this.dataset.id);e.invokeImageReady(t.eventPool[r])}t.classHierarchy.push("vtkViewStream"),t.imageDecodingPool=[new Image,new Image],t.eventPool=[],t.nextPoolImageIndex=0,t.urlToRevoke=[],t.activeURL=null,t.fps=[],t.lastTime=Date.now(),t.lastImageEvent=null,e.pushCamera=function(){var n,r=t.camera.getReferenceByName("focalPoint"),o=t.camera.getReferenceByName("viewUp"),i=t.camera.getReferenceByName("position"),a=t.camera.getParallelProjection(),s=t.camera.getViewAngle(),u=t.camera.getParallelScale();return n=t.useCameraParameters?t.protocol.updateCameraParameters(t.viewId,{focalPoint:r,viewUp:o,position:i,parallelProjection:a,viewAngle:s,parallelScale:u},!1):t.protocol.updateCamera(t.viewId,r,o,i,!1),t.isAnimating&&setTimeout(e.pushCamera,1e3/t.cameraUpdateRate),n},e.invalidateCache=function(){return t.protocol.invalidateCache(t.viewId)},e.render=function(){return t.protocol.render({view:t.viewId,size:t.size})},e.resetCamera=function(){return t.protocol.resetCamera(t.viewId)},e.startAnimation=function(){return t.protocol.startAnimation(t.viewId)},e.stopAnimation=function(){return t.protocol.stopAnimation(t.viewId)},e.setSize=function(n,r){var o=!1;return t.size[0]===n&&t.size[1]===r||(t.size=[n,r],o=!0),o&&(e.modified(),t.protocol)?t.protocol.setSize(t.viewId,n,r):Promise.resolve(!1)},e.startInteraction=function(){var n=[t.protocol.setQuality(t.viewId,t.interactiveQuality,t.interactiveRatio)];return t.camera&&(n.push(e.startAnimation()),t.isAnimating=!0,n.push(e.pushCamera())),Promise.all(n)},e.endInteraction=function(){var n=[];return n.push(t.protocol.setQuality(t.viewId,t.stillQuality,t.stillRatio)),t.camera?(n.push(e.stopAnimation()),t.isAnimating=!1,n.push(e.pushCamera())):n.push(e.render()),Promise.all(n)},e.setViewId=function(e){return!(t.viewId===e||!t.protocol||(t.viewId&&t.protocol.unregisterView(t.viewId),t.viewId=e,t.viewId&&t.protocol.registerView(t.viewId).then((function(e){var n=e.viewId;t.viewId=n})),0))},e.processMessage=function(n){if(n.id==t.viewId){var r=new Blob([n.image],{type:t.mimeType});if(t.activeURL)for(t.urlToRevoke.push(t.activeURL),t.activeURL=null;t.urlToRevoke.length>60;){var o=t.urlToRevoke.shift();window.URL.revokeObjectURL(o)}t.activeURL=URL.createObjectURL(r);var i,a=Date.now(),s=Math.floor(1e4/(a-t.lastTime))/10;for(t.fps.push(s),t.lastTime=a,t.lastImageEvent={url:t.activeURL,fps:s,metadata:{size:n.size,id:n.id,memory:n.memsize,workTime:n.workTime}},t.decodeImage?(i=t.lastImageEvent,t.eventPool[t.nextPoolImageIndex]=i,i.image=t.imageDecodingPool[t.nextPoolImageIndex++],t.nextPoolImageIndex%=t.imageDecodingPool.length,i.image.src=i.url):e.invokeImageReady(t.lastImageEvent);t.fps.length>t.fpsWindowSize;)t.fps.shift()}},e.delete=fe.chain((function(){for(t.unregisterViewStream(e),e.setViewId(null);t.urlToRevoke.length;)window.URL.revokeObjectURL(t.urlToRevoke.pop())}),e.delete),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;t.imageDecodingPool.length<e;)t.imageDecodingPool.push(new Image);for(var r=0;r<t.imageDecodingPool.length;r++)t.imageDecodingPool[r].dataset.id=r,t.imageDecodingPool[r].onload=n}()}var vD={cameraUpdateRate:30,decodeImage:!0,fpsWindowSize:250,interactiveQuality:80,interactiveRatio:1,isAnimating:!1,mimeType:"image/jpeg",size:[-1,-1],stillQuality:100,stillRatio:1,useCameraParameters:!1,viewId:null};function yD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vD,n),fe.obj(e,t),fe.event(e,t,"ImageReady"),fe.get(e,t,["viewId","size","fps","lastImageEvent"]),fe.setGet(e,t,["camera","cameraUpdateRate","decodeImage","fpsWindowSize","interactiveQuality","interactiveRatio","stillQuality","stillRatio","useCameraParameters"]),gD(e,t),Object.assign(e,t.sharedAPI)}var bD={newInstance:fe.newInstance(yD,"vtkViewStream"),extend:yD};function wD(e,t){function n(e){var n=e[0];if(n&&n.image)for(var r=0;r<t.viewStreams.length;r++)t.viewStreams[r].processMessage(n)}t.classHierarchy.push("vtkImageStream"),e.setServerAnimationFPS=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,r=!1;return t.serverAnimationFPS!==n&&(t.serverAnimationFPS=n,r=!0),t.protocol?(r&&e.modified(),t.protocol.setServerAnimationFPS(n)):Promise.resolve(!0)},e.connect=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mD;!t.connected&&e&&r&&(t.protocol=r(e),t.protocol.subscribeToImageStream(n).then((function(e){t.renderTopicSubscription=e,t.connected=!0})).catch((function(e){t.connected=!1,console.error(e)})))},e.disconnect=function(){t.protocol&&t.connected&&t.renderTopicSubscription&&(t.protocol.unsubscribeToImageStream(t.renderTopicSubscription),t.renderTopicSubscription=null),t.connected=!1},e.registerViewStream=function(e){t.viewStreams.push(e)},e.unregisterViewStream=function(e){t.viewStreams=t.viewStreams.filter((function(t){return t!==e}))},e.createViewStream=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[400,400],o=e.setServerAnimationFPS,i=e.getServerAnimationFPS,a=e.unregisterViewStream,s=bD.newInstance({protocol:t.protocol,unregisterViewStream:a,sharedAPI:{setServerAnimationFPS:o,getServerAnimationFPS:i}});return s.setViewId(n),s.setSize(r[0],r[1]),e.registerViewStream(s),s},e.delete=fe.chain((function(){for(;t.viewStreams.length;)t.viewStreams.pop().delete();e.disconnect()}),e.delete)}var xD={viewStreams:[],serverAnimationFPS:-1};function CD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xD,n),fe.obj(e,t),fe.get(e,t,["serverAnimationFPS","protocol"]),wD(e,t)}var SD={newInstance:fe.newInstance(CD,"vtkImageStream"),extend:CD},AD=[],_D={loadScript:function(e){return new Promise((function(t,n){if(-1===AD.indexOf(e)){AD.push(e);var r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t,r.onerror=n,document.body.appendChild(r)}else t(!1)}))},loadCSS:function(e){return new Promise((function(t,n){if(-1===AD.indexOf(e)){AD.push(e);var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=t,r.onerror=n,document.head.appendChild(r)}else t(!1)}))},LOADED_URLS:AD},PD=null;function OD(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return new Promise((function(n,o){t(1),e.apply(void 0,r).then((function(e){t(-1),n(e)}),(function(e){t(-1),o(e)}))}))}}function ED(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={};return Object.keys(e).forEach((function(o){-1===n.indexOf(o)?r[o]=OD(e[o],t):r[o]=e[o]})),r}function TD(e,t){function n(){e.invokeBusyChange(t.busyCount)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.busyCount+=e,t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=0),t.busyCount?n():t.timeoutId=setTimeout(n,t.notificationTimeout)}t.classHierarchy.push("vtkWSLinkClient"),e.beginBusy=function(){return r(1)},e.endBusy=function(){return r(-1)},e.isBusy=function(){return!!t.busyCount},e.isConnected=function(){return!!t.connection},e.connect=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return PD?t.connection?Promise.reject(new Error("Need to disconnect first")):(t.config=n,t.configDecorator=o||t.configDecorator,new Promise((function(o,i){t.smartConnect=PD.newInstance({config:n,configDecorator:t.configDecorator}),t.smartConnect.onConnectionReady((function(n){t.connection=n,t.remote={},t.config=t.smartConnect.getConfig();var i=n.getSession();t.protocols=t.protocols||{},Object.keys(t.protocols).forEach((function(e){t.remote[e]=ED(t.protocols[e](i),r,t.notBusyList)})),t.createImageStream&&(t.imageStream=SD.newInstance(),t.imageStream.connect(i)),e.invokeConnectionReady(e),o(e)})),t.smartConnect.onConnectionError((function(t){e.invokeConnectionError(t),i(t)})),t.smartConnect.onConnectionClose((function(t){e.invokeConnectionClose(t),i(t)})),t.smartConnect.connect()}))):Promise.reject(new Error("Need to provide SmartConnect"))},e.disconnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;t.connection&&(t.connection.destroy(e),t.connection=null)},e.registerProtocol=function(e,n){t.remote[e]=ED(n(t.connection.getSession()),r,t.notBusyList)},e.unregisterProtocol=function(e){delete t.remote[e]}}var DD={notBusyList:[],busyCount:0,timeoutId:0,notificationTimeout:50,createImageStream:!0};function ID(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,DD,n),fe.obj(e,t),fe.setGet(e,t,["protocols","notBusyList","createImageStream","configDecorator"]),fe.get(e,t,["connection","config","remote","imageStream"]),fe.event(e,t,"BusyChange"),fe.event(e,t,"ConnectionReady"),fe.event(e,t,"ConnectionError"),fe.event(e,t,"ConnectionClose"),TD(e,t)}var kD=fe.newInstance(ID,"vtkWSLinkClient"),MD={BinaryHelper:TE,DataAccessHelper:sE,vtkHttpDataSetReader:WE,vtkHttpSceneLoader:hD,vtkImageStream:SD,vtkResourceLoader:_D,vtkWSLinkClient:{newInstance:kD,extend:ID,setSmartConnectClass:function(e){PD=e}}},ND=fe.vtkErrorMacro;function RD(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function BD(e,t,n,r,o){var i=e[t];if(void 0===i)return-1;if(-1!==i.indexOf("endfacet"))return t+1;if(-1===i.indexOf("facet"))return t+1;var a=0,s=2,u=n.length/3;for(RD(i.split(/[ \t]+/).filter((function(e){return e})).slice(-3).map(Number),o);-1!==e[t+s].indexOf("vertex");)RD(e[t+s].split(/[ \t]+/).filter((function(e){return e})).slice(-3).map(Number),n),a++,s++;r.push(a);for(var c=0;c<a;c++)r.push(u+c);for(;e[t+s]&&-1!==e[t+s].indexOf("endfacet");)s++;return t+s+2}function LD(e,t){function r(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.compression,i=t.progressCallback;return r.binary?t.dataAccessHelper.fetchBinary(n,{compression:o,progressCallback:i}):t.dataAccessHelper.fetchText(e,n,{compression:o,progressCallback:i})}t.classHierarchy.push("vtkSTLReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};t.url=n;var o=n.split("/");return o.pop(),t.baseURL=o.join("/"),t.compression=r.compression,e.loadData({progressCallback:r.progressCallback,binary:!!r.binary})},e.loadData=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r(t.url,n);return o.then(e.parse),o},e.parse=function(t){"string"==typeof t?e.parseAsText(t):e.parseAsArrayBuffer(t)},e.parseAsArrayBuffer=function(r){if(r&&r!==t.parseData)if(e.modified(),t.parseData=r,84+50*new DataView(r,0,84).getUint32(80,!0)===r.byteLength){var o=r.slice(0,80),i=function(e){for(var t=e.split(" ").filter((function(e){return e.indexOf("=")>-1})),n={},r=0;r<t.length;++r){var o=t[r].split("=");2===o.length&&(n[o[0]]=o[1])}return n}(TE.arrayBufferToString(o)),a=new DataView(r,84);n.g.dataview=a;for(var s=(r.byteLength-84)/50,u=new Float32Array(9*s),c=new Float32Array(3*s),l=new Uint32Array(4*s),f=new Uint16Array(s),d=0,p=0;p<s;p++){var h=50*p;c[3*p+0]=a.getFloat32(h+0,!0),c[3*p+1]=a.getFloat32(h+4,!0),c[3*p+2]=a.getFloat32(h+8,!0),u[9*p+0]=a.getFloat32(h+12,!0),u[9*p+1]=a.getFloat32(h+16,!0),u[9*p+2]=a.getFloat32(h+20,!0),u[9*p+3]=a.getFloat32(h+24,!0),u[9*p+4]=a.getFloat32(h+28,!0),u[9*p+5]=a.getFloat32(h+32,!0),u[9*p+6]=a.getFloat32(h+36,!0),u[9*p+7]=a.getFloat32(h+40,!0),u[9*p+8]=a.getFloat32(h+44,!0),l[d++]=3,l[d++]=3*p+0,l[d++]=3*p+1,l[d++]=3*p+2,f[p]=a.getUint16(h+48,!0)}if("SPACE"in i&&"LPS"!==i.SPACE){var m=i.SPACE,g=new Float32Array(16);switch(g[15]=1,m[0]){case"L":g[0]=1;break;case"R":g[0]=-1;break;default:return void ND("Can not convert STL file from ".concat(m," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.")}switch(m[1]){case"P":g[5]=1;break;case"A":g[5]=-1;break;default:return void ND("Can not convert STL file from ".concat(m," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.")}switch(m[2]){case"S":g[10]=1;break;case"I":g[10]=-1;break;default:return void ND("Can not convert STL file from ".concat(m," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.")}Es.buildFromDegree().setMatrix(g).apply(u).apply(c)}var v=Vc.newInstance();v.getPoints().setData(u,3),v.getPolys().setData(l),v.getCellData().setScalars(Fn.newInstance({name:"Attribute",values:f})),v.getCellData().setNormals(Fn.newInstance({name:"Normals",values:c,numberOfComponents:3})),t.output[0]=v}else e.parseAsText(TE.arrayBufferToString(r))},e.parseAsText=function(n){if(n&&n!==t.parseData){e.modified(),t.parseData=n;for(var r=n.split("\n"),o=1,i=[],a=[],s=[];-1!==o;)o=BD(r,o,i,a,s);var u=Vc.newInstance();u.getPoints().setData(Float32Array.from(i),3),u.getPolys().setData(Uint32Array.from(a)),u.getCellData().setNormals(Fn.newInstance({name:"Normals",values:Float32Array.from(s),numberOfComponents:3})),t.output[0]=u}},e.requestData=function(n,r){e.parse(t.parseData)}}var FD={};function jD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,FD,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),LD(e,t),t.compression||(t.compression=null),t.progressCallback||(t.progressCallback=null)}var VD={extend:jD,newInstance:fe.newInstance(jD,"vtkSTLReader")},UD="ascii",zD={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},GD={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function WD(e){var t="",n=0,r=GD.patternHeader.exec(e);null!==r&&(t=r[1],n=r[0].length);for(var o,i,a,s={comments:[],elements:[],headerLength:n},u=t.split("\n"),c=0;c<u.length;c++){var l=u[c];if(""!==(l=l.trim())){var f=void 0;switch(i=(a=l.split(/\s+/)).shift(),l=a.join(" "),i){case"format":s.format=a[0],s.version=a[1];break;case"comment":s.comments.push(l);break;case"element":void 0!==o&&s.elements.push(o),(o={}).name=a[0],o.count=parseInt(a[1],10),o.properties=[];break;case"property":"list"===(f={type:a[0]}).type?(f.name=a[3],f.countType=a[1],f.itemType=a[2]):f.name=a[1],f.name in zD&&(f.name=zD[f.name]),o.properties.push(f);break;case"obj_info":s.objInfo=l;break;default:console.warn("unhandled",i,a)}}}return void 0!==o&&s.elements.push(o),s}function HD(e,t){var n=t.find((function(e){return"vertex"===e.name})),r=t.find((function(e){return"face"===e.name})),o=0,i=0;n&&(o=n.count),r&&(i=r.count);for(var a=new Float32Array(3*o),s=new Uint8Array(3*o),u=new Float32Array(2*o),c=new Float32Array(3*o),l=e.colors.length>0,f=e.uvs.length>0,d=e.normals.length>0,p=e.faceVertexUvs.length>0,h=0;h<o;h++){var m=3*h+0,g=3*h+1,v=3*h+2;a[m]=e.vertices[m],a[g]=e.vertices[g],a[v]=e.vertices[v],l&&(s[m]=e.colors[m],s[g]=e.colors[g],s[v]=e.colors[v]),f&&(g=2*h+1,u[m=2*h+0]=e.uvs[m],u[g]=e.uvs[g]),d&&(c[m]=e.normals[m],c[g]=e.normals[g],c[v]=e.normals[v])}if(!f&&p)for(var y=0,b=0,w=0;w<i;++w){var x=e.indices[y++],C=e.faceVertexUvs[b++];if(C&&2*x===C.length)for(var S=0;S<x;++S){var A=e.indices[y++];u[2*A+0]=C[2*S+0],u[2*A+1]=C[2*S+1]}else y+=x}var _=Vc.newInstance();if(_.getPoints().setData(a,3),l&&_.getPointData().setScalars(Fn.newInstance({numberOfComponents:3,values:s,name:"Scalars"})),f||p){var P=Fn.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"}),O=_.getPointData();O.addArray(P),O.setActiveTCoords(P.getName())}return d&&_.getPointData().setNormals(Fn.newInstance({numberOfComponents:3,name:"Normals",values:c})),_.getPolys().setData(Uint32Array.from(e.indices)),_}function qD(e,t){var n;switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":n=parseInt(e,10);break;case"float":case"double":case"float32":case"float64":n=parseFloat(e);break;default:console.log("Unsupported type")}return n}function KD(e,t){for(var n=t.split(/\s+/),r={},o=0;o<e.length;o++)if("list"===e[o].type){for(var i=[],a=qD(n.shift(),e[o].countType),s=0;s<a;s++)i.push(qD(n.shift(),e[o].itemType));r[e[o].name]=i}else r[e[o].name]=qD(n.shift(),e[o].type);return r}function XD(e,t,n){if("vertex"===t)e.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&e.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n?e.uvs.push(n.s,n.t):"u"in n&&"v"in n?e.uvs.push(n.u,n.v):"texture_u"in n&&"texture_v"in n&&e.uvs.push(n.texture_u,n.texture_v),"red"in n&&"green"in n&&"blue"in n&&e.colors.push(n.red,n.green,n.blue);else if("face"===t){var r=n.vertex_indices||n.vertex_index,o=n.texcoord;r&&r.length>0&&(e.indices.push(r.length),r.forEach((function(t,n){e.indices.push(t)}))),e.faceVertexUvs.push(o)}}function YD(e,t,n,r){var o;switch(n){case"int8":case"char":o=[e.getInt8(t),1];break;case"uint8":case"uchar":o=[e.getUint8(t),1];break;case"int16":case"short":o=[e.getInt16(t,r),2];break;case"uint16":case"ushort":o=[e.getUint16(t,r),2];break;case"int32":case"int":o=[e.getInt32(t,r),4];break;case"uint32":case"uint":o=[e.getUint32(t,r),4];break;case"float32":case"float":o=[e.getFloat32(t,r),4];break;case"float64":case"double":o=[e.getFloat64(t,r),8];break;default:console.log("Unsupported type")}return o}function ZD(e,t,n,r){for(var o,i={},a=0,s=0;s<n.length;s++)if("list"===n[s].type){var u=[],c=(o=YD(e,t+a,n[s].countType,r))[0];a+=o[1];for(var l=0;l<c;l++)o=YD(e,t+a,n[s].itemType,r),u.push(o[0]),a+=o[1];i[n[s].name]=u}else o=YD(e,t+a,n[s].type,r),i[n[s].name]=o[0],a+=o[1];return[i,a]}function JD(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.compression,i=t.progressCallback;return r.binary?t.dataAccessHelper.fetchBinary(n,{compression:o,progressCallback:i}):t.dataAccessHelper.fetchText(e,n,{compression:o,progressCallback:i})}t.classHierarchy.push("vtkPLYReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};t.url=n;var o=n.split("/");return o.pop(),t.baseURL=o.join("/"),t.compression=r.compression,e.loadData({progressCallback:r.progressCallback,binary:!!r.binary})},e.loadData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n(t.url,r);return o.then(e.parse),o},e.parse=function(t){"string"==typeof t?e.parseAsText(t):e.parseAsArrayBuffer(t)},e.parseAsArrayBuffer=function(n){if(n&&n!==t.parseData){e.modified();var r=WD(TE.arrayBufferToString(n));if(r.format!==UD){t.parseData=n;for(var o,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},a="binary_little_endian"===r.format,s=n instanceof ArrayBuffer?n:n.buffer,u=new DataView(s,r.headerLength),c=0,l=0;l<r.elements.length;l++)for(var f=0;f<r.elements[l].count;f++){c+=(o=ZD(u,c,r.elements[l].properties,a))[1];var d=o[0];XD(i,r.elements[l].name,d)}var p=HD(i,r.elements);t.output[0]=p}else e.parseAsText(n)}},e.parseAsText=function(n){if(n&&n!==t.parseData){e.modified(),t.parseData=n;var r=TE.arrayBufferToString(n),o=WD(r);if(o.format!==UD)e.parseAsArrayBuffer(n);else{var i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},a=GD.patternBody.exec(r),s="";null!==a&&(s=a[1]);for(var u=s.split("\n"),c=0,l=0,f=0;f<u.length;f++){var d=u[f];if(""!==(d=d.trim())){l>=o.elements[c].count&&(c++,l=0);var p=KD(o.elements[c].properties,d);XD(i,o.elements[c].name,p),l++}}var h=HD(i,o.elements);t.output[0]=h}}},e.requestData=function(n,r){e.parse(t.parseData)}}var $D={};function QD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$D,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),JD(e,t),t.compression||(t.compression=null),t.progressCallback||(t.progressCallback=null)}var eI={extend:QD,newInstance:fe.newInstance(QD,"vtkPLYReader")},tI=fe.vtkErrorMacro,nI={};function rI(e,t){var n=new nI.Decoder,r=n.GetAttribute(e,t),o=r.num_components(),i=e.num_points(),a=new nI.DracoFloat32Array;n.GetAttributeFloatForAllPoints(e,r,a);for(var s=i*o,u=new Float32Array(s);s--;)u[s]=a.GetValue(s);return u}function oI(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.compression,i=t.progressCallback;return r.binary?t.dataAccessHelper.fetchBinary(n,{compression:o,progressCallback:i}):t.dataAccessHelper.fetchText(e,n,{compression:o,progressCallback:i})}t.classHierarchy.push("vtkDracoReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};t.url=n;var o=n.split("/");return o.pop(),t.baseURL=o.join("/"),t.compression=r.compression,e.loadData({progressCallback:r.progressCallback,binary:!!r.binary})},e.loadData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n(t.url,r);return o.then(e.parse),o},e.parse=function(t){e.parseAsArrayBuffer(t)},e.parseAsArrayBuffer=function(n){if(n&&n!==t.parseData){e.modified(),t.parseData=n;var r=function(e){var t,n=new Int8Array(e),r=new nI.Decoder,o=new nI.DecoderBuffer;if(o.Init(n,n.length),r.GetEncodedGeometryType(o)===nI.TRIANGULAR_MESH){t=new nI.Mesh;var i=r.DecodeBufferToMesh(o,t);i.ok()||tI("Could not decode Draco file: ".concat(i.error_msg()))}else tI("Wrong geometry type, expected mesh, got point cloud.");return nI.destroy(o),nI.destroy(r),t}(n),o=function(e){var t=new nI.Decoder,n=t.GetAttributeId(e,nI.POSITION);if(-1===n)return console.error("No position attribute found in the decoded model."),nI.destroy(t),nI.destroy(e),null;for(var r=rI(e,n),o=e.num_faces(),i=new Uint32Array(4*o),a=new nI.DracoInt32Array;o--;){t.GetFaceFromMesh(e,o,a);var s=4*o;i[s]=3,i[s+1]=a.GetValue(0),i[s+2]=a.GetValue(1),i[s+3]=a.GetValue(2)}var u=qn.newInstance({values:i}),c=Vc.newInstance({polys:u});c.getPoints().setData(r);var l=c.getPointData();if(-1!==t.GetAttributeId(e,nI.NORMAL)){var f=rI(e,nI.NORMAL),d=Fn.newInstance({numberOfComponents:3,values:f,name:"Normals"});l.setNormals(d)}var p=t.GetAttributeId(e,nI.TEX_COORD);if(-1!==p){var h=rI(e,p),m=Fn.newInstance({numberOfComponents:2,values:h,name:"TCoords"});l.setTCoords(m)}var g=t.GetAttributeId(e,nI.COLOR);if(-1!==g){var v=rI(e,g),y=Fn.newInstance({numberOfComponents:3,values:v,name:"Scalars"});l.setScalars(y)}return nI.destroy(t),c}(r);nI.destroy(r),t.output[0]=o}},e.requestData=function(){e.parse(t.parseData)}}var iI={};function aI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iI,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),oI(e,t),t.compression||(t.compression=null),t.progressCallback||(t.progressCallback=null)}var sI={extend:aI,newInstance:fe.newInstance(aI,"vtkDracoReader"),setDracoDecoder:function(e){nI=e({})},setWasmBinary:function(e,t){var n={};return new Promise((function(r,o){n.wasmBinaryFile=t;var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){200===i.status?(n.wasmBinary=i.response,nI=window.DracoDecoderModule(n),r(!0)):o(Error("WASM binary could not be loaded: ".concat(i.statusText)))},i.send(null)}))},getDracoDecoder:function(){return nI}},uI="ascii",cI="binary";function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fI=fe.vtkErrorMacro;function dI(e,t,n){return e.setFloat32(t,n.toPrecision(6),!0),t+4}function pI(e,t,n){var r=dI(e,t,n[0]);return r=dI(e,r,n[1]),dI(e,r,n[2])}var hI=function(){var e=0,t=null;return{init:function(e){var n=e.getPolys().getData(),r=new ArrayBuffer(84+50*n.length/4);t=new DataView(r)},writeHeader:function(n){e+=80,t.setUint32(e,n.getNumberOfCells(),!0),e+=4},writeTriangle:function(n,r,o,i){e=pI(t,e,i),e=pI(t,e,n),e=pI(t,e,r),e=pI(t,e,o),e+=2},writeFooter:function(e){},getOutputData:function(){return t}}},mI=function(){var e="";return{init:function(e){},writeHeader:function(t){e+="solid ascii\n"},writeTriangle:function(t,n,r,o){e+=" facet normal ".concat(o[0].toPrecision(6)," ").concat(o[1].toPrecision(6)," ").concat(o[2].toPrecision(6),"\n"),e+="  outer loop\n",e+="   vertex ".concat(t[0].toPrecision(6)," ").concat(t[1].toPrecision(6)," ").concat(t[2].toPrecision(6),"\n"),e+="   vertex ".concat(n[0].toPrecision(6)," ").concat(n[1].toPrecision(6)," ").concat(n[2].toPrecision(6),"\n"),e+="   vertex ".concat(r[0].toPrecision(6)," ").concat(r[1].toPrecision(6)," ").concat(r[2].toPrecision(6),"\n"),e+="  endloop\n",e+=" endfacet\n"},writeFooter:function(t){e+="endsolid\n"},getOutputData:function(){return e}}};function gI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cI,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;t===cI?r=hI():t===uI?r=mI():fI("Invalid format type"),r.init(e),r.writeHeader(e);var o=e.getPolys().getData(),i=e.getPoints().getData(),a=e.getStrips()?e.getStrips().getData():null,s=[],u=[],c=[],l=[];if(a&&a.length>0)throw new Error("Unsupported strips");for(var f=0;f<o.length;)o[f++]&&(u=[i[3*o[f]],i[3*o[f]+1],i[3*o[f++]+2]],c=[i[3*o[f]],i[3*o[f]+1],i[3*o[f++]+2]],l=[i[3*o[f]],i[3*o[f]+1],i[3*o[f++]+2]],n&&(ii(u,u,n),ii(c,c,n),ii(l,l,n)),Mc.computeNormal(u,c,l,s),r.writeTriangle(u,c,l,s));return r.writeFooter(e),r.getOutputData()}var vI={writeSTL:gI};function yI(e,t){t.classHierarchy.push("vtkSTLWriter"),e.requestData=function(e,n){var r=e[0];r&&"vtkPolyData"===r.getClassName()?n[0]=gI(r,t.format,t.transform):fI("Invalid or missing input")}}var bI={format:cI,transform:null};function wI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bI,n),fe.obj(e,t),fe.algo(e,t,1,1),fe.setGet(e,t,["format","transform"]),yI(e,t)}var xI={vtkSTLReader:VD,vtkPLYReader:eI,vtkDracoReader:sI,vtkSTLWriter:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lI(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(wI,"vtkSTLWriter"),extend:wI},vI)},CI={POINTS:"getPoints",VERTICES:"getVerts",LINES:"getLines",TRIANGLE_STRIPS:"getStrips",POLYGONS:"getPolys",POINT_DATA:"getPointData",CELL_DATA:"getCellData",FIELD:"getFieldData"},SI={bit:Uint8Array,unsigned_char:Uint8Array,char:Int8Array,unsigned_short:Uint16Array,short:Int16Array,unsigned_int:Uint32Array,int:Int32Array,unsigned_long:Uint32Array,long:Int32Array,float:Float32Array,double:Float64Array},AI={SCALARS:"addArray",COLOR_SCALARS:"addArray",VECTORS:"setVectors",NORMALS:"setNormals",TEXTURE_COORDINATES:"setTCoords",TENSORS:"setTensors",FIELD:"addArray"};function _I(e,t,n){var r=0;return function(o){return o.split(" ").forEach((function(t){t.length&&(e[r++]=Number(t))})),r<e.length||(t(e,n),!1)}}var PI={init:function(e,t){var n=g(e.split(" "),3),r=n[0],o=n[1],i=n[2],a=t.dataset[CI[r]]();return a.set({numberOfCells:Number(o)},!0),t.arrayHandler=_I(new Uint32Array(Number(i)),a.setData,1),!0},parse:function(e,t){return t.arrayHandler(e)}},OI={DATASET:{init:function(e,t){var n=e.split(" ")[1];switch(n){case"POLYDATA":t.dataset=Vc.newInstance();break;default:console.error("Dataset of type ".concat(n," not supported"))}return!1},parse:function(e,t){return!1}},POINTS:{init:function(e,t){var n=g(e.split(" "),3),r=n[0],o=n[1],i="float"===n[2]?new Float32Array(3*Number(o)):new Float64Array(3*Number(o)),a=t.dataset.getPoints();return a.setName(r),t.arrayHandler=_I(i,a.setData,3),!0},parse:function(e,t){return t.arrayHandler(e)}},METADATA:{init:function(e,t){return!0},parse:function(e,t){return!!e.length}},VERTICES:PI,LINES:PI,TRIANGLE_STRIPS:PI,POLYGONS:PI,POINT_DATA:{init:function(e,t){return t.POINT_DATA=Number(e.split(" ")[1]),t.activeFieldLocation="POINT_DATA",!1},parse:function(e,t){return!1}},CELL_DATA:{init:function(e,t){return t.CELL_DATA=Number(e.split(" ")[1]),t.activeFieldLocation="CELL_DATA",!1},parse:function(e,t){return!1}},SCALARS:{init:function(e,t){var n=g(e.split(" "),4),r=n[0],o=n[1],i=n[2],a=n[3],s=Number(a)>0?Number(a):1,u=t[t.activeFieldLocation]*s,c=new SI[i](u),l=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](l),t.arrayHandler=_I(c,l.setData,s),!0},parse:function(e,t){return"LOOKUP_TABLE"===e.split(" ")[0]||t.arrayHandler(e)}},COLOR_SCALARS:{init:function(e,t){var n=g(e.split(" "),3),r=n[0],o=n[1],i=n[2],a=Number(i)>0?Number(i):1,s=t[t.activeFieldLocation]*a,u=new Uint8Array(s),c=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](c),t.arrayHandler=_I(u,c.setData,a),!0},parse:function(e,t){return"LOOKUP_TABLE"===e.split(" ")[0]||t.arrayHandler(e)}},VECTORS:{init:function(e,t){var n=g(e.split(" "),3),r=n[0],o=n[1],i=n[2],a=3*t[t.activeFieldLocation],s=new SI[i](a),u=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](u),t.arrayHandler=_I(s,u.setData,3),!0},parse:function(e,t){return t.arrayHandler(e)}},NORMALS:{init:function(e,t){var n=g(e.split(" "),2),r=n[0],o=n[1],i=3*t[t.activeFieldLocation],a=new Float32Array(i),s=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](s),t.arrayHandler=_I(a,s.setData,3),!0},parse:function(e,t){return t.arrayHandler(e)}},TEXTURE_COORDINATES:{init:function(e,t){var n=g(e.split(" "),4),r=n[0],o=n[1],i=n[2],a=n[3],s=t[t.activeFieldLocation]*Number(i),u=new SI[a](s),c=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](c),t.arrayHandler=_I(u,c.setData,3),!0},parse:function(e,t){return t.arrayHandler(e)}},TENSORS:{init:function(e,t){var n=g(e.split(" "),3),r=n[0],o=n[1],i=n[2],a=9*t[t.activeFieldLocation],s=new SI[i](a),u=Fn.newInstance({name:o,empty:!0});return t.dataset[CI[t.activeFieldLocation]]()[AI[r]](u),t.arrayHandler=_I(s,u.setData,9),!0},parse:function(e,t){return t.arrayHandler(e)}}};function EI(e,t){var n=e.split(" ");return OI[n[0]]}var TI={parseLegacyASCII:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=/\r?\n/.exec(e),o=null!==r?r[0]:null;return e.split(o).forEach((function(e,r){if(!(r<2))if(n)n&&!n.parse(e,t)&&(n=null);else{if(!(n=EI(e)))return;n=n.init(e,t)?n:null}})),t}};function DI(e,t){function n(n){var r=t.compression,o=t.progressCallback;return t.dataAccessHelper.fetchText(e,n,{compression:r,progressCallback:o})}t.classHierarchy.push("vtkPolyDataReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.url=n;var o=n.split("/");return o.pop(),t.baseURL=o.join("/"),t.compression=r.compression,e.loadData({progressCallback:r.progressCallback})},e.loadData=function(){var r=n(t.url);return r.then(e.parseAsText),r},e.parseAsText=function(n){n&&n!==t.parseData&&(e.modified(),t.parseData=n,t.output[0]=TI.parseLegacyASCII(t.parseData).dataset)},e.requestData=function(n,r){e.parseAsText(t.parseData)}}var II={};function kI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,II,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),DI(e,t),t.compression||(t.compression=null),t.progressCallback||(t.progressCallback=null)}var MI=fe.newInstance(kI,"vtkPolyDataReader"),NI={vtkLegacyAsciiParser:TI,vtkPolyDataReader:{newInstance:MI,extend:kI}};function RI(e,t){t.classHierarchy.push("vtkElevationReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n,r){return t.url=n,e.loadData(r)},e.loadData=function(n){return function(n,r){return t.dataAccessHelper.fetchText(e,n,r)}(t.url,n).then((function(t){return e.parseAsText(t),!0}))},e.parseAsText=function(n){t.csv=n,t.elevation=[],t.csv.split("\n").forEach((function(e,n){t.elevation.push(e.split(",").map((function(e){return Number(e)})))})),e.modified()},e.requestData=function(e,n){var r=Vc.newInstance();if(r.getPoints().setData(new Float32Array(0,0,0,1,1,1),3),t.elevation){var o=t.elevation.length,i=t.elevation[0].length,a=r.getPoints();a.setNumberOfPoints(i*o,3);var s=a.getData(),u=qn.newInstance({size:5*(i-1)*(o-1)});r.setPolys(u);var c=u.getData(),l=0,f=new Float32Array(i*o*2),d=Fn.newInstance({numberOfComponents:2,values:f,name:"TextureCoordinates"});r.getPointData().setTCoords(d);for(var p=0;p<o;p++)for(var h=0;h<i;h++){var m=p*i+h,g=3*m;s[g+0]=t.origin[0]+h*t.xSpacing*t.xDirection,s[g+1]=t.origin[1]+p*t.ySpacing*t.yDirection,s[g+2]=t.origin[2]+t.elevation[p][h]*t.zScaling,f[2*m]=h/(i-1),f[2*m+1]=1-p/(o-1),h>0&&p>0&&(c[l++]=4,c[l++]=m,c[l++]=m-1,c[l++]=m-1-i,c[l++]=m-i)}}t.output[0]=r},e.isBusy=function(){return!!t.requestCount}}var BI={origin:[0,0,0],xSpacing:1,ySpacing:1,zScaling:1,xDirection:1,yDirection:-1,requestCount:0};function LI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,BI,n),fe.obj(e,t),fe.get(e,t,["url"]),fe.setGet(e,t,["dataAccessHelper","xSpacing","ySpacing","zScaling","xDirection","yDirection"]),fe.algo(e,t,0,1),fe.event(e,t,"busy"),RI(e,t)}var FI={newInstance:fe.newInstance(LI,"vtkElevationReader"),extend:LI},jI=xu.convertItkToVtkImage,VI=null,UI=function(e){return e};function zI(e,t){t.classHierarchy.push("vtkITKImageReader"),e.parseAsArrayBuffer=function(n){return n&&n!==t.rawDataBuffer?(t.rawDataBuffer=n,VI(n,t.fileName).then(UI).then((function(n){var r,o,i,a=jI(n,{scalarArrayName:t.arrayName||(r=t.fileName,o=r.lastIndexOf("."),i=o>-1?r.substring(0,o):r,"Scalars ".concat(i))});t.output[0]=a,e.modified()}))):Promise.resolve()},e.requestData=function(n,r){e.parseAsArrayBuffer(t.rawDataBuffer,t.fileName)}}var GI={fileName:"",arrayName:null};function WI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,GI,n),fe.obj(e,t),fe.algo(e,t,0,1),fe.setGet(e,t,["fileName","arrayName"]),zI(e,t),VI||console.error("\n      // Dependency needs to be added inside your project\n      import readImageArrayBuffer from 'itk/readImageArrayBuffer';\n      vtkITKImageReader.setReadImageArrayBufferFromITK(readImageArrayBuffer);\n      ")}var HI={newInstance:fe.newInstance(WI,"vtkITKImageReader"),extend:WI,setReadImageArrayBufferFromITK:function(e){4===(VI=e).length&&(VI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,[null].concat(n))},UI=function(e){var t=e.webWorker,n=e.image;return t.terminate(),n})}},qI=null,KI=function(e){return e};function XI(e,t){t.classHierarchy.push("vtkITKPolyDataReader"),e.parseAsArrayBuffer=function(n){return n&&n!==t.rawDataBuffer?(t.rawDataBuffer=n,qI(n,t.fileName).then(KI).then((function(n){t.output[0]=A(n),e.modified()}))):Promise.resolve()},e.requestData=function(n,r){e.parseAsArrayBuffer(t.rawDataBuffer,t.fileName)}}var YI={fileName:"",arrayName:null};function ZI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YI,n),fe.obj(e,t),fe.algo(e,t,0,1),fe.setGet(e,t,["fileName","arrayName"]),XI(e,t),qI||console.error("\n      // Dependency needs to be added inside your project\n      import readPolyDataArrayBuffer from 'itk/readPolyDataArrayBuffer';\n      vtkITKPolyDataReader.setReadPolyDataArrayBufferFromITK(readPolyDataArrayBuffer);\n      ")}var JI={newInstance:fe.newInstance(ZI,"vtkITKPolyDataReader"),extend:ZI,setReadPolyDataArrayBufferFromITK:function(e){qI=e,qI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,[null].concat(n))},KI=function(e){var t=e.webWorker,n=e.polyData;return t.terminate(),n}}};function $I(e,t){t.classHierarchy.push("vtkJSONNucleoReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n,r){return t.url=n,e.loadData(r)},e.loadData=function(n){return function(n,r){return t.dataAccessHelper.fetchText(e,n,r)}(t.url,n).then((function(t){return e.parseAsText(t),!0}))},e.parseAsText=function(n){var r=JSON.parse(n),o=r.vertices,i=r.indices,a=i.length,s=a/3+a;t.points=Float32Array.from(o),t.polys=s<65535?new Uint16Array(s):new Uint32Array(s);for(var u=0,c=0;c<t.polys.length;)t.polys[c++]=3,t.polys[c++]=i[u++],t.polys[c++]=i[u++],t.polys[c++]=i[u++];e.modified()},e.requestData=function(e,n){var r=Vc.newInstance();r.getPoints().setData(t.points,3),r.getPolys().setData(t.polys),t.output[0]=r}}var QI={};function ek(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,QI,n),fe.obj(e,t),fe.get(e,t,["url"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),$I(e,t)}var tk={newInstance:fe.newInstance(ek,"vtkJSONNucleoReader"),extend:ek};function nk(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.dataAccessHelper.fetchText(e,n,r)}t.classHierarchy.push("vtkJSONReader"),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=n,e.loadData(r)},e.loadData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(t.url,r).then(e.parseAsText)},e.parseAsText=function(n){return!!n&&(t.data=JSON.parse(n),e.modified(),!0)},e.requestData=function(e,n){n[0]=t.data},e.isBusy=function(){return!1},e.getNumberOfOutputPorts=function(){return t.numberOfOutputs}}var rk={};function ok(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rk,n),fe.obj(e,t),fe.get(e,t,["url"]),fe.algo(e,t,0,1),fe.event(e,t,"busy"),nk(e,t)}var ik={newInstance:fe.newInstance(ok,"vtkJSONReader"),extend:ok};function ak(e,t){function n(){t.requestCount--,0===t.requestCount&&e.invokeBusy(!1)}function r(e){if("#"!==e[0]&&0!==e.length){var r=e.split(/[ \t]+/).map((function(e){return e.trim()})).filter((function(e){return e.length}));if("newmtl"===r[0])r.shift(),t.currentMaterial=r.join(" ").trim();else if(t.currentMaterial){if(r.length<2)return;if(t.materials[t.currentMaterial]||(t.materials[t.currentMaterial]={}),t.materials[t.currentMaterial][r[0]]=r.slice(1),"map_Kd"===r[0]){var o=new Image;o.onload=function(){return setTimeout(n,0)},o.src=[t.baseURL,r[1]].join("/"),t.materials[t.currentMaterial].image=o,t.requestCount++}}}}t.classHierarchy.push("vtkMTLReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1!==n.indexOf(".mtl")||r.fullpath){t.url=n;var o=n.split("/");o.pop(),t.baseURL=o.join("/")}else t.baseURL=n,t.url="".concat(n,"/index.mtl");return e.loadData(r)},e.loadData=function(n){return new Promise((function(r,o){(function(n,r){return t.dataAccessHelper.fetchText(e,n,r)})(t.url,n).then((function(t){e.parseAsText(t),r()}),(function(e){o()}))}))},e.parseAsText=function(n){e.modified(),t.materials={},n.split("\n").forEach(r)},e.isBusy=function(){return!!t.requestCount},e.getMaterialNames=function(){return Object.keys(t.materials)},e.getMaterial=function(e){return t.materials[e]},e.listImages=function(){return Object.keys(t.materials).map((function(e){return t.materials[e].map_Kd})).filter((function(e){return!!e})).map((function(e){return e[0].trim()}))},e.setImageSrc=function(e,n){return new Promise((function(r,o){var i=Object.keys(t.materials).find((function(n){return t.materials[n].map_Kd&&t.materials[n].map_Kd[0].trim()===e.trim()})),a=t.materials[i];a&&a.image?(a.image.src=n,a.image.onload=function(){return setTimeout(r,0)}):r()}))},e.applyMaterialToActor=function(e,n){var r=t.materials[e];if(r&&n){var o=[1,1,1],i={ambientColor:r.Ka?r.Ka.map((function(e){return Number(e)})):o,specularColor:r.Ks?r.Ks.map((function(e){return Number(e)})):o,diffuseColor:r.Kd?r.Kd.map((function(e){return Number(e)})):o,opacity:r.d?Number(r.d):1,specularPower:r.Ns?Number(r.Ns):1},a=Number(r.illum||2);if(["ambient","diffuse","specular"].forEach((function(e,t){i[e]=t<=a?1:0})),r.image){var s=IT.newInstance({interpolate:t.interpolateTextures});s.setImage(r.image),n.addTexture(s)}n.getProperty().set(i)}}}var sk={numberOfOutputs:1,requestCount:0,materials:{},interpolateTextures:!0};function uk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sk,n),W(e,t),H(e,t,["url","baseURL"]),Y(e,t,["dataAccessHelper","interpolateTextures","splitGroup"]),te(e,t,"busy"),ak(e,t)}var ck={newInstance:ne(uk,"vtkMTLReader"),extend:uk},lk={};function fk(e,t,n,r){for(var o=0;o<r;o++)n.push(e[t+o])}function dk(e){var t=e.split("/").map((function(e){return Number(e)})),n=t[0]-1;return[n,t[1]?t[1]-1:n,t[2]?t[2]-1:n]}function pk(e){if("#"!==e[0]){var t=e.split(/[ \t]+/);if(t[0]===lk.splitOn)t.shift(),lk.pieces.push(t.join(" ").trim()),lk.f.push([]),lk.size++;else if("v"===t[0])lk.v.push(Number(t[1])),lk.v.push(Number(t[2])),lk.v.push(Number(t[3]));else if("vt"===t[0])lk.vt.push(Number(t[1])),lk.vt.push(Number(t[2]));else if("vn"===t[0])lk.vn.push(Number(t[1])),lk.vn.push(Number(t[2])),lk.vn.push(Number(t[3]));else if("f"===t[0]){0===lk.size&&lk.size++;var n=lk.f[lk.size-1];t.shift();var r=t.filter((function(e){return e.length>0&&"\r"!==e})),o=r.length;n.push(o);for(var i=0;i<o;i++)n.push(dk(r[i]))}}}function hk(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.dataAccessHelper.fetchText(e,n,r)}t.classHierarchy.push("vtkOBJReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1!==n.indexOf(".obj")||r.fullpath){t.url=n;var o=n.split("/");o.pop(),t.baseURL=o.join("/")}else t.baseURL=n,t.url="".concat(n,"/index.obj");return e.loadData(r)},e.loadData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(t.url,r).then(e.parseAsText)},e.parseAsText=function(n){return!n||(n!==t.parseData&&e.modified(),t.parseData=n,t.numberOfOutputs=0,r=t.splitMode,lk.splitOn=r,lk.pieces=[],lk.v=[],lk.vt=[],lk.vn=[],lk.f=[[]],lk.size=0,n.split("\n").forEach(pk),function(e){var t=!!lk.vt.length,n=!!lk.vn.length;if(e.splitMode){e.numberOfOutputs=lk.size;for(var r=0;r<lk.size;r++){for(var o={},i=Vc.newInstance({name:lk.pieces[r]}),a=[],s=[],u=[],c=[],l=lk.f[r],f=l.length,d=0;d<f;){var p=l[d];c.push(p);for(var h=0;h<p;h++){var m=g(l[d+h+1],3),v=m[0],y=m[1],b=m[2],w="".concat(v,"/").concat(y,"/").concat(b);void 0===o[w]&&(o[w]=a.length/3,fk(lk.v,3*v,a,3),t&&fk(lk.vt,2*y,s,2),n&&fk(lk.vn,3*b,u,3)),c.push(o[w])}d+=p+1}if(i.getPoints().setData(Float32Array.from(a),3),i.getPolys().setData(Uint32Array.from(c)),t){var x=Fn.newInstance({numberOfComponents:2,values:Float32Array.from(s),name:"TextureCoordinates"});i.getPointData().setTCoords(x)}if(n){var C=Fn.newInstance({numberOfComponents:3,values:Float32Array.from(u),name:"Normals"});i.getPointData().setNormals(C)}e.output[r]=i}}else{e.numberOfOutputs=1;var S=Vc.newInstance();if(S.getPoints().setData(Float32Array.from(lk.v),3),t&&lk.v.length/3==lk.vt.length/2){var A=Fn.newInstance({numberOfComponents:2,values:Float32Array.from(lk.vt),name:"TextureCoordinates"});S.getPointData().setTCoords(A)}if(n&&lk.v.length===lk.vn.length){var _=Fn.newInstance({numberOfComponents:3,values:Float32Array.from(lk.vn),name:"Normals"});S.getPointData().setNormals(_)}for(var P=[],O=lk.f[0],E=O.length,T=0;T<E;){var D=O[T];P.push(D);for(var I=0;I<D;I++){var k=g(O[T+I+1],1)[0];P.push(k)}T+=D+1}S.getPolys().setData(Uint32Array.from(P)),e.output[0]=S}}(t),!0);var r},e.requestData=function(n,r){e.parseAsText(t.parseData)},e.isBusy=function(){return!!t.requestCount},e.getNumberOfOutputPorts=function(){return t.numberOfOutputs}}var mk={numberOfOutputs:1,requestCount:0,splitMode:null};function gk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mk,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper","splitMode"]),fe.algo(e,t,0,1),fe.event(e,t,"busy"),hk(e,t)}var vk={newInstance:fe.newInstance(gk,"vtkOBJReader"),extend:gk},yk=JSON.parse('{"H":[1],"He":[2],"Li":[3],"Be":[4],"B":[5],"C":[6],"N":[7],"O":[8],"F":[9],"Ne":[10],"Na":[11],"Mg":[12],"Al":[13],"Si":[14],"P":[15],"S":[16],"Cl":[17],"Ar":[18],"K":[19],"Ca":[20],"Sc":[21],"Ti":[22],"V":[23],"Cr":[24],"Mn":[25],"Fe":[26],"Co":[27],"Ni":[28],"Cu":[29],"Zn":[30],"Ga":[31],"Ge":[32],"As":[33],"Se":[34],"Br":[35],"Kr":[36],"Rb":[37],"Sr":[38],"Y":[39],"Zr":[40],"Nb":[41],"Mo":[42],"Tc":[43],"Ru":[44],"Rh":[45],"Pd":[46],"Ag":[47],"Cd":[48],"In":[49],"Sn":[50],"Sb":[51],"Te":[52],"I":[53],"Xe":[54],"Cs":[55],"Ba":[56],"La":[57],"Ce":[58],"Pr":[59],"Nd":[60],"Pm":[61],"Sm":[62],"Eu":[63],"Gd":[64],"Tb":[65],"Dy":[66],"Ho":[67],"Er":[68],"Tm":[69],"Yb":[70],"Lu":[71],"Hf":[72],"Ta":[73],"W":[74],"Re":[75],"Os":[76],"Ir":[77],"Pt":[78],"Au":[79],"Hg":[80],"Tl":[81],"Pb":[82],"Bi":[83],"Po":[84],"At":[85],"Rn":[86],"Fr":[87],"Ra":[88],"Ac":[89],"Th":[90],"Pa":[91],"U":[92],"Np":[93],"Pu":[94],"Am":[95],"Cm":[96],"Bk":[97],"Cf":[98],"Es":[99],"Fm":[100],"Md":[101],"No":[102],"Lr":[103],"Rf":[104],"Db":[105],"Sg":[106],"Bh":[107],"Hs":[108],"Mt":[109],"Ds":[110],"Rg":[111],"Cn":[112],"Uut":[113],"Uuq":[114],"Uup":[115],"Uuh":[116],"Uus":[117],"Uuo":[118]}');function bk(e,t){t.classHierarchy.push("vtkPDBReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n,r){if(-1===n.indexOf(".pdb"))t.baseURL=n,t.url="".concat(n);else{t.url=n;var o=n.split("/");o.pop(),t.baseURL=o.join("/")}return e.loadData(r)},e.loadData=function(n){return function(n,r){return t.dataAccessHelper.fetchText(e,n,r)}(t.url,n).then(e.parseAsText)},e.parseAsText=function(n){return t.pdb=n,t.molecule=[],t.molecule=t.pdb.split("\n"),e.modified(),!0},e.requestData=function(e,n){var r=qu.newInstance();if(t.molecule){var o=t.molecule.length,i=[],a=[];t.numberOfAtoms=0;for(var s=0;s<o&&"END"!==t.molecule[s];){var u=t.molecule[s].length,c=t.molecule[s],l=c.substr(0,6).replace(/\s+/g,"");if(l.toUpperCase(),"ATOM"===l||"HETATM"===l){var f=c.substr(12,4).replace(/\s+/g,""),d=c.substr(30,8).replace(/\s+/g,""),p=c.substr(38,8).replace(/\s+/g,""),h=c.substr(46,8).replace(/\s+/g,""),m="";u>=78&&(m=c.substr(76,2).replace(/\s+/g,"")),""===m&&(m=f.substr(0,2).replace(/\d/g,"")),i.push(d),i.push(p),i.push(h);var v=g(yk[m],1)[0];a.push(v),t.numberOfAtoms++}s++}r.getAtoms().elements={},r.getAtoms().elements.number=Int8Array.from(a),r.getAtoms().coords={},r.getAtoms().coords["3d"]=Float32Array.from(i)}t.output[0]=r},e.isBusy=function(){return!!t.requestCount}}var wk={numberOfAtoms:0,requestCount:0};function xk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wk,n),fe.obj(e,t),fe.get(e,t,["url","baseURL","numberOfAtoms","requestCount"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),fe.event(e,t,"busy"),bk(e,t)}var Ck=fe.newInstance(xk,"vtkPDBReader");function Sk(e,t){function n(e){var n=t.compression,r=t.progressCallback;return t.dataAccessHelper.fetchBinary(e,{compression:n,progressCallback:r})}t.classHierarchy.push("vtkSkyboxReader"),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=n,e.loadData(r)},e.loadData=function(){return n(t.url).then(e.parseAsArrayBuffer)},e.parseAsArrayBuffer=function(n){if(!n)return!1;t.textures={},t.busy=!0,e.invokeBusy(t.busy),t.dataMapping={};var r=0,o=!1,i=[];function a(){if(0==--r||o){for(var n=0;n<t.positions.length;n++){var a=t.positions[n],s=t.dataMapping[a];if(t.textures[a]||(t.textures[a]=IT.newInstance({interpolate:!0})),s)for(var u=t.textures[a],c=0;c<6;c++){var l=t.faceMapping[c],f=l.fileName,d=l.transform,p=i.indexOf("".concat(a,"/").concat(f));-1!==p&&(u.setInputData(ns.imageToImageData(s[f],d),c),URL.revokeObjectURL(s[f].src),delete s[f],i.splice(p,1))}}0===r&&(t.busy=!1,e.modified(),e.invokeBusy(t.busy))}}var s=new(xE());return s.loadAsync(n).then((function(){s.forEach((function(e,n){if(e.match(/index.json$/)&&(r++,n.async("text").then((function(e){var n=JSON.parse(e);n.skybox&&n.skybox.faceMapping&&(t.faceMapping=n.skybox.faceMapping),n.metadata&&n.metadata.skybox&&n.metadata.skybox.faceMapping&&(t.faceMapping=n.metadata.skybox.faceMapping),o=!0,a()}))),e.match(/\.jpg$/)){r++;var s=e.split("/"),u=s.pop(),c=s.pop();t.dataMapping[c]||(t.dataMapping[c]={}),n.async("blob").then((function(e){var n=new Image,r="".concat(c,"/").concat(u);t.dataMapping[c][u]=n,n.onload=function(){i.push(r),a()},n.src=URL.createObjectURL(e)}))}})),t.positions=Object.keys(t.dataMapping),t.position=t.positions[0]})),e.getReadyPromise()},e.requestData=function(e,n){n[0]=t.textures[t.position]},e.setPosition=function(n){-1!==t.positions.indexOf(n)&&n!==t.position&&(t.position=n,e.modified())},e.getReadyPromise=function(){return t.busy?new Promise((function(t,n){var r=e.onBusy((function(n){n||(r.unsubscribe(),t(e))}))})):Promise.resolve(e)},e.isBusy=function(){return t.busy}}var Ak={busy:!1,faceMapping:[{fileName:"right.jpg",transform:{flipY:!0}},{fileName:"left.jpg",transform:{flipY:!0}},{fileName:"up.jpg",transform:{flipY:!0}},{fileName:"down.jpg",transform:{flipY:!0}},{fileName:"back.jpg",transform:{flipY:!0}},{fileName:"front.jpg",transform:{flipY:!0}}]};function _k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ak,n),fe.obj(e,t),fe.get(e,t,["url","positions","position"]),fe.setGet(e,t,["faceMapping"]),fe.event(e,t,"busy"),fe.algo(e,t,0,6),Sk(e,t)}var Pk={vtkElevationReader:FI,vtkITKImageReader:HI,vtkITKPolyDataReader:JI,vtkJSONNucleoReader:tk,vtkJSONReader:ik,vtkMTLReader:ck,vtkOBJReader:vk,vtkPDBReader:{newInstance:Ck,extend:xk},vtkSkyboxReader:{newInstance:fe.newInstance(_k,"vtkSkyboxReader"),extend:_k}},Ok={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},Ek={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function Tk(e){var t=e.length-1;return e.filter((function(e,n){return n<t&&n%2==0}))}function Dk(e,t){if("UInt64"===t){var n=new Uint32Array(e.buffer,0,6),r=n[0],o=[8,r,n[2],n[4]];n=new Uint32Array(e.buffer,24,2*r);for(var i=0;i<r;i++)o.push(n[2*i]);return o}var a=new Uint32Array(e.buffer,0,3),s=a[0],u=[4,s,a[1],a[2]];a=new Uint32Array(e.buffer,12,s);for(var c=0;c<s;c++)u.push(a[c]);return u}function Ik(e,t){var n=rE.inflate(e);t.uint8.set(n,t.offset),t.offset+=n.length}function kk(e,t,n,r,o,i){var a=t.getAttribute("type"),s=t.getAttribute("Name"),u=t.getAttribute("format"),c=Number(t.getAttribute("NumberOfComponents")||"1"),l=null;if("ascii"===u){l=new Ok[a](e*c);var f=0;t.firstChild.nodeValue.split(/[\\t \\n]+/).forEach((function(e){e.trim().length&&(l[f++]=Number(e))}))}else if("binary"===u){var p=new Uint8Array(d.toArrayBuffer(t.firstChild.nodeValue.trim()));if("vtkZLibDataCompressor"===n){var h=new ArrayBuffer(Ek[a]*e*c);l=new Ok[a](h);for(var m={offset:0,uint8:new Uint8Array(h)},g=Dk(p,o),v=g[1],y=p.length-(g.reduce((function(e,t){return e+t}),0)-(g[0]+g[1]+g[2]+g[3])),b=0;b<v;b++){var w=g[4+b];Ik(new Uint8Array(p.buffer,y,w),m),y+=w}-1!==a.indexOf("Int64")&&(l=Tk(l))}else l=new Ok[a](p.buffer,Ek[o]),-1!==a.indexOf("Int64")&&(l=Tk(l))}else if("appended"===u){var x,C=Number(t.getAttribute("offset")),S=(x=C%Ek[o]==0?new Ok[o](i,C,1):new Ok[o](i.slice(C,C+Ek[o])))[0]/Ek[a];-1!==a.indexOf("Int64")&&(S*=2),l=(C+=Ek[o])%Ek[a]==0?new Ok[a](i,C,S):new Ok[a](i.slice(C,C+x[0])),-1!==a.indexOf("Int64")&&(l=Tk(l))}else console.error("Format not supported",u);return{name:s,values:l,numberOfComponents:c}}function Mk(e,t){function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.dataAccessHelper.fetchBinary(e,n)}t.classHierarchy.push("vtkXMLReader"),t.dataAccessHelper||(t.dataAccessHelper=sE.get("http")),e.setUrl=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.url=n;var o=n.split("/");return o.pop(),t.baseURL=o.join("/"),e.loadData(r)},e.loadData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(t.url,r).then(e.parseAsArrayBuffer)},e.parseAsArrayBuffer=function(n){if(!n)return!1;if(n===t.rawDataBuffer)return!0;e.modified();var r=function(e){return TE.extractBinary(e,/^\s*<AppendedData\s+encoding="raw">\s*_/m,/\n\s*<\/AppendedData>/m)}(n),o=r.text,i=r.binaryBuffer;t.rawDataBuffer=n,t.binaryBuffer=i;var a=function(e){if(window.ActiveXObject){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.loadXML(e),t}return(new DOMParser).parseFromString(e,"application/xml")}(o).firstChild,s=a.getAttribute("type"),u=a.getAttribute("compressor"),c=a.getAttribute("byte_order"),l=a.getAttribute("header_type")||"UInt32";if(u&&"vtkZLibDataCompressor"!==u)return console.error("Invalid compressor",u),!1;if(c&&"LittleEndian"!==c)return console.error("Only LittleEndian encoding is supported"),!1;if(s!==t.dataType)return console.error("Invalid data type",s,"expecting",t.dataType),!1;if(a.querySelector("AppendedData")){var f=a.querySelector("AppendedData"),p=f.getAttribute("encoding"),h=a.querySelectorAll("DataArray"),m=t.binaryBuffer;"base64"===p&&(m=f.textContent.trim().substr(1));for(var g=[],v=0;v<h.length;++v){var y,b=Number(h[v].getAttribute("offset"));y=v===h.length-1?m.length||m.byteLength:Number(h[v+1].getAttribute("offset")),"base64"===p?g.push(new Uint8Array(d.toArrayBuffer(m.substring(b,y)))):g.push(new Uint8Array(m.slice(b,y)))}if("vtkZLibDataCompressor"===u)for(var w=0;w<g.length;++w){var x,C=g[w],S=Dk(C,l),A=S[1],_=C.length-(S.reduce((function(e,t){return e+t}),0)-(S[0]+S[1]+S[2]+S[3]));x=A>0?0===S[3]?new ArrayBuffer(S[2]*A):new ArrayBuffer(S[2]*(A-1)+S[3]):new ArrayBuffer(0);for(var P=new Uint8Array(x),O={offset:0,uint8:P},E=0;E<A;E++){var T=S[4+E];Ik(new Uint8Array(C.buffer,_,T),O),_+=T}var D=new Uint8Array(P.length+Ek[l]);new Ok[l](D.buffer,0,1)[0]=P.length,D.set(P,Ek[l]),g[w]=D}for(var I=g.reduce((function(e,t){return e+t.length}),0),k=new ArrayBuffer(I),M=new Uint8Array(k),N=0,R=0;N<g.length;++N)h[N].setAttribute("offset",R),M.set(g[N],R),R+=g[N].length;if(t.binaryBuffer=k,!t.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}return e.parseXML(a,s,u,c,l),!0},e.requestData=function(n,r){e.parseAsArrayBuffer(t.rawDataBuffer)}}var Nk={},Rk={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Nk,n),fe.obj(e,t),fe.get(e,t,["url","baseURL"]),fe.setGet(e,t,["dataAccessHelper"]),fe.algo(e,t,0,1),Mk(e,t)},processDataArray:kk,processFieldData:function(e,t,n,r,o,i,a){if(t){var s={};["Scalars","Vectors","Normals","Tensors","TCoords"].forEach((function(e){var r=t.getAttribute(e);r&&(s[r]=n["set".concat(e)])}));for(var u=t.getElementsByTagName("DataArray"),c=u.length,l=0;l<c;l++){var f=u[l],d=Fn.newInstance(kk(e,f,r,0,i,a)),p=d.getName();(s[p]||n.addArray)(d)}}},processCells:function(e,t,n,r,o,i){for(var a={},s=t.getElementsByTagName("DataArray"),u=0;u<s.length;u++){var c=s[u];a[c.getAttribute("Name")]=c}var l=kk(e,a.offsets,n,0,o,i).values,f=l[l.length-1],d=kk(f,a.connectivity,n,0,o,i).values,p=new Uint32Array(e+f),h=0,m=0;return l.forEach((function(e){var t=e-m;p[h++]=t;for(var n=0;n<t;n++)p[h++]=d[m+n];m=e})),p}};function Bk(e,t){t.classHierarchy.push("vtkXMLImageDataReader"),e.parseXML=function(e,n,r,o,i){for(var a=e.getElementsByTagName(t.dataType)[0],s=a.getAttribute("Origin").split(" ").map((function(e){return Number(e)})),u=a.getAttribute("Spacing").split(" ").map((function(e){return Number(e)})),c=a.getElementsByTagName("Piece"),l=c.length,f=0;f<l;f++){var d=c[f],p=d.getAttribute("Extent").split(" ").map((function(e){return Number(e)})),h=es.newInstance({origin:s,spacing:u,extent:p});Rk.processFieldData(h.getNumberOfPoints(),d.getElementsByTagName("PointData")[0],h.getPointData(),r,o,i,t.binaryBuffer),Rk.processFieldData(h.getNumberOfCells(),d.getElementsByTagName("CellData")[0],h.getCellData(),r,o,i,t.binaryBuffer),t.output[f]=h}}}var Lk={dataType:"ImageData"};function Fk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Lk,n),Rk.extend(e,t,n),Bk(e,t)}var jk={newInstance:fe.newInstance(Fk,"vtkXMLImageDataReader"),extend:Fk},Vk=n(9420),Uk=n(9742),zk={ASCII:"ascii",BINARY:"binary",APPENDED:"appended"},Gk={Int8Array:"Int8",Uint8Array:"UInt8",Int16Array:"Int16",Uint16Array:"UInt16",Int32Array:"Int32",Uint32Array:"UInt32",Float32Array:"Float32",Float64Array:"Float64"};function Wk(e){return rE.deflate(e)}function Hk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vtkZLibDataCompressor";if(t===zk.ASCII)return e.getData().join(" ");if(t===zk.BINARY){if("vtkZLibDataCompressor"===r){var o=e.getElementComponentSize(),i=e.getNumberOfValues()*o,a=n,s=i%a,u=Math.trunc(i/a)+(s?1:0),c=new Uint32Array(3+u);c[0]=u,c[1]=a,c[2]=s;for(var l=0,f=[],d=0,p=u-1,h=0;h<u;++h){var m=0===s||h<p?a:c[2],g=new Uint8Array(e.getData().buffer,d,m);d+=a;var v=Wk(g);f.push(v),c[3+h]=v.length,l+=v.length}for(var y=new Uint8Array(l),b=0,w=new Uint8Array(c.buffer),x=0;x<u;++x)y.set(f[x],b),b+=c[3+x];return(0,Uk.fromByteArray)(w)+(0,Uk.fromByteArray)(y)}throw new Error("Only vtkZLibDataCompressor is supported")}if(t===zk.APPENDED)throw new Error("Appended format is not supported");throw new Error("Format is not supported")}function qk(e,t){t.classHierarchy.push("vtkXMLWriter"),e.create=function(e){return(0,Vk.create)().ele("VTKFile").att("type",t.dataType).att("version","0.1").att("byte_order","LittleEndian").att("header_type","UInt32").att("compressor",t.format===zk.ASCII?"":"vtkZLibDataCompressor")},e.write=function(t){return e.create(t).end({pretty:!0})},e.processDataSetAttributes=function(t,n,r){var o={};["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"].forEach((function(e){var t=r.getActiveAttribute(e);t&&(o[e]=t.getName())}));for(var i=t.ele(n,o),a=0;a<r.getNumberOfArrays();++a)e.processDataArray(i,r.getArrayByIndex(a));return i},e.processDataArray=function(t,n){return t.ele("DataArray",{type:Gk[n.getDataType()],Name:n.getName(),format:e.getFormat(),RangeMin:n.getRange()[0],RangeMax:n.getRange()[1],NumberOfComponents:n.getNumberOfComponents()}).txt(Hk(n,e.getFormat(),e.getBlockSize()))},e.requestData=function(n,r){t.file=e.write(n)}}var Kk={blockSize:1024,format:zk.BINARY},Xk={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Kk,n),fe.obj(e,t),fe.setGet(e,t,["blockSize","format"]),fe.get(e,t,["file"]),fe.algo(e,t,1,0),qk(e,t)},compressBlock:Wk,processDataArray:Hk,FormatTypes:zk};function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zk(e,t){t.classHierarchy.push("vtkXMLImageDataWriter");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yk(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.create=function(t){var r=n.create(t),o=r.ele("ImageData",{WholeExtent:t.getExtent().join(" "),Origin:t.getOrigin().join(" "),Spacing:t.getSpacing().join(" ")}).ele("Piece",{Extent:t.getExtent().join(" ")});return e.processDataSetAttributes(o,"PointData",t.getPointData()),e.processDataSetAttributes(o,"CellData",t.getCellData()),r}}var Jk={dataType:"ImageData"};function $k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Jk,n),Xk.extend(e,t,n),Zk(e,t)}var Qk={newInstance:fe.newInstance($k,"vtkXMLImageDataWriter"),extend:$k};function eM(e,t){t.classHierarchy.push("vtkXMLPolyDataReader"),e.parseXML=function(e,n,r,o,i){var a=e.getElementsByTagName(t.dataType)[0],s=a.getElementsByTagName("FieldData")[0],u=a.getElementsByTagName("Piece"),c=u.length,l=[];s&&(l=y(s.getElementsByTagName("DataArray")).map((function(e){return function(e,t,n,r,o){var i=Number(e.getAttribute("NumberOfTuples"));return Fn.newInstance(Rk.processDataArray(i,e,t,n,r,o))}(e,r,o,i,t.binaryBuffer)})));for(var f=function(e){var n=Vc.newInstance(),a=u[e],s=function(e,t,n,r,o,i,a){var s=Number(n.getAttribute("NumberOf".concat(t)));if(s>0){var u=n.getElementsByTagName(t)[0].getElementsByTagName("DataArray")[0],c=Rk.processDataArray(s,u,r,o,i,a),l=c.values,f=c.numberOfComponents;e["get".concat(t)]().setData(l,f)}return s}(n,"Points",a,r,o,i,t.binaryBuffer),c=0;["Verts","Lines","Strips","Polys"].forEach((function(e){c+=function(e,t,n,r,o,i,a){var s=Number(n.getAttribute("NumberOf".concat(t)));if(s>0){var u=Rk.processCells(s,n.getElementsByTagName(t)[0],r,o,i,a);e["get".concat(t)]().setData(u)}return s}(n,e,a,r,o,i,t.binaryBuffer)})),Rk.processFieldData(s,a.getElementsByTagName("PointData")[0],n.getPointData(),r,o,i,t.binaryBuffer),Rk.processFieldData(c,a.getElementsByTagName("CellData")[0],n.getCellData(),r,o,i,t.binaryBuffer);for(var f=n.getFieldData(),d=0;d<l.length;d++)f.addArray(l[d]);t.output[e]=n},d=0;d<c;d++)f(d)}}var tM={dataType:"PolyData"};function nM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tM,n),Rk.extend(e,t,n),eM(e,t)}var rM=fe.newInstance(nM,"vtkXMLPolyDataReader");function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iM(e,t){t.classHierarchy.push("vtkXMLPolyDataWriter");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oM(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.create=function(t){var r=n.create(t),o=r.ele("PolyData",{}).ele("Piece",{NumberOfPoints:t.getPoints().getNumberOfPoints(),NumberOfVerts:t.getNumberOfVerts(),NumberOfLines:t.getNumberOfLines(),NumberOfStrips:t.getNumberOfStrips(),NumberOfPolys:t.getNumberOfPolys()});return e.processDataSetAttributes(o,"PointData",t.getPointData()),e.processDataSetAttributes(o,"CellData",t.getCellData()),e.processDataArray(o.ele("Points"),t.getPoints()),Nc.forEach((function(n){for(var r=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g,"")}(n),i=[],a=[],s=t["get".concat(r)]().getData(),u=s[0],c=0,l=0;l<s.length;){u=s[l++];for(var f=0;f<u;++f)i.push(s[l++]);c+=u,a.push(c)}var d=Fn.newInstance({numberOfComponents:1,name:"connectivity",values:Int32Array.from(i)}),p=Fn.newInstance({numberOfComponents:1,name:"offsets",values:Int32Array.from(a)}),h=o.ele(r);e.processDataArray(h,d),e.processDataArray(h,p)})),r}}var aM={dataType:"PolyData"};function sM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,aM,n),Xk.extend(e,t,n),iM(e,t)}var uM={Core:MD,Geometry:xI,Legacy:NI,Misc:Pk,XML:{vtkXMLImageDataReader:jk,vtkXMLImageDataWriter:Qk,vtkXMLPolyDataReader:{newInstance:rM,extend:nM},vtkXMLPolyDataWriter:{newInstance:fe.newInstance(sM,"vtkXMLPolyDataWriter"),extend:sM},vtkXMLReader:Rk,vtkXMLWriter:Xk}},cM=JSON.parse('[{"Name":"KAAMS","IndexedColors":[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,0.63,0.63,1,0.67,0.5,0.33,1,0.5,0.75,0.53,0.35,0.7,1,0.75,0.5],"Annotations":[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{"ColorSpace":"Diverging","Name":"Cool to Warm","NanColor":[1,1,0],"RGBPoints":[0,0.23137254902,0.298039215686,0.752941176471,0.5,0.865,0.865,0.865,1,0.705882352941,0.0156862745098,0.149019607843]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Cool to Warm (Extended)","NanColor":[0.25,0,0],"RGBPoints":[0,0,0,0.34902,0.03125,0.039216,0.062745,0.380392,0.0625,0.062745,0.117647,0.411765,0.09375,0.090196,0.184314,0.45098,0.125,0.12549,0.262745,0.501961,0.15625,0.160784,0.337255,0.541176,0.1875,0.2,0.396078,0.568627,0.21875,0.239216,0.454902,0.6,0.25,0.286275,0.521569,0.65098,0.28125,0.337255,0.592157,0.701961,0.3125,0.388235,0.654902,0.74902,0.34375,0.466667,0.737255,0.819608,0.375,0.572549,0.819608,0.878431,0.40625,0.654902,0.866667,0.909804,0.4375,0.752941,0.917647,0.941176,0.46875,0.823529,0.956863,0.968627,0.5,0.988235,0.960784,0.901961,0.5,0.941176,0.984314,0.988235,0.52,0.988235,0.945098,0.85098,0.54,0.980392,0.898039,0.784314,0.5625,0.968627,0.835294,0.698039,0.59375,0.94902,0.733333,0.588235,0.625,0.929412,0.65098,0.509804,0.65625,0.909804,0.564706,0.435294,0.6875,0.878431,0.458824,0.352941,0.71875,0.839216,0.388235,0.286275,0.75,0.760784,0.294118,0.211765,0.78125,0.701961,0.211765,0.168627,0.8125,0.65098,0.156863,0.129412,0.84375,0.6,0.094118,0.094118,0.875,0.54902,0.066667,0.098039,0.90625,0.501961,0.05098,0.12549,0.9375,0.45098,0.054902,0.172549,0.96875,0.4,0.054902,0.192157,1,0.34902,0.070588,0.211765]},{"ColorSpace":"Diverging","Name":"Warm to Cool","NanColor":[1,1,0],"RGBPoints":[0,0.705882352941,0.0156862745098,0.149019607843,0.5,0.865,0.865,0.865,1,0.23137254902,0.298039215686,0.752941176471]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Warm to Cool (Extended)","NanColor":[0.250004,0,0],"RGBPoints":[0,0.34902,0,0.129412,0.025,0.4,0.00392157,0.101961,0.05,0.470588,0.0156863,0.0901961,0.075,0.54902,0.027451,0.0705882,0.1,0.619608,0.0627451,0.0431373,0.125,0.690196,0.12549,0.0627451,0.15,0.741176,0.184314,0.0745098,0.175,0.788235,0.266667,0.0941176,0.2,0.811765,0.345098,0.113725,0.225,0.831373,0.411765,0.133333,0.25,0.85098,0.47451,0.145098,0.275,0.870588,0.54902,0.156863,0.3,0.878431,0.619608,0.168627,0.325,0.890196,0.658824,0.196078,0.35,0.909804,0.717647,0.235294,0.375,0.929412,0.776471,0.278431,0.395522,0.94902,0.823529,0.321569,0.418905,0.968627,0.87451,0.407843,0.444278,0.980392,0.917647,0.509804,0.470149,0.988235,0.956863,0.643137,0.483582,0.992157,0.964706,0.713725,0.499,0.988235,0.980392,0.870588,0.5,1,1,1,0.501,0.913725,0.988235,0.937255,0.516418,0.827451,0.980392,0.886275,0.531343,0.764706,0.980392,0.866667,0.546766,0.658824,0.980392,0.843137,0.564179,0.572549,0.964706,0.835294,0.587562,0.423529,0.941176,0.87451,0.60597,0.262745,0.901961,0.862745,0.629851,0.0705882,0.854902,0.870588,0.651741,0.0509804,0.8,0.85098,0.681592,0.0235294,0.709804,0.831373,0.712935,0.0313725,0.615686,0.811765,0.75,0.0313725,0.537255,0.788235,0.775,0.0392157,0.466667,0.768627,0.8,0.0509804,0.396078,0.741176,0.825,0.054902,0.317647,0.709804,0.85,0.054902,0.243137,0.678431,0.875,0.0431373,0.164706,0.639216,0.9,0.0313725,0.0980392,0.6,0.925,0.0392157,0.0392157,0.560784,0.95,0.105882,0.0509804,0.509804,0.975,0.113725,0.0235294,0.45098,1,0.12549,0,0.380392]},{"ColorSpace":"RGB","Name":"Rainbow Desaturated","NanColor":[1,1,0],"RGBPoints":[0,0.278431372549,0.278431372549,0.858823529412,0.143,0,0,0.360784313725,0.285,0,1,1,0.429,0,0.501960784314,0,0.571,1,1,0,0.714,1,0.380392156863,0,0.857,0.419607843137,0,0,1,0.878431372549,0.301960784314,0.301960784314]},{"ColorSpace":"RGB","Name":"Cold and Hot","NanColor":[1,1,0],"RGBPoints":[0,0,1,1,0.45,0,0,1,0.5,0,0,0.501960784314,0.55,1,0,0,1,1,1,0]},{"ColorSpace":"RGB","Name":"Black-Body Radiation","NanColor":[0,0.498039215686,1],"RGBPoints":[0,0,0,0,0.4,0.901960784314,0,0,0.8,0.901960784314,0.901960784314,0,1,1,1,1]},{"ColorSpace":"RGB","Name":"X Ray","NanColor":[1,0,0],"RGBPoints":[0,1,1,1,1,0,0,0]},{"ColorSpace":"RGB","Name":"Grayscale","NanColor":[1,0,0],"RGBPoints":[0,0,0,0,1,1,1,1]},{"ColorSpace":"RGB","Name":"BkRd","NanColor":[0,1,1],"RGBPoints":[0,0,0,0,1,1,0,0]},{"ColorSpace":"RGB","Name":"BkGn","NanColor":[1,0,1],"RGBPoints":[0,0,0,0,1,0,1,0]},{"ColorSpace":"RGB","Name":"BkBu","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,1,0,0,1]},{"ColorSpace":"RGB","Name":"BkMa","NanColor":[0,1,0],"RGBPoints":[0,0,0,0,1,1,0,1]},{"ColorSpace":"RGB","Name":"BkCy","NanColor":[0,1,1],"RGBPoints":[0,0,0,0,1,0,1,1]},{"ColorSpace":"RGB","Name":"Black, Blue and White","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,0.333,0,0,0.501960784314,0.666,0,0.501960784314,1,1,1,1,1]},{"ColorSpace":"RGB","Name":"Black, Orange and White","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,0.333,0.501960784314,0,0,0.666,1,0.501960784314,0,1,1,1,1]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Linear YGB 1211g","NanColor":[0.25,0,0],"RGBPoints":[0,1,0.988235,0.968627,0.02,1,0.952941,0.878431,0.05,0.968627,0.905882,0.776471,0.1,0.94902,0.898039,0.647059,0.15,0.901961,0.878431,0.556863,0.2,0.847059,0.858824,0.482353,0.25,0.690196,0.819608,0.435294,0.3,0.513725,0.768627,0.384314,0.35,0.337255,0.721569,0.337255,0.4,0.278431,0.658824,0.392157,0.45,0.231373,0.639216,0.435294,0.5,0.203922,0.6,0.486275,0.55,0.172549,0.568627,0.537255,0.6,0.141176,0.517647,0.54902,0.65,0.133333,0.458824,0.541176,0.7,0.12549,0.396078,0.529412,0.75,0.117647,0.321569,0.521569,0.8,0.121569,0.258824,0.509804,0.85,0.133333,0.227451,0.501961,0.9,0.145098,0.192157,0.490196,0.95,0.188235,0.164706,0.470588,1,0.258824,0.196078,0.439216]},{"ColorSpace":"CIELAB","Creator":"Francesca Samsel","Name":"Linear Green (Gr4L)","NanColor":[0.25,0,0],"RGBPoints":[0,0.054902,0.109804,0.121569,0.05,0.07451,0.172549,0.180392,0.1,0.086275,0.231373,0.219608,0.15,0.094118,0.278431,0.25098,0.2,0.109804,0.34902,0.278431,0.25,0.113725,0.4,0.278431,0.3,0.117647,0.45098,0.270588,0.35,0.117647,0.490196,0.243137,0.4,0.113725,0.521569,0.203922,0.45,0.109804,0.54902,0.152941,0.5,0.082353,0.588235,0.082353,0.55,0.109804,0.631373,0.05098,0.6,0.211765,0.678431,0.082353,0.65,0.317647,0.721569,0.113725,0.7,0.431373,0.760784,0.160784,0.75,0.556863,0.8,0.239216,0.8,0.666667,0.839216,0.294118,0.85,0.784314,0.878431,0.396078,0.9,0.886275,0.921569,0.533333,0.95,0.960784,0.94902,0.670588,1,1,0.984314,0.901961]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Linear Blue (8_31f)","NanColor":[0.25,0,0],"RGBPoints":[0,0.960784,1,0.980392,0.05,0.815686,0.960784,0.913725,0.1,0.670588,0.929412,0.870588,0.15,0.556863,0.901961,0.843137,0.2,0.478431,0.870588,0.823529,0.25,0.439216,0.831373,0.803922,0.3,0.4,0.8,0.788235,0.35,0.376471,0.768627,0.768627,0.4,0.34902,0.709804,0.729412,0.45,0.32549,0.654902,0.690196,0.5,0.301961,0.607843,0.658824,0.55,0.247059,0.545098,0.619608,0.6,0.239216,0.494118,0.580392,0.65,0.227451,0.439216,0.541176,0.7,0.227451,0.403922,0.521569,0.75,0.231373,0.368627,0.501961,0.8,0.227451,0.321569,0.470588,0.85,0.219608,0.282353,0.439216,0.9,0.192157,0.235294,0.4,0.95,0.160784,0.184314,0.34902,1,0.133333,0.12549,0.301961]},{"ColorSpace":"HSV","Name":"Blue to Red Rainbow","NanColor":[0.498039215686,0.498039215686,0.498039215686],"RGBPoints":[0,0,0,1,1,1,0,0]},{"ColorSpace":"HSV","Name":"Red to Blue Rainbow","NanColor":[0.498039215686,0.498039215686,0.498039215686],"RGBPoints":[0,1,0,0,1,0,0,1]},{"ColorSpace":"RGB","Name":"Rainbow Blended White","NanColor":[1,1,0],"RGBPoints":[0,1,1,1,0.17,0,0,1,0.34,0,1,1,0.5,0,1,0,0.67,1,1,0,0.84,1,0,0,1,0.878431372549,0,1]},{"ColorSpace":"RGB","Name":"Rainbow Blended Grey","NanColor":[1,1,0],"RGBPoints":[0,0.317647058824,0.341176470588,0.43137254902,0.17,0,0,1,0.34,0,1,1,0.5,0,1,0,0.67,1,1,0,0.84,1,0,0,1,0.878431372549,0,1]},{"ColorSpace":"RGB","Name":"Rainbow Blended Black","NanColor":[1,1,0],"RGBPoints":[0,0,0,0,0.17,0,0,1,0.34,0,1,1,0.5,0,1,0,0.67,1,1,0,0.84,1,0,0,1,0.878431372549,0,1]},{"ColorSpace":"RGB","Name":"Blue to Yellow","NanColor":[1,0,0],"RGBPoints":[0,0.0392156862745,0.0392156862745,0.949019607843,1,0.949019607843,0.949019607843,0.0392156862745]},{"ColorSpace":"HSV","Name":"blot","RGBPoints":[0,0,0,1,0.166,0,0,1,0.167,1,0,1,0.332,1,0,1,0.333,0,1,1,0.5,0,1,1,0.501,0,1,0,0.666,0,1,0,0.667,1,1,0,0.832,1,1,0,0.833,1,0,0,1,1,0,0]},{"ColorSpace":"Lab","Name":"CIELab Blue to Red","NanColor":[1,1,0],"RGBPoints":[0,0,0.6,0.749019607843,1,0.76862745098,0.466666666667,0.341176470588]},{"ColorSpace":"RGB","Name":"jet","RGBPoints":[-1,0,0,0.5625,-0.777778,0,0,1,-0.269841,0,1,1,-0.015873,0.5,1,0.5,0.238095,1,1,0,0.746032,1,0,0,1,0.5,0,0]},{"ColorSpace":"RGB","Name":"rainbow","RGBPoints":[-1,0,0,1,-0.5,0,1,1,0,0,1,0,0.5,1,1,0,1,1,0,0]},{"ColorSpace":"Lab","Name":"erdc_rainbow_bright","RGBPoints":[-1,0.32549,0.14902,0.960784,-0.866221,0.297047,0.375586,0.963836,-0.732441,0.180302,0.536818,0.964627,-0.598662,0.1302,0.649207,0.929647,-0.464883,0.0445143,0.749654,0.855998,-0.331104,0.0271325,0.830713,0.721527,-0.197324,0.259504,0.866145,0.543555,-0.0635452,0.428364,0.890725,0.329819,0.0702341,0.568503,0.898508,0.187623,0.204013,0.738259,0.890317,0.0825461,0.337793,0.84546,0.86136,0.0147555,0.471572,0.912191,0.808018,0,0.605351,0.962848,0.710445,0,0.73913,0.999469,0.600258,0.0176284,0.87291,0.994156,0.445975,0.193912,1,0.980407,0.247105,0.262699]},{"ColorSpace":"Lab","Name":"erdc_rainbow_dark","RGBPoints":[-1,0,0,0.423499,-0.866221,0,0.119346,0.529237,-0.732441,0,0.238691,0.634976,-0.598662,0,0.346852,0.68788,-0.464883,0,0.45022,0.718141,-0.331104,0,0.553554,0.664839,-0.197324,0,0.651082,0.519303,-0.0635452,0.115841,0.72479,0.352857,0.0702341,0.326771,0.781195,0.140187,0.204013,0.522765,0.798524,0.0284624,0.337793,0.703162,0.788685,0.00885756,0.471572,0.845118,0.751133,0,0.605351,0.955734,0.690825,0,0.73913,0.995402,0.567916,0.0618524,0.87291,0.987712,0.403398,0.164851,1,0.980407,0.247105,0.262699]},{"ColorSpace":"Lab","Name":"nic_CubicL","RGBPoints":[-1,0.479965,0.0118108,0.5307,-0.87451,0.522213,0.0551282,0.706919,-0.74902,0.50839,0.237278,0.867764,-0.623529,0.451617,0.373834,0.987255,-0.498039,0.39365,0.497255,0.97506,-0.372549,0.328631,0.599639,0.891843,-0.247059,0.250043,0.690286,0.778553,-0.121569,0.249656,0.764905,0.645857,0.00392157,0.297954,0.821466,0.50449,0.129412,0.337509,0.872595,0.358447,0.254902,0.430011,0.913789,0.297079,0.380392,0.587191,0.931381,0.333353,0.505882,0.727937,0.93591,0.353742,0.631373,0.826403,0.921081,0.365066,0.756863,0.893201,0.846317,0.372662,0.882353,0.965347,0.73884,0.378506,1,0.983235,0.597451,0.366856]},{"ColorSpace":"Lab","Name":"nic_CubicYF","RGBPoints":[-1,0.5151,0.0482,0.6697,-0.87451,0.520711,0.168955,0.800574,-0.74902,0.493694,0.278596,0.911824,-0.623529,0.440026,0.369475,0.984978,-0.498039,0.398932,0.457593,0.987053,-0.372549,0.350651,0.540644,0.929608,-0.247059,0.298827,0.615625,0.857729,-0.121569,0.239928,0.685061,0.769531,0.00392157,0.228832,0.739349,0.673287,0.129412,0.263297,0.78608,0.569988,0.254902,0.298107,0.828337,0.460214,0.380392,0.33092,0.864071,0.352674,0.505882,0.38306,0.898169,0.287309,0.631373,0.49023,0.917481,0.307961,0.756863,0.62372,0.926026,0.332309,0.882353,0.717458,0.92527,0.342476,1,0.8,0.9255,0.3529]},{"ColorSpace":"Lab","Name":"gist_earth","RGBPoints":[-1,0,0,0,-0.87451,0.239216,0.027451,0.415686,-0.74902,0.0901961,0.254902,0.556863,-0.623529,0.0941176,0.352941,0.54902,-0.498039,0.105882,0.435294,0.533333,-0.372549,0.12549,0.52549,0.501961,-0.247059,0.156863,0.596078,0.443137,-0.121569,0.196078,0.65098,0.380392,0.00392157,0.282353,0.717647,0.301961,0.129412,0.466667,0.772549,0.27451,0.254902,0.678431,0.784314,0.309804,0.380392,0.901961,0.756863,0.376471,0.505882,0.992157,0.705882,0.521569,0.631373,1,0.721569,0.701961,0.756863,1,0.784314,0.784314,0.882353,1,0.866667,0.866667,1,1,1,1]},{"ColorSpace":"Lab","Name":"2hot","RGBPoints":[-1,0.0416667,0,0,-0.873016,0.208333,0,0,-0.746032,0.375,0,0,-0.619048,0.541667,0,0,-0.492063,0.708333,0,0,-0.365079,0.854137,0,0,-0.238095,0.937488,0.039062,0,-0.111111,1,0.208333,0,0.015873,1,0.375,0,0.142857,1,0.541667,0,0.269841,1,0.708333,0,0.396825,1,0.858805,0.03125,0.52381,1,0.947392,0.15625,0.650794,1,1,0.3125,0.777778,1,1,0.5625,0.904762,1,1,0.8125,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_red2yellow_BW","RGBPoints":[-1,7.54296e-7,0,0.0000109827,-0.87451,0.18285,0.0264094,0,-0.74902,0.3066,0,0,-0.623529,0.422841,0,0,-0.498039,0.522945,0,0,-0.372549,0.605721,0,0,-0.247059,0.672502,0.14168,0,-0.121569,0.728167,0.244025,0,0.00392157,0.781215,0.333454,0,0.129412,0.825,0.423586,0,0.254902,0.855893,0.516793,0,0.380392,0.880491,0.608846,0,0.505882,0.910305,0.695505,0,0.631373,0.94109,0.779067,0.223528,0.756863,0.967873,0.858572,0.473521,0.882353,0.986815,0.933211,0.751583,1,1,1,0.999997]},{"ColorSpace":"Lab","Name":"erdc_marine2gold_BW","RGBPoints":[-1,1.11641e-7,0,0.00000162551,-0.87451,0.0413146,0.0619808,0.209857,-0.74902,0.0185557,0.101341,0.350684,-0.623529,0.00486405,0.149847,0.461054,-0.498039,0.0836345,0.210845,0.517906,-0.372549,0.173222,0.276134,0.541793,-0.247059,0.259857,0.343877,0.535869,-0.121569,0.362299,0.408124,0.504293,0.00392157,0.468266,0.468276,0.468257,0.129412,0.582781,0.527545,0.374914,0.254902,0.691591,0.585251,0.274266,0.380392,0.784454,0.645091,0.247332,0.505882,0.862299,0.710383,0.27518,0.631373,0.920863,0.782923,0.351563,0.756863,0.955792,0.859699,0.533541,0.882353,0.976162,0.93433,0.780671,1,1,1,0.999983]},{"ColorSpace":"Lab","Name":"erdc_blue2gold_BW","RGBPoints":[-1,0,0,0,-0.87451,0.0742735,0.0440331,0.230013,-0.74902,0.125276,0.0258685,0.415826,-0.623529,0.143879,0.0163031,0.591346,-0.498039,0.212261,0.0627855,0.705239,-0.372549,0.306048,0.141178,0.763636,-0.247059,0.391537,0.232286,0.773263,-0.121569,0.461734,0.336633,0.708321,0.00392157,0.54209,0.427581,0.590007,0.129412,0.61704,0.508623,0.460978,0.254902,0.702703,0.579586,0.309117,0.380392,0.790336,0.644811,0.170397,0.505882,0.870173,0.710733,0.117134,0.631373,0.93656,0.781991,0.157144,0.756863,0.965672,0.862068,0.409836,0.882353,0.985751,0.936296,0.714162,1,1,1,0.999999]},{"ColorSpace":"Lab","Name":"erdc_sapphire2gold_BW","RGBPoints":[-1,0.107704,0.107708,0.107694,-0.87451,0.1851,0.112354,0.308554,-0.74902,0.236782,0.114233,0.48788,-0.623529,0.28296,0.126187,0.639464,-0.498039,0.344787,0.171643,0.739713,-0.372549,0.413325,0.242371,0.76913,-0.247059,0.481863,0.3131,0.719841,-0.121569,0.550402,0.383829,0.612222,0.00392157,0.61894,0.454558,0.51126,0.129412,0.687478,0.525287,0.39993,0.254902,0.756017,0.596016,0.289923,0.380392,0.824555,0.666745,0.255498,0.505882,0.892979,0.736822,0.27696,0.631373,0.938851,0.804966,0.351734,0.756863,0.966491,0.874853,0.53572,0.882353,0.982105,0.94153,0.782579,1,1,1,0.999986]},{"ColorSpace":"Lab","Name":"erdc_red2purple_BW","RGBPoints":[-1,0,0,0,-0.87451,0.167793,0.0166271,0.0431278,-0.74902,0.262608,0.0107595,0.0791181,-0.623529,0.351902,0.0101858,0.100926,-0.498039,0.441257,0.0160835,0.131919,-0.372549,0.5221,0.0555972,0.195625,-0.247059,0.593852,0.104294,0.310234,-0.121569,0.654628,0.158115,0.448486,0.00392157,0.707443,0.220914,0.570253,0.129412,0.749504,0.293268,0.67897,0.254902,0.781587,0.370517,0.779269,0.380392,0.809951,0.451099,0.855831,0.505882,0.84424,0.531462,0.900451,0.631373,0.865174,0.620901,0.91606,0.756863,0.875041,0.714054,0.910284,0.882353,0.880764,0.80554,0.896276,1,0.887572,0.887591,0.887556]},{"ColorSpace":"Lab","Name":"erdc_purple2pink_BW","RGBPoints":[-1,0,0,0,-0.87451,0.117562,0.0291202,0.175876,-0.74902,0.178368,0.0458476,0.285454,-0.623529,0.237731,0.0680173,0.387717,-0.498039,0.300877,0.0956291,0.484802,-0.372549,0.370929,0.136858,0.554985,-0.247059,0.449033,0.189273,0.58863,-0.121569,0.529971,0.245796,0.598587,0.00392157,0.609914,0.300643,0.610244,0.129412,0.697079,0.351286,0.616371,0.254902,0.785858,0.401991,0.617376,0.380392,0.862517,0.45745,0.64463,0.505882,0.91359,0.525462,0.705336,0.631373,0.932583,0.61064,0.767412,0.756863,0.922478,0.706966,0.817522,0.882353,0.901302,0.803071,0.856311,1,0.887571,0.887591,0.887549]},{"ColorSpace":"Lab","Name":"erdc_pbj_lin","RGBPoints":[-1,0,0,0,-0.87451,0.091821,0.0611476,0.10617,-0.74902,0.160311,0.0900022,0.192713,-0.623529,0.22484,0.12126,0.272128,-0.498039,0.291263,0.157469,0.340828,-0.372549,0.360015,0.200388,0.388903,-0.247059,0.437497,0.250058,0.387201,-0.121569,0.512636,0.304969,0.355955,0.00392157,0.582603,0.360874,0.33488,0.129412,0.655126,0.416374,0.306351,0.254902,0.725889,0.473329,0.279051,0.380392,0.778125,0.537928,0.302697,0.505882,0.815894,0.606931,0.382431,0.631373,0.839159,0.679308,0.497608,0.756863,0.854748,0.751666,0.631792,0.882353,0.869483,0.822508,0.768592,1,0.887572,0.887589,0.887565]},{"ColorSpace":"Lab","Name":"erdc_blue2green_muted","RGBPoints":[-1,0.107704,0.107708,0.107695,-0.87451,0.141522,0.13066,0.270741,-0.74902,0.180123,0.146119,0.42308,-0.623529,0.210161,0.169674,0.551795,-0.498039,0.239701,0.212939,0.634969,-0.372549,0.253916,0.282947,0.653641,-0.247059,0.242791,0.366933,0.608521,-0.121569,0.226302,0.446776,0.52693,0.00392157,0.236237,0.514689,0.458798,0.129412,0.274641,0.577589,0.376069,0.254902,0.349625,0.633993,0.288131,0.380392,0.4437,0.683677,0.260497,0.505882,0.536247,0.731214,0.285424,0.631373,0.628472,0.777128,0.349151,0.756863,0.718259,0.819287,0.496825,0.882353,0.804768,0.856164,0.703299,1,0.887571,0.887591,0.887548]},{"ColorSpace":"Lab","Name":"erdc_blue2green_BW","RGBPoints":[-1,3.63578e-7,0,0.00000529374,-0.87451,0.0539915,0.0577948,0.212806,-0.74902,0.0620393,0.0758942,0.388959,-0.623529,0.0697499,0.102032,0.54177,-0.498039,0.113295,0.156156,0.64334,-0.372549,0.152047,0.243196,0.670283,-0.247059,0.158096,0.344084,0.622864,-0.121569,0.151142,0.43922,0.532767,0.00392157,0.17155,0.521588,0.457719,0.129412,0.225861,0.599141,0.363997,0.254902,0.32328,0.67007,0.259083,0.380392,0.442344,0.733697,0.223754,0.505882,0.558409,0.794941,0.257411,0.631373,0.673875,0.854344,0.340822,0.756863,0.787244,0.909326,0.524717,0.882353,0.896483,0.958063,0.775914,1,1,1,0.999982]},{"ColorSpace":"Lab","Name":"GREEN-WHITE_LINEAR","RGBPoints":[-1,0,0,0,-0.87451,0,0.062745,0,-0.74902,0,0.12549,0,-0.623529,0,0.188235,0,-0.498039,0,0.25098,0,-0.372549,0,0.313725,0,-0.247059,0,0.376471,0,-0.121569,0.094118,0.439216,0,0.00392157,0.196078,0.501961,0,0.129412,0.294118,0.564706,0,0.254902,0.396078,0.627451,0,0.380392,0.498039,0.690196,0,0.505882,0.6,0.752941,0.145098,0.631373,0.701961,0.815686,0.364706,0.756863,0.8,0.878431,0.580392,0.882353,0.901961,0.941176,0.796078,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_green2yellow_BW","RGBPoints":[-1,0,0,0,-0.87451,0,0.105542,0.0603919,-0.74902,0,0.159454,0.104148,-0.623529,0,0.219502,0.15542,-0.498039,0,0.282276,0.203811,-0.372549,0,0.346331,0.235652,-0.247059,0,0.411765,0.235428,-0.121569,0,0.477177,0.217977,0.00392157,0.0593644,0.541635,0.21361,0.129412,0.233081,0.604722,0.210591,0.254902,0.369803,0.664942,0.226536,0.380392,0.498446,0.722367,0.288237,0.505882,0.601929,0.782244,0.380815,0.631373,0.703207,0.840497,0.512134,0.756863,0.803186,0.896433,0.674462,0.882353,0.903834,0.950266,0.846715,1,1,1,0.999981]},{"ColorSpace":"Lab","Name":"blue2cyan","RGBPoints":[-1,0,0,0,-0.87451,0,0.152941,0.364706,-0.74902,0,0.254902,0.470588,-0.623529,0,0.34902,0.572549,-0.498039,0,0.443137,0.670588,-0.372549,0,0.537255,0.772549,-0.247059,0,0.627451,0.870588,-0.121569,0,0.717647,0.964706,0.00392157,0.0784314,0.772549,1,0.129412,0.207843,0.858824,1,0.254902,0.32549,0.941176,1,0.380392,0.45098,1,1,0.505882,0.560784,1,1,0.631373,0.662745,1,1,0.756863,0.760784,1,1,0.882353,0.870588,1,1,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_blue2cyan_BW","RGBPoints":[-1,4.05298e-7,0,0.0000059012,-0.87451,0.0207526,0.0740933,0.18093,-0.74902,0,0.121033,0.30343,-0.623529,0,0.166892,0.416095,-0.498039,0,0.216768,0.524796,-0.372549,0.0164769,0.275471,0.608585,-0.247059,0.0544527,0.344824,0.659267,-0.121569,0.0880643,0.419118,0.688675,0.00392157,0.127938,0.492556,0.720256,0.129412,0.149476,0.566946,0.756918,0.254902,0.188961,0.641333,0.792122,0.380392,0.245482,0.715336,0.827609,0.505882,0.329216,0.786235,0.874761,0.631373,0.453558,0.852803,0.918466,0.756863,0.626281,0.910493,0.954,0.882353,0.82257,0.958709,0.980146,1,1,1,0.999989]},{"ColorSpace":"Lab","Name":"erdc_blue_BW","RGBPoints":[-1,0,0,0,-0.87451,0.0425591,0.0763529,0.150682,-0.74902,0.0569472,0.119154,0.275403,-0.623529,0.0635978,0.164772,0.395427,-0.498039,0.0774342,0.213851,0.510014,-0.372549,0.106815,0.267034,0.615102,-0.247059,0.122093,0.324649,0.720068,-0.121569,0.160851,0.387068,0.806956,0.00392157,0.213754,0.453516,0.878012,0.129412,0.26722,0.524656,0.932436,0.254902,0.326844,0.599279,0.968038,0.380392,0.403403,0.674712,0.984784,0.505882,0.499703,0.745519,1,0.631373,0.615055,0.813983,1,0.756863,0.74405,0.879228,1,0.882353,0.877909,0.941913,1,1,1,1,0.999996]},{"ColorSpace":"Lab","Name":"BLUE-WHITE","RGBPoints":[-1,0,0,0,-0.87451,0,0,0.082353,-0.74902,0,0,0.168627,-0.623529,0,0,0.254902,-0.498039,0,0,0.337255,-0.372549,0,0,0.423529,-0.247059,0,0,0.509804,-0.121569,0,0.101961,0.592157,0.00392157,0,0.203922,0.678431,0.129412,0,0.301961,0.764706,0.254902,0,0.403922,0.85098,0.380392,0,0.505882,0.933333,0.505882,0,0.603922,1,0.631373,0.254902,0.705882,1,0.756863,0.509804,0.807843,1,0.882353,0.764706,0.905882,1,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_purple_BW","RGBPoints":[-1,4.264e-8,0,6.20844e-7,-0.87451,0.100579,0.0593111,0.145666,-0.74902,0.167794,0.0889224,0.254953,-0.623529,0.231446,0.123339,0.360511,-0.498039,0.296699,0.163027,0.461278,-0.372549,0.363211,0.209286,0.55306,-0.247059,0.431136,0.260776,0.637195,-0.121569,0.498202,0.320012,0.705799,0.00392157,0.567456,0.380459,0.778091,0.129412,0.629381,0.445284,0.8448,0.254902,0.688373,0.517374,0.895694,0.380392,0.74891,0.590906,0.93976,0.505882,0.805017,0.667956,0.977626,0.631373,0.850914,0.752618,0.992396,0.756863,0.89724,0.838454,0.994093,0.882353,0.948461,0.922603,0.994449,1,1,1,0.999967]},{"ColorSpace":"Lab","Name":"erdc_magenta_BW","RGBPoints":[-1,0,0,0.0000254023,-0.87451,0.128696,0.0456782,0.11635,-0.74902,0.228133,0.0476299,0.201452,-0.623529,0.327273,0.0374065,0.282107,-0.498039,0.420953,0.0408166,0.35709,-0.372549,0.511562,0.0642203,0.430511,-0.247059,0.599552,0.102686,0.504257,-0.121569,0.684646,0.150536,0.579429,0.00392157,0.765817,0.205978,0.656062,0.129412,0.839176,0.27229,0.731807,0.254902,0.89536,0.357594,0.797309,0.380392,0.930238,0.457825,0.846984,0.505882,0.945921,0.564536,0.880571,0.631373,0.948995,0.670753,0.902279,0.756863,0.947124,0.772819,0.918171,0.882353,0.947265,0.869424,0.934352,1,0.954719,0.95475,0.954726]},{"ColorSpace":"Lab","Name":"magenta","RGBPoints":[-1,0,0,0,-0.87451,0.364706,0,0.152941,-0.74902,0.470588,0,0.254902,-0.623529,0.572549,0,0.34902,-0.498039,0.670588,0,0.443137,-0.372549,0.772549,0,0.537255,-0.247059,0.870588,0,0.627451,-0.121569,0.964706,0,0.717647,0.00392157,1,0.0784314,0.772549,0.129412,1,0.207843,0.858824,0.254902,1,0.32549,0.941176,0.380392,1,0.45098,1,0.505882,1,0.560784,1,0.631373,1,0.662745,1,0.756863,1,0.760784,1,0.882353,1,0.870588,1,1,1,1,1]},{"ColorSpace":"Lab","Name":"RED-PURPLE","RGBPoints":[-1,0,0,0,-0.87451,0.188235,0,0.007843,-0.74902,0.345098,0,0.035294,-0.623529,0.439216,0,0.098039,-0.498039,0.533333,0,0.152941,-0.372549,0.627451,0.015686,0.211765,-0.247059,0.721569,0.031373,0.266667,-0.121569,0.8,0.047059,0.329412,0.00392157,0.862745,0.047059,0.403922,0.129412,0.941176,0.062745,0.466667,0.254902,0.988235,0.078431,0.54902,0.380392,0.988235,0.141176,0.643137,0.505882,0.988235,0.25098,0.729412,0.631373,0.988235,0.376471,0.811765,0.756863,0.988235,0.54902,0.886275,0.882353,0.988235,0.752941,0.952941,1,0.996078,0.996078,0.996078]},{"ColorSpace":"Lab","Name":"erdc_red_BW","RGBPoints":[-1,0,0,0,-0.87451,0.147204,0.0480135,0.0401815,-0.74902,0.253411,0.0617478,0.0301333,-0.623529,0.356059,0.0746331,0.0446897,-0.498039,0.457731,0.0934935,0.0636931,-0.372549,0.557199,0.122714,0.0860013,-0.247059,0.665179,0.144238,0.105585,-0.121569,0.763833,0.187056,0.138326,0.00392157,0.847035,0.254558,0.189407,0.129412,0.905663,0.345937,0.258215,0.254902,0.941431,0.447111,0.346277,0.380392,0.962608,0.546927,0.457571,0.505882,0.987833,0.637276,0.569944,0.631373,0.994202,0.732176,0.687958,0.756863,0.993304,0.826268,0.800567,0.882353,0.994413,0.917205,0.906393,1,1,1,0.999979]},{"ColorSpace":"Lab","Name":"RED_TEMPERATURE","RGBPoints":[-1,0,0,0,-0.87451,0.090196,0,0,-0.74902,0.180392,0,0,-0.623529,0.270588,0,0,-0.498039,0.360784,0,0,-0.372549,0.45098,0,0,-0.247059,0.545098,0,0,-0.121569,0.635294,0,0,0.00392157,0.72549,0.058824,0,0.129412,0.815686,0.176471,0,0.254902,0.905882,0.294118,0,0.380392,1,0.411765,0,0.505882,1,0.533333,0.027451,0.631373,1,0.65098,0.27451,0.756863,1,0.768627,0.521569,0.882353,1,0.886275,0.768627,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_orange_BW","RGBPoints":[-1,0,0,0.0000253806,-0.87451,0.135871,0.0593824,0,-0.74902,0.224328,0.0907216,0,-0.623529,0.318083,0.119647,0,-0.498039,0.414443,0.150246,0,-0.372549,0.511077,0.184884,0,-0.247059,0.605501,0.226033,0,-0.121569,0.695274,0.275491,0,0.00392157,0.777826,0.334445,0,0.129412,0.851498,0.402441,0,0.254902,0.915899,0.47759,0.000602975,0.380392,0.971984,0.557882,0.0361443,0.505882,1,0.641287,0.135967,0.631373,1,0.725198,0.27997,0.756863,1,0.808205,0.438135,0.882353,1,0.89306,0.587036,1,1,0.977928,0.721599]},{"ColorSpace":"Lab","Name":"heated_object","RGBPoints":[-1,0,0,0,-0.87451,0.34902,0.0862745,0,-0.74902,0.45098,0.172549,0,-0.623529,0.52549,0.231373,0,-0.498039,0.580392,0.278431,0,-0.372549,0.623529,0.313725,0,-0.247059,0.670588,0.352941,0,-0.121569,0.717647,0.392157,0,0.00392157,0.772549,0.439216,0,0.129412,0.839216,0.494118,0,0.254902,0.901961,0.541176,0,0.380392,0.968627,0.6,0,0.505882,1,0.658824,0,0.631373,1,0.721569,0,0.756863,1,0.827451,0.298039,0.882353,1,0.976471,0.72549,1,1,1,1]},{"ColorSpace":"Lab","Name":"erdc_gold_BW","RGBPoints":[-1,0,0,0.0000190933,-0.87451,0.128363,0.0636265,0,-0.74902,0.193795,0.111057,0,-0.623529,0.25976,0.15987,0,-0.498039,0.328546,0.210589,0,-0.372549,0.399726,0.26332,0,-0.247059,0.472969,0.318261,0,-0.121569,0.546245,0.375827,0,0.00392157,0.61745,0.436719,0,0.129412,0.685545,0.501113,0,0.254902,0.749578,0.568799,0,0.380392,0.80962,0.6394,0,0.505882,0.865572,0.712699,0.10257,0.631373,0.917709,0.787569,0.233665,0.756863,0.966914,0.863138,0.369608,0.882353,1,0.939405,0.496104,1,0.999225,1,0.612275]},{"ColorSpace":"Lab","Name":"erdc_brown_BW","RGBPoints":[-1,3.3216e-7,0,0.00000483629,-0.87451,0.14693,0.0518172,0,-0.74902,0.225806,0.0814996,0,-0.623529,0.301681,0.111452,0,-0.498039,0.370487,0.150664,0,-0.372549,0.43108,0.199477,0,-0.247059,0.4849,0.255107,0,-0.121569,0.536798,0.313486,0,0.00392157,0.59286,0.371167,0,0.129412,0.653119,0.428135,0,0.254902,0.714589,0.485917,0.0379541,0.380392,0.774667,0.54565,0.116634,0.505882,0.831222,0.608047,0.183895,0.631373,0.880305,0.674199,0.260298,0.756863,0.922314,0.742472,0.367086,0.882353,0.959408,0.811222,0.497258,1,0.993548,0.875183,0.622093]},{"ColorSpace":"Lab","Name":"copper_Matlab","RGBPoints":[-1,0,0,0,-0.87451,0.0784314,0.0501961,0.0313725,-0.74902,0.156863,0.100392,0.0627451,-0.623529,0.235294,0.150588,0.0941176,-0.498039,0.313725,0.200784,0.12549,-0.372549,0.392157,0.25098,0.156863,-0.247059,0.470588,0.301176,0.188235,-0.121569,0.54902,0.351373,0.219608,0.00392157,0.627451,0.401569,0.25098,0.129412,0.705882,0.451765,0.282353,0.254902,0.784314,0.501961,0.313725,0.380392,0.862745,0.552157,0.345098,0.505882,0.941176,0.602353,0.376471,0.631373,1,0.652549,0.407843,0.756863,1,0.702745,0.439216,0.882353,1,0.752941,0.470588,1,1,0.8,0.5]},{"ColorSpace":"Lab","Name":"pink_Matlab","RGBPoints":[-1,0,0,0,-0.87451,0.312416,0.204524,0.204524,-0.74902,0.441822,0.289241,0.289241,-0.623529,0.54112,0.354246,0.354246,-0.498039,0.624831,0.409048,0.409048,-0.372549,0.698582,0.45733,0.45733,-0.247059,0.764404,0.502282,0.500979,-0.121569,0.791292,0.591516,0.54112,0.00392157,0.817297,0.66895,0.578481,0.129412,0.842499,0.738308,0.613572,0.254902,0.866968,0.801687,0.646762,0.380392,0.890766,0.86041,0.678329,0.505882,0.913944,0.913944,0.711254,0.631373,0.936549,0.936549,0.79459,0.756863,0.958621,0.958621,0.869979,0.882353,0.980196,0.980196,0.939336,1,1,1,1]},{"ColorSpace":"Lab","Name":"bone_Matlab","RGBPoints":[-1,0,0,0,-0.87451,0.054902,0.054902,0.075817,-0.74902,0.109804,0.109804,0.151634,-0.623529,0.164706,0.164706,0.227451,-0.498039,0.219608,0.219608,0.303268,-0.372549,0.27451,0.27451,0.379085,-0.247059,0.329412,0.329902,0.454412,-0.121569,0.384314,0.405719,0.509314,0.00392157,0.439216,0.481536,0.564216,0.129412,0.494118,0.557353,0.619118,0.254902,0.54902,0.63317,0.67402,0.380392,0.603922,0.708987,0.728922,0.505882,0.660294,0.783824,0.783824,0.631373,0.746569,0.838725,0.838725,0.756863,0.832843,0.893627,0.893627,0.882353,0.919118,0.948529,0.948529,1,1,1,1]},{"ColorSpace":"Lab","Name":"gray_Matlab","RGBPoints":[-1,0,0,0,-0.87451,0.0627451,0.0627451,0.0627451,-0.74902,0.12549,0.12549,0.12549,-0.623529,0.188235,0.188235,0.188235,-0.498039,0.25098,0.25098,0.25098,-0.372549,0.313725,0.313725,0.313725,-0.247059,0.376471,0.376471,0.376471,-0.121569,0.439216,0.439216,0.439216,0.00392157,0.501961,0.501961,0.501961,0.129412,0.564706,0.564706,0.564706,0.254902,0.627451,0.627451,0.627451,0.380392,0.690196,0.690196,0.690196,0.505882,0.752941,0.752941,0.752941,0.631373,0.815686,0.815686,0.815686,0.756863,0.878431,0.878431,0.878431,0.882353,0.941176,0.941176,0.941176,1,1,1,1]},{"ColorSpace":"Lab","Name":"Purples","RGBPoints":[-1,0.247059,0,0.490196,-0.87451,0.288397,0.07677,0.525629,-0.74902,0.32975,0.153587,0.561092,-0.623529,0.373057,0.236263,0.600461,-0.498039,0.416363,0.319,0.639923,-0.372549,0.459669,0.405613,0.685198,-0.247059,0.503345,0.491534,0.730058,-0.121569,0.562399,0.54862,0.757616,0.00392157,0.621453,0.606075,0.785544,0.129412,0.680508,0.674971,0.824914,0.254902,0.739562,0.743406,0.863899,0.380392,0.798616,0.800492,0.893426,0.505882,0.85684,0.856655,0.922491,0.631373,0.898178,0.894056,0.942176,0.756863,0.938654,0.930919,0.961646,0.882353,0.964245,0.958478,0.977393,1,0.988235,0.984314,0.992157]},{"ColorSpace":"Lab","Name":"Blues","RGBPoints":[-1,0.031373,0.188235,0.419608,-0.87451,0.031373,0.253195,0.516063,-0.74902,0.031757,0.318139,0.612149,-0.623529,0.080969,0.38113,0.661361,-0.498039,0.130427,0.444152,0.710327,-0.372549,0.195386,0.509112,0.743791,-0.247059,0.260715,0.573841,0.777209,-0.121569,0.341423,0.628958,0.808704,0.00392157,0.422745,0.684075,0.839892,0.129412,0.523137,0.739193,0.861546,0.254902,0.622684,0.793464,0.883429,0.380392,0.701423,0.826928,0.910988,0.505882,0.778685,0.8603,0.937993,0.631373,0.825928,0.891795,0.953741,0.756863,0.87328,0.923291,0.969489,0.882353,0.922491,0.954787,0.985236,1,0.968627,0.984314,1]},{"ColorSpace":"Lab","Name":"Greens","RGBPoints":[-1,0,0.266667,0.105882,-0.87451,0,0.347374,0.139346,-0.74902,0.000538,0.427912,0.172933,-0.623529,0.069435,0.486967,0.222145,-0.498039,0.138178,0.546082,0.271326,-0.372549,0.197232,0.609073,0.31857,-0.247059,0.257255,0.671742,0.365859,-0.121569,0.357647,0.720953,0.415071,0.00392157,0.45767,0.769919,0.465021,0.129412,0.546251,0.811257,0.537855,0.254902,0.634295,0.852211,0.610688,0.380392,0.709097,0.883706,0.683522,0.505882,0.78316,0.914833,0.755894,0.631373,0.842215,0.938454,0.818885,0.756863,0.899977,0.961538,0.880692,0.882353,0.935409,0.975317,0.92203,1,0.968627,0.988235,0.960784]},{"ColorSpace":"Lab","Name":"PuBu","RGBPoints":[-1,0.301961,0,0.294118,-0.87451,0.404321,0.029527,0.390573,-0.74902,0.50599,0.059592,0.486782,-0.623529,0.519769,0.158016,0.551742,-0.498039,0.533456,0.256194,0.616301,-0.372549,0.54133,0.33887,0.655671,-0.247059,0.54902,0.421592,0.695087,-0.121569,0.54902,0.506236,0.736424,0.00392157,0.550127,0.590573,0.777701,0.129412,0.585559,0.665375,0.81707,0.254902,0.622145,0.739023,0.855825,0.380392,0.687105,0.784298,0.879446,0.505882,0.752065,0.829758,0.903253,0.631373,0.817024,0.87897,0.930811,0.756863,0.880907,0.927213,0.957832,0.882353,0.926182,0.958708,0.975548,1,0.968627,0.988235,0.992157]},{"ColorSpace":"Lab","Name":"BuPu","RGBPoints":[-1,0.007843,0.219608,0.345098,-0.87451,0.01178,0.286536,0.449427,-0.74902,0.015702,0.35328,0.553479,-0.623529,0.01767,0.396586,0.622376,-0.498039,0.021115,0.4402,0.690688,-0.372549,0.11757,0.503191,0.722184,-0.247059,0.214625,0.565859,0.753633,-0.121569,0.336671,0.615071,0.78316,0.00392157,0.457978,0.663975,0.812503,0.129412,0.556401,0.703345,0.836125,0.254902,0.65421,0.742714,0.859669,0.380392,0.736886,0.782084,0.881323,0.505882,0.81827,0.821638,0.903068,0.631373,0.873387,0.864944,0.92669,0.756863,0.927536,0.907605,0.949988,0.882353,0.964937,0.9391,0.967705,1,1,0.968627,0.984314]},{"ColorSpace":"Lab","Name":"BuGn","RGBPoints":[-1,0.031373,0.25098,0.505882,-0.87451,0.031373,0.329719,0.590527,-0.74902,0.031911,0.408397,0.674787,-0.623529,0.100807,0.479262,0.710219,-0.498039,0.169704,0.550219,0.745744,-0.372549,0.238601,0.62699,0.787082,-0.247059,0.307958,0.703114,0.826759,-0.121569,0.39654,0.752326,0.797232,0.00392157,0.485121,0.801046,0.767705,0.129412,0.573702,0.83451,0.738178,0.254902,0.661592,0.867743,0.711034,0.380392,0.732457,0.895302,0.74253,0.505882,0.801845,0.922307,0.774579,0.631373,0.841215,0.938055,0.817885,0.756863,0.880907,0.95391,0.861084,0.882353,0.926182,0.971626,0.902422,1,0.968627,0.988235,0.941176]},{"ColorSpace":"Lab","Name":"GnBu","RGBPoints":[-1,0,0.266667,0.105882,-0.87451,0,0.347374,0.139346,-0.74902,0.000538,0.427912,0.172933,-0.623529,0.069435,0.486967,0.222145,-0.498039,0.138178,0.546175,0.272095,-0.372549,0.197232,0.615071,0.368551,-0.247059,0.256609,0.683276,0.464867,-0.121569,0.329443,0.722645,0.555417,0.00392157,0.403137,0.762138,0.645413,0.129412,0.503529,0.805444,0.718247,0.254902,0.603922,0.848597,0.790465,0.380392,0.704314,0.887966,0.847551,0.505882,0.802307,0.926321,0.903714,0.631373,0.851519,0.944037,0.941115,0.756863,0.899977,0.961538,0.976901,0.882353,0.935409,0.975317,0.984775,1,0.968627,0.988235,0.992157]},{"ColorSpace":"Lab","Name":"GnBuPu","RGBPoints":[-1,0.003922,0.27451,0.211765,-0.87451,0.003922,0.349312,0.280661,-0.74902,0.003937,0.423852,0.349773,-0.623529,0.005905,0.46519,0.446228,-0.498039,0.009443,0.506344,0.542837,-0.372549,0.111803,0.535871,0.649135,-0.247059,0.214025,0.565859,0.753633,-0.121569,0.310481,0.615071,0.78316,0.00392157,0.407797,0.663975,0.812503,0.129412,0.531811,0.703345,0.836125,0.254902,0.65421,0.742714,0.859669,0.380392,0.736886,0.782084,0.881323,0.505882,0.81827,0.821176,0.902884,0.631373,0.873387,0.854641,0.922568,0.756863,0.927536,0.888535,0.942361,0.882353,0.964937,0.929873,0.964014,1,1,0.968627,0.984314]},{"ColorSpace":"Lab","Name":"BuGnYl","RGBPoints":[-1,0.031373,0.113725,0.345098,-0.87451,0.088458,0.159,0.463206,-0.74902,0.145052,0.204567,0.5807,-0.623529,0.139146,0.287243,0.620069,-0.498039,0.13318,0.370196,0.659562,-0.372549,0.123337,0.470588,0.706805,-0.247059,0.115386,0.570335,0.753126,-0.121569,0.186251,0.643168,0.761,0.00392157,0.258716,0.71514,0.768074,0.129412,0.380761,0.760415,0.750358,0.254902,0.503576,0.806075,0.732795,0.380392,0.645306,0.861192,0.719016,0.505882,0.783899,0.91511,0.705606,0.631373,0.858701,0.944637,0.6997,0.756863,0.931349,0.973303,0.698424,0.882353,0.966782,0.987082,0.777163,1,1,1,0.85098]},{"ColorSpace":"Lab","Name":"PuRd","RGBPoints":[-1,0.286275,0,0.415686,-0.87451,0.38273,0.001968,0.441276,-0.74902,0.479231,0.003922,0.466774,-0.623529,0.581592,0.003922,0.480554,-0.498039,0.683799,0.00549,0.494887,-0.372549,0.776317,0.105882,0.544098,-0.247059,0.867866,0.206321,0.592618,-0.121569,0.919047,0.308681,0.612303,0.00392157,0.968812,0.411226,0.632603,0.129412,0.974717,0.519493,0.671972,0.254902,0.980546,0.626451,0.71065,0.380392,0.984483,0.701253,0.732303,0.505882,0.988328,0.77504,0.755617,0.631373,0.990296,0.828189,0.812703,0.756863,0.992372,0.880907,0.869035,0.882353,0.996309,0.926182,0.912341,1,1,0.968627,0.952941]},{"ColorSpace":"Lab","Name":"RdPu","RGBPoints":[-1,0.403922,0,0.121569,-0.87451,0.500377,0,0.192434,-0.74902,0.596909,0.000277,0.263037,-0.623529,0.703206,0.035709,0.300438,-0.498039,0.808612,0.071296,0.338854,-0.372549,0.857824,0.116571,0.441215,-0.247059,0.905513,0.163552,0.54293,-0.121569,0.889765,0.281661,0.617732,0.00392157,0.873156,0.39897,0.691611,0.129412,0.82985,0.491488,0.736886,0.254902,0.789081,0.583237,0.781853,0.380392,0.810734,0.656071,0.819254,0.505882,0.833126,0.729181,0.85684,0.631373,0.870527,0.80792,0.898178,0.756863,0.907605,0.884398,0.938331,0.882353,0.9391,0.921799,0.958016,1,0.968627,0.956863,0.976471]},{"ColorSpace":"Lab","Name":"Oranges","RGBPoints":[-1,0.498039,0.152941,0.015686,-0.87451,0.57481,0.182468,0.013718,-0.74902,0.651765,0.212042,0.011734,-0.623529,0.752157,0.247474,0.007797,-0.498039,0.851719,0.283368,0.004475,-0.372549,0.898962,0.348328,0.039908,-0.247059,0.945652,0.413426,0.076401,-0.121569,0.969273,0.484291,0.157109,0.00392157,0.992157,0.554971,0.238185,0.129412,0.992157,0.619931,0.330704,0.254902,0.992157,0.684967,0.423837,0.380392,0.992157,0.751895,0.532103,0.505882,0.992249,0.817716,0.639354,0.631373,0.994218,0.861023,0.725967,0.756863,0.996186,0.903576,0.810965,0.882353,0.998155,0.933103,0.868051,1,1,0.960784,0.921569]},{"ColorSpace":"Lab","Name":"Reds","RGBPoints":[-1,0.403922,0,0.05098,-0.87451,0.525967,0.029527,0.066728,-0.74902,0.647643,0.058962,0.082476,-0.623529,0.722445,0.076678,0.098224,-0.498039,0.797186,0.095194,0.114187,-0.372549,0.868051,0.164091,0.143714,-0.247059,0.937809,0.233541,0.173933,-0.121569,0.96143,0.326059,0.232987,0.00392157,0.984375,0.418147,0.292657,0.129412,0.986344,0.496886,0.371396,0.254902,0.988235,0.575702,0.450673,0.380392,0.988235,0.656409,0.543191,0.505882,0.98842,0.736747,0.635894,0.631373,0.992357,0.809581,0.732349,0.756863,0.996186,0.880692,0.826759,0.882353,0.998155,0.92203,0.885813,1,1,0.960784,0.941176]},{"ColorSpace":"Lab","Name":"RdOr","RGBPoints":[-1,0.498039,0,0,-0.87451,0.6004,0,0,-0.74902,0.702514,0.000738,0.000477,-0.623529,0.773379,0.095225,0.061499,-0.498039,0.843875,0.189865,0.12283,-0.372549,0.891119,0.294195,0.203537,-0.247059,0.937855,0.397924,0.283137,-0.121569,0.963445,0.476663,0.316601,0.00392157,0.988297,0.555771,0.351665,0.129412,0.990265,0.646321,0.436309,0.254902,0.992157,0.735256,0.519646,0.380392,0.992157,0.784468,0.570827,0.505882,0.992249,0.833218,0.623483,0.631373,0.994218,0.872587,0.706159,0.756863,0.996186,0.911419,0.788189,0.882353,0.998155,0.940946,0.859054,1,1,0.968627,0.92549]},{"ColorSpace":"Lab","Name":"BrOrYl","RGBPoints":[-1,0.4,0.145098,0.023529,-0.87451,0.500392,0.174625,0.019592,-0.74902,0.600784,0.204291,0.015656,-0.623529,0.701176,0.251534,0.011719,-0.498039,0.800984,0.299146,0.008397,-0.372549,0.863975,0.370012,0.043829,-0.247059,0.926321,0.441107,0.0794,-0.121569,0.961753,0.521815,0.120738,0.00392157,0.996078,0.602645,0.163122,0.129412,0.996078,0.68729,0.237924,0.254902,0.996078,0.771011,0.314879,0.380392,0.996078,0.832034,0.444798,0.505882,0.996171,0.892042,0.572595,0.631373,0.998139,0.931411,0.65724,0.756863,1,0.969489,0.741669,0.882353,1,0.985236,0.822376,1,1,1,0.898039]},{"ColorSpace":"Lab","Name":"RdOrYl","RGBPoints":[-1,0.501961,0,0.14902,-0.87451,0.622038,0,0.14902,-0.74902,0.741761,0.0004,0.148866,-0.623529,0.816563,0.05158,0.129181,-0.498039,0.890965,0.10356,0.110235,-0.372549,0.940177,0.205921,0.137793,-0.247059,0.988281,0.308789,0.165536,-0.121569,0.99025,0.432803,0.200969,0.00392157,0.992218,0.555217,0.236278,0.129412,0.994187,0.628051,0.267774,0.254902,0.996078,0.701038,0.301269,0.380392,0.996078,0.777809,0.383945,0.505882,0.996171,0.852826,0.466621,0.631373,0.998139,0.892195,0.549296,0.756863,1,0.931349,0.632188,0.882353,1,0.966782,0.7188,1,1,1,0.8]},{"ColorSpace":"Lab","Name":"CIELab_blue2red","RGBPoints":[-1,0,0.6,0.74902,1,0.76863,0.46667,0.34118]},{"ColorSpace":"Lab","Name":"blue2yellow","RGBPoints":[-1,0,0,1,0,0.5,0.5,0.5,1,1,1,0]},{"ColorSpace":"Lab","Name":"erdc_blue2gold","RGBPoints":[-1,0.175119,0.0438468,1,-0.874016,0.22383,0.159771,0.94557,-0.748031,0.27254,0.233611,0.891216,-0.622047,0.321251,0.296526,0.836857,-0.496063,0.369962,0.354296,0.782359,-0.370079,0.418672,0.409139,0.72754,-0.244094,0.467383,0.462152,0.672148,-0.11811,0.51609,0.51396,0.615825,0.00787402,0.572863,0.55452,0.559172,0.133858,0.630269,0.593822,0.517729,0.259843,0.689588,0.624668,0.47446,0.385827,0.745394,0.656113,0.428638,0.511811,0.798624,0.688104,0.379105,0.637795,0.849926,0.720593,0.323834,0.76378,0.899765,0.753543,0.258657,0.889764,0.948487,0.78692,0.171778,1,0.990413,0.816451,0.00729848]},{"ColorSpace":"Lab","Name":"erdc_blue2yellow","RGBPoints":[-1,0.0830122,0,0.495617,-0.87451,0.141973,0.0551288,0.57363,-0.74902,0.193048,0.110258,0.604561,-0.623529,0.234231,0.165386,0.57643,-0.498039,0.275413,0.220515,0.548299,-0.372549,0.316596,0.275644,0.520169,-0.247059,0.357778,0.330773,0.492038,-0.121569,0.398961,0.385901,0.463908,0.00392157,0.449929,0.438487,0.426815,0.129412,0.511572,0.488299,0.379944,0.254902,0.581222,0.53603,0.325741,0.380392,0.650871,0.583761,0.271538,0.505882,0.720521,0.631493,0.217335,0.631373,0.79017,0.679224,0.163132,0.756863,0.85982,0.726955,0.108929,0.882353,0.910254,0.774159,0.14112,1,0.927513,0.81759,0.306289]},{"ColorSpace":"Lab","Name":"erdc_cyan2orange","RGBPoints":[-1,0.0471513,0.213874,0.414329,-0.87451,0.0674702,0.256648,0.439027,-0.74902,0.0959957,0.299331,0.462089,-0.623529,0.132428,0.341872,0.483212,-0.498039,0.188743,0.38277,0.500597,-0.372549,0.268511,0.420229,0.512179,-0.247059,0.352945,0.455602,0.519101,-0.121569,0.43893,0.489368,0.521538,0.00392157,0.522445,0.522495,0.522436,0.129412,0.600089,0.555682,0.53205,0.254902,0.67988,0.587981,0.539163,0.380392,0.761011,0.619586,0.544439,0.505882,0.84278,0.650741,0.548567,0.631373,0.910713,0.687347,0.557822,0.756863,0.952232,0.734972,0.577775,0.882353,0.975642,0.789858,0.604868,1,0.990752,0.843643,0.632857]},{"ColorSpace":"Lab","Name":"erdc_purple2green","RGBPoints":[-1,0.235006,0.0483128,0.530899,-0.87451,0.302968,0.108419,0.552391,-0.74902,0.360241,0.166059,0.569502,-0.623529,0.406746,0.226782,0.579373,-0.498039,0.444073,0.28964,0.582094,-0.372549,0.473648,0.353774,0.577947,-0.247059,0.497636,0.418154,0.567911,-0.121569,0.519086,0.481741,0.553968,0.00392157,0.542884,0.542914,0.542875,0.129412,0.566303,0.603989,0.527499,0.254902,0.595218,0.662965,0.516857,0.380392,0.628641,0.720701,0.510673,0.505882,0.665373,0.777849,0.508165,0.631373,0.704182,0.834921,0.508303,0.756863,0.743846,0.892328,0.50999,0.882353,0.783158,0.950422,0.512181,1,0.818617,1,0.513888]},{"ColorSpace":"Lab","Name":"erdc_purple2green_dark","RGBPoints":[-1,0.107656,0,0.428682,-0.87451,0.1924,0,0.449799,-0.74902,0.255118,0.0648939,0.466726,-0.623529,0.304256,0.133066,0.476703,-0.498039,0.343202,0.19716,0.479793,-0.372549,0.373876,0.260353,0.476241,-0.247059,0.398497,0.322872,0.466953,-0.121569,0.420016,0.384252,0.453785,0.00392157,0.44319,0.443216,0.443186,0.129412,0.465553,0.502139,0.428233,0.254902,0.492959,0.559151,0.417591,0.380392,0.524654,0.615092,0.411016,0.505882,0.55959,0.670583,0.40779,0.631373,0.596614,0.726102,0.406948,0.756863,0.634544,0.782032,0.407439,0.882353,0.672183,0.838703,0.408237,1,0.706131,0.892759,0.408452]},{"ColorSpace":"Lab","Name":"coolwarm","RGBPoints":[-1,0.229806,0.298718,0.753683,-0.875,0.303869,0.406535,0.844959,-0.75,0.383013,0.509419,0.917388,-0.625,0.466667,0.604563,0.968155,-0.5,0.552953,0.688929,0.995376,-0.375,0.639176,0.7596,0.998151,-0.25,0.722193,0.813953,0.976575,-0.125,0.798692,0.849786,0.931689,0,0.865395,0.86541,0.865396,0.125,0.924128,0.827385,0.774508,0.25,0.958853,0.769768,0.678008,0.375,0.969954,0.694267,0.579375,0.5,0.958003,0.602842,0.481776,0.625,0.923945,0.497309,0.38797,0.75,0.869187,0.378313,0.300267,0.875,0.795632,0.241284,0.220526,1,0.705673,0.0155562,0.150233]},{"ColorSpace":"Lab","Name":"BuRd","RGBPoints":[-1,0.019608,0.188235,0.380392,-0.87451,0.088504,0.321107,0.564937,-0.74902,0.163399,0.444983,0.697501,-0.623529,0.247059,0.555709,0.754095,-0.498039,0.420684,0.676432,0.818685,-0.372549,0.606459,0.789773,0.880277,-0.247059,0.761476,0.868512,0.924567,-0.121569,0.878047,0.925721,0.951942,0.00392157,0.969089,0.966474,0.964937,0.129412,0.983852,0.897578,0.846828,0.254902,0.982468,0.800692,0.706113,0.380392,0.960323,0.66782,0.536332,0.505882,0.894579,0.503806,0.399769,0.631373,0.81707,0.33218,0.281046,0.756863,0.728489,0.155017,0.197386,0.882353,0.576932,0.055363,0.14925,1,0.403922,0,0.121569]},{"ColorSpace":"Lab","Name":"Spectral_lowBlue","RGBPoints":[-1,0.368627,0.309804,0.635294,-0.87451,0.260361,0.450058,0.70173,-0.74902,0.248058,0.591311,0.717186,-0.623529,0.376009,0.734025,0.658132,-0.498039,0.537947,0.814764,0.64506,-0.372549,0.702345,0.879585,0.636678,-0.247059,0.84752,0.938639,0.607151,-0.121569,0.940408,0.976163,0.656055,0.00392157,0.999923,0.997616,0.745021,0.129412,0.997463,0.921338,0.61707,0.254902,0.995002,0.824606,0.499885,0.380392,0.992541,0.701576,0.39654,0.505882,0.973472,0.547405,0.318108,0.631373,0.937793,0.398539,0.270127,0.756863,0.861515,0.282891,0.299654,0.882353,0.746482,0.144637,0.288812,1,0.619608,0.003922,0.258824]},{"ColorSpace":"Lab","Name":"GnRP","RGBPoints":[-1,0,0.266667,0.105882,-0.87451,0.066436,0.394617,0.174779,-0.74902,0.168858,0.524567,0.25767,-0.623529,0.323875,0.657439,0.361015,-0.498039,0.504883,0.772318,0.506344,-0.372549,0.678431,0.870127,0.654902,-0.247059,0.803922,0.921799,0.780392,-0.121569,0.897116,0.951942,0.882814,0.00392157,0.967397,0.965936,0.967474,0.129412,0.928028,0.879815,0.930565,0.254902,0.866052,0.780777,0.882891,0.380392,0.77501,0.665129,0.821376,0.505882,0.675663,0.537024,0.737024,0.631373,0.57847,0.396155,0.645982,0.756863,0.492349,0.223914,0.547559,0.882353,0.375548,0.096886,0.423299,1,0.25098,0,0.294118]},{"ColorSpace":"Lab","Name":"GYPi","RGBPoints":[-1,0.152941,0.392157,0.098039,-0.87451,0.246444,0.505344,0.117724,-0.74902,0.351942,0.614533,0.161399,-0.623529,0.474971,0.717878,0.240138,-0.498039,0.611995,0.811226,0.392849,-0.372549,0.746328,0.893118,0.565321,-0.247059,0.859516,0.94233,0.747405,-0.121569,0.928105,0.96386,0.875663,0.00392157,0.969089,0.966859,0.968012,0.129412,0.983852,0.910265,0.948328,0.254902,0.979239,0.833218,0.914648,0.380392,0.949712,0.729873,0.862976,0.505882,0.905652,0.58293,0.763552,0.631373,0.85521,0.410073,0.652211,0.756863,0.793695,0.183699,0.531642,0.882353,0.683737,0.063899,0.420761,1,0.556863,0.003922,0.321569]},{"ColorSpace":"Lab","Name":"GnYlRd","RGBPoints":[-1,0,0.407843,0.215686,-0.87451,0.063975,0.525952,0.277201,-0.74902,0.177932,0.633064,0.332718,-0.623529,0.364937,0.724106,0.379469,-0.498039,0.527951,0.797155,0.40223,-0.372549,0.678431,0.862822,0.433449,-0.247059,0.803922,0.916955,0.514648,-0.121569,0.909419,0.961861,0.625067,0.00392157,0.999923,0.997616,0.745021,0.129412,0.997463,0.921338,0.61707,0.254902,0.995002,0.824606,0.499885,0.380392,0.992541,0.701576,0.39654,0.505882,0.973472,0.547405,0.318108,0.631373,0.939023,0.389927,0.245521,0.756863,0.867666,0.239831,0.176624,0.882353,0.762399,0.110727,0.151326,1,0.647059,0,0.14902]},{"ColorSpace":"Lab","Name":"GBBr","RGBPoints":[-1,0,0.235294,0.188235,-0.87451,0.002461,0.338639,0.301423,-0.74902,0.055902,0.448981,0.417609,-0.623529,0.183852,0.56955,0.538178,-0.498039,0.357785,0.700115,0.660746,-0.372549,0.540177,0.819531,0.77624,-0.247059,0.714879,0.890888,0.864821,-0.121569,0.851134,0.934564,0.922645,0.00392157,0.960861,0.959785,0.95694,0.129412,0.963322,0.927797,0.83391,0.254902,0.939946,0.868897,0.68935,0.380392,0.883353,0.775394,0.517109,0.505882,0.808074,0.625836,0.324106,0.631373,0.717647,0.476355,0.15494,0.756863,0.592157,0.358247,0.06882,0.882353,0.458593,0.26436,0.031142,1,0.329412,0.188235,0.019608]},{"ColorSpace":"Lab","Name":"PuOr","RGBPoints":[-1,0.498039,0.231373,0.031373,-0.87451,0.62599,0.30273,0.026451,-0.74902,0.746943,0.387082,0.037524,-0.623529,0.85767,0.490427,0.071972,-0.498039,0.936409,0.617762,0.236371,-0.372549,0.992695,0.743099,0.43291,-0.247059,0.995156,0.841523,0.63714,-0.121569,0.985313,0.913802,0.813687,0.00392157,0.966244,0.966398,0.967705,0.129412,0.889965,0.89504,0.938178,0.254902,0.806151,0.804306,0.894656,0.380392,0.712649,0.688658,0.833141,0.505882,0.594233,0.554325,0.744637,0.631373,0.474894,0.404229,0.652364,0.756863,0.366628,0.217224,0.563783,0.882353,0.266436,0.089965,0.434833,1,0.176471,0,0.294118]},{"ColorSpace":"Lab","Name":"PRGn","RGBPoints":[-1,0.25098,0,0.294118,-0.87451,0.383852,0.103345,0.431911,-0.74902,0.497732,0.234679,0.55371,-0.623529,0.583852,0.40692,0.652134,-0.498039,0.681968,0.545175,0.742561,-0.372549,0.7807,0.672357,0.825221,-0.247059,0.871742,0.788005,0.886736,-0.121569,0.930488,0.885198,0.932872,0.00392157,0.966321,0.968089,0.965859,0.129412,0.892503,0.950865,0.877278,0.254902,0.796078,0.91857,0.772549,0.380392,0.670588,0.866897,0.647059,0.505882,0.493195,0.765398,0.496655,0.631373,0.314187,0.649135,0.354556,0.756863,0.15917,0.516263,0.251211,0.882353,0.062284,0.386621,0.170473,1,0,0.266667,0.105882]},{"ColorSpace":"Lab","Name":"PiYG","RGBPoints":[-1,0.556863,0.003922,0.321569,-0.87451,0.692195,0.067897,0.427374,-0.74902,0.797539,0.197847,0.539177,-0.623529,0.859054,0.424221,0.659746,-0.498039,0.908574,0.592618,0.770319,-0.372549,0.951557,0.736332,0.866205,-0.247059,0.981084,0.839677,0.917878,-0.121569,0.98293,0.913802,0.949558,0.00392157,0.96732,0.968474,0.965629,0.129412,0.92549,0.963552,0.869666,0.254902,0.852441,0.939254,0.736025,0.380392,0.739254,0.890042,0.553941,0.505882,0.60323,0.805536,0.382238,0.631373,0.467282,0.711419,0.235217,0.756863,0.344252,0.608074,0.156478,0.882353,0.2406,0.49827,0.116494,1,0.152941,0.392157,0.098039]},{"ColorSpace":"Lab","Name":"OrPu","RGBPoints":[-1,0.176471,0,0.294118,-0.87451,0.272434,0.095963,0.444214,-0.74902,0.373395,0.228912,0.56932,-0.623529,0.481661,0.415917,0.657901,-0.498039,0.601922,0.562937,0.750481,-0.372549,0.718493,0.695886,0.836986,-0.247059,0.811995,0.811534,0.898501,-0.121569,0.894733,0.8995,0.940023,0.00392157,0.969166,0.966859,0.963629,0.129412,0.98639,0.910265,0.803691,0.254902,0.995002,0.835371,0.624375,0.380392,0.992541,0.736947,0.420146,0.505882,0.931949,0.609458,0.224221,0.631373,0.85075,0.483968,0.069819,0.756863,0.740023,0.380623,0.035371,0.882353,0.617993,0.29827,0.026759,1,0.498039,0.231373,0.031373]},{"ColorSpace":"Lab","Name":"BrBG","RGBPoints":[-1,0.329412,0.188235,0.019608,-0.87451,0.467205,0.269435,0.031911,-0.74902,0.6,0.365629,0.074202,-0.623529,0.72549,0.483737,0.160323,-0.498039,0.812995,0.635832,0.336409,-0.372549,0.88689,0.781238,0.527874,-0.247059,0.943483,0.87474,0.700115,-0.121569,0.963168,0.929796,0.841599,0.00392157,0.957247,0.959938,0.959554,0.129412,0.84406,0.932872,0.920185,0.254902,0.70396,0.886428,0.859285,0.380392,0.529258,0.815071,0.770704,0.505882,0.346251,0.691811,0.653057,0.631373,0.175855,0.562015,0.530642,0.756863,0.047905,0.441446,0.410073,0.882353,0.002307,0.33218,0.294348,1,0,0.235294,0.188235]},{"ColorSpace":"Lab","Name":"GyRd","RGBPoints":[-1,0.101961,0.101961,0.101961,-0.87451,0.227451,0.227451,0.227451,-0.74902,0.359939,0.359939,0.359939,-0.623529,0.502653,0.502653,0.502653,-0.498039,0.631373,0.631373,0.631373,-0.372549,0.749865,0.749865,0.749865,-0.247059,0.843368,0.843368,0.843368,-0.121569,0.926105,0.926105,0.926105,0.00392157,0.999846,0.997232,0.995694,0.129412,0.994925,0.908651,0.857901,0.254902,0.982468,0.800692,0.706113,0.380392,0.960323,0.66782,0.536332,0.505882,0.894579,0.503806,0.399769,0.631373,0.81707,0.33218,0.281046,0.756863,0.728489,0.155017,0.197386,0.882353,0.576932,0.055363,0.14925,1,0.403922,0,0.121569]},{"ColorSpace":"Lab","Name":"erdc_divHi_purpleGreen","RGBPoints":[-1,0.297553,0,0.489074,-0.87451,0.40259,0.151146,0.567754,-0.74902,0.516038,0.284843,0.658231,-0.623529,0.629783,0.423646,0.750938,-0.498039,0.735198,0.563697,0.835956,-0.372549,0.82408,0.695541,0.903582,-0.247059,0.889091,0.807454,0.944862,-0.121569,0.92334,0.886917,0.951839,0.00392157,0.921045,0.921084,0.921003,0.129412,0.877324,0.907455,0.845381,0.254902,0.797649,0.849713,0.734695,0.380392,0.691646,0.75964,0.600532,0.505882,0.568981,0.649159,0.453807,0.631373,0.438945,0.529756,0.304259,0.756863,0.30973,0.412001,0.158303,0.882353,0.187078,0.305111,0.00251458,1,0.101655,0.220836,0]},{"ColorSpace":"Lab","Name":"erdc_divHi_purpleGreen_dim","RGBPoints":[-1,0.404088,0.131038,0.592767,-0.87451,0.486469,0.230957,0.651243,-0.74902,0.575165,0.339335,0.717723,-0.623529,0.662741,0.454332,0.784263,-0.498039,0.742071,0.570213,0.842918,-0.372549,0.806935,0.678992,0.886227,-0.247059,0.852219,0.771315,0.90763,-0.121569,0.873345,0.837327,0.901572,0.00392157,0.866783,0.86682,0.866745,0.129412,0.82839,0.858225,0.796812,0.254902,0.762578,0.814287,0.700202,0.380392,0.676429,0.744229,0.585735,0.505882,0.577033,0.65732,0.461526,0.631373,0.47128,0.562476,0.33476,0.756863,0.365461,0.467957,0.21076,0.882353,0.264758,0.381138,0.0878313,1,0.182591,0.312249,0]},{"ColorSpace":"Lab","Name":"erdc_divLow_icePeach","RGBPoints":[-1,0.480048,0.817441,0.998056,-0.87451,0.425898,0.726921,0.883187,-0.74902,0.366682,0.629445,0.761936,-0.623529,0.308756,0.531002,0.640217,-0.498039,0.258021,0.43705,0.523433,-0.372549,0.219244,0.352381,0.416348,-0.247059,0.195127,0.281032,0.322979,-0.121569,0.186286,0.22627,0.246525,0.00392157,0.192352,0.19236,0.192364,0.129412,0.255927,0.214469,0.191756,0.254902,0.340459,0.254426,0.206666,0.380392,0.444655,0.309315,0.234029,0.505882,0.565353,0.376004,0.270969,0.631373,0.697917,0.450748,0.314293,0.756863,0.836657,0.529064,0.360227,0.882353,0.972695,0.614884,0.413123,1,1,0.705904,0.472699]},{"ColorSpace":"Lab","Name":"erdc_divLow_purpleGreen","RGBPoints":[-1,0.956034,0.666487,0.952663,-0.87451,0.874457,0.572698,0.936352,-0.74902,0.753465,0.488253,0.909063,-0.623529,0.63309,0.413507,0.763833,-0.498039,0.514491,0.345878,0.620015,-0.372549,0.405008,0.288141,0.484376,-0.247059,0.311388,0.241986,0.363556,-0.121569,0.238722,0.209044,0.263449,0.00392157,0.192352,0.192366,0.192362,0.129412,0.200379,0.233201,0.168618,0.254902,0.230151,0.291737,0.165227,0.380392,0.279481,0.366076,0.178607,0.505882,0.344927,0.453267,0.205703,0.631373,0.421554,0.549449,0.242643,0.756863,0.503334,0.649999,0.284377,0.882353,0.583497,0.749672,0.324969,1,0.650705,0.837228,0.356264]},{"ColorSpace":"Lab","Name":"Haze_green","RGBPoints":[-1,1,0.835294,0.886275,-0.87451,0.937255,0.756863,0.870443,-0.74902,0.875817,0.666376,0.857807,-0.623529,0.778359,0.583007,0.808134,-0.498039,0.676253,0.494118,0.745098,-0.372549,0.561365,0.390123,0.682353,-0.247059,0.438344,0.262745,0.621496,-0.121569,0.321133,0.141031,0.558751,0.00392157,0.203922,0.0217865,0.495861,0.129412,0.265505,0.129412,0.433261,0.254902,0.311692,0.255338,0.37008,0.380392,0.356282,0.377342,0.310821,0.505882,0.39971,0.488889,0.258243,0.631373,0.442556,0.604357,0.205519,0.756863,0.48671,0.71968,0.152941,0.882353,0.529847,0.830356,0.100944,1,0.572549,0.933333,0.054902]},{"ColorSpace":"Lab","Name":"Haze_lime","RGBPoints":[-1,0.704034,0.784196,1,-0.87451,0.633111,0.691418,0.956078,-0.74902,0.564021,0.600606,0.912157,-0.623529,0.496827,0.51189,0.868235,-0.498039,0.43157,0.425416,0.824314,-0.372549,0.368248,0.341347,0.780392,-0.247059,0.306767,0.259855,0.736471,-0.121569,0.246862,0.181069,0.692549,0.00392157,0.191619,0.109542,0.648627,0.129412,0.257404,0.194031,0.604706,0.254902,0.321794,0.278775,0.560784,0.380392,0.387909,0.364617,0.516863,0.505882,0.456569,0.451881,0.472941,0.631373,0.527424,0.540773,0.42902,0.756863,0.599759,0.631427,0.385098,0.882353,0.673065,0.723898,0.341176,1,0.742751,0.812252,0.3]},{"ColorSpace":"RGB","Name":"Haze","RGBPoints":[-1,1,0.835294,0.996078,-0.00392157,0.023529,0.141176,0.498039,0.00392157,0.015686,0.137255,0.494118,1,0.984314,0.764706,0]},{"ColorSpace":"Lab","Name":"Haze_cyan","RGBPoints":[-1,0.956863,1,0.835294,-0.87451,0.933188,0.921714,0.760784,-0.74902,0.870588,0.803486,0.671605,-0.623529,0.807843,0.684096,0.583297,-0.498039,0.745098,0.569208,0.494118,-0.372549,0.682353,0.437763,0.390123,-0.247059,0.621496,0.288163,0.262745,-0.121569,0.558751,0.144517,0.141031,0.00392157,0.495861,0.0217865,0.0413943,0.129412,0.433261,0.137255,0.129412,0.254902,0.37008,0.263181,0.255338,0.380392,0.306318,0.381845,0.372694,0.505882,0.243137,0.503994,0.494263,0.631373,0.180392,0.629484,0.619753,0.756863,0.117647,0.754975,0.747131,0.882353,0.054902,0.876398,0.866812,1,0,0.988235,0.976471]},{"ColorSpace":"Lab","Name":"nic_Edge","RGBPoints":[-1,0.191208,0.191208,0.191208,-0.87451,0.239484,0.00545035,0.614821,-0.74902,0.220593,0.0617459,0.863547,-0.623529,0.17509,0.278988,0.97794,-0.498039,0.143526,0.576069,0.998553,-0.372549,0.166456,0.871883,0.96594,-0.247059,0.376202,0.993555,0.981833,-0.121569,0.681996,0.991297,0.999239,0.00392157,0.954172,0.952734,0.94374,0.129412,0.999735,0.99301,0.662896,0.254902,0.979399,0.991466,0.357973,0.380392,0.968771,0.854967,0.162659,0.505882,0.999245,0.556697,0.144323,0.631373,0.973959,0.26223,0.177946,0.756863,0.852358,0.0526707,0.222974,0.882353,0.593889,0.00912724,0.238855,1,0.191208,0.191208,0.191208]},{"ColorSpace":"Lab","Name":"erdc_iceFire_H","RGBPoints":[-1,4.05432e-7,0,0.00000590122,-0.87451,0,0.120401,0.302675,-0.74902,0,0.216583,0.524574,-0.623529,0.0552475,0.345025,0.6595,-0.498039,0.128047,0.492588,0.720288,-0.372549,0.188955,0.641309,0.792092,-0.247059,0.327673,0.784935,0.873434,-0.121569,0.60824,0.892164,0.935547,0.00392157,0.881371,0.912178,0.818099,0.129412,0.951407,0.835621,0.449279,0.254902,0.904481,0.690489,0,0.380392,0.85407,0.510864,0,0.505882,0.777093,0.33018,0.00088199,0.631373,0.672862,0.139087,0.00269398,0.756863,0.508815,0,0,0.882353,0.299417,0.000366289,0.000547829,1,0.0157519,0.00332021,4.55569e-8]},{"ColorSpace":"Lab","Name":"erdc_iceFire_L","RGBPoints":[-1,0.870485,0.913768,0.832905,-0.87451,0.586919,0.887865,0.934003,-0.74902,0.31583,0.776442,0.867858,-0.623529,0.18302,0.632034,0.787722,-0.498039,0.117909,0.484134,0.713825,-0.372549,0.0507239,0.335979,0.654741,-0.247059,0,0.209874,0.511832,-0.121569,0,0.114689,0.28935,0.00392157,0.0157519,0.00332021,4.55569e-8,0.129412,0.312914,0,0,0.254902,0.520865,0,0,0.380392,0.680105,0.15255,0.0025996,0.505882,0.785109,0.339479,0.000797922,0.631373,0.857354,0.522494,0,0.756863,0.910974,0.699774,0,0.882353,0.951921,0.842817,0.478545,1,0.881371,0.912178,0.818099]},{"ColorSpace":"RGB","Name":"hsv","RGBPoints":[-1,1,0,0,-0.666666,1,0,1,-0.333333,0,0,1,0,0,1,1,0.33333,0,1,0,0.66666,1,1,0,1,1,0,0]},{"ColorSpace":"Lab","Name":"hue_L60","RGBPoints":[-1,0.964784,0.400592,0.349549,-0.87451,0.964915,0.372498,0.53785,-0.74902,0.892353,0.401039,0.759569,-0.623529,0.79263,0.446956,0.903017,-0.498039,0.682208,0.49954,0.966673,-0.372549,0.56392,0.553082,0.968836,-0.247059,0.442031,0.606396,0.901601,-0.121569,0.305499,0.65701,0.765784,0.00392157,0.197251,0.687914,0.620914,0.129412,0.193882,0.701887,0.472654,0.254902,0.249866,0.706123,0.320005,0.380392,0.35132,0.697417,0.202919,0.505882,0.498097,0.669467,0.125232,0.631373,0.637477,0.626239,0.107431,0.756863,0.762115,0.56872,0.155812,0.882353,0.889434,0.481116,0.240445,1,0.964784,0.400592,0.349549]},{"IndexedColors":[0,0,0,0.8941176470588236,0.1019607843137255,0.1098039215686274,0.2156862745098039,0.4941176470588236,0.7215686274509804,0.3019607843137255,0.6862745098039216,0.2901960784313726,0.596078431372549,0.3058823529411765,0.6392156862745098,1,0.4980392156862745,0,0.6509803921568628,0.3372549019607843,0.1568627450980392],"Name":"Spectrum","NanColor":[0.6509803921568628,0.3372549019607843,0.1568627450980392]},{"IndexedColors":[0.4745098039215686,0.09019607843137255,0.09019607843137255,0.7098039215686275,0.00392156862745098,0.00392156862745098,0.9372549019607843,0.2784313725490196,0.09803921568627451,0.9764705882352941,0.5137254901960784,0.1411764705882353,1,0.7058823529411765,0,1,0.8980392156862745,0.02352941176470588],"Name":"Warm","NanColor":[1,0.8980392156862745,0.02352941176470588]},{"IndexedColors":[0.4588235294117647,0.6941176470588235,0.00392156862745098,0.3450980392156863,0.5019607843137255,0.1607843137254902,0.3137254901960784,0.8431372549019608,0.7490196078431373,0.1098039215686274,0.5843137254901961,0.803921568627451,0.2313725490196079,0.407843137254902,0.6705882352941176,0.6039215686274509,0.407843137254902,1,0.3725490196078431,0.2,0.5019607843137255],"Name":"Cool","NanColor":[0.3725490196078431,0.2,0.5019607843137255]},{"IndexedColors":[0.2313725490196079,0.407843137254902,0.6705882352941176,0.1098039215686274,0.5843137254901961,0.803921568627451,0.3058823529411765,0.8509803921568627,0.9176470588235294,0.4509803921568628,0.6039215686274509,0.8352941176470589,0.2588235294117647,0.2392156862745098,0.6627450980392157,0.3137254901960784,0.3294117647058823,0.5294117647058824,0.06274509803921569,0.1647058823529412,0.3215686274509804],"Name":"Blues","NanColor":[0.06274509803921569,0.1647058823529412,0.3215686274509804]},{"IndexedColors":[0.1098039215686274,0.5843137254901961,0.803921568627451,0.2313725490196079,0.407843137254902,0.6705882352941176,0.4,0.2431372549019608,0.7176470588235294,0.6352941176470588,0.3294117647058823,0.8117647058823529,0.8705882352941177,0.3803921568627451,0.807843137254902,0.8627450980392157,0.3803921568627451,0.5843137254901961,0.2392156862745098,0.06274509803921569,0.3215686274509804],"Name":"Wild Flower","NanColor":[0.2392156862745098,0.06274509803921569,0.3215686274509804]},{"IndexedColors":[0.396078431372549,0.4862745098039216,0.2156862745098039,0.4588235294117647,0.6941176470588235,0.00392156862745098,0.6980392156862745,0.7294117647058823,0.1882352941176471,1,0.8980392156862745,0.02352941176470588,1,0.7058823529411765,0,0.9764705882352941,0.5137254901960784,0.1411764705882353],"Name":"Citrus","NanColor":[0.9764705882352941,0.5137254901960784,0.1411764705882353]},{"IndexedColors":[0.4980392156862745,0.2313725490196079,0.03137254901960784,0.7019607843137254,0.3450980392156863,0.02352941176470588,0.8784313725490196,0.5098039215686274,0.0784313725490196,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.996078431372549,0.8784313725490196,0.7137254901960784,0.9686274509803922,0.9686274509803922,0.9686274509803922,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.5019607843137255,0.4509803921568628,0.6745098039215687,0.3294117647058823,0.1529411764705882,0.5333333333333333,0.1764705882352941,0,0.2941176470588235],"Name":"Brewer Diverging Purple-Orange (11)","NanColor":[0.1764705882352941,0,0.2941176470588235]},{"IndexedColors":[0.4980392156862745,0.2313725490196079,0.03137254901960784,0.7019607843137254,0.3450980392156863,0.02352941176470588,0.8784313725490196,0.5098039215686274,0.0784313725490196,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.996078431372549,0.8784313725490196,0.7137254901960784,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.5019607843137255,0.4509803921568628,0.6745098039215687,0.3294117647058823,0.1529411764705882,0.5333333333333333,0.1764705882352941,0,0.2941176470588235],"Name":"Brewer Diverging Purple-Orange (10)","NanColor":[0.1764705882352941,0,0.2941176470588235]},{"IndexedColors":[0.7019607843137254,0.3450980392156863,0.02352941176470588,0.8784313725490196,0.5098039215686274,0.0784313725490196,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.996078431372549,0.8784313725490196,0.7137254901960784,0.9686274509803922,0.9686274509803922,0.9686274509803922,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.5019607843137255,0.4509803921568628,0.6745098039215687,0.3294117647058823,0.1529411764705882,0.5333333333333333],"Name":"Brewer Diverging Purple-Orange (9)","NanColor":[0.3294117647058823,0.1529411764705882,0.5333333333333333]},{"IndexedColors":[0.7019607843137254,0.3450980392156863,0.02352941176470588,0.8784313725490196,0.5098039215686274,0.0784313725490196,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.996078431372549,0.8784313725490196,0.7137254901960784,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.5019607843137255,0.4509803921568628,0.6745098039215687,0.3294117647058823,0.1529411764705882,0.5333333333333333],"Name":"Brewer Diverging Purple-Orange (8)","NanColor":[0.3294117647058823,0.1529411764705882,0.5333333333333333]},{"IndexedColors":[0.7019607843137254,0.3450980392156863,0.02352941176470588,0.9450980392156862,0.6392156862745098,0.2509803921568627,0.996078431372549,0.8784313725490196,0.7137254901960784,0.9686274509803922,0.9686274509803922,0.9686274509803922,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6,0.5568627450980392,0.7647058823529411,0.3294117647058823,0.1529411764705882,0.5333333333333333],"Name":"Brewer Diverging Purple-Orange (7)","NanColor":[0.3294117647058823,0.1529411764705882,0.5333333333333333]},{"IndexedColors":[0.7019607843137254,0.3450980392156863,0.02352941176470588,0.9450980392156862,0.6392156862745098,0.2509803921568627,0.996078431372549,0.8784313725490196,0.7137254901960784,0.8470588235294118,0.8549019607843137,0.9215686274509803,0.6,0.5568627450980392,0.7647058823529411,0.3294117647058823,0.1529411764705882,0.5333333333333333],"Name":"Brewer Diverging Purple-Orange (6)","NanColor":[0.3294117647058823,0.1529411764705882,0.5333333333333333]},{"IndexedColors":[0.9019607843137255,0.3803921568627451,0.00392156862745098,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.9686274509803922,0.9686274509803922,0.9686274509803922,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.3686274509803922,0.2352941176470588,0.6],"Name":"Brewer Diverging Purple-Orange (5)","NanColor":[0.3686274509803922,0.2352941176470588,0.6]},{"IndexedColors":[0.9019607843137255,0.3803921568627451,0.00392156862745098,0.9921568627450981,0.7215686274509804,0.3882352941176471,0.6980392156862745,0.6705882352941176,0.8235294117647058,0.3686274509803922,0.2352941176470588,0.6],"Name":"Brewer Diverging Purple-Orange (4)","NanColor":[0.3686274509803922,0.2352941176470588,0.6]},{"IndexedColors":[0.9450980392156862,0.6392156862745098,0.2509803921568627,0.9686274509803922,0.9686274509803922,0.9686274509803922,0.6,0.5568627450980392,0.7647058823529411],"Name":"Brewer Diverging Purple-Orange (3)","NanColor":[0.6,0.5568627450980392,0.7647058823529411]},{"IndexedColors":[0.6196078431372549,0.00392156862745098,0.2588235294117647,0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9568627450980393,0.4274509803921568,0.2627450980392157,0.9921568627450981,0.6823529411764706,0.3803921568627451,0.996078431372549,0.8784313725490196,0.5450980392156862,1,1,0.7490196078431373,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.4,0.7607843137254902,0.6470588235294118,0.196078431372549,0.5333333333333333,0.7411764705882353,0.3686274509803922,0.3098039215686275,0.6352941176470588],"Name":"Brewer Diverging Spectral (11)","NanColor":[0.3686274509803922,0.3098039215686275,0.6352941176470588]},{"IndexedColors":[0.6196078431372549,0.00392156862745098,0.2588235294117647,0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9568627450980393,0.4274509803921568,0.2627450980392157,0.9921568627450981,0.6823529411764706,0.3803921568627451,0.996078431372549,0.8784313725490196,0.5450980392156862,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.4,0.7607843137254902,0.6470588235294118,0.196078431372549,0.5333333333333333,0.7411764705882353,0.3686274509803922,0.3098039215686275,0.6352941176470588],"Name":"Brewer Diverging Spectral (10)","NanColor":[0.3686274509803922,0.3098039215686275,0.6352941176470588]},{"IndexedColors":[0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9568627450980393,0.4274509803921568,0.2627450980392157,0.9921568627450981,0.6823529411764706,0.3803921568627451,0.996078431372549,0.8784313725490196,0.5450980392156862,1,1,0.7490196078431373,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.4,0.7607843137254902,0.6470588235294118,0.196078431372549,0.5333333333333333,0.7411764705882353],"Name":"Brewer Diverging Spectral (9)","NanColor":[0.196078431372549,0.5333333333333333,0.7411764705882353]},{"IndexedColors":[0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9568627450980393,0.4274509803921568,0.2627450980392157,0.9921568627450981,0.6823529411764706,0.3803921568627451,0.996078431372549,0.8784313725490196,0.5450980392156862,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.4,0.7607843137254902,0.6470588235294118,0.196078431372549,0.5333333333333333,0.7411764705882353],"Name":"Brewer Diverging Spectral (8)","NanColor":[0.196078431372549,0.5333333333333333,0.7411764705882353]},{"IndexedColors":[0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9882352941176471,0.5529411764705883,0.3490196078431372,0.996078431372549,0.8784313725490196,0.5450980392156862,1,1,0.7490196078431373,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6,0.8352941176470589,0.5803921568627451,0.196078431372549,0.5333333333333333,0.7411764705882353],"Name":"Brewer Diverging Spectral (7)","NanColor":[0.196078431372549,0.5333333333333333,0.7411764705882353]},{"IndexedColors":[0.8352941176470589,0.2431372549019608,0.3098039215686275,0.9882352941176471,0.5529411764705883,0.3490196078431372,0.996078431372549,0.8784313725490196,0.5450980392156862,0.9019607843137255,0.9607843137254902,0.596078431372549,0.6,0.8352941176470589,0.5803921568627451,0.196078431372549,0.5333333333333333,0.7411764705882353],"Name":"Brewer Diverging Spectral (6)","NanColor":[0.196078431372549,0.5333333333333333,0.7411764705882353]},{"IndexedColors":[0.8431372549019608,0.09803921568627451,0.1098039215686274,0.9921568627450981,0.6823529411764706,0.3803921568627451,1,1,0.7490196078431373,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.1686274509803922,0.5137254901960784,0.7294117647058823],"Name":"Brewer Diverging Spectral (5)","NanColor":[0.1686274509803922,0.5137254901960784,0.7294117647058823]},{"IndexedColors":[0.8431372549019608,0.09803921568627451,0.1098039215686274,0.9921568627450981,0.6823529411764706,0.3803921568627451,0.6705882352941176,0.8666666666666667,0.6431372549019608,0.1686274509803922,0.5137254901960784,0.7294117647058823],"Name":"Brewer Diverging Spectral (4)","NanColor":[0.1686274509803922,0.5137254901960784,0.7294117647058823]},{"IndexedColors":[0.9882352941176471,0.5529411764705883,0.3490196078431372,1,1,0.7490196078431373,0.6,0.8352941176470589,0.5803921568627451],"Name":"Brewer Diverging Spectral (3)","NanColor":[0.6,0.8352941176470589,0.5803921568627451]},{"IndexedColors":[0.3294117647058823,0.1882352941176471,0.0196078431372549,0.5490196078431373,0.3176470588235294,0.0392156862745098,0.7490196078431373,0.5058823529411764,0.1764705882352941,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.9607843137254902,0.9607843137254902,0.9607843137254902,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.5019607843137255,0.803921568627451,0.7568627450980392,0.207843137254902,0.592156862745098,0.5607843137254902,0.00392156862745098,0.4,0.3686274509803922,0,0.2352941176470588,0.1882352941176471],"Name":"Brewer Diverging Brown-Blue-Green (11)","NanColor":[0,0.2352941176470588,0.1882352941176471]},{"IndexedColors":[0.3294117647058823,0.1882352941176471,0.0196078431372549,0.5490196078431373,0.3176470588235294,0.0392156862745098,0.7490196078431373,0.5058823529411764,0.1764705882352941,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.5019607843137255,0.803921568627451,0.7568627450980392,0.207843137254902,0.592156862745098,0.5607843137254902,0.00392156862745098,0.4,0.3686274509803922,0,0.2352941176470588,0.1882352941176471],"Name":"Brewer Diverging Brown-Blue-Green (10)","NanColor":[0,0.2352941176470588,0.1882352941176471]},{"IndexedColors":[0.5490196078431373,0.3176470588235294,0.0392156862745098,0.7490196078431373,0.5058823529411764,0.1764705882352941,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.9607843137254902,0.9607843137254902,0.9607843137254902,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.5019607843137255,0.803921568627451,0.7568627450980392,0.207843137254902,0.592156862745098,0.5607843137254902,0.00392156862745098,0.4,0.3686274509803922],"Name":"Brewer Diverging Brown-Blue-Green (9)","NanColor":[0.00392156862745098,0.4,0.3686274509803922]},{"IndexedColors":[0.5490196078431373,0.3176470588235294,0.0392156862745098,0.7490196078431373,0.5058823529411764,0.1764705882352941,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.5019607843137255,0.803921568627451,0.7568627450980392,0.207843137254902,0.592156862745098,0.5607843137254902,0.00392156862745098,0.4,0.3686274509803922],"Name":"Brewer Diverging Brown-Blue-Green (8)","NanColor":[0.00392156862745098,0.4,0.3686274509803922]},{"IndexedColors":[0.5490196078431373,0.3176470588235294,0.0392156862745098,0.8470588235294118,0.7019607843137254,0.396078431372549,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.9607843137254902,0.9607843137254902,0.9607843137254902,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.3529411764705883,0.7058823529411765,0.6745098039215687,0.00392156862745098,0.4,0.3686274509803922],"Name":"Brewer Diverging Brown-Blue-Green (7)","NanColor":[0.00392156862745098,0.4,0.3686274509803922]},{"IndexedColors":[0.5490196078431373,0.3176470588235294,0.0392156862745098,0.8470588235294118,0.7019607843137254,0.396078431372549,0.9647058823529412,0.9098039215686274,0.7647058823529411,0.7803921568627451,0.9176470588235294,0.8980392156862745,0.3529411764705883,0.7058823529411765,0.6745098039215687,0.00392156862745098,0.4,0.3686274509803922],"Name":"Brewer Diverging Brown-Blue-Green (6)","NanColor":[0.00392156862745098,0.4,0.3686274509803922]},{"IndexedColors":[0.6509803921568628,0.3803921568627451,0.1019607843137255,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.9607843137254902,0.9607843137254902,0.9607843137254902,0.5019607843137255,0.803921568627451,0.7568627450980392,0.00392156862745098,0.5215686274509804,0.4431372549019608],"Name":"Brewer Diverging Brown-Blue-Green (5)","NanColor":[0.00392156862745098,0.5215686274509804,0.4431372549019608]},{"IndexedColors":[0.6509803921568628,0.3803921568627451,0.1019607843137255,0.8745098039215686,0.7607843137254902,0.4901960784313725,0.5019607843137255,0.803921568627451,0.7568627450980392,0.00392156862745098,0.5215686274509804,0.4431372549019608],"Name":"Brewer Diverging Brown-Blue-Green (4)","NanColor":[0.00392156862745098,0.5215686274509804,0.4431372549019608]},{"IndexedColors":[0.8470588235294118,0.7019607843137254,0.396078431372549,0.9607843137254902,0.9607843137254902,0.9607843137254902,0.3529411764705883,0.7058823529411765,0.6745098039215687],"Name":"Brewer Diverging Brown-Blue-Green (3)","NanColor":[0.3529411764705883,0.7058823529411765,0.6745098039215687]},{"IndexedColors":[0.9686274509803922,0.9882352941176471,0.9921568627450981,0.8980392156862745,0.9607843137254902,0.9764705882352941,0.8,0.9254901960784314,0.9019607843137255,0.6,0.8470588235294118,0.788235294117647,0.4,0.7607843137254902,0.6431372549019608,0.2549019607843137,0.6823529411764706,0.4627450980392157,0.1372549019607843,0.5450980392156862,0.2705882352941176,0,0.4274509803921568,0.1725490196078431,0,0.2666666666666667,0.1058823529411765],"Name":"Brewer Sequential Blue-Green (9)","NanColor":[0,0.2666666666666667,0.1058823529411765]},{"IndexedColors":[0.9686274509803922,0.9882352941176471,0.9921568627450981,0.8980392156862745,0.9607843137254902,0.9764705882352941,0.8,0.9254901960784314,0.9019607843137255,0.6,0.8470588235294118,0.788235294117647,0.4,0.7607843137254902,0.6431372549019608,0.2549019607843137,0.6823529411764706,0.4627450980392157,0.1372549019607843,0.5450980392156862,0.2705882352941176,0,0.3450980392156863,0.1411764705882353],"Name":"Brewer Sequential Blue-Green (8)","NanColor":[0,0.3450980392156863,0.1411764705882353]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.8,0.9254901960784314,0.9019607843137255,0.8,0.9254901960784314,0.9019607843137255,0.4,0.7607843137254902,0.6431372549019608,0.2549019607843137,0.6823529411764706,0.4627450980392157,0.1372549019607843,0.5450980392156862,0.2705882352941176,0,0.3450980392156863,0.1411764705882353],"Name":"Brewer Sequential Blue-Green (7)","NanColor":[0,0.3450980392156863,0.1411764705882353]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.8,0.9254901960784314,0.9019607843137255,0.6,0.8470588235294118,0.788235294117647,0.4,0.7607843137254902,0.6431372549019608,0.1725490196078431,0.6352941176470588,0.3725490196078431,0,0.4274509803921568,0.1725490196078431],"Name":"Brewer Sequential Blue-Green (6)","NanColor":[0,0.4274509803921568,0.1725490196078431]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.6980392156862745,0.8862745098039215,0.8862745098039215,0.4,0.7607843137254902,0.6431372549019608,0.1725490196078431,0.6352941176470588,0.3725490196078431,0,0.4274509803921568,0.1725490196078431],"Name":"Brewer Sequential Blue-Green (5)","NanColor":[0,0.4274509803921568,0.1725490196078431]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.6980392156862745,0.8862745098039215,0.8862745098039215,0.4,0.7607843137254902,0.6431372549019608,0.1372549019607843,0.5450980392156862,0.2705882352941176],"Name":"Brewer Sequential Blue-Green (4)","NanColor":[0.1372549019607843,0.5450980392156862,0.2705882352941176]},{"IndexedColors":[0.8980392156862745,0.9607843137254902,0.9764705882352941,0.6,0.8470588235294118,0.788235294117647,0.1725490196078431,0.6352941176470588,0.3725490196078431],"Name":"Brewer Sequential Blue-Green (3)","NanColor":[0.1725490196078431,0.6352941176470588,0.3725490196078431]},{"IndexedColors":[1,1,0.8980392156862745,1,0.9686274509803922,0.7372549019607844,0.996078431372549,0.8901960784313725,0.5686274509803921,0.996078431372549,0.7686274509803922,0.3098039215686275,0.996078431372549,0.6,0.1607843137254902,0.9254901960784314,0.4392156862745098,0.0784313725490196,0.8,0.2980392156862745,0.00784313725490196,0.6,0.203921568627451,0.01568627450980392,0.4,0.1450980392156863,0.02352941176470588],"Name":"Brewer Sequential Yellow-Orange-Brown (9)","NanColor":[0.4,0.1450980392156863,0.02352941176470588]},{"IndexedColors":[1,1,0.8980392156862745,1,0.9686274509803922,0.7372549019607844,0.996078431372549,0.8901960784313725,0.5686274509803921,0.996078431372549,0.7686274509803922,0.3098039215686275,0.996078431372549,0.6,0.1607843137254902,0.9254901960784314,0.4392156862745098,0.0784313725490196,0.8,0.2980392156862745,0.00784313725490196,0.5490196078431373,0.1764705882352941,0.01568627450980392],"Name":"Brewer Sequential Yellow-Orange-Brown (8)","NanColor":[0.5490196078431373,0.1764705882352941,0.01568627450980392]},{"IndexedColors":[1,1,0.8313725490196079,0.996078431372549,0.8901960784313725,0.5686274509803921,0.996078431372549,0.7686274509803922,0.3098039215686275,0.996078431372549,0.6,0.1607843137254902,0.9254901960784314,0.4392156862745098,0.0784313725490196,0.8,0.2980392156862745,0.00784313725490196,0.5490196078431373,0.1764705882352941,0.01568627450980392],"Name":"Brewer Sequential Yellow-Orange-Brown (7)","NanColor":[0.5490196078431373,0.1764705882352941,0.01568627450980392]},{"IndexedColors":[1,1,0.8313725490196079,0.996078431372549,0.8901960784313725,0.5686274509803921,0.996078431372549,0.7686274509803922,0.3098039215686275,0.996078431372549,0.6,0.1607843137254902,0.8509803921568627,0.3725490196078431,0.05490196078431372,0.6,0.203921568627451,0.01568627450980392],"Name":"Brewer Sequential Yellow-Orange-Brown (6)","NanColor":[0.6,0.203921568627451,0.01568627450980392]},{"IndexedColors":[1,1,0.8313725490196079,0.996078431372549,0.8509803921568627,0.5568627450980392,0.996078431372549,0.6,0.1607843137254902,0.8509803921568627,0.3725490196078431,0.05490196078431372,0.6,0.203921568627451,0.01568627450980392],"Name":"Brewer Sequential Yellow-Orange-Brown (5)","NanColor":[0.6,0.203921568627451,0.01568627450980392]},{"IndexedColors":[1,1,0.8313725490196079,0.996078431372549,0.8509803921568627,0.5568627450980392,0.996078431372549,0.6,0.1607843137254902,0.8,0.2980392156862745,0.00784313725490196],"Name":"Brewer Sequential Yellow-Orange-Brown (4)","NanColor":[0.8,0.2980392156862745,0.00784313725490196]},{"IndexedColors":[1,0.9686274509803922,0.7372549019607844,0.996078431372549,0.7686274509803922,0.3098039215686275,0.8509803921568627,0.3725490196078431,0.05490196078431372],"Name":"Brewer Sequential Yellow-Orange-Brown (3)","NanColor":[0.8509803921568627,0.3725490196078431,0.05490196078431372]},{"IndexedColors":[0.9686274509803922,0.9882352941176471,0.9921568627450981,0.8784313725490196,0.9254901960784314,0.9568627450980393,0.7490196078431373,0.8274509803921568,0.9019607843137255,0.6196078431372549,0.7372549019607844,0.8549019607843137,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5490196078431373,0.4196078431372549,0.6941176470588235,0.5333333333333333,0.2549019607843137,0.615686274509804,0.5058823529411764,0.05882352941176471,0.4862745098039216,0.3019607843137255,0,0.2941176470588235],"Name":"Brewer Sequential Blue-Purple (9)","NanColor":[0.3019607843137255,0,0.2941176470588235]},{"IndexedColors":[0.9686274509803922,0.9882352941176471,0.9921568627450981,0.8784313725490196,0.9254901960784314,0.9568627450980393,0.7490196078431373,0.8274509803921568,0.9019607843137255,0.6196078431372549,0.7372549019607844,0.8549019607843137,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5490196078431373,0.4196078431372549,0.6941176470588235,0.5333333333333333,0.2549019607843137,0.615686274509804,0.4313725490196079,0.00392156862745098,0.4196078431372549],"Name":"Brewer Sequential Blue-Purple (8)","NanColor":[0.4313725490196079,0.00392156862745098,0.4196078431372549]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.7490196078431373,0.8274509803921568,0.9019607843137255,0.6196078431372549,0.7372549019607844,0.8549019607843137,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5490196078431373,0.4196078431372549,0.6941176470588235,0.5333333333333333,0.2549019607843137,0.615686274509804,0.4313725490196079,0.00392156862745098,0.4196078431372549],"Name":"Brewer Sequential Blue-Purple (7)","NanColor":[0.4313725490196079,0.00392156862745098,0.4196078431372549]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.7490196078431373,0.8274509803921568,0.9019607843137255,0.6196078431372549,0.7372549019607844,0.8549019607843137,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5333333333333333,0.3372549019607843,0.6549019607843137,0.5058823529411764,0.05882352941176471,0.4862745098039216],"Name":"Brewer Sequential Blue-Purple (6)","NanColor":[0.5058823529411764,0.05882352941176471,0.4862745098039216]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.7019607843137254,0.803921568627451,0.8901960784313725,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5333333333333333,0.3372549019607843,0.6549019607843137,0.5058823529411764,0.05882352941176471,0.4862745098039216],"Name":"Brewer Sequential Blue-Purple (5)","NanColor":[0.5058823529411764,0.05882352941176471,0.4862745098039216]},{"IndexedColors":[0.9294117647058824,0.9725490196078431,0.984313725490196,0.7019607843137254,0.803921568627451,0.8901960784313725,0.5490196078431373,0.5882352941176471,0.7764705882352941,0.5333333333333333,0.2549019607843137,0.615686274509804],"Name":"Brewer Sequential Blue-Purple (4)","NanColor":[0.5333333333333333,0.2549019607843137,0.615686274509804]},{"IndexedColors":[0.8784313725490196,0.9254901960784314,0.9568627450980393,0.6196078431372549,0.7372549019607844,0.8549019607843137,0.5333333333333333,0.3372549019607843,0.6549019607843137],"Name":"Brewer Sequential Blue-Purple (3)","NanColor":[0.5333333333333333,0.3372549019607843,0.6549019607843137]},{"IndexedColors":[0.4980392156862745,0.788235294117647,0.4980392156862745,0.7450980392156863,0.6823529411764706,0.8313725490196079,0.9921568627450981,0.7529411764705882,0.5254901960784314,1,1,0.6,0.2196078431372549,0.4235294117647059,0.6901960784313725,0.9411764705882353,0.00784313725490196,0.4980392156862745,0.7490196078431373,0.3568627450980392,0.09019607843137255,0.4,0.4,0.4],"Name":"Brewer Qualitative Accent","NanColor":[0.4,0.4,0.4]},{"IndexedColors":[0.1058823529411765,0.6196078431372549,0.4666666666666667,0.8509803921568627,0.3725490196078431,0.00784313725490196,0.4588235294117647,0.4392156862745098,0.7019607843137254,0.9058823529411765,0.1607843137254902,0.5411764705882353,0.4,0.6509803921568628,0.1176470588235294,0.9019607843137255,0.6705882352941176,0.00784313725490196,0.6509803921568628,0.4627450980392157,0.1137254901960784,0.4,0.4,0.4],"Name":"Brewer Qualitative Dark2","NanColor":[0.4,0.4,0.4]},{"IndexedColors":[0.4,0.7607843137254902,0.6470588235294118,0.9882352941176471,0.5529411764705883,0.3843137254901961,0.5529411764705883,0.6274509803921569,0.796078431372549,0.9058823529411765,0.5411764705882353,0.7647058823529411,0.6509803921568628,0.8470588235294118,0.3294117647058823,1,0.8509803921568627,0.1843137254901961,0.8980392156862745,0.7686274509803922,0.5803921568627451,0.7019607843137254,0.7019607843137254,0.7019607843137254],"Name":"Brewer Qualitative Set2","NanColor":[0.7019607843137254,0.7019607843137254,0.7019607843137254]},{"IndexedColors":[0.7019607843137254,0.8862745098039215,0.803921568627451,0.9921568627450981,0.803921568627451,0.6745098039215687,0.796078431372549,0.8352941176470589,0.9098039215686274,0.9568627450980393,0.792156862745098,0.8941176470588236,0.9019607843137255,0.9607843137254902,0.788235294117647,1,0.9490196078431372,0.6823529411764706,0.9450980392156862,0.8862745098039215,0.8,0.8,0.8,0.8],"Name":"Brewer Qualitative Pastel2","NanColor":[0.8,0.8,0.8]},{"IndexedColors":[0.984313725490196,0.7058823529411765,0.6823529411764706,0.7019607843137254,0.803921568627451,0.8901960784313725,0.8,0.9215686274509803,0.7725490196078432,0.8705882352941177,0.796078431372549,0.8941176470588236,0.996078431372549,0.8509803921568627,0.6509803921568628,1,1,0.8,0.8980392156862745,0.8470588235294118,0.7411764705882353,0.9921568627450981,0.8549019607843137,0.9254901960784314,0.9490196078431372,0.9490196078431372,0.9490196078431372],"Name":"Brewer Qualitative Pastel1","NanColor":[0.9490196078431372,0.9490196078431372,0.9490196078431372]},{"IndexedColors":[0.8941176470588236,0.1019607843137255,0.1098039215686274,0.2156862745098039,0.4941176470588236,0.7215686274509804,0.3019607843137255,0.6862745098039216,0.2901960784313726,0.596078431372549,0.3058823529411765,0.6392156862745098,1,0.4980392156862745,0,1,1,0.2,0.6509803921568628,0.3372549019607843,0.1568627450980392,0.9686274509803922,0.5058823529411764,0.7490196078431373,0.6,0.6,0.6],"Name":"Brewer Qualitative Set1","NanColor":[0.6,0.6,0.6]},{"IndexedColors":[0.6509803921568628,0.807843137254902,0.8901960784313725,0.1215686274509804,0.4705882352941176,0.7058823529411765,0.6980392156862745,0.8745098039215686,0.5411764705882353,0.2,0.6274509803921569,0.1725490196078431,0.984313725490196,0.6039215686274509,0.6,0.8901960784313725,0.1019607843137255,0.1098039215686274,0.9921568627450981,0.7490196078431373,0.4352941176470588,1,0.4980392156862745,0,0.792156862745098,0.6980392156862745,0.8392156862745098,0.4156862745098039,0.2392156862745098,0.6039215686274509,1,1,0.6],"Name":"Brewer Qualitative Paired","NanColor":[1,1,0.6]},{"IndexedColors":[0.5529411764705883,0.8274509803921568,0.7803921568627451,1,1,0.7019607843137254,0.7450980392156863,0.7294117647058823,0.8549019607843137,0.984313725490196,0.5019607843137255,0.4470588235294118,0.5019607843137255,0.6941176470588235,0.8274509803921568,0.9921568627450981,0.7058823529411765,0.3843137254901961,0.7019607843137254,0.8705882352941177,0.4117647058823529,0.9882352941176471,0.803921568627451,0.8980392156862745,0.8509803921568627,0.8509803921568627,0.8509803921568627,0.7372549019607844,0.5019607843137255,0.7411764705882353,0.8,0.9215686274509803,0.7725490196078432,1,0.9294117647058824,0.4352941176470588],"Name":"Brewer Qualitative Set3","NanColor":[1,0.9294117647058824,0.4352941176470588]},{"IndexedColors":[1,0,0,1,0.862745,0,0,0.695201,0],"Name":"Traffic Lights","NanColor":[0.803922,0,0.803922]},{"IndexedColors":[0.908659,0.604013,0.581857,1,0.862745,0,0,0.695201,0],"Name":"Traffic Lights For Deuteranopes","NanColor":[0.803922,0,0.803922]},{"IndexedColors":[0.4196078431372549,0,0.07058823529411765,0.9019607843137255,0.9411764705882353,0.0196078431372549,0.01568627450980392,0.6196078431372549,0.00784313725490196],"Name":"Traffic Lights For Deuteranopes 2","NanColor":[0.803922,0,0.803922]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Muted Blue-Green","NanColor":[0.25,0,0],"RGBPoints":[0,0.109804,0.27451,0.301961,0.02,0.129412,0.309804,0.341176,0.05,0.14902,0.341176,0.380392,0.1,0.188235,0.403922,0.458824,0.15,0.227451,0.447059,0.521569,0.2,0.290196,0.494118,0.588235,0.25,0.368627,0.552941,0.670588,0.3,0.458824,0.619608,0.74902,0.35,0.588235,0.713725,0.85098,0.4,0.72549,0.815686,0.941176,0.45,0.831373,0.882353,0.980392,0.475,0.909804,0.933333,1,0.5,0.980392,0.984314,1,0.5,0.996078,1,0.94902,0.5,1,1,0.980392,0.5,0.980392,0.984314,1,0.525,0.972549,0.988235,0.890196,0.55,0.917647,0.960784,0.835294,0.6,0.835294,0.921569,0.772549,0.65,0.768627,0.901961,0.737255,0.7,0.670588,0.831373,0.654902,0.75,0.576471,0.760784,0.584314,0.8,0.498039,0.678431,0.521569,0.85,0.392157,0.560784,0.427451,0.9,0.294118,0.45098,0.333333,0.95,0.211765,0.34902,0.254902,1,0.152941,0.278431,0.196078]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Green-Blue Asymmetric Divergent (62Blbc)","NanColor":[0.25,0,0],"RGBPoints":[0,0.121569,0.2,0.145098,0.05,0.196078,0.301961,0.223529,0.1,0.258824,0.4,0.278431,0.2,0.341176,0.54902,0.341176,0.25,0.419608,0.619608,0.376471,0.3,0.545098,0.701961,0.392157,0.35,0.643137,0.780392,0.403922,0.4,0.729412,0.819608,0.45098,0.45,0.811765,0.870588,0.521569,0.5,0.898039,0.909804,0.564706,0.55,0.941176,0.92549,0.686275,0.6,0.960784,0.94902,0.776471,0.64,1,1,1,0.65,0.890196,0.988235,0.972549,0.7,0.721569,0.894118,0.901961,0.75,0.631373,0.823529,0.839216,0.8,0.517647,0.662745,0.701961,0.85,0.384314,0.494118,0.54902,0.9,0.298039,0.360784,0.45098,0.95,0.223529,0.25098,0.34902,0.99,0.156863,0.172549,0.25098,1,0.137255,0.137255,0.188235]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Asymmtrical Earth Tones (6_21b)","NanColor":[0.25,0,0],"RGBPoints":[0,0.141176,0.14902,0.2,0.05,0.215686,0.258824,0.321569,0.1,0.243137,0.368627,0.380392,0.15,0.27451,0.439216,0.4,0.2,0.32549,0.501961,0.384314,0.25,0.403922,0.6,0.419608,0.3,0.486275,0.701961,0.454902,0.35,0.556863,0.74902,0.494118,0.4,0.670588,0.8,0.545098,0.5,0.854902,0.901961,0.631373,0.55,0.92549,0.941176,0.694118,0.6,0.960784,0.94902,0.776471,0.65,0.988235,0.968627,0.909804,0.7,0.839216,0.815686,0.772549,0.75,0.701961,0.662745,0.615686,0.8,0.6,0.529412,0.478431,0.85,0.501961,0.403922,0.360784,0.9,0.439216,0.313725,0.290196,1,0.301961,0.164706,0.176471]},{"ColorSpace":"Lab","Creator":"Francesca Samsel","Name":"Yellow 15","NanColor":[0.25,0,0],"RGBPoints":[0,1,1,0.988235,0.002,1,1,0.988235,0.05,0.984314,0.988235,0.843137,0.1,0.988235,0.988235,0.741176,0.15,0.980392,0.968627,0.654902,0.2,0.980392,0.945098,0.576471,0.25,0.968627,0.905882,0.486275,0.3,0.968627,0.862745,0.388235,0.35,0.960784,0.803922,0.286275,0.4,0.94902,0.741176,0.219608,0.45,0.941176,0.678431,0.14902,0.5,0.929412,0.607843,0.094118,0.55,0.921569,0.545098,0.054902,0.6,0.909804,0.486275,0.035294,0.65,0.890196,0.411765,0.019608,0.7,0.8,0.305882,0,0.75,0.760784,0.239216,0,0.8,0.678431,0.180392,0.011765,0.85,0.6,0.121569,0.023529,0.9,0.501961,0.054902,0.031373,0.95,0.4,0.039216,0.058824,1,0.301961,0.047059,0.090196]},{"ColorSpace":"Diverging","Name":"Magma (matplotlib)","NanColor":[0,1,0],"Source":"https://github.com/BIDS/colormap/blob/master/colormaps.py","License":"CC0","Creator":"Nathaniel J. Smith & Stefan van der Walt","RGBPoints":[0,0.001462,0.000466,0.013866,0.003922,0.002258,0.001295,0.018331,0.007843,0.003279,0.002305,0.023708,0.011765,0.004512,0.00349,0.029965,0.015686,0.00595,0.004843,0.03713,0.019608,0.007588,0.006356,0.044973,0.023529,0.009426,0.008022,0.052844,0.027451,0.011465,0.009828,0.06075,0.031373,0.013708,0.011771,0.068667,0.035294,0.016156,0.01384,0.076603,0.039216,0.018815,0.016026,0.084584,0.043137,0.021692,0.01832,0.09261,0.047059,0.024792,0.020715,0.100676,0.05098,0.028123,0.023201,0.108787,0.054902,0.031696,0.025765,0.116965,0.058824,0.03552,0.028397,0.125209,0.062745,0.039608,0.03109,0.133515,0.066667,0.04383,0.03383,0.141886,0.070588,0.048062,0.036607,0.150327,0.07451,0.05232,0.039407,0.158841,0.078431,0.056615,0.04216,0.167446,0.082353,0.060949,0.044794,0.176129,0.086275,0.06533,0.047318,0.184892,0.090196,0.069764,0.049726,0.193735,0.094118,0.074257,0.052017,0.20266,0.098039,0.078815,0.054184,0.211667,0.101961,0.083446,0.056225,0.220755,0.105882,0.088155,0.058133,0.229922,0.109804,0.092949,0.059904,0.239164,0.113725,0.097833,0.061531,0.248477,0.117647,0.102815,0.06301,0.257854,0.121569,0.107899,0.064335,0.267289,0.12549,0.113094,0.065492,0.276784,0.129412,0.118405,0.066479,0.286321,0.133333,0.123833,0.067295,0.295879,0.137255,0.12938,0.067935,0.305443,0.141176,0.135053,0.068391,0.315,0.145098,0.140858,0.068654,0.324538,0.14902,0.146785,0.068738,0.334011,0.152941,0.152839,0.068637,0.343404,0.156863,0.159018,0.068354,0.352688,0.160784,0.165308,0.067911,0.361816,0.164706,0.171713,0.067305,0.370771,0.168627,0.178212,0.066576,0.379497,0.172549,0.184801,0.065732,0.387973,0.176471,0.19146,0.064818,0.396152,0.180392,0.198177,0.063862,0.404009,0.184314,0.204935,0.062907,0.411514,0.188235,0.211718,0.061992,0.418647,0.192157,0.218512,0.061158,0.425392,0.196078,0.225302,0.060445,0.431742,0.2,0.232077,0.059889,0.437695,0.203922,0.238826,0.059517,0.443256,0.207843,0.245543,0.059352,0.448436,0.211765,0.25222,0.059415,0.453248,0.215686,0.258857,0.059706,0.45771,0.219608,0.265447,0.060237,0.46184,0.223529,0.271994,0.060994,0.46566,0.227451,0.278493,0.061978,0.46919,0.231373,0.284951,0.063168,0.472451,0.235294,0.291366,0.064553,0.475462,0.239216,0.29774,0.066117,0.478243,0.243137,0.304081,0.067835,0.480812,0.247059,0.310382,0.069702,0.483186,0.25098,0.316654,0.07169,0.48538,0.254902,0.322899,0.073782,0.487408,0.258824,0.329114,0.075972,0.489287,0.262745,0.335308,0.078236,0.491024,0.266667,0.341482,0.080564,0.492631,0.270588,0.347636,0.082946,0.494121,0.27451,0.353773,0.085373,0.495501,0.278431,0.359898,0.087831,0.496778,0.282353,0.366012,0.090314,0.49796,0.286275,0.372116,0.092816,0.499053,0.290196,0.378211,0.095332,0.500067,0.294118,0.384299,0.097855,0.501002,0.298039,0.390384,0.100379,0.501864,0.301961,0.396467,0.102902,0.502658,0.305882,0.402548,0.10542,0.503386,0.309804,0.408629,0.10793,0.504052,0.313725,0.414709,0.110431,0.504662,0.317647,0.420791,0.11292,0.505215,0.321569,0.426877,0.115395,0.505714,0.32549,0.432967,0.117855,0.50616,0.329412,0.439062,0.120298,0.506555,0.333333,0.445163,0.122724,0.506901,0.337255,0.451271,0.125132,0.507198,0.341176,0.457386,0.127522,0.507448,0.345098,0.463508,0.129893,0.507652,0.34902,0.46964,0.132245,0.507809,0.352941,0.47578,0.134577,0.507921,0.356863,0.481929,0.136891,0.507989,0.360784,0.488088,0.139186,0.508011,0.364706,0.494258,0.141462,0.507988,0.368627,0.500438,0.143719,0.50792,0.372549,0.506629,0.145958,0.507806,0.376471,0.512831,0.148179,0.507648,0.380392,0.519045,0.150383,0.507443,0.384314,0.52527,0.152569,0.507192,0.388235,0.531507,0.154739,0.506895,0.392157,0.537755,0.156894,0.506551,0.396078,0.544015,0.159033,0.506159,0.4,0.550287,0.161158,0.505719,0.403922,0.556571,0.163269,0.50523,0.407843,0.562866,0.165368,0.504692,0.411765,0.569172,0.167454,0.504105,0.415686,0.57549,0.16953,0.503466,0.419608,0.581819,0.171596,0.502777,0.423529,0.588158,0.173652,0.502035,0.427451,0.594508,0.175701,0.501241,0.431373,0.600868,0.177743,0.500394,0.435294,0.607238,0.179779,0.499492,0.439216,0.613617,0.181811,0.498536,0.443137,0.620005,0.18384,0.497524,0.447059,0.626401,0.185867,0.496456,0.45098,0.632805,0.187893,0.495332,0.454902,0.639216,0.189921,0.49415,0.458824,0.645633,0.191952,0.49291,0.462745,0.652056,0.193986,0.491611,0.466667,0.658483,0.196027,0.490253,0.470588,0.664915,0.198075,0.488836,0.47451,0.671349,0.200133,0.487358,0.478431,0.677786,0.202203,0.485819,0.482353,0.684224,0.204286,0.484219,0.486275,0.690661,0.206384,0.482558,0.490196,0.697098,0.208501,0.480835,0.494118,0.703532,0.210638,0.479049,0.498039,0.709962,0.212797,0.477201,0.501961,0.716387,0.214982,0.47529,0.505882,0.722805,0.217194,0.473316,0.509804,0.729216,0.219437,0.471279,0.513725,0.735616,0.221713,0.46918,0.517647,0.742004,0.224025,0.467018,0.521569,0.748378,0.226377,0.464794,0.52549,0.754737,0.228772,0.462509,0.529412,0.761077,0.231214,0.460162,0.533333,0.767398,0.233705,0.457755,0.537255,0.773695,0.236249,0.455289,0.541176,0.779968,0.238851,0.452765,0.545098,0.786212,0.241514,0.450184,0.54902,0.792427,0.244242,0.447543,0.552941,0.798608,0.24704,0.444848,0.556863,0.804752,0.249911,0.442102,0.560784,0.810855,0.252861,0.439305,0.564706,0.816914,0.255895,0.436461,0.568627,0.822926,0.259016,0.433573,0.572549,0.828886,0.262229,0.430644,0.576471,0.834791,0.26554,0.427671,0.580392,0.840636,0.268953,0.424666,0.584314,0.846416,0.272473,0.421631,0.588235,0.852126,0.276106,0.418573,0.592157,0.857763,0.279857,0.415496,0.596078,0.86332,0.283729,0.412403,0.6,0.868793,0.287728,0.409303,0.603922,0.874176,0.291859,0.406205,0.607843,0.879464,0.296125,0.403118,0.611765,0.884651,0.30053,0.400047,0.615686,0.889731,0.305079,0.397002,0.619608,0.8947,0.309773,0.393995,0.623529,0.899552,0.314616,0.391037,0.627451,0.904281,0.31961,0.388137,0.631373,0.908884,0.324755,0.385308,0.635294,0.913354,0.330052,0.382563,0.639216,0.917689,0.3355,0.379915,0.643137,0.921884,0.341098,0.377376,0.647059,0.925937,0.346844,0.374959,0.65098,0.929845,0.352734,0.372677,0.654902,0.933606,0.358764,0.370541,0.658824,0.937221,0.364929,0.368567,0.662745,0.940687,0.371224,0.366762,0.666667,0.944006,0.377643,0.365136,0.670588,0.94718,0.384178,0.363701,0.67451,0.95021,0.39082,0.362468,0.678431,0.953099,0.397563,0.361438,0.682353,0.955849,0.4044,0.360619,0.686275,0.958464,0.411324,0.360014,0.690196,0.960949,0.418323,0.35963,0.694118,0.96331,0.42539,0.359469,0.698039,0.965549,0.432519,0.359529,0.701961,0.967671,0.439703,0.35981,0.705882,0.96968,0.446936,0.360311,0.709804,0.971582,0.45421,0.36103,0.713725,0.973381,0.46152,0.361965,0.717647,0.975082,0.468861,0.363111,0.721569,0.97669,0.476226,0.364466,0.72549,0.97821,0.483612,0.366025,0.729412,0.979645,0.491014,0.367783,0.733333,0.981,0.498428,0.369734,0.737255,0.982279,0.505851,0.371874,0.741176,0.983485,0.51328,0.374198,0.745098,0.984622,0.520713,0.376698,0.74902,0.985693,0.528148,0.379371,0.752941,0.9867,0.535582,0.38221,0.756863,0.987646,0.543015,0.38521,0.760784,0.988533,0.550446,0.388365,0.764706,0.989363,0.557873,0.391671,0.768627,0.990138,0.565296,0.395122,0.772549,0.990871,0.572706,0.398714,0.776471,0.991558,0.580107,0.402441,0.780392,0.992196,0.587502,0.406299,0.784314,0.992785,0.594891,0.410283,0.788235,0.993326,0.602275,0.41439,0.792157,0.993834,0.609644,0.418613,0.796078,0.994309,0.616999,0.42295,0.8,0.994738,0.62435,0.427397,0.803922,0.995122,0.631696,0.431951,0.807843,0.99548,0.639027,0.436607,0.811765,0.99581,0.646344,0.441361,0.815686,0.996096,0.653659,0.446213,0.819608,0.996341,0.660969,0.45116,0.823529,0.99658,0.668256,0.456192,0.827451,0.996775,0.675541,0.461314,0.831373,0.996925,0.682828,0.466526,0.835294,0.997077,0.690088,0.471811,0.839216,0.997186,0.697349,0.477182,0.843137,0.997254,0.704611,0.482635,0.847059,0.997325,0.711848,0.488154,0.85098,0.997351,0.719089,0.493755,0.854902,0.997351,0.726324,0.499428,0.858824,0.997341,0.733545,0.505167,0.862745,0.997285,0.740772,0.510983,0.866667,0.997228,0.747981,0.516859,0.870588,0.997138,0.75519,0.522806,0.87451,0.997019,0.762398,0.528821,0.878431,0.996898,0.769591,0.534892,0.882353,0.996727,0.776795,0.541039,0.886275,0.996571,0.783977,0.547233,0.890196,0.996369,0.791167,0.553499,0.894118,0.996162,0.798348,0.55982,0.898039,0.995932,0.805527,0.566202,0.901961,0.99568,0.812706,0.572645,0.905882,0.995424,0.819875,0.57914,0.909804,0.995131,0.827052,0.585701,0.913725,0.994851,0.834213,0.592307,0.917647,0.994524,0.841387,0.598983,0.921569,0.994222,0.84854,0.605696,0.92549,0.993866,0.855711,0.612482,0.929412,0.993545,0.862859,0.619299,0.933333,0.99317,0.870024,0.626189,0.937255,0.992831,0.877168,0.633109,0.941176,0.99244,0.88433,0.640099,0.945098,0.992089,0.89147,0.647116,0.94902,0.991688,0.898627,0.654202,0.952941,0.991332,0.905763,0.661309,0.956863,0.99093,0.912915,0.668481,0.960784,0.99057,0.920049,0.675675,0.964706,0.990175,0.927196,0.682926,0.968627,0.989815,0.934329,0.690198,0.972549,0.989434,0.94147,0.697519,0.976471,0.989077,0.948604,0.704863,0.980392,0.988717,0.955742,0.712242,0.984314,0.988367,0.962878,0.719649,0.988235,0.988033,0.970012,0.727077,0.992157,0.987691,0.977154,0.734536,0.996078,0.987387,0.984288,0.742002,1,0.987053,0.991438,0.749504]},{"ColorSpace":"Diverging","Name":"Inferno (matplotlib)","NanColor":[0,1,0],"Source":"https://github.com/BIDS/colormap/blob/master/colormaps.py","License":"CC0","Creator":"Nathaniel J. Smith & Stefan van der Walt","RGBPoints":[0,0.001462,0.000466,0.013866,0.003922,0.002267,0.00127,0.01857,0.007843,0.003299,0.002249,0.024239,0.011765,0.004547,0.003392,0.030909,0.015686,0.006006,0.004692,0.038558,0.019608,0.007676,0.006136,0.046836,0.023529,0.009561,0.007713,0.055143,0.027451,0.011663,0.009417,0.06346,0.031373,0.013995,0.011225,0.071862,0.035294,0.016561,0.013136,0.080282,0.039216,0.019373,0.015133,0.088767,0.043137,0.022447,0.017199,0.097327,0.047059,0.025793,0.019331,0.10593,0.05098,0.029432,0.021503,0.114621,0.054902,0.033385,0.023702,0.123397,0.058824,0.037668,0.025921,0.132232,0.062745,0.042253,0.028139,0.141141,0.066667,0.046915,0.030324,0.150164,0.070588,0.051644,0.032474,0.159254,0.07451,0.056449,0.034569,0.168414,0.078431,0.06134,0.03659,0.177642,0.082353,0.066331,0.038504,0.186962,0.086275,0.071429,0.040294,0.196354,0.090196,0.076637,0.041905,0.205799,0.094118,0.081962,0.043328,0.215289,0.098039,0.087411,0.044556,0.224813,0.101961,0.09299,0.045583,0.234358,0.105882,0.098702,0.046402,0.243904,0.109804,0.104551,0.047008,0.25343,0.113725,0.110536,0.047399,0.262912,0.117647,0.116656,0.047574,0.272321,0.121569,0.122908,0.047536,0.281624,0.12549,0.129285,0.047293,0.290788,0.129412,0.135778,0.046856,0.299776,0.133333,0.142378,0.046242,0.308553,0.137255,0.149073,0.045468,0.317085,0.141176,0.15585,0.044559,0.325338,0.145098,0.162689,0.043554,0.333277,0.14902,0.169575,0.042489,0.340874,0.152941,0.176493,0.041402,0.348111,0.156863,0.183429,0.040329,0.354971,0.160784,0.190367,0.039309,0.361447,0.164706,0.197297,0.0384,0.367535,0.168627,0.204209,0.037632,0.373238,0.172549,0.211095,0.03703,0.378563,0.176471,0.217949,0.036615,0.383522,0.180392,0.224763,0.036405,0.388129,0.184314,0.231538,0.036405,0.3924,0.188235,0.238273,0.036621,0.396353,0.192157,0.244967,0.037055,0.400007,0.196078,0.25162,0.037705,0.403378,0.2,0.258234,0.038571,0.406485,0.203922,0.26481,0.039647,0.409345,0.207843,0.271347,0.040922,0.411976,0.211765,0.27785,0.042353,0.414392,0.215686,0.284321,0.043933,0.416608,0.219608,0.290763,0.045644,0.418637,0.223529,0.297178,0.04747,0.420491,0.227451,0.303568,0.049396,0.422182,0.231373,0.309935,0.051407,0.423721,0.235294,0.316282,0.05349,0.425116,0.239216,0.32261,0.055634,0.426377,0.243137,0.328921,0.057827,0.427511,0.247059,0.335217,0.06006,0.428524,0.25098,0.3415,0.062325,0.429425,0.254902,0.347771,0.064616,0.430217,0.258824,0.354032,0.066925,0.430906,0.262745,0.360284,0.069247,0.431497,0.266667,0.366529,0.071579,0.431994,0.270588,0.372768,0.073915,0.4324,0.27451,0.379001,0.076253,0.432719,0.278431,0.385228,0.078591,0.432955,0.282353,0.391453,0.080927,0.433109,0.286275,0.397674,0.083257,0.433183,0.290196,0.403894,0.08558,0.433179,0.294118,0.410113,0.087896,0.433098,0.298039,0.416331,0.090203,0.432943,0.301961,0.422549,0.092501,0.432714,0.305882,0.428768,0.09479,0.432412,0.309804,0.434987,0.097069,0.432039,0.313725,0.441207,0.099338,0.431594,0.317647,0.447428,0.101597,0.43108,0.321569,0.453651,0.103848,0.430498,0.32549,0.459875,0.106089,0.429846,0.329412,0.4661,0.108322,0.429125,0.333333,0.472328,0.110547,0.428334,0.337255,0.478558,0.112764,0.427475,0.341176,0.484789,0.114974,0.426548,0.345098,0.491022,0.117179,0.425552,0.34902,0.497257,0.119379,0.424488,0.352941,0.503493,0.121575,0.423356,0.356863,0.50973,0.123769,0.422156,0.360784,0.515967,0.12596,0.420887,0.364706,0.522206,0.12815,0.419549,0.368627,0.528444,0.130341,0.418142,0.372549,0.534683,0.132534,0.416667,0.376471,0.54092,0.134729,0.415123,0.380392,0.547157,0.136929,0.413511,0.384314,0.553392,0.139134,0.411829,0.388235,0.559624,0.141346,0.410078,0.392157,0.565854,0.143567,0.408258,0.396078,0.572081,0.145797,0.406369,0.4,0.578304,0.148039,0.404411,0.403922,0.584521,0.150294,0.402385,0.407843,0.590734,0.152563,0.40029,0.411765,0.59694,0.154848,0.398125,0.415686,0.603139,0.157151,0.395891,0.419608,0.60933,0.159474,0.393589,0.423529,0.615513,0.161817,0.391219,0.427451,0.621685,0.164184,0.388781,0.431373,0.627847,0.166575,0.386276,0.435294,0.633998,0.168992,0.383704,0.439216,0.640135,0.171438,0.381065,0.443137,0.64626,0.173914,0.378359,0.447059,0.652369,0.176421,0.375586,0.45098,0.658463,0.178962,0.372748,0.454902,0.66454,0.181539,0.369846,0.458824,0.670599,0.184153,0.366879,0.462745,0.676638,0.186807,0.363849,0.466667,0.682656,0.189501,0.360757,0.470588,0.688653,0.192239,0.357603,0.47451,0.694627,0.195021,0.354388,0.478431,0.700576,0.197851,0.351113,0.482353,0.7065,0.200728,0.347777,0.486275,0.712396,0.203656,0.344383,0.490196,0.718264,0.206636,0.340931,0.494118,0.724103,0.20967,0.337424,0.498039,0.729909,0.212759,0.333861,0.501961,0.735683,0.215906,0.330245,0.505882,0.741423,0.219112,0.326576,0.509804,0.747127,0.222378,0.322856,0.513725,0.752794,0.225706,0.319085,0.517647,0.758422,0.229097,0.315266,0.521569,0.76401,0.232554,0.311399,0.52549,0.769556,0.236077,0.307485,0.529412,0.775059,0.239667,0.303526,0.533333,0.780517,0.243327,0.299523,0.537255,0.785929,0.247056,0.295477,0.541176,0.791293,0.250856,0.29139,0.545098,0.796607,0.254728,0.287264,0.54902,0.801871,0.258674,0.283099,0.552941,0.807082,0.262692,0.278898,0.556863,0.812239,0.266786,0.274661,0.560784,0.817341,0.270954,0.27039,0.564706,0.822386,0.275197,0.266085,0.568627,0.827372,0.279517,0.26175,0.572549,0.832299,0.283913,0.257383,0.576471,0.837165,0.288385,0.252988,0.580392,0.841969,0.292933,0.248564,0.584314,0.846709,0.297559,0.244113,0.588235,0.851384,0.30226,0.239636,0.592157,0.855992,0.307038,0.235133,0.596078,0.860533,0.311892,0.230606,0.6,0.865006,0.316822,0.226055,0.603922,0.869409,0.321827,0.221482,0.607843,0.873741,0.326906,0.216886,0.611765,0.878001,0.33206,0.212268,0.615686,0.882188,0.337287,0.207628,0.619608,0.886302,0.342586,0.202968,0.623529,0.890341,0.347957,0.198286,0.627451,0.894305,0.353399,0.193584,0.631373,0.898192,0.358911,0.18886,0.635294,0.902003,0.364492,0.184116,0.639216,0.905735,0.37014,0.17935,0.643137,0.90939,0.375856,0.174563,0.647059,0.912966,0.381636,0.169755,0.65098,0.916462,0.387481,0.164924,0.654902,0.919879,0.393389,0.16007,0.658824,0.923215,0.399359,0.155193,0.662745,0.92647,0.405389,0.150292,0.666667,0.929644,0.411479,0.145367,0.670588,0.932737,0.417627,0.140417,0.67451,0.935747,0.423831,0.13544,0.678431,0.938675,0.430091,0.130438,0.682353,0.941521,0.436405,0.125409,0.686275,0.944285,0.442772,0.120354,0.690196,0.946965,0.449191,0.115272,0.694118,0.949562,0.45566,0.110164,0.698039,0.952075,0.462178,0.105031,0.701961,0.954506,0.468744,0.099874,0.705882,0.956852,0.475356,0.094695,0.709804,0.959114,0.482014,0.089499,0.713725,0.961293,0.488716,0.084289,0.717647,0.963387,0.495462,0.079073,0.721569,0.965397,0.502249,0.073859,0.72549,0.967322,0.509078,0.068659,0.729412,0.969163,0.515946,0.063488,0.733333,0.970919,0.522853,0.058367,0.737255,0.97259,0.529798,0.053324,0.741176,0.974176,0.53678,0.048392,0.745098,0.975677,0.543798,0.043618,0.74902,0.977092,0.55085,0.03905,0.752941,0.978422,0.557937,0.034931,0.756863,0.979666,0.565057,0.031409,0.760784,0.980824,0.572209,0.028508,0.764706,0.981895,0.579392,0.02625,0.768627,0.982881,0.586606,0.024661,0.772549,0.983779,0.593849,0.02377,0.776471,0.984591,0.601122,0.023606,0.780392,0.985315,0.608422,0.024202,0.784314,0.985952,0.61575,0.025592,0.788235,0.986502,0.623105,0.027814,0.792157,0.986964,0.630485,0.030908,0.796078,0.987337,0.63789,0.034916,0.8,0.987622,0.64532,0.039886,0.803922,0.987819,0.652773,0.045581,0.807843,0.987926,0.66025,0.05175,0.811765,0.987945,0.667748,0.058329,0.815686,0.987874,0.675267,0.065257,0.819608,0.987714,0.682807,0.072489,0.823529,0.987464,0.690366,0.07999,0.827451,0.987124,0.697944,0.087731,0.831373,0.986694,0.70554,0.095694,0.835294,0.986175,0.713153,0.103863,0.839216,0.985566,0.720782,0.112229,0.843137,0.984865,0.728427,0.120785,0.847059,0.984075,0.736087,0.129527,0.85098,0.983196,0.743758,0.138453,0.854902,0.982228,0.751442,0.147565,0.858824,0.981173,0.759135,0.156863,0.862745,0.980032,0.766837,0.166353,0.866667,0.978806,0.774545,0.176037,0.870588,0.977497,0.782258,0.185923,0.87451,0.976108,0.789974,0.196018,0.878431,0.974638,0.797692,0.206332,0.882353,0.973088,0.805409,0.216877,0.886275,0.971468,0.813122,0.227658,0.890196,0.969783,0.820825,0.238686,0.894118,0.968041,0.828515,0.249972,0.898039,0.966243,0.836191,0.261534,0.901961,0.964394,0.843848,0.273391,0.905882,0.962517,0.851476,0.285546,0.909804,0.960626,0.859069,0.29801,0.913725,0.95872,0.866624,0.31082,0.917647,0.956834,0.874129,0.323974,0.921569,0.954997,0.881569,0.337475,0.92549,0.953215,0.888942,0.351369,0.929412,0.951546,0.896226,0.365627,0.933333,0.950018,0.903409,0.380271,0.937255,0.948683,0.910473,0.395289,0.941176,0.947594,0.917399,0.410665,0.945098,0.946809,0.924168,0.426373,0.94902,0.946392,0.930761,0.442367,0.952941,0.946403,0.937159,0.458592,0.956863,0.946903,0.943348,0.47497,0.960784,0.947937,0.949318,0.491426,0.964706,0.949545,0.955063,0.50786,0.968627,0.95174,0.960587,0.524203,0.972549,0.954529,0.965896,0.540361,0.976471,0.957896,0.971003,0.556275,0.980392,0.961812,0.975924,0.571925,0.984314,0.966249,0.980678,0.587206,0.988235,0.971162,0.985282,0.602154,0.992157,0.976511,0.989753,0.61676,0.996078,0.982257,0.994109,0.631017,1,0.988362,0.998364,0.644924]},{"ColorSpace":"Diverging","Name":"Plasma (matplotlib)","NanColor":[0,1,0],"Source":"https://github.com/BIDS/colormap/blob/master/colormaps.py","License":"CC0","Creator":"Nathaniel J. Smith & Stefan van der Walt","RGBPoints":[0,0.050383,0.029803,0.527975,0.003922,0.063536,0.028426,0.533124,0.007843,0.075353,0.027206,0.538007,0.011765,0.086222,0.026125,0.542658,0.015686,0.096379,0.025165,0.547103,0.019608,0.10598,0.024309,0.551368,0.023529,0.115124,0.023556,0.555468,0.027451,0.123903,0.022878,0.559423,0.031373,0.132381,0.022258,0.56325,0.035294,0.140603,0.021687,0.566959,0.039216,0.148607,0.021154,0.570562,0.043137,0.156421,0.020651,0.574065,0.047059,0.16407,0.020171,0.577478,0.05098,0.171574,0.019706,0.580806,0.054902,0.17895,0.019252,0.584054,0.058824,0.186213,0.018803,0.587228,0.062745,0.193374,0.018354,0.59033,0.066667,0.200445,0.017902,0.593364,0.070588,0.207435,0.017442,0.596333,0.07451,0.21435,0.016973,0.599239,0.078431,0.221197,0.016497,0.602083,0.082353,0.227983,0.016007,0.604867,0.086275,0.234715,0.015502,0.607592,0.090196,0.241396,0.014979,0.610259,0.094118,0.248032,0.014439,0.612868,0.098039,0.254627,0.013882,0.615419,0.101961,0.261183,0.013308,0.617911,0.105882,0.267703,0.012716,0.620346,0.109804,0.274191,0.012109,0.622722,0.113725,0.280648,0.011488,0.625038,0.117647,0.287076,0.010855,0.627295,0.121569,0.293478,0.010213,0.62949,0.12549,0.299855,0.009561,0.631624,0.129412,0.30621,0.008902,0.633694,0.133333,0.312543,0.008239,0.6357,0.137255,0.318856,0.007576,0.63764,0.141176,0.32515,0.006915,0.639512,0.145098,0.331426,0.006261,0.641316,0.14902,0.337683,0.005618,0.643049,0.152941,0.343925,0.004991,0.64471,0.156863,0.35015,0.004382,0.646298,0.160784,0.356359,0.003798,0.64781,0.164706,0.362553,0.003243,0.649245,0.168627,0.368733,0.002724,0.650601,0.172549,0.374897,0.002245,0.651876,0.176471,0.381047,0.001814,0.653068,0.180392,0.387183,0.001434,0.654177,0.184314,0.393304,0.001114,0.655199,0.188235,0.399411,0.000859,0.656133,0.192157,0.405503,0.000678,0.656977,0.196078,0.41158,0.000577,0.65773,0.2,0.417642,0.000564,0.65839,0.203922,0.423689,0.000646,0.658956,0.207843,0.429719,0.000831,0.659425,0.211765,0.435734,0.001127,0.659797,0.215686,0.441732,0.00154,0.660069,0.219608,0.447714,0.00208,0.66024,0.223529,0.453677,0.002755,0.66031,0.227451,0.459623,0.003574,0.660277,0.231373,0.46555,0.004545,0.660139,0.235294,0.471457,0.005678,0.659897,0.239216,0.477344,0.00698,0.659549,0.243137,0.48321,0.00846,0.659095,0.247059,0.489055,0.010127,0.658534,0.25098,0.494877,0.01199,0.657865,0.254902,0.500678,0.014055,0.657088,0.258824,0.506454,0.016333,0.656202,0.262745,0.512206,0.018833,0.655209,0.266667,0.517933,0.021563,0.654109,0.270588,0.523633,0.024532,0.652901,0.27451,0.529306,0.027747,0.651586,0.278431,0.534952,0.031217,0.650165,0.282353,0.54057,0.03495,0.64864,0.286275,0.546157,0.038954,0.64701,0.290196,0.551715,0.043136,0.645277,0.294118,0.557243,0.047331,0.643443,0.298039,0.562738,0.051545,0.641509,0.301961,0.568201,0.055778,0.639477,0.305882,0.573632,0.060028,0.637349,0.309804,0.579029,0.064296,0.635126,0.313725,0.584391,0.068579,0.632812,0.317647,0.589719,0.072878,0.630408,0.321569,0.595011,0.07719,0.627917,0.32549,0.600266,0.081516,0.625342,0.329412,0.605485,0.085854,0.622686,0.333333,0.610667,0.090204,0.619951,0.337255,0.615812,0.094564,0.61714,0.341176,0.620919,0.098934,0.614257,0.345098,0.625987,0.103312,0.611305,0.34902,0.631017,0.107699,0.608287,0.352941,0.636008,0.112092,0.605205,0.356863,0.640959,0.116492,0.602065,0.360784,0.645872,0.120898,0.598867,0.364706,0.650746,0.125309,0.595617,0.368627,0.65558,0.129725,0.592317,0.372549,0.660374,0.134144,0.588971,0.376471,0.665129,0.138566,0.585582,0.380392,0.669845,0.142992,0.582154,0.384314,0.674522,0.147419,0.578688,0.388235,0.67916,0.151848,0.575189,0.392157,0.683758,0.156278,0.57166,0.396078,0.688318,0.160709,0.568103,0.4,0.69284,0.165141,0.564522,0.403922,0.697324,0.169573,0.560919,0.407843,0.701769,0.174005,0.557296,0.411765,0.706178,0.178437,0.553657,0.415686,0.710549,0.182868,0.550004,0.419608,0.714883,0.187299,0.546338,0.423529,0.719181,0.191729,0.542663,0.427451,0.723444,0.196158,0.538981,0.431373,0.72767,0.200586,0.535293,0.435294,0.731862,0.205013,0.531601,0.439216,0.736019,0.209439,0.527908,0.443137,0.740143,0.213864,0.524216,0.447059,0.744232,0.218288,0.520524,0.45098,0.748289,0.222711,0.516834,0.454902,0.752312,0.227133,0.513149,0.458824,0.756304,0.231555,0.509468,0.462745,0.760264,0.235976,0.505794,0.466667,0.764193,0.240396,0.502126,0.470588,0.76809,0.244817,0.498465,0.47451,0.771958,0.249237,0.494813,0.478431,0.775796,0.253658,0.491171,0.482353,0.779604,0.258078,0.487539,0.486275,0.783383,0.2625,0.483918,0.490196,0.787133,0.266922,0.480307,0.494118,0.790855,0.271345,0.476706,0.498039,0.794549,0.27577,0.473117,0.501961,0.798216,0.280197,0.469538,0.505882,0.801855,0.284626,0.465971,0.509804,0.805467,0.289057,0.462415,0.513725,0.809052,0.293491,0.45887,0.517647,0.812612,0.297928,0.455338,0.521569,0.816144,0.302368,0.451816,0.52549,0.819651,0.306812,0.448306,0.529412,0.823132,0.311261,0.444806,0.533333,0.826588,0.315714,0.441316,0.537255,0.830018,0.320172,0.437836,0.541176,0.833422,0.324635,0.434366,0.545098,0.836801,0.329105,0.430905,0.54902,0.840155,0.33358,0.427455,0.552941,0.843484,0.338062,0.424013,0.556863,0.846788,0.342551,0.420579,0.560784,0.850066,0.347048,0.417153,0.564706,0.853319,0.351553,0.413734,0.568627,0.856547,0.356066,0.410322,0.572549,0.85975,0.360588,0.406917,0.576471,0.862927,0.365119,0.403519,0.580392,0.866078,0.36966,0.400126,0.584314,0.869203,0.374212,0.396738,0.588235,0.872303,0.378774,0.393355,0.592157,0.875376,0.383347,0.389976,0.596078,0.878423,0.387932,0.3866,0.6,0.881443,0.392529,0.383229,0.603922,0.884436,0.397139,0.37986,0.607843,0.887402,0.401762,0.376494,0.611765,0.89034,0.406398,0.37313,0.615686,0.89325,0.411048,0.369768,0.619608,0.896131,0.415712,0.366407,0.623529,0.898984,0.420392,0.363047,0.627451,0.901807,0.425087,0.359688,0.631373,0.904601,0.429797,0.356329,0.635294,0.907365,0.434524,0.35297,0.639216,0.910098,0.439268,0.34961,0.643137,0.9128,0.444029,0.346251,0.647059,0.915471,0.448807,0.34289,0.65098,0.918109,0.453603,0.339529,0.654902,0.920714,0.458417,0.336166,0.658824,0.923287,0.463251,0.332801,0.662745,0.925825,0.468103,0.329435,0.666667,0.928329,0.472975,0.326067,0.670588,0.930798,0.477867,0.322697,0.67451,0.933232,0.48278,0.319325,0.678431,0.93563,0.487712,0.315952,0.682353,0.93799,0.492667,0.312575,0.686275,0.940313,0.497642,0.309197,0.690196,0.942598,0.502639,0.305816,0.694118,0.944844,0.507658,0.302433,0.698039,0.947051,0.512699,0.299049,0.701961,0.949217,0.517763,0.295662,0.705882,0.951344,0.52285,0.292275,0.709804,0.953428,0.52796,0.288883,0.713725,0.95547,0.533093,0.28549,0.717647,0.957469,0.53825,0.282096,0.721569,0.959424,0.543431,0.278701,0.72549,0.961336,0.548636,0.275305,0.729412,0.963203,0.553865,0.271909,0.733333,0.965024,0.559118,0.268513,0.737255,0.966798,0.564396,0.265118,0.741176,0.968526,0.5697,0.261721,0.745098,0.970205,0.575028,0.258325,0.74902,0.971835,0.580382,0.254931,0.752941,0.973416,0.585761,0.25154,0.756863,0.974947,0.591165,0.248151,0.760784,0.976428,0.596595,0.244767,0.764706,0.977856,0.602051,0.241387,0.768627,0.979233,0.607532,0.238013,0.772549,0.980556,0.613039,0.234646,0.776471,0.981826,0.618572,0.231287,0.780392,0.983041,0.624131,0.227937,0.784314,0.984199,0.629718,0.224595,0.788235,0.985301,0.63533,0.221265,0.792157,0.986345,0.640969,0.217948,0.796078,0.987332,0.646633,0.214648,0.8,0.98826,0.652325,0.211364,0.803922,0.989128,0.658043,0.2081,0.807843,0.989935,0.663787,0.204859,0.811765,0.990681,0.669558,0.201642,0.815686,0.991365,0.675355,0.198453,0.819608,0.991985,0.681179,0.195295,0.823529,0.992541,0.68703,0.19217,0.827451,0.993032,0.692907,0.189084,0.831373,0.993456,0.69881,0.186041,0.835294,0.993814,0.704741,0.183043,0.839216,0.994103,0.710698,0.180097,0.843137,0.994324,0.716681,0.177208,0.847059,0.994474,0.722691,0.174381,0.85098,0.994553,0.728728,0.171622,0.854902,0.994561,0.734791,0.168938,0.858824,0.994495,0.74088,0.166335,0.862745,0.994355,0.746995,0.163821,0.866667,0.994141,0.753137,0.161404,0.870588,0.993851,0.759304,0.159092,0.87451,0.993482,0.765499,0.156891,0.878431,0.993033,0.77172,0.154808,0.882353,0.992505,0.777967,0.152855,0.886275,0.991897,0.784239,0.151042,0.890196,0.991209,0.790537,0.149377,0.894118,0.990439,0.796859,0.14787,0.898039,0.989587,0.803205,0.146529,0.901961,0.988648,0.809579,0.145357,0.905882,0.987621,0.815978,0.144363,0.909804,0.986509,0.822401,0.143557,0.913725,0.985314,0.828846,0.142945,0.917647,0.984031,0.835315,0.142528,0.921569,0.982653,0.841812,0.142303,0.92549,0.98119,0.848329,0.142279,0.929412,0.979644,0.854866,0.142453,0.933333,0.977995,0.861432,0.142808,0.937255,0.976265,0.868016,0.143351,0.941176,0.974443,0.874622,0.144061,0.945098,0.97253,0.88125,0.144923,0.94902,0.970533,0.887896,0.145919,0.952941,0.968443,0.894564,0.147014,0.956863,0.966271,0.901249,0.14818,0.960784,0.964021,0.90795,0.14937,0.964706,0.961681,0.914672,0.15052,0.968627,0.959276,0.921407,0.151566,0.972549,0.956808,0.928152,0.152409,0.976471,0.954287,0.934908,0.152921,0.980392,0.951726,0.941671,0.152925,0.984314,0.949151,0.948435,0.152178,0.988235,0.946602,0.95519,0.150328,0.992157,0.944152,0.961916,0.146861,0.996078,0.941896,0.96859,0.140956,1,0.940015,0.975158,0.131326]},{"ColorSpace":"Diverging","Name":"Viridis (matplotlib)","NanColor":[1,0,0],"Source":"https://github.com/BIDS/colormap/blob/master/colormaps.py","License":"CC0","Creator":"Eric Firing","RGBPoints":[0,0.267004,0.004874,0.329415,0.003922,0.26851,0.009605,0.335427,0.007843,0.269944,0.014625,0.341379,0.011765,0.271305,0.019942,0.347269,0.015686,0.272594,0.025563,0.353093,0.019608,0.273809,0.031497,0.358853,0.023529,0.274952,0.037752,0.364543,0.027451,0.276022,0.044167,0.370164,0.031373,0.277018,0.050344,0.375715,0.035294,0.277941,0.056324,0.381191,0.039216,0.278791,0.062145,0.386592,0.043137,0.279566,0.067836,0.391917,0.047059,0.280267,0.073417,0.397163,0.05098,0.280894,0.078907,0.402329,0.054902,0.281446,0.08432,0.407414,0.058824,0.281924,0.089666,0.412415,0.062745,0.282327,0.094955,0.417331,0.066667,0.282656,0.100196,0.42216,0.070588,0.28291,0.105393,0.426902,0.07451,0.283091,0.110553,0.431554,0.078431,0.283197,0.11568,0.436115,0.082353,0.283229,0.120777,0.440584,0.086275,0.283187,0.125848,0.44496,0.090196,0.283072,0.130895,0.449241,0.094118,0.282884,0.13592,0.453427,0.098039,0.282623,0.140926,0.457517,0.101961,0.28229,0.145912,0.46151,0.105882,0.281887,0.150881,0.465405,0.109804,0.281412,0.155834,0.469201,0.113725,0.280868,0.160771,0.472899,0.117647,0.280255,0.165693,0.476498,0.121569,0.279574,0.170599,0.479997,0.12549,0.278826,0.17549,0.483397,0.129412,0.278012,0.180367,0.486697,0.133333,0.277134,0.185228,0.489898,0.137255,0.276194,0.190074,0.493001,0.141176,0.275191,0.194905,0.496005,0.145098,0.274128,0.199721,0.498911,0.14902,0.273006,0.20452,0.501721,0.152941,0.271828,0.209303,0.504434,0.156863,0.270595,0.214069,0.507052,0.160784,0.269308,0.218818,0.509577,0.164706,0.267968,0.223549,0.512008,0.168627,0.26658,0.228262,0.514349,0.172549,0.265145,0.232956,0.516599,0.176471,0.263663,0.237631,0.518762,0.180392,0.262138,0.242286,0.520837,0.184314,0.260571,0.246922,0.522828,0.188235,0.258965,0.251537,0.524736,0.192157,0.257322,0.25613,0.526563,0.196078,0.255645,0.260703,0.528312,0.2,0.253935,0.265254,0.529983,0.203922,0.252194,0.269783,0.531579,0.207843,0.250425,0.27429,0.533103,0.211765,0.248629,0.278775,0.534556,0.215686,0.246811,0.283237,0.535941,0.219608,0.244972,0.287675,0.53726,0.223529,0.243113,0.292092,0.538516,0.227451,0.241237,0.296485,0.539709,0.231373,0.239346,0.300855,0.540844,0.235294,0.237441,0.305202,0.541921,0.239216,0.235526,0.309527,0.542944,0.243137,0.233603,0.313828,0.543914,0.247059,0.231674,0.318106,0.544834,0.25098,0.229739,0.322361,0.545706,0.254902,0.227802,0.326594,0.546532,0.258824,0.225863,0.330805,0.547314,0.262745,0.223925,0.334994,0.548053,0.266667,0.221989,0.339161,0.548752,0.270588,0.220057,0.343307,0.549413,0.27451,0.21813,0.347432,0.550038,0.278431,0.21621,0.351535,0.550627,0.282353,0.214298,0.355619,0.551184,0.286275,0.212395,0.359683,0.55171,0.290196,0.210503,0.363727,0.552206,0.294118,0.208623,0.367752,0.552675,0.298039,0.206756,0.371758,0.553117,0.301961,0.204903,0.375746,0.553533,0.305882,0.203063,0.379716,0.553925,0.309804,0.201239,0.38367,0.554294,0.313725,0.19943,0.387607,0.554642,0.317647,0.197636,0.391528,0.554969,0.321569,0.19586,0.395433,0.555276,0.32549,0.1941,0.399323,0.555565,0.329412,0.192357,0.403199,0.555836,0.333333,0.190631,0.407061,0.556089,0.337255,0.188923,0.41091,0.556326,0.341176,0.187231,0.414746,0.556547,0.345098,0.185556,0.41857,0.556753,0.34902,0.183898,0.422383,0.556944,0.352941,0.182256,0.426184,0.55712,0.356863,0.180629,0.429975,0.557282,0.360784,0.179019,0.433756,0.55743,0.364706,0.177423,0.437527,0.557565,0.368627,0.175841,0.44129,0.557685,0.372549,0.174274,0.445044,0.557792,0.376471,0.172719,0.448791,0.557885,0.380392,0.171176,0.45253,0.557965,0.384314,0.169646,0.456262,0.55803,0.388235,0.168126,0.459988,0.558082,0.392157,0.166617,0.463708,0.558119,0.396078,0.165117,0.467423,0.558141,0.4,0.163625,0.471133,0.558148,0.403922,0.162142,0.474838,0.55814,0.407843,0.160665,0.47854,0.558115,0.411765,0.159194,0.482237,0.558073,0.415686,0.157729,0.485932,0.558013,0.419608,0.15627,0.489624,0.557936,0.423529,0.154815,0.493313,0.55784,0.427451,0.153364,0.497,0.557724,0.431373,0.151918,0.500685,0.557587,0.435294,0.150476,0.504369,0.55743,0.439216,0.149039,0.508051,0.55725,0.443137,0.147607,0.511733,0.557049,0.447059,0.14618,0.515413,0.556823,0.45098,0.144759,0.519093,0.556572,0.454902,0.143343,0.522773,0.556295,0.458824,0.141935,0.526453,0.555991,0.462745,0.140536,0.530132,0.555659,0.466667,0.139147,0.533812,0.555298,0.470588,0.13777,0.537492,0.554906,0.47451,0.136408,0.541173,0.554483,0.478431,0.135066,0.544853,0.554029,0.482353,0.133743,0.548535,0.553541,0.486275,0.132444,0.552216,0.553018,0.490196,0.131172,0.555899,0.552459,0.494118,0.129933,0.559582,0.551864,0.498039,0.128729,0.563265,0.551229,0.501961,0.127568,0.566949,0.550556,0.505882,0.126453,0.570633,0.549841,0.509804,0.125394,0.574318,0.549086,0.513725,0.124395,0.578002,0.548287,0.517647,0.123463,0.581687,0.547445,0.521569,0.122606,0.585371,0.546557,0.52549,0.121831,0.589055,0.545623,0.529412,0.121148,0.592739,0.544641,0.533333,0.120565,0.596422,0.543611,0.537255,0.120092,0.600104,0.54253,0.541176,0.119738,0.603785,0.5414,0.545098,0.119512,0.607464,0.540218,0.54902,0.119423,0.611141,0.538982,0.552941,0.119483,0.614817,0.537692,0.556863,0.119699,0.61849,0.536347,0.560784,0.120081,0.622161,0.534946,0.564706,0.120638,0.625828,0.533488,0.568627,0.12138,0.629492,0.531973,0.572549,0.122312,0.633153,0.530398,0.576471,0.123444,0.636809,0.528763,0.580392,0.12478,0.640461,0.527068,0.584314,0.126326,0.644107,0.525311,0.588235,0.128087,0.647749,0.523491,0.592157,0.130067,0.651384,0.521608,0.596078,0.132268,0.655014,0.519661,0.6,0.134692,0.658636,0.517649,0.603922,0.137339,0.662252,0.515571,0.607843,0.14021,0.665859,0.513427,0.611765,0.143303,0.669459,0.511215,0.615686,0.146616,0.67305,0.508936,0.619608,0.150148,0.676631,0.506589,0.623529,0.153894,0.680203,0.504172,0.627451,0.157851,0.683765,0.501686,0.631373,0.162016,0.687316,0.499129,0.635294,0.166383,0.690856,0.496502,0.639216,0.170948,0.694384,0.493803,0.643137,0.175707,0.6979,0.491033,0.647059,0.180653,0.701402,0.488189,0.65098,0.185783,0.704891,0.485273,0.654902,0.19109,0.708366,0.482284,0.658824,0.196571,0.711827,0.479221,0.662745,0.202219,0.715272,0.476084,0.666667,0.20803,0.718701,0.472873,0.670588,0.214,0.722114,0.469588,0.67451,0.220124,0.725509,0.466226,0.678431,0.226397,0.728888,0.462789,0.682353,0.232815,0.732247,0.459277,0.686275,0.239374,0.735588,0.455688,0.690196,0.24607,0.73891,0.452024,0.694118,0.252899,0.742211,0.448284,0.698039,0.259857,0.745492,0.444467,0.701961,0.266941,0.748751,0.440573,0.705882,0.274149,0.751988,0.436601,0.709804,0.281477,0.755203,0.432552,0.713725,0.288921,0.758394,0.428426,0.717647,0.296479,0.761561,0.424223,0.721569,0.304148,0.764704,0.419943,0.72549,0.311925,0.767822,0.415586,0.729412,0.319809,0.770914,0.411152,0.733333,0.327796,0.77398,0.40664,0.737255,0.335885,0.777018,0.402049,0.741176,0.344074,0.780029,0.397381,0.745098,0.35236,0.783011,0.392636,0.74902,0.360741,0.785964,0.387814,0.752941,0.369214,0.788888,0.382914,0.756863,0.377779,0.791781,0.377939,0.760784,0.386433,0.794644,0.372886,0.764706,0.395174,0.797475,0.367757,0.768627,0.404001,0.800275,0.362552,0.772549,0.412913,0.803041,0.357269,0.776471,0.421908,0.805774,0.35191,0.780392,0.430983,0.808473,0.346476,0.784314,0.440137,0.811138,0.340967,0.788235,0.449368,0.813768,0.335384,0.792157,0.458674,0.816363,0.329727,0.796078,0.468053,0.818921,0.323998,0.8,0.477504,0.821444,0.318195,0.803922,0.487026,0.823929,0.312321,0.807843,0.496615,0.826376,0.306377,0.811765,0.506271,0.828786,0.300362,0.815686,0.515992,0.831158,0.294279,0.819608,0.525776,0.833491,0.288127,0.823529,0.535621,0.835785,0.281908,0.827451,0.545524,0.838039,0.275626,0.831373,0.555484,0.840254,0.269281,0.835294,0.565498,0.84243,0.262877,0.839216,0.575563,0.844566,0.256415,0.843137,0.585678,0.846661,0.249897,0.847059,0.595839,0.848717,0.243329,0.85098,0.606045,0.850733,0.236712,0.854902,0.616293,0.852709,0.230052,0.858824,0.626579,0.854645,0.223353,0.862745,0.636902,0.856542,0.21662,0.866667,0.647257,0.8584,0.209861,0.870588,0.657642,0.860219,0.203082,0.87451,0.668054,0.861999,0.196293,0.878431,0.678489,0.863742,0.189503,0.882353,0.688944,0.865448,0.182725,0.886275,0.699415,0.867117,0.175971,0.890196,0.709898,0.868751,0.169257,0.894118,0.720391,0.87035,0.162603,0.898039,0.730889,0.871916,0.156029,0.901961,0.741388,0.873449,0.149561,0.905882,0.751884,0.874951,0.143228,0.909804,0.762373,0.876424,0.137064,0.913725,0.772852,0.877868,0.131109,0.917647,0.783315,0.879285,0.125405,0.921569,0.79376,0.880678,0.120005,0.92549,0.804182,0.882046,0.114965,0.929412,0.814576,0.883393,0.110347,0.933333,0.82494,0.88472,0.106217,0.937255,0.83527,0.886029,0.102646,0.941176,0.845561,0.887322,0.099702,0.945098,0.85581,0.888601,0.097452,0.94902,0.866013,0.889868,0.095953,0.952941,0.876168,0.891125,0.09525,0.956863,0.886271,0.892374,0.095374,0.960784,0.89632,0.893616,0.096335,0.964706,0.906311,0.894855,0.098125,0.968627,0.916242,0.896091,0.100717,0.972549,0.926106,0.89733,0.104071,0.976471,0.935904,0.89857,0.108131,0.980392,0.945636,0.899815,0.112838,0.984314,0.9553,0.901065,0.118128,0.988235,0.964894,0.902323,0.123941,0.992157,0.974417,0.90359,0.130215,0.996078,0.983868,0.904867,0.136897,1,0.993248,0.906157,0.143936]},{"ShowIndexedColorActiveValues":1,"IndexedColors":[0.07,0.5,0.7,1,1,1,0.85,1,1,0.8,0.5,1,0.76,1,0,1,0.71,0.71,0.5,0.5,0.5,0.05,0.05,1,1,0.05,0.05,0.7,1,1,0.7,0.89,0.96,0.67,0.36,0.95,0.54,1,0,0.75,0.65,0.65,0.5,0.6,0.6,1,0.5,0,1,1,0.19,0.12,0.94,0.12,0.5,0.82,0.89,0.56,0.25,0.83,0.24,1,0,0.9,0.9,0.9,0.75,0.76,0.78,0.65,0.65,0.67,0.54,0.6,0.78,0.61,0.48,0.78,0.5,0.48,0.78,0.44,0.48,0.78,0.36,0.48,0.76,1,0.48,0.38,0.49,0.5,0.69,0.76,0.56,0.56,0.4,0.56,0.56,0.74,0.5,0.89,1,0.63,0,0.65,0.16,0.16,0.36,0.72,0.82,0.44,0.18,0.69,0,1,0,0.58,1,1,0.58,0.88,0.88,0.45,0.76,0.79,0.33,0.71,0.71,0.23,0.62,0.62,0.14,0.56,0.56,0.04,0.49,0.55,0,0.41,0.52,0.88,0.88,1,1,0.85,0.56,0.65,0.46,0.45,0.4,0.5,0.5,0.62,0.39,0.71,0.83,0.48,0,0.58,0,0.58,0.26,0.62,0.69,0.34,0.09,0.56,0,0.79,0,0.44,0.83,1,1,1,0.78,0.85,1,0.78,0.78,1,0.78,0.64,1,0.78,0.56,1,0.78,0.38,1,0.78,0.27,1,0.78,0.19,1,0.78,0.12,1,0.78,0,1,0.61,0,0.9,0.46,0,0.83,0.32,0,0.75,0.22,0,0.67,0.14,0.3,0.76,1,0.3,0.65,1,0.13,0.58,0.84,0.15,0.49,0.67,0.15,0.4,0.59,0.09,0.33,0.53,0.96,0.93,0.82,0.8,0.82,0.12,0.71,0.71,0.76,0.65,0.33,0.3,0.34,0.35,0.38,0.62,0.31,0.71,0.67,0.36,0,0.46,0.31,0.27,0.26,0.51,0.59,0.26,0,0.4,0,0.49,0,0.44,0.67,0.98,0,0.73,1,0,0.63,1,0,0.56,1,0,0.5,1,0,0.42,1,0.33,0.36,0.95,0.47,0.36,0.89,0.54,0.31,0.89,0.63,0.21,0.83,0.7,0.12,0.83,0.7,0.12,0.73,0.7,0.05,0.65,0.74,0.05,0.53,0.78,0,0.4,0.8,0,0.35,0.82,0,0.31,0.85,0,0.27,0.88,0,0.22,0.9,0,0.18,0.91,0,0.15,0.92,0,0.14,0.93,0,0.13,0.94,0,0.12,0.95,0,0.11,0.96,0,0.1,0.97,0,0.09,0.98,0,0.08,0.99,0,0.07,1,0,0.06],"Annotations":[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],"Name":"BlueObeliskElements"}]'),lM=Object.create(null);cM.filter((function(e){return e.RGBPoints})).filter((function(e){return"CIELAB"!==e.ColorSpace})).forEach((function(e){lM[e.Name]=e}));var fM=Object.keys(lM);fM.sort();var dM={addPreset:function(e){e.RGBPoints&&"CIELAB"!==e.ColorSpace&&(lM[e.Name]||(fM.push(e.Name),fM.sort()),lM[e.Name]=e)},removePresetByName:function(e){var t=fM.indexOf(e);t>-1&&fM.splice(t,1),delete lM[e]},getPresetByName:function(e){return lM[e]},rgbPresetNames:fM};function pM(e,t){t.classHierarchy.push("vtkProperty2D")}var hM={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,displayLocation:"Foreground"};function mM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hM,n),fe.obj(e,t),fe.setGet(e,t,["opacity","lineWidth","pointSize","displayLocation"]),fe.setGetArray(e,t,["color"],3),pM(0,t)}var gM={newInstance:fe.newInstance(mM,"vtkProperty2D"),extend:mM};function vM(e,t){t.classHierarchy.push("vtkActor2D"),e.getActors2D=function(){return e},e.getIsOpaque=function(){t.property||e.getProperty();var n=t.property.getOpacity()>=1;return(n=n&&(!t.texture||!t.texture.isTranslucent()))&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=gM.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.setDisplayPosition=function(e,n){t.positionCoordinate.setCoordinateSystem(Qw.DISPLAY),t.positionCoordinate.setValue(e,n,0)},e.setWidth=function(e){var n=t.position2Coordinate.getValue();t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(e,n[1])},e.setHeight=function(e){var n=t.position2Coordinate.getValue();t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(n[0],e)},e.getWidth=function(){return t.position2Coordinate.getValue()[0]},e.getHeight=function(){return t.position2Coordinate.getValue()[1]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e=t.positionCoordinate.getMTime()>e?t.positionCoordinate.getMTime():e,t.positionCoordinate2.getMTime()>e?t.positionCoordinate2.getMTime():e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e},e.getBounds=function(){return"function"==typeof e.getMapper().getBounds?(t.useBounds=!0,e.getMapper().getBounds()):(t.useBounds=!1,[])},e.getActualPositionCoordinate=function(){return t.positionCoordinate},e.getActualPositionCoordinate2=function(){return t.positionCoordinate2}}var yM={mapper:null,property:null,layerNumber:0,positionCoordinate:null,positionCoordinate2:null};function bM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yM,n),Hg.extend(e,t,n),t.positionCoordinate=sx.newInstance(),t.positionCoordinate.setCoordinateSystemToViewport(),t.positionCoordinate2=sx.newInstance(),t.positionCoordinate2.setCoordinateSystemToNormalizedViewport(),t.positionCoordinate2.setValue(.5,.5),t.positionCoordinate2.setReferenceCoordinate(t.positionCoordinate),fe.set(e,t,["property"]),fe.setGet(e,t,["mapper"]),vM(e,t)}var wM={newInstance:fe.newInstance(bM,"vtkActor2D"),extend:bM},xM={default:{defaultStyle:{fontStyle:"bold",fontFamily:"Arial",fontColor:"black",fontSizeScale:function(e){return e/2},faceColor:"white",edgeThickness:.1,edgeColor:"black",resolution:400},xMinusFaceProperty:{text:"X-",faceColor:"yellow"},xPlusFaceProperty:{text:"X+",faceColor:"yellow"},yMinusFaceProperty:{text:"Y-",faceColor:"red"},yPlusFaceProperty:{text:"Y+",faceColor:"red"},zMinusFaceProperty:{text:"Z-",faceColor:"#008000"},zPlusFaceProperty:{text:"Z+",faceColor:"#008000"}},lps:{xMinusFaceProperty:{text:"R",faceRotation:-90},xPlusFaceProperty:{text:"L",faceRotation:90},yMinusFaceProperty:{text:"A",faceRotation:0},yPlusFaceProperty:{text:"P",faceRotation:180},zMinusFaceProperty:{text:"I",faceRotation:180},zPlusFaceProperty:{text:"S",faceRotation:0}}};function CM(e,t){t.set(e)}var SM={applyDefinitions:CM,applyPreset:function(e,t){return CM(xM[e],t)},registerStylePreset:function(e,t){xM[e]=t}};function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PM={xPlus:0,xMinus:1,yPlus:2,yMinus:3,zPlus:4,zMinus:5};function OM(e,t){t.classHierarchy.push("vtkAnnotatedCubeActor"),t.xPlusFaceProperty=_M({},t.xPlusFaceProperty),t.xMinusFaceProperty=_M({},t.xMinusFaceProperty),t.yPlusFaceProperty=_M({},t.yPlusFaceProperty),t.yMinusFaceProperty=_M({},t.yMinusFaceProperty),t.zPlusFaceProperty=_M({},t.zPlusFaceProperty),t.zMinusFaceProperty=_M({},t.zMinusFaceProperty);var n=null,r=document.createElement("canvas"),o=Uv.newInstance(),i=IT.newInstance();function a(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o&&Object.assign(t["".concat(n,"FaceProperty")],o);var a=_M(_M({},t.defaultStyle),t["".concat(n,"FaceProperty")]);r.width=a.resolution,r.height=a.resolution;var s=r.getContext("2d");s.fillStyle=a.faceColor,s.fillRect(0,0,r.width,r.height),a.edgeThickness>0&&(s.strokeStyle=a.edgeColor,s.lineWidth=a.edgeThickness*r.width,s.strokeRect(0,0,r.width,r.height)),s.save(),s.translate(0,r.height),s.scale(1,-1),s.translate(r.width/2,r.height/2),s.rotate(-Math.PI*(a.faceRotation/180));var u=a.fontSizeScale(a.resolution);s.fillStyle=a.fontColor,s.textAlign="center",s.textBaseline="middle",s.font="".concat(a.fontStyle," ").concat(u,'px "').concat(a.fontFamily,'"'),s.fillText(a.text,0,0),s.restore();var c=ns.canvasToImageData(r);i.setInputData(c,PM[n]),e.modified()}function s(){n=vp.newInstance({generate3DTextureCoordinates:!0}),o.setInputConnection(n.getOutputPort()),a("xPlus"),a("xMinus"),a("yPlus"),a("yMinus"),a("zPlus"),a("zMinus")}i.setInterpolate(!0),e.setDefaultStyle=function(e){t.defaultStyle=_M(_M({},t.defaultStyle),e),s()},e.setXPlusFaceProperty=function(e){return a("xPlus",e)},e.setXMinusFaceProperty=function(e){return a("xMinus",e)},e.setYPlusFaceProperty=function(e){return a("yPlus",e)},e.setYMinusFaceProperty=function(e){return a("yMinus",e)},e.setZPlusFaceProperty=function(e){return a("zPlus",e)},e.setZMinusFaceProperty=function(e){return a("zMinus",e)},s(),o.setInputConnection(n.getOutputPort()),e.setMapper(o),e.addTexture(i)}var EM={defaultStyle:{text:"",faceColor:"white",faceRotation:0,fontFamily:"Arial",fontColor:"black",fontStyle:"normal",fontSizeScale:function(e){return e/1.8},edgeThickness:.1,edgeColor:"black",resolution:200}};function TM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,EM,n),dv.extend(e,t,n),fe.get(e,t,["defaultStyle","xPlusFaceProperty","xMinusFaceProperty","yPlusFaceProperty","yMinusFaceProperty","zPlusFaceProperty","zMinusFaceProperty"]),OM(e,t)}var DM={newInstance:fe.newInstance(TM,"vtkAnnotatedCubeActor"),extend:TM,Presets:SM};function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MM(e){var t,n=e.getPoints().getBounds(),r=[.5*-(n[0]+n[1]),.5*-(n[2]+n[3]),.5*-(n[4]+n[5])];(t=Es.buildFromDegree()).translate.apply(t,r).apply(e.getPoints().getData())}function NM(e,t,n,r){for(var o=e.getPoints().getData().length,i=new Uint8Array(o),a=0;a<o;)i[a++]=t,i[a++]=n,i[a++]=r;e.getPointData().setScalars(Fn.newInstance({name:"color",numberOfComponents:3,values:i}))}function RM(e,t){t.classHierarchy.push("vtkAxesActor"),e.update=function(){var n=op.newInstance(kM({direction:[1,0,0]},t.config)).getOutputData();MM(n),NM.apply(void 0,[n].concat(y(t.xAxisColor)));var r=op.newInstance(kM({direction:[0,1,0]},t.config)).getOutputData();MM(r),NM.apply(void 0,[r].concat(y(t.yAxisColor)));var o=op.newInstance(kM({direction:[0,0,1]},t.config)).getOutputData();MM(o),NM.apply(void 0,[o].concat(y(t.zAxisColor)));var i=Bl.newInstance();i.setInputData(n),i.addInputData(r),i.addInputData(o);var a=Uv.newInstance();a.setInputConnection(i.getOutputPort()),e.setMapper(a)},e.update()}var BM={config:{tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function LM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,BM,n),dv.extend(e,t,n),fe.setGet(e,t,["config"]),fe.setGetArray(e,t,["xAxisColor","yAxisColor","zAxisColor"],3,255),RM(e,t)}var FM={newInstance:fe.newInstance(LM,"vtkAxesActor"),extend:LM},jM=Math.sqrt(50),VM=Math.sqrt(10),UM=Math.sqrt(2);function zM(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=jM?10:i>=VM?5:i>=UM?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=jM?10:i>=VM?5:i>=UM?2:1)}function GM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function WM(e){let t=e,n=e;function r(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>GM(e(t),n)}(e)),{left:r,center:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);const a=r(e,n,o,i-1);return a>o&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}}}const HM=WM(GM),qM=HM.right;HM.left,WM((function(e){return null===e?NaN:+e})).center;var KM=qM;function XM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function YM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ZM(){}var JM=.7,$M=1/JM,QM="\\s*([+-]?\\d+)\\s*",eN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nN=/^#([0-9a-f]{3,8})$/,rN=new RegExp("^rgb\\("+[QM,QM,QM]+"\\)$"),oN=new RegExp("^rgb\\("+[tN,tN,tN]+"\\)$"),iN=new RegExp("^rgba\\("+[QM,QM,QM,eN]+"\\)$"),aN=new RegExp("^rgba\\("+[tN,tN,tN,eN]+"\\)$"),sN=new RegExp("^hsl\\("+[eN,tN,tN]+"\\)$"),uN=new RegExp("^hsla\\("+[eN,tN,tN,eN]+"\\)$"),cN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lN(){return this.rgb().formatHex()}function fN(){return this.rgb().formatRgb()}function dN(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pN(t):3===n?new vN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?hN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?hN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rN.exec(e))?new vN(t[1],t[2],t[3],1):(t=oN.exec(e))?new vN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=iN.exec(e))?hN(t[1],t[2],t[3],t[4]):(t=aN.exec(e))?hN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sN.exec(e))?xN(t[1],t[2]/100,t[3]/100,1):(t=uN.exec(e))?xN(t[1],t[2]/100,t[3]/100,t[4]):cN.hasOwnProperty(e)?pN(cN[e]):"transparent"===e?new vN(NaN,NaN,NaN,0):null}function pN(e){return new vN(e>>16&255,e>>8&255,255&e,1)}function hN(e,t,n,r){return r<=0&&(e=t=n=NaN),new vN(e,t,n,r)}function mN(e){return e instanceof ZM||(e=dN(e)),e?new vN((e=e.rgb()).r,e.g,e.b,e.opacity):new vN}function gN(e,t,n,r){return 1===arguments.length?mN(e):new vN(e,t,n,null==r?1:r)}function vN(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function yN(){return"#"+wN(this.r)+wN(this.g)+wN(this.b)}function bN(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function wN(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function xN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new SN(e,t,n,r)}function CN(e){if(e instanceof SN)return new SN(e.h,e.s,e.l,e.opacity);if(e instanceof ZM||(e=dN(e)),!e)return new SN;if(e instanceof SN)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new SN(a,s,u,e.opacity)}function SN(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function AN(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function _N(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}XM(ZM,dN,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:lN,formatHex:lN,formatHsl:function(){return CN(this).formatHsl()},formatRgb:fN,toString:fN}),XM(vN,gN,YM(ZM,{brighter:function(e){return e=null==e?$M:Math.pow($M,e),new vN(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?JM:Math.pow(JM,e),new vN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yN,formatHex:yN,formatRgb:bN,toString:bN})),XM(SN,(function(e,t,n,r){return 1===arguments.length?CN(e):new SN(e,t,n,null==r?1:r)}),YM(ZM,{brighter:function(e){return e=null==e?$M:Math.pow($M,e),new SN(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?JM:Math.pow(JM,e),new SN(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new vN(AN(e>=240?e-240:e+120,o,r),AN(e,o,r),AN(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var PN=e=>()=>e;function ON(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):PN(isNaN(e)?t:e)}var EN=function e(t){var n=function(e){return 1==(e=+e)?ON:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):PN(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=gN(e)).r,(t=gN(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=ON(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function TN(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=gN(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}function DN(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=FN(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function IN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function MN(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=FN(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}TN((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return _N((n-r/t)*t,a,o,i,s)}})),TN((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return _N((n-r/t)*t,o,i,a,s)}}));var NN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RN=new RegExp(NN.source,"g");function BN(e,t){var n,r,o,i=NN.lastIndex=RN.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=NN.exec(e))&&(r=RN.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:kN(n,r)})),i=RN.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function LN(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function FN(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?PN(t):("number"===o?kN:"string"===o?(n=dN(t))?(t=n,EN):BN:t instanceof dN?EN:t instanceof Date?IN:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?DN:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?MN:kN:LN))(e,t)}function jN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function VN(e){return+e}var UN=[0,1];function zN(e){return e}function GN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function WN(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=GN(o,r),i=n(a,i)):(r=GN(r,o),i=n(i,a)),function(e){return i(r(e))}}function HN(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=GN(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=KM(e,t,1,r)-1;return i[n](o[n](t))}}function qN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function KN(){return function(){var e,t,n,r,o,i,a=UN,s=UN,u=FN,c=zN;function l(){var e,t,n,u=Math.min(a.length,s.length);return c!==zN&&(e=a[0],t=a[u-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=u>2?HN:WN,o=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(s,a.map(e),kN)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,VN),l()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=jN,l()},f.clamp=function(e){return arguments.length?(c=!!e||zN,l()):c!==zN},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}()(zN,zN)}function XN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var YN,ZN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JN(e){if(!(t=ZN.exec(e)))throw new Error("invalid format: "+e);var t;return new $N({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $N(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function QN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function eR(e){return(e=QN(Math.abs(e)))?e[1]:NaN}function tR(e,t){var n=QN(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}JN.prototype=$N.prototype,$N.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var nR={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tR(100*e,t),r:tR,s:function(e,t){var n=QN(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(YN=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+QN(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rR(e){return e}var oR,iR,aR,sR=Array.prototype.map,uR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cR(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=zM(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=jM?o*=10:i>=VM?o*=5:i>=UM&&(o*=2),t<e?-o:o}(e,t,n);switch((r=JN(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(eR(t)/3)))-eR(Math.abs(e)))}(i,a))||(r.precision=o),aR(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,eR(t)-eR(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-eR(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return iR(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,u=i[a],c=i[s],l=10;for(c<u&&(o=u,u=c,c=o,o=a,a=s,s=o);l-- >0;){if((o=zM(u,c,n))===r)return i[a]=u,i[s]=c,t(i);if(o>0)u=Math.floor(u/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;u=Math.ceil(u*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function lR(){var e=KN();return e.copy=function(){return qN(e,lR())},XN.apply(e,arguments),cR(e)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fR(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}oR=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?rR:(t=sR.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(e.substring(o-=s,o+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?rR:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(sR.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=JN(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):nR[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?i:/[%p]/.test(y)?u:"",x=nR[y],C=/[defgprs%]/.test(y);function S(e){var o,i,u,d=b,S=w;if("c"===y)S=x(e)+S,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:x(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),A&&0==+e&&"+"!==f&&(A=!1),d=(A?"("===f?f:c:"-"===f||"("===f?"":f)+d,S=("s"===y?uR[8+YN/3]:"")+S+(A&&"("===f?")":""),C)for(o=-1,i=e.length;++o<i;)if(48>(u=e.charCodeAt(o))||u>57){S=(46===u?a+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!p&&(e=r(e,1/0));var _=d.length+e.length+S.length,P=_<h?new Array(h-_+1).join(t):"";switch(m&&p&&(e=r(P+e,P.length?h-S.length:1/0),P=""),n){case"<":e=d+e+S+P;break;case"=":e=d+P+e+S;break;case"^":e=P.slice(0,_=P.length>>1)+d+e+S+P.slice(_);break;default:e=P+d+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=JN(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(eR(t)/3))),o=Math.pow(10,-r),i=uR[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),iR=oR.format,aR=oR.formatPrefix;var pR=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],hR=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],mR=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],gR=[0,1,0,1,0,1,0,1,2,2,2,2],vR=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],yR=new Float64Array(3),bR=new Float64Array(3),wR=new Float64Array(3),xR=new Float64Array(3),CR=new Float64Array(3),SR=new Float64Array(3),AR=new Float64Array(16);function _R(e,t){e.strokeStyle=t.strokeColor,e.lineWidth=t.strokeSize,e.fillStyle=t.fontColor,e.font="".concat(t.fontStyle," ").concat(t.fontSize,"px ").concat(t.fontFamily)}function PR(e,t){t.classHierarchy.push("vtkCubeAxesActor"),e.setCamera=function(n){t.camera!==n&&(t.cameraModifiedSub&&(t.cameraModifiedSub.unsubscribe(),t.cameraModifiedSub=null),t.camera=n,n&&(t.cameraModifiedSub=n.onModified(e.update)),e.update(),e.modified())},e.computeFacesToDraw=function(){var e=t.camera.getViewMatrix();Ii(e,e);for(var n=!1,r=Xr.getDiagonalLength(t.dataBounds),o=Math.sin(t.faceVisibilityAngle*Math.PI/180),i=0;i<6;i++){var a=!1,s=Math.floor(i/2),u=(s+1)%3,c=(s+2)%3;t.dataBounds[2*u]!==t.dataBounds[2*u+1]&&t.dataBounds[2*c]!==t.dataBounds[2*c+1]&&(yR[s]=t.dataBounds[i]-.1*r*pR[i][s],yR[u]=.5*(t.dataBounds[2*u]+t.dataBounds[2*u+1]),yR[c]=.5*(t.dataBounds[2*c]+t.dataBounds[2*c+1]),ii(wR,yR,e),yR[s]=t.dataBounds[i],ii(xR,yR,e),Lo(wR,xR,wR),$o(wR,wR),a=wR[2]>o,t.camera.getParallelProjection()||($o(xR,xR),a=Qo(xR,wR)>o)),a!==t.lastFacesToDraw[i]&&(t.lastFacesToDraw[i]=a,n=!0)}return n},e.updatePolyData=function(e,n,r){var o=0,i=0;o+=8;for(var a=0,s=0;s<12;s++)n[s]>0&&a++;if(i+=a,t.gridLines)for(var u=0;u<6;u++)e[u]&&(o+=2*r[vR[u][0]].length+2*r[vR[u][1]].length,i+=r[vR[u][0]].length+r[vR[u][1]].length);for(var c=new Float64Array(3*o),l=new Uint32Array(3*i),f=0,d=0,p=0;p<2;p++)for(var h=0;h<2;h++)for(var m=0;m<2;m++)c[3*f]=t.dataBounds[m],c[3*f+1]=t.dataBounds[2+h],c[3*f+2]=t.dataBounds[4+p],f++;for(var g=0;g<12;g++)n[g]>0&&(l[3*d]=2,l[3*d+1]=mR[g][0],l[3*d+2]=mR[g][1],d++);if(t.gridLines)for(var v=0;v<6;v++)if(e[v]){for(var y=Math.floor(v/2),b=r[vR[v][0]],w=0;w<b.length;w++)c[3*f+y]=t.dataBounds[v],c[3*f+vR[v][0]]=b[w],c[3*f+vR[v][1]]=t.dataBounds[2*vR[v][1]],c[3*++f+y]=t.dataBounds[v],c[3*f+vR[v][0]]=b[w],c[3*f+vR[v][1]]=t.dataBounds[2*vR[v][1]+1],f++,l[3*d]=2,l[3*d+1]=f-2,l[3*d+2]=f-1,d++;b=r[vR[v][1]];for(var x=0;x<b.length;x++)c[3*f+y]=t.dataBounds[v],c[3*f+vR[v][1]]=b[x],c[3*f+vR[v][0]]=t.dataBounds[2*vR[v][0]],c[3*++f+y]=t.dataBounds[v],c[3*f+vR[v][1]]=b[x],c[3*f+vR[v][0]]=t.dataBounds[2*vR[v][0]+1],f++,l[3*d]=2,l[3*d+1]=f-2,l[3*d+2]=f-1,d++}t.polyData.getPoints().setData(c,3),t.polyData.getPoints().modified(),t.polyData.getLines().setData(l,1),t.polyData.getLines().modified(),t.polyData.modified()},e.updateTextData=function(e,n,r,o){for(var i=0,a=0;a<12;a++)1===n[a]&&(i+=2,i+=r[gR[a]].length);for(var s=t.polyData.getPoints().getData(),u=new Float64Array(3*i),c=0,l=0,f=0,d=0;d<6;d++)if(e[d])for(var p=0;p<4;p++){var h=hR[d][p];if(1===n[h]){var m=gR[h],g=3*mR[h][0],v=3*mR[h][1];u[3*c]=.5*(s[g]+s[v]),u[3*c+1]=.5*(s[g+1]+s[v+1]),u[3*c+2]=.5*(s[g+2]+s[v+2]),u[3*++c+Math.floor(d/2)]=t.dataBounds[d],u[3*c+vR[d][0]]=.5*(t.dataBounds[2*vR[d][0]]+t.dataBounds[2*vR[d][0]+1]),u[3*c+vR[d][1]]=.5*(t.dataBounds[2*vR[d][1]]+t.dataBounds[2*vR[d][1]+1]),c++,t.textValues[l]=t.axisLabels[m],l++;var y=(m+1)%3,b=(m+2)%3,w=r[m],x=o[m];t.tickCounts[f]=w.length;for(var C=0;C<w.length;C++)u[3*c+m]=w[C],u[3*c+y]=s[g+y],u[3*c+b]=s[g+b],c++,t.textValues[l]=x[C],l++;f++}}t.textPolyData.getPoints().setData(u,3),t.textPolyData.modified()},e.update=function(){for(var n=e.computeFacesToDraw(),r=t.lastFacesToDraw,o=!1,i=0;i<6;i++)t.dataBounds[i]!==t.lastTickBounds[i]&&(o=!0,t.lastTickBounds[i]=t.dataBounds[i]);if(n||o||t.forceUpdate){for(var a=new Array(12).fill(0),s=0;s<6;s++)if(r[s])for(var u=0;u<4;u++)a[hR[s][u]]++;for(var c=[],l=[],f=0;f<3;f++){var d=lR().domain([t.dataBounds[2*f],t.dataBounds[2*f+1]]);c[f]=d.ticks(5);var p=d.tickFormat(5);l[f]=c[f].map(p)}e.updatePolyData(r,a,c),e.updateTextData(r,a,c,l),(o||t.forceUpdate)&&e.updateTextureAtlas(l)}e.updateTexturePolyData(),t.forceUpdate=!1},e.updateTextureAtlas=function(e){t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left",t._tmAtlas.clear();for(var n=0,r=1,o=0;o<3;o++){if(!t._tmAtlas.has(t.axisLabels[o])){_R(t.tmContext,t.axisTextStyle);var i=t.tmContext.measureText(t.axisLabels[o]),a={height:i.actualBoundingBoxAscent+2,startingHeight:r,width:i.width+2,textStyle:t.axisTextStyle};t._tmAtlas.set(t.axisLabels[o],a),r+=a.height,n<a.width&&(n=a.width)}_R(t.tmContext,t.tickTextStyle);for(var s=0;s<e[o].length;s++)if(!t._tmAtlas.has(e[o][s])){var u=t.tmContext.measureText(e[o][s]),c={height:u.actualBoundingBoxAscent+2,startingHeight:r,width:u.width+2,textStyle:t.tickTextStyle};t._tmAtlas.set(e[o][s],c),r+=c.height,n<c.width&&(n=c.width)}}n=Le(n),r=Le(r),t._tmAtlas.forEach((function(e){e.tcoords=[0,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight)/r,0,(r-e.startingHeight)/r]})),t.tmCanvas.width=n,t.tmCanvas.height=r,t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left",t.tmContext.clearRect(0,0,n,r),t._tmAtlas.forEach((function(e,n){_R(t.tmContext,e.textStyle),t.tmContext.fillText(n,1,e.startingHeight+e.height-1)}));var l=new Image;l.src=t.tmCanvas.toDataURL("image/png"),t.tmTexture.setImage(l),t.tmTexture.modified()},e.createPolyDataForOneLabel=function(e,n,r,o,i,a,s){var u=t._tmAtlas.get(e);if(u){var c=t.textPolyData.getPoints().getData(),l=t.lastSize;yR[0]=c[3*n],yR[1]=c[3*n+1],yR[2]=c[3*n+2],ii(wR,yR,r),wR[0]+=.1,ii(bR,wR,o),Lo(CR,bR,yR),wR[0]-=.1,wR[1]+=.1,ii(bR,wR,o),Lo(SR,bR,yR);for(var f=0;f<3;f++)CR[f]/=.05*l[0],SR[f]/=.05*l[1];var d=s.ptIdx,p=s.cellIdx;yR[0]=c[3*n],yR[1]=c[3*n+1],yR[2]=c[3*n+2],i[0]<-.5?Ho(wR,CR,i[0]*a-u.width):i[0]>.5?Ho(wR,CR,i[0]*a):Ho(wR,CR,i[0]*a-u.width/2),Bo(yR,yR,wR),Ho(wR,SR,i[1]*a-u.height/2),Bo(yR,yR,wR),s.points[3*d]=yR[0],s.points[3*d+1]=yR[1],s.points[3*d+2]=yR[2],s.tcoords[2*d]=u.tcoords[0],s.tcoords[2*d+1]=u.tcoords[1],d++,Ho(wR,CR,u.width),Bo(yR,yR,wR),s.points[3*d]=yR[0],s.points[3*d+1]=yR[1],s.points[3*d+2]=yR[2],s.tcoords[2*d]=u.tcoords[2],s.tcoords[2*d+1]=u.tcoords[3],d++,Ho(wR,SR,u.height),Bo(yR,yR,wR),s.points[3*d]=yR[0],s.points[3*d+1]=yR[1],s.points[3*d+2]=yR[2],s.tcoords[2*d]=u.tcoords[4],s.tcoords[2*d+1]=u.tcoords[5],d++,Ho(wR,CR,u.width),Lo(yR,yR,wR),s.points[3*d]=yR[0],s.points[3*d+1]=yR[1],s.points[3*d+2]=yR[2],s.tcoords[2*d]=u.tcoords[6],s.tcoords[2*d+1]=u.tcoords[7],d++,s.polys[4*p]=3,s.polys[4*p+1]=d-4,s.polys[4*p+2]=d-3,s.polys[4*p+3]=d-2,p++,s.polys[4*p]=3,s.polys[4*p+1]=d-4,s.polys[4*p+2]=d-2,s.polys[4*p+3]=d-1,s.ptIdx+=4,s.cellIdx+=2}},e.updateTexturePolyData=function(){var n=t.camera.getCompositeProjectionMatrix(t.lastAspectRatio,-1,1);Ii(n,n);var r=t.textValues.length,o=4*r,i=2*r,a=new Float64Array(3*o),s=new Uint16Array(4*i),u=new Float32Array(2*o);ki(AR,n);for(var c={ptIdx:0,cellIdx:0,polys:s,points:a,tcoords:u},l=0,f=0,d=0,p=t.textPolyData.getPoints().getData();l<p.length/3;){yR[0]=p[3*l],yR[1]=p[3*l+1],yR[2]=p[3*l+2],ii(wR,yR,n),yR[0]=p[3*l+3],yR[1]=p[3*l+4],yR[2]=p[3*l+5],ii(xR,yR,n),Lo(wR,wR,xR);var h=[wR[0],wR[1]];ht(h),e.createPolyDataForOneLabel(t.textValues[f],l,n,AR,h,t.axisTitlePixelOffset,c),l+=2,f++;for(var m=0;m<t.tickCounts[d];m++)e.createPolyDataForOneLabel(t.textValues[f],l,n,AR,h,t.tickLabelPixelOffset,c),l++,f++;d++}var g=Fn.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"});t.tmPolyData.getPointData().setTCoords(g),t.tmPolyData.getPoints().setData(a,3),t.tmPolyData.getPoints().modified(),t.tmPolyData.getPolys().setData(s,1),t.tmPolyData.getPolys().modified(),t.tmPolyData.modified()},e.getActors=function(){return[t.pixelActor,t.tmActor]},e.getNestedProps=function(){return e.getActors()},e.onModified((function(){t.forceUpdate=!0,e.update()})),e.setVisibility=fe.chain(e.setVisibility,t.pixelActor.setVisibility,t.tmActor.setVisibility),e.setTickTextStyle=function(n){t.tickTextStyle=dR(dR({},t.tickTextStyle),n),e.modified()},e.setAxisTextStyle=function(n){t.axisTextStyle=dR(dR({},t.axisTextStyle),n),e.modified()}}function OR(e){return dR({camera:null,dataBounds:y(Xr.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},e)}function ER(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,OR(n)),dv.extend(e,t,n),t.lastSize=[800,800],t.lastAspectRatio=1,t.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],t.axisLabels=["X-Axis","Y-Axis","Z-Axis"],t.tickCounts=[],t.textValues=[],t.lastTickBounds=[],t._tmAtlas=new Map,t.mapper=Uv.newInstance(),t.polyData=Vc.newInstance(),t.mapper.setInputData(t.polyData),e.getProperty().setDiffuse(0),e.getProperty().setAmbient(1),t.textPolyData=Vc.newInstance(),t.tmPolyData=Vc.newInstance(),t.tmMapper=Uv.newInstance(),t.tmMapper.setInputData(t.tmPolyData),t.tmTexture=IT.newInstance(),t.tmTexture.setInterpolate(!1),t.tmActor=dv.newInstance(),t.tmActor.setMapper(t.tmMapper),t.tmActor.addTexture(t.tmTexture),t.tmCanvas=document.createElement("canvas"),t.tmContext=t.tmCanvas.getContext("2d"),t.pixelMapper=Zw.newInstance(),t.pixelMapperPolyData=Vc.newInstance(),t.pixelMapper.setInputData(t.pixelMapperPolyData),t.pixelMapper.setCallback((function(e,n,r,o,i){t.lastSize=i,t.lastAspectRatio=i[0]/i[1]})),t.pixelActor=dv.newInstance(),t.pixelActor.setMapper(t.pixelMapper),fe.setGet(e,t,["axisTitlePixelOffset","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),fe.setGetArray(e,t,["dataBounds"],6),fe.setGetArray(e,t,["axisLabels"],3),fe.get(e,t,["axisTextStyle","tickTextStyle","camera"]),PR(e,t)}var TR={newInstance:fe.newInstance(ER,"vtkCubeAxesActor"),extend:ER};function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IR(e,t){t.classHierarchy.push("vtkFollower");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getMTime=function(){var e=n.getMTime();if(null!==t.camera){var r=t.camera.getMTime();e=r>e?r:e}return e},e.computeMatrix=function(){if(e.getMTime()>t.matrixMTime.getMTime()){if(Di(t.matrix),t.userMatrix&&Ri(t.matrix,t.matrix,t.userMatrix),Bi(t.matrix,t.matrix,t.origin),Bi(t.matrix,t.matrix,t.position),Ri(t.matrix,t.matrix,t.rotation),Li(t.matrix,t.matrix,t.scale),t.camera){var n=new Float64Array(t.viewUp);t.useViewUp||Ro.apply(o,[n].concat(y(t.camera.getViewUp())));var r=new Float64Array(3);t.camera.getParallelProjection()?Ro(r,t.camera.getViewPlaneNormal()):(Ro.apply(o,[r].concat(y(t.position))),Lo(r,t.camera.getPosition(),r),$o(r,r));var i=new Float64Array(3);ei(i,n,r),$o(i,i),ei(r,i,n),$o(r,r),t.followerMatrix[0]=i[0],t.followerMatrix[1]=i[1],t.followerMatrix[2]=i[2],t.followerMatrix[4]=n[0],t.followerMatrix[5]=n[1],t.followerMatrix[6]=n[2],t.followerMatrix[8]=r[0],t.followerMatrix[9]=r[1],t.followerMatrix[10]=r[2],Ri(t.matrix,t.followerMatrix,t.matrix)}Bi(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),Ii(t.matrix,t.matrix),t.isIdentity=!1,t.matrixMTime.modified()}}}var kR={viewUp:[0,1,0],useViewUp:!1,camera:null};function MR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kR,n),dv.extend(e,t,n),t.followerMatrix=Di(new Float64Array(16)),fe.setGet(e,t,["useViewUp","camera"]),fe.setGetArray(e,t,["viewUp"],3),IR(e,t)}var NR={newInstance:fe.newInstance(MR,"vtkFollower"),extend:MR},RR={OrientationModes:{DIRECTION:0,ROTATION:1,MATRIX:2},ScaleModes:{SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2}};function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var LR=RR.OrientationModes,FR=RR.ScaleModes,jR=fe.vtkErrorMacro;function VR(e,t){t.classHierarchy.push("vtkGlyph3DMapper"),e.getOrientationModeAsString=function(){return fe.enumToString(LR,t.orientationMode)},e.setOrientationModeToDirection=function(){return e.setOrientationMode(LR.DIRECTION)},e.setOrientationModeToRotation=function(){return e.setOrientationMode(LR.ROTATION)},e.setOrientationModeToMatrix=function(){return e.setOrientationMode(LR.MATRIX)},e.getOrientationArrayData=function(){var n=e.getInputData(0);return n&&n.getPointData()?t.orientationArray?n.getPointData().getArray(t.orientationArray):n.getPointData().getVectors():null},e.getScaleModeAsString=function(){return fe.enumToString(FR,t.scaleMode)},e.setScaleModeToScaleByMagnitude=function(){return e.setScaleMode(FR.SCALE_BY_MAGNITUDE)},e.setScaleModeToScaleByComponents=function(){return e.setScaleMode(FR.SCALE_BY_COMPONENTS)},e.setScaleModeToScaleByConstant=function(){return e.setScaleMode(FR.SCALE_BY_CONSTANT)},e.getScaleArrayData=function(){var n=e.getInputData(0);return n&&n.getPointData()?t.scaleArray?n.getPointData().getArray(t.scaleArray):n.getPointData().getScalars():null},e.getBounds=function(){var n=e.getInputData(0),r=e.getInputData(1);return n&&r?(e.buildArrays(),t.bounds):bn()},e.buildArrays=function(){var n=e.getInputData(0),r=e.getInputData(1);if(t.buildTime.getMTime()<r.getMTime()||t.buildTime.getMTime()<n.getMTime()||t.buildTime.getMTime()<e.getMTime()){var o=n.getPoints().getData(),i=e.getScaleArrayData(),a=null,s=0;i&&(a=i.getData(),s=i.getNumberOfComponents()),t.scaling&&i&&t.scaleMode===FR.SCALE_BY_COMPONENTS&&3!==i.getNumberOfComponents()&&(jR("Cannot scale by components since scale array does not have 3 components."),i=null);var u=r.getBounds(),c=[];Xr.getCorners(u,c),t.bounds[0]=Xr.INIT_BOUNDS[0],t.bounds[1]=Xr.INIT_BOUNDS[1],t.bounds[2]=Xr.INIT_BOUNDS[2],t.bounds[3]=Xr.INIT_BOUNDS[3],t.bounds[4]=Xr.INIT_BOUNDS[4],t.bounds[5]=Xr.INIT_BOUNDS[5];var l=new Float64Array(3),f=e.getOrientationArrayData(),d=Di(new Float64Array(16)),p=[],h=[],m=o.length/3;t.matrixArray=new Float32Array(16*m);var g=t.matrixArray.buffer;t.normalArray=new Float32Array(9*m);for(var v=t.normalArray.buffer,b=[],w=0;w<m;++w){var x=new Float32Array(g,64*w,16);if(p[0]=o[3*w],p[1]=o[3*w+1],p[2]=o[3*w+2],Bi(x,d,p),f){var C=[];switch(f.getTuple(w,C),t.orientationMode){case LR.MATRIX:Ri(x,x,[].concat(y(C.slice(0,3)),[0],y(C.slice(3,6)),[0],y(C.slice(6,9)),[0,0,0,0,1]));break;case LR.ROTATION:Ui(x,x,C[2]),ji(x,x,C[0]),Vi(x,x,C[1]);break;case LR.DIRECTION:if(0===C[1]&&0===C[2])C[0]<0&&Vi(x,x,3.1415926);else{var S=tt(C),A=[];A[0]=(C[0]+S)/2,A[1]=C[1]/2,A[2]=C[2]/2,Fi(x,x,3.1415926,A)}}}if(t.scaling){if(h[0]=t.scaleFactor,h[1]=t.scaleFactor,h[2]=t.scaleFactor,i)switch(t.scaleMode){case FR.SCALE_BY_MAGNITUDE:for(var _=0;_<s;++_)b[_]=a[w*s+_];h[0]*=tt(b,s),h[1]=h[0],h[2]=h[0];break;case FR.SCALE_BY_COMPONENTS:for(var P=0;P<s;++P)b[P]=a[w*s+P];h[0]*=b[0],h[1]*=b[1],h[2]*=b[2];break;case FR.SCALE_BY_CONSTANT:}0===h[0]&&(h[0]=1e-10),0===h[1]&&(h[1]=1e-10),0===h[2]&&(h[2]=1e-10),Li(x,x,h)}for(var O=0;O<8;++O)ii(l,c[O],x),l[0]<t.bounds[0]&&(t.bounds[0]=l[0]),l[1]<t.bounds[2]&&(t.bounds[2]=l[1]),l[2]<t.bounds[4]&&(t.bounds[4]=l[2]),l[0]>t.bounds[1]&&(t.bounds[1]=l[0]),l[1]>t.bounds[3]&&(t.bounds[3]=l[1]),l[2]>t.bounds[5]&&(t.bounds[5]=l[2]);var E=new Float32Array(v,36*w,9);ba(E,x),Pa(E,E),_a(E,E)}var T=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),t.colorArray=null;var D=e.getLookupTable();D&&T&&(D.build(),t.colorArray=D.mapScalars(T,t.colorMode,0)),t.buildTime.modified()}},e.getPrimitiveCount=function(){var t=e.getInputData(1),n=e.getInputData().getPoints().getNumberOfValues()/3;return{points:n*t.getPoints().getNumberOfValues()/3,verts:n*(t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells()),lines:n*(t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells()),triangles:n*(t.getPolys().getNumberOfValues()-3*t.getLines().getNumberOfCells())}}}var UR={orient:!0,orientationMode:LR.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:FR.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function zR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,UR,n),Uv.extend(e,t,n),fe.algo(e,t,2,0),t.buildTime={},fe.obj(t.buildTime,{mtime:0}),t.boundsTime={},fe.obj(t.boundsTime,{mtime:0}),fe.setGet(e,t,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),fe.get(e,t,["colorArray","matrixArray","normalArray","buildTime"]),VR(e,t)}var GR=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(zR,"vtkGlyph3DMapper"),extend:zR},RR);function WR(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function HR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WR(i,r,o,a,s,"next",e)}function s(e){WR(i,r,o,a,s,"throw",e)}a(void 0)}))}}var qR=n(7757),KR=n.n(qR);function XR(e,t){t.classHierarchy.push("vtkHardwareSelector"),e.getSourceDataAsync=function(){var e=HR(KR().mark((function e(t,n,r,o,i){return KR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),e.selectAsync=function(){var t=HR(KR().mark((function t(n,r,o,i,a){var s;return KR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSourceDataAsync(n,r,o,i,a);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.generateSelection(r,o,i,a));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}()}var YR={fieldAssociation:bo.FieldAssociations.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function ZR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YR,n),fe.obj(e,t),fe.setGet(e,t,["fieldAssociation","captureZValues"]),XR(e,t)}var JR={newInstance:fe.newInstance(ZR,"vtkHardwareSelector"),extend:ZR},$R=navigator.gpu?"WebGPU":"WebGL",QR=Object.create(null);function eB(e,t){QR[e]=t}function tB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return QR[e]&&QR[e](t)}function nB(e,t){t.classHierarchy.push("vtkRenderWindow"),e.addRenderer=function(n){e.hasRenderer(n)||(n.setRenderWindow(e),t.renderers.push(n),e.modified())},e.removeRenderer=function(n){t.renderers=t.renderers.filter((function(e){return e!==n})),e.modified()},e.hasRenderer=function(e){return-1!==t.renderers.indexOf(e)},e.newAPISpecificView=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tB(e||t.defaultViewAPI,n)},e.addView=function(n){e.hasView(n)||(n.setRenderable(e),t.views.push(n),e.modified())},e.removeView=function(n){t.views=t.views.filter((function(e){return e!==n})),e.modified()},e.hasView=function(e){return-1!==t.views.indexOf(e)},e.render=function(){t.interactor?t.interactor.render():t.views.forEach((function(e){return e.traverseAllPasses()}))},e.getStatistics=function(){var e={propCount:0,invisiblePropCount:0};return t.renderers.forEach((function(t){t.getViewProps().forEach((function(t){if(t.getVisibility()){e.propCount+=1;var n=t.getMapper&&t.getMapper();if(n&&n.getPrimitiveCount){var r=n.getPrimitiveCount();Object.keys(r).forEach((function(t){e[t]||(e[t]=0),e[t]+=r[t]}))}}else e.invisiblePropCount+=1}))})),e.str=Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])})).join("\n"),e},e.captureImages=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fe.setImmediate(e.render),t.views.map((function(e){return e.captureNextImage?e.captureNextImage(n,r):void 0})).filter((function(e){return!!e}))}}var rB={defaultViewAPI:$R,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function oB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rB,n),fe.obj(e,t),fe.setGet(e,t,["interactor","numberOfLayers","views","defaultViewAPI"]),fe.get(e,t,["neverRendered"]),fe.getArray(e,t,["renderers"]),fe.event(e,t,"completion"),nB(e,t)}var iB={newInstance:fe.newInstance(oB,"vtkRenderWindow"),extend:oB,registerViewConstructor:eB,listViewAPIs:function(){return Object.keys(QR)},newAPISpecificView:tB};function aB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uB=ys.VectorMode,cB=new Float64Array(3),lB=new Float64Array(3),fB=new Float64Array(3),dB=new Float64Array(3),pB=new Float64Array(3),hB=new Float64Array(3),mB=new Float64Array(16);function gB(e,t){e.strokeStyle=t.strokeColor,e.lineWidth=t.strokeSize,e.fillStyle=t.fontColor,e.font="".concat(t.fontStyle," ").concat(t.fontSize,"px ").concat(t.fontFamily)}function vB(e,t){t.classHierarchy.push("vtkScalarBarActor"),e.computeAndApplyAutomatedSettings=function(){var n=Math.pow(t.lastSize[0]/700,.8),r=Math.pow(t.lastSize[1]/700,.8),o=Math.min(n,r);t.axisTextStyle.fontSize=Math.max(24*o,12),t.lastAspectRatio>1?t.tickTextStyle.fontSize=Math.max(20*o,10):t.tickTextStyle.fontSize=Math.max(16*o,10);var i=e.updateTextureAtlas();if(t.topTitle=!1,t.lastAspectRatio>1){t.tickLabelPixelOffset=.4*t.tickTextStyle.fontSize;var a=2*(i.tickWidth+t.tickLabelPixelOffset)/t.lastSize[0];t.axisTitlePixelOffset=.8*t.axisTextStyle.fontSize;var s=2*(i.titleHeight+t.axisTitlePixelOffset)/t.lastSize[0];a+.4*s>2*i.titleWidth/t.lastSize[0]?(t.topTitle=!0,t.boxSize[0]=a+.4*s,t.boxPosition=[.98-t.boxSize[0],-.92]):(t.boxSize[0]=a+1.4*s,t.boxPosition=[.99-t.boxSize[0],-.92]),t.boxSize[1]=Math.max(1.2,Math.min(1.84/r,1.84))}else{t.axisTitlePixelOffset=2*t.tickTextStyle.fontSize,t.tickLabelPixelOffset=.5*t.tickTextStyle.fontSize;var u=2*(i.tickHeight+t.tickLabelPixelOffset)/t.lastSize[1],c=2*(i.titleHeight+t.axisTitlePixelOffset)/t.lastSize[1],l=2*i.tickWidth/t.lastSize[0];t.boxSize[0]=Math.min(1.9,Math.max(1.4,1.4*l*(t.ticks.length+3))),t.boxSize[1]=u+c,t.boxPosition=[-.5*t.boxSize[0],-.97]}e.recomputeBarSegments(i)},e.update=function(){if(t.scalarsToColors&&t.visibility){if(t.barMapper.setLookupTable(t.scalarsToColors),t.forceUpdate||Math.max(t.scalarsToColors.getMTime(),e.getMTime())>t.lastRebuildTime.getMTime()){var n=t.scalarsToColors.getMappingRange();t.lastTickBounds=y(n),t.barMapper.setScalarRange(t.lastTickBounds);var r=lR().domain([t.lastTickBounds[0],t.lastTickBounds[1]]);t.ticks=r.ticks(5);var o=r.tickFormat(5);if(t.tickStrings=t.ticks.map(o),t.automated)e.computeAndApplyAutomatedSettings();else{var i=e.updateTextureAtlas();e.recomputeBarSegments(i)}t.forceViewUpdate=!0,t.lastRebuildTime.modified(),t.forceUpdate=!1}(t.forceViewUpdate||t.camera.getMTime()>t.lastRedrawTime.getMTime())&&(e.updatePolyDataForLabels(),e.updatePolyDataForBarSegments(),t.lastRedrawTime.modified(),t.forceViewUpdate=!1)}},e.completedImage=function(n){t.nextImage&&t.nextImage.complete&&(t.tmTexture.setImage(t.nextImage),t.nextImage=null,t._tmAtlas=t._nextAtlas,t._nextAtlas=null,n&&(t.forceViewUpdate=!0,e.update()))},e.updateTextureAtlas=function(){t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left";var n={},r=new Map,o=0,i=1;gB(t.tmContext,t.axisTextStyle);var a=t.tmContext.measureText(t.axisLabel),s={height:a.actualBoundingBoxAscent+2,startingHeight:i,width:a.width+2,textStyle:t.axisTextStyle};r.set(t.axisLabel,s),i+=s.height,o=s.width,n.titleWidth=s.width,n.titleHeight=s.height,n.tickWidth=0,n.tickHeight=0,gB(t.tmContext,t.tickTextStyle);for(var u=[].concat(y(t.tickStrings),["NaN","Below","Above"]),c=0;c<u.length;c++)r.has(u[c])||(s={height:(a=t.tmContext.measureText(u[c])).actualBoundingBoxAscent+2,startingHeight:i,width:a.width+2,textStyle:t.tickTextStyle},r.set(u[c],s),i+=s.height,o<s.width&&(o=s.width),n.tickWidth<s.width&&(n.tickWidth=s.width),n.tickHeight<s.height&&(n.tickHeight=s.height));o=Le(o),i=Le(i),r.forEach((function(e){e.tcoords=[0,(i-e.startingHeight-e.height)/i,e.width/o,(i-e.startingHeight-e.height)/i,e.width/o,(i-e.startingHeight)/i,0,(i-e.startingHeight)/i]})),t.tmCanvas.width=o,t.tmCanvas.height=i,t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left",t.tmContext.clearRect(0,0,o,i),r.forEach((function(e,n){gB(t.tmContext,e.textStyle),t.tmContext.fillText(n,1,e.startingHeight+e.height-1)}));var l=new Image;return l.src=t.tmCanvas.toDataURL("image/png"),t.nextImage=l,t._nextAtlas=r,l.complete?e.completedImage(!1):l.addEventListener("load",(function(){e.completedImage(!0)})),n},e.computeBarSize=function(e){t.vertical=t.boxSize[1]>t.boxSize[0];var n=2*e.tickHeight/t.lastSize[1],r=[1,1];if(t.vertical){var o=2*(e.tickWidth+t.tickLabelPixelOffset)/t.lastSize[0];if(t.topTitle){var i=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[1];t.barSize[0]=t.boxSize[0]-o,t.barSize[1]=t.boxSize[1]-i}else{var a=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[0];t.barSize[0]=t.boxSize[0]-a-o,t.barSize[1]=t.boxSize[1]}t.barPosition[0]=t.boxPosition[0]+o,t.barPosition[1]=t.boxPosition[1],r[1]=n}else{var s=(2*e.tickWidth-8)/t.lastSize[0],u=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[1];t.barSize[0]=t.boxSize[0],t.barPosition[0]=t.boxPosition[0],t.barSize[1]=t.boxSize[1]-u-n,t.barPosition[1]=t.boxPosition[1],r[0]=s}return r},e.recomputeBarSegments=function(n){var r=e.computeBarSize(n);t.barSegments=[];var o=[0,0],i=t.vertical?1:0,a=t.vertical?.01:.02;function s(e,n){t.barSegments.push({corners:[[].concat(o),[o[0]+r[0],o[1]],[o[0]+r[0],o[1]+r[1]],[o[0],o[1]+r[1]]],scalars:n,title:e}),o[i]+=r[i]+a}"function"==typeof t.scalarsToColors.getNanColor&&s("NaN",[NaN,NaN,NaN,NaN]),"function"==typeof t.scalarsToColors.getUseBelowRangeColor&&t.scalarsToColors.getUseBelowRangeColor()&&s("Below",[-.1,-.1,-.1,-.1]);var u="function"==typeof t.scalarsToColors.getUseAboveRangeColor&&t.scalarsToColors.getUseAboveRangeColor();o[i]+=a;var c=r[i];r[i]=u?1-2*a-r[i]-o[i]:1-a-o[i],s("ticks",t.vertical?[0,0,.995,.995]:[0,.995,.995,0]),u&&(r[i]=c,o[i]+=a,s("Above",[1.1,1.1,1.1,1.1]))},e.createPolyDataForOneLabel=function(e,n,r,o,i,a,s){var u=t._tmAtlas.get(e);if(u){var c=s.ptIdx,l=s.cellIdx;cB[0]=n[0],cB[1]=n[1],cB[2]=n[2],i[0]<-.5?Ho(fB,r,i[0]*a-u.width):i[0]>.5?Ho(fB,r,i[0]*a):Ho(fB,r,i[0]*a-u.width/2),Bo(cB,cB,fB),Ho(fB,o,i[1]*a-u.height/2),Bo(cB,cB,fB),s.points[3*c]=cB[0],s.points[3*c+1]=cB[1],s.points[3*c+2]=cB[2],s.tcoords[2*c]=u.tcoords[0],s.tcoords[2*c+1]=u.tcoords[1],c++,Ho(fB,r,u.width),Bo(cB,cB,fB),s.points[3*c]=cB[0],s.points[3*c+1]=cB[1],s.points[3*c+2]=cB[2],s.tcoords[2*c]=u.tcoords[2],s.tcoords[2*c+1]=u.tcoords[3],c++,Ho(fB,o,u.height),Bo(cB,cB,fB),s.points[3*c]=cB[0],s.points[3*c+1]=cB[1],s.points[3*c+2]=cB[2],s.tcoords[2*c]=u.tcoords[4],s.tcoords[2*c+1]=u.tcoords[5],c++,Ho(fB,r,u.width),Lo(cB,cB,fB),s.points[3*c]=cB[0],s.points[3*c+1]=cB[1],s.points[3*c+2]=cB[2],s.tcoords[2*c]=u.tcoords[6],s.tcoords[2*c+1]=u.tcoords[7],c++,s.polys[4*l]=3,s.polys[4*l+1]=c-4,s.polys[4*l+2]=c-3,s.polys[4*l+3]=c-2,l++,s.polys[4*l]=3,s.polys[4*l+1]=c-4,s.polys[4*l+2]=c-2,s.polys[4*l+3]=c-1,s.ptIdx+=4,s.cellIdx+=2}},e.updatePolyDataForLabels=function(){var n=t.camera.getCompositeProjectionMatrix(t.lastAspectRatio,-1,1);Ii(n,n),ki(mB,n);var r=t.lastSize;fB[0]=0,fB[1]=0,fB[2]=-.99,ii(cB,fB,mB),fB[0]+=.1,ii(lB,fB,mB),Lo(pB,lB,cB),fB[0]-=.1,fB[1]+=.1,ii(lB,fB,mB),Lo(hB,lB,cB);for(var o=0;o<3;o++)pB[o]/=.05*r[0],hB[o]/=.05*r[1];var i=t.tickStrings.length+t.barSegments.length,a=4*i,s=2*i,u=new Float64Array(3*a),c=new Uint16Array(4*s),l=new Float32Array(2*a),f={ptIdx:0,cellIdx:0,polys:c,points:u,tcoords:l},d=t.vertical?0:1,p=t.vertical?1:0,h=[0,1];t.vertical?(t.topTitle?(fB[0]=t.boxPosition[0]+.5*t.boxSize[0],fB[1]=t.barPosition[1]+t.barSize[1],ii(cB,fB,mB),e.createPolyDataForOneLabel(t.axisLabel,cB,pB,hB,[0,1],t.axisTitlePixelOffset,f)):(fB[0]=t.barPosition[0]+t.barSize[0],fB[1]=t.barPosition[1]+.5*t.barSize[1],ii(cB,fB,mB),Ho(pB,pB,-1),e.createPolyDataForOneLabel(t.axisLabel,cB,hB,pB,[0,-1],t.axisTitlePixelOffset,f),Ho(pB,pB,-1)),h=[-1,0]):(fB[0]=t.barPosition[0]+.5*t.barSize[0],fB[1]=t.barPosition[1]+t.barSize[1],ii(cB,fB,mB),e.createPolyDataForOneLabel(t.axisLabel,cB,pB,hB,h,t.axisTitlePixelOffset,f)),dB[2]=-.99,dB[d]=t.barPosition[d]+(.5*h[d]+.5)*t.barSize[d],dB[p]=t.barPosition[p]+.5*t.barSize[p];for(var m=null,g=0;g<t.barSegments.length;g++){var v=t.barSegments[g];"ticks"===v.title?m=v:(dB[p]=t.barPosition[p]+.5*t.barSize[p]*(v.corners[2][p]+v.corners[0][p]),ii(cB,dB,mB),e.createPolyDataForOneLabel(v.title,cB,pB,hB,h,t.tickLabelPixelOffset,f))}for(var y=t.barPosition[p]+t.barSize[p]*m.corners[0][p],b=t.barSize[p]*(m.corners[2][p]-m.corners[0][p]),w=0;w<t.ticks.length;w++){var x=(t.ticks[w]-t.lastTickBounds[0])/(t.lastTickBounds[1]-t.lastTickBounds[0]);dB[p]=y+b*x,ii(cB,dB,mB),e.createPolyDataForOneLabel(t.tickStrings[w],cB,pB,hB,h,t.tickLabelPixelOffset,f)}var C=Fn.newInstance({numberOfComponents:2,values:l,name:"TextureCoordinates"});t.tmPolyData.getPointData().setTCoords(C),t.tmPolyData.getPoints().setData(u,3),t.tmPolyData.getPoints().modified(),t.tmPolyData.getPolys().setData(c,1),t.tmPolyData.getPolys().modified(),t.tmPolyData.modified()},e.updatePolyDataForBarSegments=function(){var e=t.camera.getCompositeProjectionMatrix(t.lastAspectRatio,-1,1);Ii(e,e),ki(mB,e);var n=4+("function"==typeof t.scalarsToColors.getNanColor&&"function"==typeof t.scalarsToColors.getAboveRangeColor&&"function"==typeof t.scalarsToColors.getBelowRangeColor?12:0),r=n,o=1;t.scalarsToColors.getVectorMode()===uB.COMPONENT&&(o=t.scalarsToColors.getVectorComponent()+1);for(var i=new Float64Array(3*n),a=new Uint16Array(5*r),s=new Float32Array(n*o),u=0,c=0,l=0;l<t.barSegments.length;l++){var f=t.barSegments[l];dB[1]=t.barPosition[1]+.5*t.barSize[1],dB[2]=-.99;for(var d=0;d<4;d++){dB[0]=t.barPosition[0]+f.corners[d][0]*t.barSize[0],dB[1]=t.barPosition[1]+f.corners[d][1]*t.barSize[1],ii(cB,dB,mB),i[3*u]=cB[0],i[3*u+1]=cB[1],i[3*u+2]=cB[2];for(var p=0;p<o;p++)s[u*o+p]=t.lastTickBounds[0]+f.scalars[d]*(t.lastTickBounds[1]-t.lastTickBounds[0]);u++}a[5*c]=4,a[5*c+1]=u-4,a[5*c+2]=u-3,a[5*c+3]=u-2,a[5*c+4]=u-1,c++}var h=Fn.newInstance({numberOfComponents:o,values:s,name:"Scalars"});t.polyData.getPointData().setScalars(h),t.polyData.getPoints().setData(i,3),t.polyData.getPoints().modified(),t.polyData.getPolys().setData(a,1),t.polyData.getPolys().modified(),t.polyData.modified()},e.getActors=function(){return[t.barActor,t.tmActor]},e.getNestedProps=function(){return e.getActors()},e.setTickTextStyle=function(n){t.tickTextStyle=sB(sB({},t.tickTextStyle),n),e.modified()},e.setAxisTextStyle=function(n){t.axisTextStyle=sB(sB({},t.axisTextStyle),n),e.modified()},e.setVisibility=fe.chain(e.setVisibility,t.barActor.setVisibility,t.tmActor.setVisibility)}function yB(e){return sB({automated:!0,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},e)}function bB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yB(n)),dv.extend(e,t,n),e.getProperty().setDiffuse(0),e.getProperty().setAmbient(1),t._tmAtlas=new Map,t.lastSize=[800,800],t.lastAspectRatio=1,t.textValues=[],t.lastTickBounds=[],t.barMapper=Uv.newInstance(),t.barMapper.setInterpolateScalarsBeforeMapping(!0),t.polyData=Vc.newInstance(),t.barMapper.setInputData(t.polyData),t.barActor=dv.newInstance(),t.barActor.setMapper(t.barMapper),t.barActor.setProperty(e.getProperty()),t.lastRedrawTime={},fe.obj(t.lastRedrawTime,{mtime:0}),t.lastRebuildTime={},fe.obj(t.lastRebuildTime,{mtime:0}),t.textPolyData=Vc.newInstance(),t.tmPolyData=Vc.newInstance(),t.tmMapper=Uv.newInstance(),t.tmMapper.setInputData(t.tmPolyData),t.tmTexture=IT.newInstance(),t.tmTexture.setInterpolate(!1),t.tmActor=dv.newInstance(),t.tmActor.setMapper(t.tmMapper),t.tmActor.addTexture(t.tmTexture),t.tmActor.setProperty(e.getProperty()),t.tmCanvas=document.createElement("canvas"),t.tmContext=t.tmCanvas.getContext("2d"),t.mapper=Zw.newInstance(),t.pixelMapperPolyData=Vc.newInstance(),t.mapper.setInputData(t.pixelMapperPolyData),t.mapper.setCallback((function(n,r,o,i,a){t.camera=r,t.lastSize[0]===a[0]&&t.lastSize[1]===a[1]||(t.lastSize[0]=a[0],t.lastSize[1]=a[1],t.lastAspectRatio=a[0]/a[1],t.forceUpdate=!0),e.update()})),fe.setGet(e,t,["automated","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset"]),fe.get(e,t,["axisTextStyle","tickTextStyle"]),fe.getArray(e,t,["boxPosition","boxSize"]),fe.setArray(e,t,["boxPosition","boxSize"],2),vB(e,t)}var wB={newInstance:fe.newInstance(bB,"vtkScalarBarActor"),extend:bB};function xB(e,t){t.classHierarchy.push("vtkSkybox"),e.getIsOpaque=function(){return!0},e.hasTranslucentPolygonalGeometry=function(){return!1},e.getSupportsSelection=function(){return!1}}var CB={format:"box"};function SB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,CB,n),dv.extend(e,t,n),fe.setGet(e,t,["format"]),xB(e,t)}var AB={newInstance:fe.newInstance(SB,"vtkSkybox"),extend:SB};function _B(e,t){t.classHierarchy.push("vtkSphereMapper")}var PB={scaleArray:null,radius:.05};function OB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,PB,n),Uv.extend(e,t,n),fe.setGet(e,t,["radius","scaleArray"]),_B(0,t)}var EB={newInstance:fe.newInstance(OB,"vtkSphereMapper"),extend:OB};function TB(e,t){t.classHierarchy.push("vtkStickMapper")}var DB={scaleArray:null,orientationArray:null,radius:.025,length:.1};function IB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,DB,n),Uv.extend(e,t,n),fe.setGet(e,t,["scaleArray","orientationArray","radius","length"]),TB(0,t)}var kB={newInstance:fe.newInstance(IB,"vtkStickMapper"),extend:IB};function MB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var NB={vtkAbstractMapper:mv,vtkAbstractMapper3D:yv,vtkAbstractPicker:Hv,vtkActor:dv,vtkActor2D:wM,vtkAnnotatedCubeActor:DM,vtkAxesActor:FM,vtkCamera:iS,vtkCellPicker:Gx,vtkColorTransferFunction:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MB(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({vtkColorMaps:dM},iT),vtkCoordinate:sx,vtkCubeAxesActor:TR,vtkFollower:NR,vtkGlyph3DMapper:GR,vtkHardwareSelector:JR,vtkImageMapper:cA,vtkImageProperty:gA,vtkImageSlice:xA,vtkInteractorObserver:Gm,vtkInteractorStyle:$m,vtkLight:cS,vtkMapper:Uv,vtkPicker:$v,vtkPixelSpaceCallbackMapper:Zw,vtkPointPicker:ry,vtkProp:Hg,vtkProp3D:Yg,vtkProperty:av,vtkProperty2D:gM,vtkRenderer:CS,vtkRenderWindow:iB,vtkRenderWindowInteractor:Rm,vtkScalarBarActor:wB,vtkSkybox:AB,vtkSphereMapper:EB,vtkStickMapper:kB,vtkTexture:IT,vtkViewport:hS,vtkVolume:xT,vtkVolumeMapper:KT,vtkVolumeProperty:gT},RB=fe.vtkErrorMacro;function BB(e,t){t.classHierarchy.push("vtkCanvasView"),e.onModified((function(){t.renderable&&(t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1])),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none")})),e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&RB("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage),e.modified())},e.setBackgroundImage=function(e){t.bgImage.src=e.src},e.setUseBackgroundImage=function(e){t.useBackgroundImage=e,t.useBackgroundImage&&t.el&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},e.setViewStream=function(n){return t.viewStream!==n&&(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream&&(e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady((function(t){return e.setBackgroundImage(t.image)})),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()),!0)},e.delete=fe.chain(e.setViewStream,e.delete),t.renderable=e,t.renderers=[e],e.traverseAllPasses=function(){},e.isInViewport=function(){return!0},e.getInteractive=function(){return!0}}var LB={canvas:null,size:[300,300],cursorVisibility:!0,cursor:"pointer",useOffScreen:!1,useBackgroundImage:!1};function FB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LB,n),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",fe.obj(e,t,n),fe.get(e,t,["useBackgroundImage","renderable"]),fe.setGet(e,t,["canvas","cursor","useOffScreen","interactor"]),fe.setGetArray(e,t,["size"],2),fe.getArray(e,t,["renderers"]),BB(e,t)}var jB={newInstance:fe.newInstance(FB,"vtkCanvasView"),extend:FB},VB={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},UB={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},zB={Wrap:VB,Filter:UB},GB=fe.vtkErrorMacro;function WB(e,t){t.classHierarchy.push("vtkViewNode"),e.build=function(e){},e.render=function(e){},e.traverse=function(n){var r=n.getTraverseOperation(),o=e[r];if(o)o(n);else{e.apply(n,!0);for(var i=0;i<t.children.length;i++)t.children[i].traverse(n);e.apply(n,!1)}},e.apply=function(t,n){var r=e[t.getOperation()];r&&r(n,t)},e.getViewNodeFor=function(n){if(t.renderable===n)return e;for(var r=0;r<t.children.length;++r){var o=t.children[r].getViewNodeFor(n);if(o)return o}},e.getFirstAncestorOfType=function(e){return t.parent?t.parent.isA(e)?t.parent:t.parent.getFirstAncestorOfType(e):null},e.addMissingNode=function(n){if(n){var r=t._renderableChildMap.get(n);if(void 0!==r)r.setVisited(!0);else{var o=e.createViewNode(n);o&&(o.setParent(e),o.setVisited(!0),t._renderableChildMap.set(n,o),t.children.push(o))}}},e.addMissingNodes=function(n){if(n&&n.length)for(var r=0;r<n.length;++r){var o=n[r],i=t._renderableChildMap.get(o);if(void 0!==i)i.setVisited(!0);else{var a=e.createViewNode(o);a&&(a.setParent(e),a.setVisited(!0),t._renderableChildMap.set(o,a),t.children.push(a))}}},e.prepareNodes=function(){for(var e=0;e<t.children.length;++e)t.children[e].setVisited(!1)},e.setVisited=function(e){t.visited=e},e.removeUnusedNodes=function(){for(var e=null,n=0;n<t.children.length;++n){var r=t.children[n];if(r.getVisited())r.setVisited(!1);else{var o=r.getRenderable();o&&t._renderableChildMap.delete(o),e||(e=[]),e.push(r)}}e&&(t.children=t.children.filter((function(t){return!e.includes(t)})))},e.createViewNode=function(e){if(!t.myFactory)return GB("Cannot create view nodes without my own factory"),null;var n=t.myFactory.createNode(e);return n&&n.setRenderable(e),n}}var HB={parent:null,renderable:null,myFactory:null,children:[],visited:!1};function qB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HB,n),fe.obj(e,t),fe.event(e,t,"event"),t._renderableChildMap=new Map,fe.get(e,t,["visited"]),fe.setGet(e,t,["parent","renderable","myFactory"]),fe.getArray(e,t,["children"]),WB(e,t)}var KB={newInstance:fe.newInstance(qB,"vtkViewNode"),extend:qB,PASS_TYPES:["Build","Render"]};function XB(e,t){t.overrides||(t.overrides={}),t.classHierarchy.push("vtkViewNodeFactory"),e.createNode=function(n){if(n.isDeleted())return null;for(var r=0,o=n.getClassName(r++),i=!1,a=Object.keys(t.overrides);o&&!i;)-1!==a.indexOf(o)?i=!0:o=n.getClassName(r++);if(!i)return null;var s=t.overrides[o]();return s.setMyFactory(e),s},e.registerOverride=function(e,n){t.overrides[e]=n}}var YB={};function ZB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YB,n),fe.obj(e,t),XB(e,t)}var JB={newInstance:fe.newInstance(ZB,"vtkViewNodeFactory"),extend:ZB},$B=Object.create(null);function QB(e,t){$B[e]=t}function eL(e,t){t.classHierarchy.push("vtkOpenGLViewNodeFactory")}var tL={};function nL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tL,n),t.overrides=$B,JB.extend(e,t,n),eL(0,t)}var rL={newInstance:fe.newInstance(nL,"vtkOpenGLViewNodeFactory"),extend:nL};function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var iL=zB.Wrap,aL=zB.Filter,sL=Fn.VtkDataTypes,uL=k,cL=M,lL=N;function fL(e,t){var n=this;function r(e,n){var r=[];if(e!==sL.FLOAT&&t.openGLDataType===t.context.FLOAT)for(var o=t.width*t.height*t.components,i=0;i<n.length;i++){for(var a=new Float32Array(o),s=0;s<o;s++)a[s]=n[i][s];r.push(a)}if(e!==sL.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE)for(var u=t.width*t.height*t.components,c=0;c<n.length;c++){for(var l=new Uint8Array(u),f=0;f<u;f++)l[f]=n[c][f];r.push(l)}if(0===r.length)for(var d=0;d<n.length;d++)r.push(n[d]);return r}function o(e){if(t.openGLRenderWindow.getWebgl2())return e;var n=[],r=t.width,o=t.height,i=t.components;if(e&&(!Fe(r)||!Fe(o)))for(var a=Le(r),s=Le(o),u=a*s*t.components,c=0;c<e.length;c++)if(null!==e[c]){var l=null;switch(t.openGLDataType){case t.context.FLOAT:l=new Float32Array(u);break;default:case t.context.UNSIGNED_BYTE:l=new Uint8Array(u)}for(var f=o/s,d=r/a,p=0;p<s;p++){var h=p*a*i,m=p*f,g=Math.floor(m),v=Math.ceil(m);v>=o&&(v=o-1);var y=m-g,b=1-y;g=g*r*i,v=v*r*i;for(var w=0;w<a;w++){var x=w*i,C=w*d,S=Math.floor(C),A=Math.ceil(C);A>=r&&(A=r-1);var _=C-S;S*=i,A*=i;for(var P=0;P<i;P++)l[h+x+P]=e[c][g+S+P]*b*(1-_)+e[c][g+A+P]*b*_+e[c][v+S+P]*y*(1-_)+e[c][v+A+P]*y*_}}n.push(l),t.width=a,t.height=s}else n.push(null);if(0===n.length)for(var O=0;O<e.length;O++)n.push(e[O]);return n}function i(e,t,n){for(var r=[],o=[],i=0;i<e;++i)r[i]=n[i],o[i]=n[i];for(var a=0,s=0;s<t;++s)for(var u=0;u<e;++u)n[a]<r[u]&&(r[u]=n[a]),n[a]>o[u]&&(o[u]=n[a]),a++;for(var c=[],l=[],f=0;f<e;++f)r[f]===o[f]&&(o[f]=r[f]+1),c[f]=r[f],l[f]=o[f]-r[f];return{scale:l,offset:c}}t.classHierarchy.push("vtkOpenGLTexture"),e.render=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(n?t.openGLRenderWindow=n:(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent()),t.context=t.openGLRenderWindow.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(aL.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(aL.LINEAR),e.setMagnificationFilter(aL.LINEAR)):(e.setMinificationFilter(aL.NEAREST),e.setMagnificationFilter(aL.NEAREST)),t.renderable.getRepeat()&&(e.setWrapR(iL.REPEAT),e.setWrapS(iL.REPEAT),e.setWrapT(iL.REPEAT)),t.renderable.getInputData()&&t.renderable.setImage(null),!t.handle||t.renderable.getMTime()>t.textureBuildTime.getMTime()){null!==t.renderable.getImage()&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(aL.LINEAR_MIPMAP_LINEAR)),t.renderable.getImage()&&t.renderable.getImageLoaded()&&(e.create2DFromImage(t.renderable.getImage()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()));var r=t.renderable.getInputData(0);if(r&&r.getPointData().getScalars()){for(var o=r.getExtent(),i=r.getPointData().getScalars(),a=[],s=0;s<t.renderable.getNumberOfInputPorts();++s){var u=t.renderable.getInputData(s),c=u?u.getPointData().getScalars().getData():null;c&&a.push(c)}t.renderable.getInterpolate()&&4===i.getNumberOfComponents()&&(t.generateMipmap=!0,e.setMinificationFilter(aL.LINEAR_MIPMAP_LINEAR)),a.length%6==0?e.createCubeFromRaw(o[1]-o[0]+1,o[3]-o[2]+1,i.getNumberOfComponents(),i.getDataType(),a):e.create2DFromRaw(o[1]-o[0]+1,o[3]-o[2]+1,i.getNumberOfComponents(),i.getDataType(),i.getData()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}}t.handle&&e.activate()},e.destroyTexture=function(){e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()},e.createTexture=function(){t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.bindTexture(t.target,null)))},e.getTextureUnit=function(){return t.openGLRenderWindow?t.openGLRenderWindow.getTextureUnitForTexture(e):-1},e.activate=function(){t.openGLRenderWindow.activateTexture(e),e.bind()},e.deactivate=function(){t.openGLRenderWindow&&t.openGLRenderWindow.deactivateTexture(e)},e.releaseGraphicsResources=function(n){n&&t.handle&&(n.activateTexture(e),n.deactivateTexture(e),t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0),t.shaderProgram&&(t.shaderProgram.releaseGraphicsResources(n),t.shaderProgram=null)},e.bind=function(){t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()},e.isBound=function(){var e=!1;if(t.context&&t.handle){var n=0;switch(t.target){case t.context.TEXTURE_2D:n=t.context.TEXTURE_BINDING_2D;break;default:lL("impossible case")}e=t.context.getIntegerv(n)===t.handle}return e},e.sendParameters=function(){t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.openGLRenderWindow.getWebgl2()&&(t.context.texParameteri(t.target,t.context.TEXTURE_BASE_LEVEL,t.baseLevel),t.context.texParameteri(t.target,t.context.TEXTURE_MAX_LEVEL,t.maxLevel)),t.sendParametersTime.modified()},e.getInternalFormat=function(n,r){return t.internalFormat||(t.internalFormat=e.getDefaultInternalFormat(n,r)),t.internalFormat||uL("Unable to find suitable internal format for T=".concat(n," NC= ").concat(r)),t.internalFormat},e.getDefaultInternalFormat=function(e,r){var o=0;return(o=t.openGLRenderWindow.getDefaultTextureInternalFormat(e,r,!1))||(o=n.openGLRenderWindow.getDefaultTextureInternalFormat(e,r,!0))||(uL("Unsupported internal texture type!"),uL("Unable to find suitable internal format for T=".concat(e," NC= ").concat(r))),o},e.setInternalFormat=function(n){n!==t.internalFormat&&(t.internalFormat=n,e.modified())},e.getFormat=function(n,r){return t.format=e.getDefaultFormat(n,r),t.format},e.getDefaultFormat=function(e,n){if(t.openGLRenderWindow.getWebgl2())switch(n){case 1:return t.context.RED;case 2:return t.context.RG;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}else switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}},e.resetFormatAndType=function(){t.format=0,t.internalFormat=0,t.openGLDataType=0},e.getDefaultDataType=function(e){if(t.openGLRenderWindow.getWebgl2())switch(e){case sL.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case sL.FLOAT:case sL.VOID:default:return t.context.FLOAT}switch(e){case sL.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case sL.FLOAT:case sL.VOID:default:return t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear")?t.context.FLOAT:t.context.UNSIGNED_BYTE}},e.getOpenGLDataType=function(n){return t.openGLDataType=e.getDefaultDataType(n),t.openGLDataType},e.getShiftAndScale=function(){var e=0,n=1;switch(t.openGLDataType){case t.context.BYTE:e=(n=127.5)-128;break;case t.context.UNSIGNED_BYTE:n=255,e=0;break;case t.context.SHORT:e=(n=32767.5)-32768;break;case t.context.UNSIGNED_SHORT:n=65536,e=0;break;case t.context.INT:e=(n=2147483647.5)-2147483648;break;case t.context.UNSIGNED_INT:n=4294967295,e=0;break;case t.context.FLOAT:}return{shift:e,scale:n}},e.getOpenGLFilterMode=function(e){switch(e){case aL.NEAREST:return t.context.NEAREST;case aL.LINEAR:return t.context.LINEAR;case aL.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case aL.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case aL.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case aL.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}},e.getOpenGLWrapMode=function(e){switch(e){case iL.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case iL.REPEAT:return t.context.REPEAT;case iL.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}},e.create2DFromRaw=function(n,i,a,s,u){if(e.getOpenGLDataType(s),e.getInternalFormat(s,a),e.getFormat(s,a),!t.internalFormat||!t.format||!t.openGLDataType)return cL("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=a,t.width=n,t.height=i,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();var c=o(r(s,[u]));return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,c[0]),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.createCubeFromRaw=function(n,i,a,s,u){if(e.getOpenGLDataType(s),e.getInternalFormat(s,a),e.getFormat(s,a),!t.internalFormat||!t.format||!t.openGLDataType)return cL("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_CUBE_MAP,t.components=a,t.width=n,t.height=i,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),t.maxLevel=u.length/6-1,e.createTexture(),e.bind();for(var c=o(r(s,u)),l=[],f=t.width,d=t.height,p=0;p<c.length;p++){p%6==0&&0!==p&&(f/=2,d/=2),l[p]=L(s,d*f*t.components);for(var h=0;h<d;++h){var m=h*f*t.components,g=(d-h-1)*f*t.components;l[p].set(c[p].slice(g,g+f*t.components),m)}}t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);for(var v=0;v<6;v++)for(var y=0,b=t.width,w=t.height;b>=1&&w>=1;){var x=null;y<=t.maxLevel&&(x=l[6*y+v]),t.context.texImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+v,y,t.internalFormat,b,w,0,t.format,t.openGLDataType,x),y++,b/=2,w/=2}return e.deactivate(),!0},e.createDepthFromRaw=function(n,r,o,i){return e.getOpenGLDataType(o),t.format=t.context.DEPTH_COMPONENT,t.openGLRenderWindow.getWebgl2()?o===sL.FLOAT?t.internalFormat=t.context.DEPTH_COMPONENT32F:t.internalFormat=t.context.DEPTH_COMPONENT16:t.internalFormat=t.context.DEPTH_COMPONENT,t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_2D,t.components=1,t.width=n,t.height=r,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,i),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(cL("Failed to determine texture parameters."),!1)},e.create2DFromImage=function(n){if(e.getOpenGLDataType(sL.UNSIGNED_CHAR),e.getInternalFormat(sL.UNSIGNED_CHAR,4),e.getFormat(sL.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return cL("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=4,t.width=n.width,t.height=n.height,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);var r=!Fe(n.width)||!Fe(n.height),o=document.createElement("canvas");o.width=r?Le(n.width):n.width,o.height=r?Le(n.height):n.height;var i=o.getContext("2d");i.translate(0,o.height),i.scale(1,-1),i.drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height),navigator.userAgent.indexOf("Chrome/69")>=0&&i.getImageData(0,0,1,1);var a=o;return t.context.texImage2D(t.target,0,t.internalFormat,t.format,t.openGLDataType,a),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.create3DFromRaw=function(n,r,o,i,a,s){return e.getOpenGLDataType(a),e.getInternalFormat(a,i),e.getFormat(a,i),t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_3D,t.components=i,t.width=n,t.height=r,t.depth=o,t.numberOfDimensions=3,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.texImage3D(t.target,0,t.internalFormat,t.width,t.height,t.depth,0,t.format,t.openGLDataType,s),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(cL("Failed to determine texture parameters."),!1)},e.create3DFilterableFromRaw=function(n,r,o,a,s,u){for(var c=n*r*o,l=[],f=[],d=0;d<a;++d)l[d]=0,f[d]=1;if(t.volumeInfo={scale:f,offset:l,width:n,height:r,depth:o},t.openGLRenderWindow.getWebgl2()){if(s===sL.FLOAT)return e.create3DFromRaw(n,r,o,a,s,u);if(s===sL.UNSIGNED_CHAR){for(var p=0;p<a;++p)t.volumeInfo.scale[p]=255;return e.create3DFromRaw(n,r,o,a,s,u)}var h=new Float32Array(c*a),m=i(a,c,u),g=m.offset,v=m.scale;t.volumeInfo.offset=g,t.volumeInfo.scale=v;for(var y=0,b=v.map((function(e){return 1/e})),w=0;w<c;w++)for(var x=0;x<a;x++)h[y]=(u[y]-g[x])*b[x],y++;return e.create3DFromRaw(n,r,o,a,sL.FLOAT,h)}var C=i(a,c,u),S=function(e,t,n,r,o){e[t]=n},A=sL.UNSIGNED_CHAR;if(s===sL.UNSIGNED_CHAR)for(var _=0;_<a;++_)C.offset[_]=0,C.scale[_]=255;else t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear")?(A=sL.FLOAT,S=function(e,t,n,r,o){e[t]=(n-r)/o}):(A=sL.UNSIGNED_CHAR,S=function(e,t,n,r,o){e[t]=255*(n-r)/o});if(e.getOpenGLDataType(A),e.getInternalFormat(A,a),e.getFormat(A,a),!t.internalFormat||!t.format||!t.openGLDataType)return cL("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=a,t.depth=1,t.numberOfDimensions=2;var P=t.context.getParameter(t.context.MAX_TEXTURE_SIZE);P>4096&&(A===sL.FLOAT||a>=3)&&(P=4096);var O=1,E=1;c>P*P&&(E=O=Math.ceil(Math.sqrt(c/(P*P))));var T=Math.sqrt(c)/O;T=Le(T);var D,I=Math.floor(T*O/n),k=Math.ceil(o/I),M=Le(r*k/E);t.width=T,t.height=M,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.volumeInfo.xreps=I,t.volumeInfo.yreps=k,t.volumeInfo.xstride=O,t.volumeInfo.ystride=E,t.volumeInfo.offset=C.offset,t.volumeInfo.scale=C.scale;var N=T*M*a;D=A===sL.FLOAT?new Float32Array(N):new Uint8Array(N);for(var R=0,B=Math.floor(n/O),L=Math.floor(r/E),F=0;F<k;F++)for(var j=Math.min(I,o-F*I),V=a*(t.width-j*Math.floor(n/O)),U=0;U<L;U++){for(var z=0;z<j;z++)for(var G=a*((F*I+z)*n*r+E*U*n),W=0;W<B;W++)for(var H=0;H<a;H++)S(D,R,u[G+O*W*a+H],C.offset[H],C.scale[H]),R++;R+=V}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,D),e.deactivate(),!0},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.getMaximumTextureSize=function(e){return e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1}}var dL={openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:iL.CLAMP_TO_EDGE,wrapT:iL.CLAMP_TO_EDGE,wrapR:iL.CLAMP_TO_EDGE,minificationFilter:aL.NEAREST,magnificationFilter:aL.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1};function pL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dL,n),KB.extend(e,t,n),t.sendParametersTime={},W(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},W(t.textureBuildTime,{mtime:0}),X(e,t,["format","openGLDataType"]),Y(e,t,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),H(e,t,["width","height","volumeInfo","components","handle","target"]),fL(e,t)}var hL=ne(pL,"vtkOpenGLTexture"),mL=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oL(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:hL,extend:pL},zB);function gL(e,t){t.classHierarchy.push("vtkFramebuffer"),e.getBothMode=function(){return t.context.FRAMEBUFFER},e.saveCurrentBindingsAndBuffers=function(t){var n=void 0!==t?t:e.getBothMode();e.saveCurrentBindings(n),e.saveCurrentBuffers(n)},e.saveCurrentBindings=function(e){var n=t.context;t.previousDrawBinding=n.getParameter(t.context.FRAMEBUFFER_BINDING),t.previousActiveFramebuffer=t.openGLRenderWindow.getActiveFramebuffer()},e.saveCurrentBuffers=function(e){},e.restorePreviousBindingsAndBuffers=function(t){var n=void 0!==t?t:e.getBothMode();e.restorePreviousBindings(n),e.restorePreviousBuffers(n)},e.restorePreviousBindings=function(e){var n=t.context;n.bindFramebuffer(n.FRAMEBUFFER,t.previousDrawBinding),t.openGLRenderWindow.setActiveFramebuffer(t.previousActiveFramebuffer)},e.restorePreviousBuffers=function(e){},e.bind=function(){t.context.bindFramebuffer(t.context.FRAMEBUFFER,t.glFramebuffer),t.colorTexture&&t.colorTexture.bind(),t.openGLRenderWindow.setActiveFramebuffer(e)},e.create=function(e,n){t.glFramebuffer=t.context.createFramebuffer(),t.glFramebuffer.width=e,t.glFramebuffer.height=n},e.setColorBuffer=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.context,o=r.COLOR_ATTACHMENT0;if(n>0){if(!t.openGLRenderWindow.getWebgl2())return void M("Using multiple framebuffer attachments requires WebGL 2");o+=n}t.colorTexture=e,r.framebufferTexture2D(r.FRAMEBUFFER,o,r.TEXTURE_2D,e.getHandle(),0)},e.removeColorBuffer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.context,r=n.COLOR_ATTACHMENT0;if(e>0){if(!t.openGLRenderWindow.getWebgl2())return void M("Using multiple framebuffer attachments requires WebGL 2");r+=e}n.framebufferTexture2D(n.FRAMEBUFFER,r,n.TEXTURE_2D,null,0)},e.setDepthBuffer=function(e){if(t.openGLRenderWindow.getWebgl2()){var n=t.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,e.getHandle(),0)}else M("Attaching depth buffer textures to fbo requires WebGL 2")},e.removeDepthBuffer=function(){if(t.openGLRenderWindow.getWebgl2()){var e=t.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,null,0)}else M("Attaching depth buffer textures to framebuffers requires WebGL 2")},e.getGLFramebuffer=function(){return t.glFramebuffer},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.releaseGraphicsResources=function(){t.glFramebuffer&&t.context.deleteFramebuffer(t.glFramebuffer),t.colorTexture&&t.colorTexture.releaseGraphicsResources()},e.getSize=function(){var e=[0,0];return null!==t.glFramebuffer&&(e[0]=t.glFramebuffer.width,e[1]=t.glFramebuffer.height),e},e.populateFramebuffer=function(){e.bind();var n=t.context,r=mL.newInstance();r.setOpenGLRenderWindow(t.openGLRenderWindow),r.setMinificationFilter(UB.LINEAR),r.setMagnificationFilter(UB.LINEAR),r.create2DFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,4,pe.UNSIGNED_CHAR,null),e.setColorBuffer(r),t.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,t.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t.glFramebuffer.width,t.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,t.depthTexture)}}QB("vtkTexture",hL);var vL={openGLRenderWindow:null,glFramebuffer:null,colorTexture:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function yL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vL,n),W(e,t),Y(e,t,["colorTexture"]),gL(e,t)}var bL={newInstance:ne(yL,"vtkFramebuffer"),extend:yL};function wL(e,t){t.classHierarchy.push("vtkRenderPass"),e.getOperation=function(){return t.currentOperation},e.setCurrentOperation=function(e){t.currentOperation=e,t.currentTraverseOperation="traverse".concat(fe.capitalize(t.currentOperation))},e.getTraverseOperation=function(){return t.currentTraverseOperation},e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.deleted||(t.currentParent=r,t.preDelegateOperations.forEach((function(t){e.setCurrentOperation(t),n.traverse(e)})),t.delegates.forEach((function(t){t.traverse(n,e)})),t.postDelegateOperations.forEach((function(t){e.setCurrentOperation(t),n.traverse(e)})))}}var xL={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function CL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xL,n),fe.obj(e,t),fe.get(e,t,["currentOperation"]),fe.setGet(e,t,["delegates","currentParent","preDelegateOperations","postDelegateOperations"]),wL(e,t)}var SL={newInstance:fe.newInstance(CL,"vtkRenderPass"),extend:CL};function AL(e,t){t.classHierarchy.push("vtkForwardPass"),e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.deleted){t.currentParent=r,e.setCurrentOperation("buildPass"),n.traverse(e);for(var o=n.getRenderable().getNumberOfLayers(),i=n.getChildren(),a=0;a<o;a++)for(var s=0;s<i.length;s++){var u=i[s],c=n.getRenderable().getRenderers()[s];if(c.getDraw()&&c.getLayer()===a){if(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumeCount=0,e.setCurrentOperation("queryPass"),u.traverse(e),t.opaqueActorCount>0&&t.volumeCount>0||t.depthRequested){var l=n.getFramebufferSize();null===t.framebuffer&&(t.framebuffer=bL.newInstance()),t.framebuffer.setOpenGLRenderWindow(n),t.framebuffer.saveCurrentBindingsAndBuffers();var f=t.framebuffer.getSize();null!==f&&f[0]===l[0]&&f[1]===l[1]||(t.framebuffer.create(l[0],l[1]),t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),e.setCurrentOperation("opaqueZBufferPass"),u.traverse(e),t.framebuffer.restorePreviousBindingsAndBuffers(),t.depthRequested=!1}e.setCurrentOperation("cameraPass"),u.traverse(e),t.opaqueActorCount>0&&(e.setCurrentOperation("opaquePass"),u.traverse(e)),t.translucentActorCount>0&&(e.setCurrentOperation("translucentPass"),u.traverse(e)),t.volumeCount>0&&(e.setCurrentOperation("volumePass"),u.traverse(e))}}}},e.getZBufferTexture=function(){return t.framebuffer?t.framebuffer.getColorTexture():null},e.requestDepth=function(){t.depthRequested=!0},e.incrementOpaqueActorCount=function(){return t.opaqueActorCount++},e.incrementTranslucentActorCount=function(){return t.translucentActorCount++},e.incrementVolumeCount=function(){return t.volumeCount++}}var _L={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,framebuffer:null,depthRequested:!1};function PL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_L,n),SL.extend(e,t,n),fe.get(e,t,["framebuffer"]),AL(e,t)}var OL={newInstance:fe.newInstance(PL,"vtkForwardPass"),extend:PL},EL=n(9560),TL=n.n(EL),DL=fe.vtkErrorMacro;function IL(e,t){t.classHierarchy.push("vtkShader"),e.compile=function(){var e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||"Unknown"===t.shaderType)return!1;switch(0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0),t.shaderType){case"Fragment":e=t.context.FRAGMENT_SHADER;break;case"Vertex":default:e=t.context.VERTEX_SHADER}if(t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle),!t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS)){var n=t.context.getShaderInfoLog(t.handle);return DL("Error compiling shader '".concat(t.source,"': ").concat(n)),t.context.deleteShader(t.handle),t.handle=0,!1}return!0},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)}}var kL={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function ML(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kL,n),fe.obj(e,t),fe.setGet(e,t,["shaderType","source","error","handle","context"]),IL(e,t)}var NL={newInstance:fe.newInstance(ML,"vtkShader"),extend:ML},RL=fe.vtkErrorMacro;function BL(e,t){t.classHierarchy.push("vtkShaderProgram"),e.compileShader=function(){return t.vertexShader.compile()?t.fragmentShader.compile()?e.attachShader(t.vertexShader)&&e.attachShader(t.fragmentShader)?e.link()?(e.setCompiled(!0),1):(RL("Links failed: ".concat(t.error)),0):(RL(t.error),0):(RL(t.fragmentShader.getSource().split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})).join("\n")),RL(t.fragmentShader.getError()),0):(RL(t.vertexShader.getSource().split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})).join("\n")),RL(t.vertexShader.getError()),0)},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0)},e.bind=function(){return!(!t.linked&&!e.link()||(t.context.useProgram(t.handle),e.setBound(!0),0))},e.isBound=function(){return!!t.bound},e.release=function(){t.context.useProgram(null),e.setBound(!1)},e.setContext=function(e){t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.link=function(){if(t.inked)return!0;if(0===t.handle)return t.error="Program has not been initialized, and/or does not have shaders.",!1;if(t.uniformLocs={},t.context.linkProgram(t.handle),!t.context.getProgramParameter(t.handle,t.context.LINK_STATUS)){var n=t.context.getProgramInfoLog(t.handle);return RL("Error linking shader ".concat(n)),t.handle=0,!1}return e.setLinked(!0),t.attributeLocs={},!0},e.setUniformMatrix=function(n,r){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return t.context.uniformMatrix4fv(o,!1,i),!0},e.setUniformMatrix3x3=function(n,r){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return t.context.uniformMatrix3fv(o,!1,i),!0},e.setUniformf=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1f(o,r),!0)},e.setUniformfv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1fv(o,r),!0)},e.setUniformi=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1i(o,r),!0)},e.setUniformiv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1iv(o,r),!0)},e.setUniform2f=function(n,r,o){var i=e.findUniform(n);if(-1===i)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===o)throw new RangeError("Invalid number of values for array");return t.context.uniform2f(i,r,o),!0},e.setUniform2fv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform2fv(o,r),!0)},e.setUniform2i=function(n,r,o){var i=e.findUniform(n);if(-1===i)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===o)throw new RangeError("Invalid number of values for array");return t.context.uniform2i(i,r,o),!0},e.setUniform2iv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform2iv(o,r),!0)},e.setUniform3f=function(n,r,o,i){var a=e.findUniform(n);if(-1===a)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===i)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(a,r,o,i),!0},e.setUniform3fArray=function(n,r){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(!Array.isArray(r)||3!==r.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(o,r[0],r[1],r[2]),!0},e.setUniform3fv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform3fv(o,r),!0)},e.setUniform3i=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=i;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),3!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3i(r,s[0],s[1],s[2]),!0},e.setUniform3iv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform3iv(o,r),!0)},e.setUniform4f=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=i;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4f(r,s[0],s[1],s[2],s[3]),!0},e.setUniform4fv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform4fv(o,r),!0)},e.setUniform4i=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=i;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4i(r,s[0],s[1],s[2],s[3]),!0},e.setUniform4iv=function(n,r){var o=e.findUniform(n);return-1===o?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform4iv(o,r),!0)},e.setUniform4fv=function(n,r,o){var i=e.findUniform(n);return-1===i?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform4fv(i,o),!0)},e.findUniform=function(e){if(!e||!t.linked)return-1;var n=t.uniformLocs[e];return void 0!==n?n:null===(n=t.context.getUniformLocation(t.handle,e))?(t.error="Uniform ".concat(e," not found in current shader program."),t.uniformLocs[e]=-1,-1):(t.uniformLocs[e]=n,n)},e.isUniformUsed=function(e){if(!e)return!1;var n=t.uniformLocs[e];return void 0!==n?null!==n:t.linked?(n=t.context.getUniformLocation(t.handle,e),t.uniformLocs[e]=n,null!==n):(RL("attempt to find uniform when the shader program is not linked"),!1)},e.isAttributeUsed=function(e){if(!e)return!1;var n=Object.keys(t.attributeLocs).indexOf(e);return-1!==n||(t.linked?-1!==(n=t.context.getAttribLocation(t.handle,e))&&(t.attributeLocs[e]=n,!0):(RL("attempt to find uniform when the shader program is not linked"),!1))},e.attachShader=function(n){if(0===n.getHandle())return t.error="Shader object was not initialized, cannot attach it.",!1;if("Unknown"===n.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;if(0===t.handle){var r=t.context.createProgram();if(0===r)return t.error="Could not create shader program.",!1;t.handle=r,t.linked=!1}return"Vertex"===n.getShaderType()&&(0!==t.vertexShaderHandle&&t.comntext.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=n.getHandle()),"Fragment"===n.getShaderType()&&(0!==t.fragmentShaderHandle&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=n.getHandle()),t.context.attachShader(t.handle,n.getHandle()),e.setLinked(!1),!0},e.detachShader=function(e){if(0===e.getHandle())return t.error="shader object was not initialized, cannot attach it.",!1;if("Unknown"===e.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;switch(0===t.handle&&(t.error="This shader program has not been initialized yet."),e.getShaderType()){case"Vertex":return t.vertexShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0);case"Fragment":return t.fragmentShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0);default:return!1}},e.setContext=function(e){t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.setLastCameraMTime=function(e){t.lastCameraMTime=e}}var LL={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function FL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LL,n),t.attributesLocs={},t.uniformLocs={},t.vertexShader=NL.newInstance(),t.vertexShader.setShaderType("Vertex"),t.fragmentShader=NL.newInstance(),t.fragmentShader.setShaderType("Fragment"),t.geometryShader=NL.newInstance(),t.geometryShader.setShaderType("Geometry"),fe.obj(e,t),fe.get(e,t,["lastCameraMTime"]),fe.setGet(e,t,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),BL(e,t)}var jL={newInstance:fe.newInstance(FL,"vtkShaderProgram"),extend:FL,substitute:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Array.isArray(n)?n.join("\n"):n,i=!1;-1!==e.search(t)&&(i=!0);var a="";r&&(a="g");var s=new RegExp(t,a);return{replace:i,result:e.replace(s,o)}}},VL=["lastShaderBound","context","openGLRenderWindow"];function UL(e,t){t.classHierarchy.push("vtkShaderCache"),e.replaceShaderValues=function(e,n,r){var o=n;r.length>0&&(o=jL.substitute(o,"VSOut","GSOut").result);var i=t.openGLRenderWindow.getWebgl2(),a="\n",s="#version 100\n";i?s="#version 300 es\n#define attribute in\n#define textureCube texture\n#define texture2D texture\n#define textureCubeLod textureLod\n#define texture2DLod textureLod\n":(t.context.getExtension("OES_standard_derivatives"),t.context.getExtension("EXT_frag_depth")&&(a="#extension GL_EXT_frag_depth : enable\n"),t.context.getExtension("EXT_shader_texture_lod")&&(a+="#extension GL_EXT_shader_texture_lod : enable\n#define textureCubeLod textureCubeLodEXT\n#define texture2DLod texture2DLodEXT")),o=jL.substitute(o,"//VTK::System::Dec",["".concat(s,"\n"),i?"":"#extension GL_OES_standard_derivatives : enable\n",a,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var u=jL.substitute(e,"//VTK::System::Dec",["".concat(s,"\n"),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;return i&&(u=jL.substitute(u,"varying","out").result,o=jL.substitute(o,"varying","in").result,o=jL.substitute(o,"gl_FragData\\[0\\]","fragOutput0").result,o=jL.substitute(o,"//VTK::Output::Dec","layout(location = 0) out vec4 fragOutput0;").result),{VSSource:u,FSSource:o,GSSource:jL.substitute(r,"//VTK::System::Dec",s).result}},e.readyShaderProgramArray=function(t,n,r){var o=e.replaceShaderValues(t,n,r),i=e.getShaderProgram(o.VSSource,o.FSSource,o.GSSource);return e.readyShaderProgram(i)},e.readyShaderProgram=function(t){return t&&(t.getCompiled()||t.compileShader())&&e.bindShader(t)?t:null},e.getShaderProgram=function(e,n,r){var o="".concat(e).concat(n).concat(r),i=TL()(o);if(-1===Object.keys(t.shaderPrograms).indexOf(i)){var a=jL.newInstance();return a.setContext(t.context),a.getVertexShader().setSource(e),a.getFragmentShader().setSource(n),r&&a.getGeometryShader().setSource(r),a.setMd5Hash(i),t.shaderPrograms[i]=a,a}return t.shaderPrograms[i]},e.releaseGraphicsResources=function(n){e.releaseCurrentShader(),Object.keys(t.shaderPrograms).map((function(e){return t.shaderPrograms[e]})).forEach((function(e){return e.releaseGraphicsResources(n)}))},e.releaseGraphicsResources=function(){t.astShaderBound&&(t.lastShaderBound.release(),t.lastShaderBound=null)},e.bindShader=function(e){return t.lastShaderBound===e||(t.lastShaderBound&&t.lastShaderBound.release(),e.bind(),t.lastShaderBound=e),1}}var zL={lastShaderBound:null,shaderPrograms:null,context:null,openGLRenderWindow:null};function GL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,zL,n),t.shaderPrograms={},fe.obj(e,t),fe.setGet(e,t,VL),UL(e,t)}var WL={newInstance:fe.newInstance(GL,"vtkShaderCache"),extend:GL};function HL(e,t){t.classHierarchy.push("vtkRenderWindowViewNode"),e.getViewNodeFactory=function(){return null},e.getAspectRatio=function(){return t.size[0]/t.size[1]},e.getAspectRatioForRenderer=function(e){var n=e.getViewportByReference();return t.size[0]*(n[2]-n[0])/((n[3]-n[1])*t.size[1])},e.isInViewport=function(t,n,r){var o=r.getViewportByReference(),i=e.getFramebufferSize();return o[0]*i[0]<=t&&o[2]*i[0]>=t&&o[1]*i[1]<=n&&o[3]*i[1]>=n},e.getViewportSize=function(t){var n=t.getViewportByReference(),r=e.getFramebufferSize();return[(n[2]-n[0])*r[0],(n[3]-n[1])*r[1]]},e.getViewportCenter=function(t){var n=e.getViewportSize(t);return[.5*n[0],.5*n[1]]},e.displayToNormalizedDisplay=function(t,n,r){var o=e.getFramebufferSize();return[t/o[0],n/o[1],r]},e.normalizedDisplayToDisplay=function(t,n,r){var o=e.getFramebufferSize();return[t*o[0],n*o[1],r]},e.worldToView=function(e,t,n,r){return r.worldToView(e,t,n)},e.viewToWorld=function(e,t,n,r){return r.viewToWorld(e,t,n)},e.worldToDisplay=function(t,n,r,o){var i=o.worldToView(t,n,r),a=e.getViewportSize(o),s=o.viewToProjection(i[0],i[1],i[2],a[0]/a[1]),u=o.projectionToNormalizedDisplay(s[0],s[1],s[2]);return e.normalizedDisplayToDisplay(u[0],u[1],u[2])},e.displayToWorld=function(t,n,r,o){var i=e.displayToNormalizedDisplay(t,n,r),a=o.normalizedDisplayToProjection(i[0],i[1],i[2]),s=e.getViewportSize(o),u=o.projectionToView(a[0],a[1],a[2],s[0]/s[1]);return o.viewToWorld(u[0],u[1],u[2])},e.normalizedDisplayToViewport=function(t,n,r,o){var i=o.getViewportByReference();i=e.normalizedDisplayToDisplay(i[0],i[1],0);var a=e.normalizedDisplayToDisplay(t,n,r);return[a[0]-i[0]-.5,a[1]-i[1]-.5,r]},e.viewportToNormalizedViewport=function(t,n,r,o){var i=e.getViewportSize(o);return i&&0!==i[0]&&0!==i[1]?[t/(i[0]-1),n/(i[1]-1),r]:[t,n,r]},e.normalizedViewportToViewport=function(t,n,r){var o=e.getFramebufferSize();return[t*(o[0]-1),n*(o[1]-1),r]},e.displayToLocalDisplay=function(t,n,r){return[t,e.getFramebufferSize()[1]-n-1,r]},e.viewportToNormalizedDisplay=function(t,n,r,o){var i=o.getViewportByReference(),a=t+(i=e.normalizedDisplayToDisplay(i[0],i[1],0))[0]+.5,s=n+i[1]+.5;return e.displayToNormalizedDisplay(a,s,r)},e.getPixelData=function(e,t,n,r){fe.vtkErrorMacro("not implemented")}}var qL={size:void 0,selector:void 0};function KL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qL,n),t.size||(t.size=[300,300]),fe.getArray(e,t,["size"],2),fe.get(e,t,["selector"]),KB.extend(e,t,n),HL(e,t)}var XL={newInstance:fe.newInstance(KL,"vtkRenderWindowViewNode"),extend:KL},YL=fe.vtkErrorMacro;function ZL(e,t){t.classHierarchy.push("vtkOpenGLTextureUnitManager"),e.deleteTable=function(){for(var e=0;e<t.numberOfTextureUnits;++e)!0===t.textureUnits[e]&&YL("some texture units  were not properly released");t.textureUnits=[],t.numberOfTextureUnits=0},e.setContext=function(n){if(t.context!==n){if(0!==t.context&&e.deleteTable(),t.context=n,t.context){t.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<t.numberOfTextureUnits;++r)t.textureUnits[r]=!1}e.modified()}},e.allocate=function(){for(var n=0;n<t.numberOfTextureUnits;n++)if(!e.isAllocated(n))return t.textureUnits[n]=!0,n;return-1},e.allocateUnit=function(n){return e.isAllocated(n)?-1:(t.textureUnits[n]=!0,n)},e.isAllocated=function(e){return t.textureUnits[e]},e.free=function(e){t.textureUnits[e]=!1}}var JL={context:null,numberOfTextureUnits:0,textureUnits:0};function $L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,JL,n),fe.obj(e,t),t.textureUnits=[],fe.get(e,t,["numberOfTextureUnits"]),fe.setGet(e,t,["context"]),ZL(e,t)}var QL={newInstance:fe.newInstance($L,"vtkOpenGLTextureUnitManager"),extend:$L},eF={PassTypes:{MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,MAX_KNOWN_PASS:2}};function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var nF=eF.PassTypes,rF=Hc.SelectionContent,oF=Hc.SelectionField,iF=bo.FieldAssociations,aF=fe.vtkErrorMacro;function sF(e){return"".concat(e.propID," ").concat(e.compositeID)}function uF(e,t,n,r){if(!n)return 0;var o=4*(t*(r[2]-r[0]+1)+e),i=[];i[0]=n[o],i[1]=n[o+1],i[2]=n[o+2];var a=i[2];return a*=256,a+=i[1],(a*=256)+i[0]}function cF(e,t,n,r){var o=n<0?0:n;if(0===o){if(r[0]=t[0],r[1]=t[1],t[0]<e.area[0]||t[0]>e.area[2]||t[1]<e.area[1]||t[1]>e.area[3])return null;var i=[t[0]-e.area[0],t[1]-e.area[1]],a=uF(i[0],i[1],e.pixBuffer[nF.ACTOR_PASS],e.area);if(a<=0)return null;var s={valid:!0};s.propID=a-1,s.prop=e.props[s.propID];var u=uF(i[0],i[1],e.pixBuffer[nF.COMPOSITE_INDEX_PASS],e.area);if((u<0||u>16777215)&&(u=0),s.compositeID=u-1,e.captureZValues){var c=4*(i[1]*(e.area[2]-e.area[0]+1)+i[0]);s.zValue=(256*e.zBuffer[c]+e.zBuffer[c+1])/65535,s.displayPosition=t}return s}var l=[t[0],t[1]],f=[0,0],d=cF(e,t,0,r);if(d&&d.valid)return d;for(var p=1;p<o;++p){for(var h=l[1]>p?l[1]-p:0;h<=l[1]+p;++h){if(f[1]=h,l[0]>=p&&(f[0]=l[0]-p,(d=cF(e,f,0,r))&&d.valid))return d;if(f[0]=l[0]+p,(d=cF(e,f,0,r))&&d.valid)return d}for(var m=l[0]>=p?l[0]-(p-1):0;m<=l[0]+(p-1);++m){if(f[0]=m,l[1]>=p&&(f[1]=l[1]-p,(d=cF(e,f,0,r))&&d.valid))return d;if(f[1]=l[1]+p,(d=cF(e,f,0,r))&&d.valid)return d}}return r[0]=t[0],r[1]=t[1],null}function lF(e,t,n,r,o){var i=[],a=0;return t.forEach((function(t,s){var u=Hc.newInstance();switch(u.setContentType(rF.INDICES),e){case iF.FIELD_ASSOCIATION_CELLS:u.setFieldType(oF.CELL);break;case iF.FIELD_ASSOCIATION_POINTS:u.setFieldType(oF.POINT);break;default:aF("Unknown field association")}u.getProperties().propID=t.info.propID,u.getProperties().prop=t.info.prop,u.getProperties().compositeID=t.info.compositeID,u.getProperties().pixelCount=t.pixelCount,n&&(u.getProperties().displayPosition=[t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue],u.getProperties().worldPosition=o.displayToWorld(t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue,r)),u.setSelectionList(t.attributeIDs),i[a]=u,a++})),i}function fF(e,t,n,r,o){for(var i=Math.floor(t),a=Math.floor(n),s=Math.floor(r),u=Math.floor(o),c=new Map,l=[0,0],f=a;f<=u;f++)for(var d=i;d<=s;d++){var p=cF(e,[d,f],0,l);if(p&&p.valid){var h=sF(p);if(c.has(h)){var m=c.get(h);m.pixelCount++,e.captureZValues&&p.zValue<m.info.zValue&&(m.info=p),-1===m.attributeIDs.indexOf(p.attributeID)&&m.attributeIDs.push(p.attributeID)}else c.set(h,{info:p,pixelCount:1,attributeIDs:[p.attributeID]})}}return lF(e.fieldAssociation,c,e.captureZValues,e.renderer,e.openGLRenderWindow)}function dF(e,t){t.classHierarchy.push("vtkOpenGLHardwareSelector"),e.releasePixBuffers=function(){t.pixBuffer=[],t.zBuffer=null},e.beginSelection=function(){t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),t.maxAttributeId=0;var n=t.openGLRenderWindow.getSize();if(t.framebuffer){t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers();var r=t.framebuffer.getSize();r[0]!==n[0]||r[1]!==n[1]?(t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer()):t.framebuffer.bind()}else t.framebuffer=bL.newInstance(),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer();t.openGLRenderer.clear(),t.openGLRenderer.setSelector(e),t.hitProps={},t.props=[],e.releasePixBuffers()},e.endSelection=function(){t.hitProps={},t.openGLRenderer.setSelector(null),t.framebuffer.restorePreviousBindingsAndBuffers()},e.preCapturePass=function(){},e.postCapturePass=function(){},e.select=function(){var n=null;return e.captureBuffers()&&(n=e.generateSelection(t.area[0],t.area[1],t.area[2],t.area[3]),e.releasePixBuffers()),n},e.getSourceDataAsync=function(){var n=HR(KR().mark((function n(r,o,i,a,s){var u,c;return KR().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.renderer=r,void 0===o?(u=t.openGLRenderWindow.getSize(),e.setArea(0,0,u[0]-1,u[1]-1)):e.setArea(o,i,a,s),e.captureBuffers()){n.next=4;break}return n.abrupt("return",!1);case 4:return(c={area:y(t.area),pixBuffer:y(t.pixBuffer),captureZValues:t.captureZValues,zBuffer:t.zBuffer,props:y(t.props),fieldAssociation:t.fieldAssociation,renderer:r,openGLRenderWindow:t.openGLRenderWindow}).generateSelection=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fF.apply(void 0,[c].concat(t))},n.abrupt("return",c);case 7:case"end":return n.stop()}}),n)})));return function(e,t,r,o,i){return n.apply(this,arguments)}}(),e.captureBuffers=function(){if(!t.renderer||!t.openGLRenderWindow)return aF("Renderer and view must be set before calling Select."),!1;t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),e.invokeEvent({type:"StartEvent"}),t.originalBackground=t.renderer.getBackgroundByReference(),t.renderer.setBackground(0,0,0);var n=t.openGLRenderWindow.getRenderPasses();for(e.beginSelection(),t.currentPass=nF.MIN_KNOWN_PASS;t.currentPass<=nF.COMPOSITE_INDEX_PASS;t.currentPass++)e.passRequired(t.currentPass)&&(e.preCapturePass(t.currentPass),t.captureZValues&&t.currentPass===nF.ACTOR_PASS&&"function"==typeof n[0].requestDepth&&"function"==typeof n[0].getFramebuffer?(n[0].requestDepth(),t.openGLRenderWindow.traverseAllPasses()):t.openGLRenderWindow.traverseAllPasses(),e.postCapturePass(t.currentPass),e.savePixelBuffer(t.currentPass));return e.endSelection(),t.renderer.setBackground(t.originalBackground),e.invokeEvent({type:"EndEvent"}),!0},e.passRequired=function(e){return!0},e.savePixelBuffer=function(n){if(t.pixBuffer[n]=t.openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),n===nF.ACTOR_PASS){if(t.captureZValues){var r=t.openGLRenderWindow.getRenderPasses();if("function"==typeof r[0].requestDepth&&"function"==typeof r[0].getFramebuffer){var o=r[0].getFramebuffer();o.saveCurrentBindingsAndBuffers(),o.bind(),t.zBuffer=t.openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),o.restorePreviousBindingsAndBuffers()}}e.buildPropHitList(t.pixBuffer[n])}},e.buildPropHitList=function(e){for(var n=0;n<=t.area[3]-t.area[1];n++)for(var r=0;r<=t.area[2]-t.area[0];r++){var o=uF(r,n,e,t.area);o>0&&(--o in t.hitProps||(t.hitProps[o]=!0))}},e.renderProp=function(n){t.currentPass===nF.ACTOR_PASS&&(e.setPropColorValueFromInt(t.props.length+1),t.props.push(n))},e.renderCompositeIndex=function(n){t.currentPass===nF.COMPOSITE_INDEX_PASS&&e.setPropColorValueFromInt(n+1)},e.renderAttributeId=function(e){e<0||(t.maxAttributeId=e>t.maxAttributeId?e:t.maxAttributeId)},e.passTypeToString=function(e){return fe.enumToString(nF,e)},e.isPropHit=function(e){return Boolean(t.hitProps[e])},e.setPropColorValueFromInt=function(e){t.propColorValue[0]=e%256/255,t.propColorValue[1]=Math.floor(e/256)%256/255,t.propColorValue[2]=Math.floor(e/65536)%256/255},e.getPixelInformation=function(n,r,o){var i=r<0?0:r;if(0===i){if(o[0]=n[0],o[1]=n[1],n[0]<t.area[0]||n[0]>t.area[2]||n[1]<t.area[1]||n[1]>t.area[3])return null;var a=[n[0]-t.area[0],n[1]-t.area[1]],s=uF(a[0],a[1],t.pixBuffer[nF.ACTOR_PASS],t.area);if(s<=0)return null;var u={valid:!0};u.propID=s-1,u.prop=t.props[u.propID];var c=uF(a[0],a[1],t.pixBuffer[nF.COMPOSITE_INDEX_PASS],t.area);if((c<0||c>16777215)&&(c=0),u.compositeID=c-1,t.captureZValues){var l=4*(a[1]*(t.area[2]-t.area[0]+1)+a[0]);u.zValue=(256*t.zBuffer[l]+t.zBuffer[l+1])/65535,u.displayPosition=n}return u}var f=[n[0],n[1]],d=[0,0],p=e.getPixelInformation(n,0,o);if(p&&p.valid)return p;for(var h=1;h<i;++h){for(var m=f[1]>h?f[1]-h:0;m<=f[1]+h;++m){if(d[1]=m,f[0]>=h&&(d[0]=f[0]-h,(p=e.getPixelInformation(d,0,o))&&p.valid))return p;if(d[0]=f[0]+h,(p=e.getPixelInformation(d,0,o))&&p.valid)return p}for(var g=f[0]>=h?f[0]-(h-1):0;g<=f[0]+(h-1);++g){if(d[0]=g,f[1]>=h&&(d[1]=f[1]-h,(p=e.getPixelInformation(d,0,o))&&p.valid))return p;if(d[1]=f[1]+h,(p=e.getPixelInformation(d,0,o))&&p.valid)return p}}return o[0]=n[0],o[1]=n[1],null},e.generateSelection=function(n,r,o,i){for(var a=Math.floor(n),s=Math.floor(r),u=Math.floor(o),c=Math.floor(i),l=new Map,f=[0,0],d=s;d<=c;d++)for(var p=a;p<=u;p++){var h=[p,d],m=e.getPixelInformation(h,0,f);if(m&&m.valid){var g=sF(m);if(l.has(g)){var v=l.get(g);v.pixelCount++,t.captureZValues&&m.zValue<v.info.zValue&&(v.info=m),-1===v.attributeIDs.indexOf(m.attributeID)&&v.attributeIDs.push(m.attributeID)}else l.set(g,{info:m,pixelCount:1,attributeIDs:[m.attributeID]})}}return lF(t.fieldAssociation,l,t.captureZValues,t.renderer,t.openGLRenderWindow)},e.attach=function(e,n){t.openGLRenderWindow=e,t.renderer=n};var n=e.setArea;e.setArea=function(){return!!n.apply(void 0,arguments)&&(t.area[0]=Math.floor(t.area[0]),t.area[1]=Math.floor(t.area[1]),t.area[2]=Math.floor(t.area[2]),t.area[3]=Math.floor(t.area[3]),!0)}}var pF={area:void 0,renderer:null,openGLRenderWindow:null,openGLRenderer:null,currentPass:-1,propColorValue:null,props:null,idOffset:1};function hF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pF,n),JR.extend(e,t,n),t.propColorValue=[0,0,0],t.props=[],t.area||(t.area=[0,0,0,0]),fe.setGetArray(e,t,["area"],4),fe.setGet(e,t,["renderer","currentPass","openGLRenderWindow"]),fe.setGetArray(e,t,["propColorValue"],3),fe.event(e,t,"event"),dF(e,t)}var mF=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(hF,"vtkOpenGLHardwareSelector"),extend:hF},eF),gF=fe.vtkDebugMacro,vF=fe.vtkErrorMacro,yF=-1!==navigator.userAgent.indexOf("Chrome"),bF={position:"absolute",top:0,left:0,width:"100%",height:"100%"};function wF(e,t,n){var r=e.createFramebuffer(),o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,t,2,2,0,t,n,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER);return e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),i===e.FRAMEBUFFER_COMPLETE}var xF=0,CF=[];function SF(){xF++,CF.forEach((function(e){return e(xF)}))}function AF(){xF--,CF.forEach((function(e){return e(xF)}))}function _F(e,t){t.classHierarchy.push("vtkOpenGLRenderWindow"),e.getViewNodeFactory=function(){return t.myFactory};var n=[0,0];e.onModified((function(){t.renderable&&(t.size[0]===n[0]&&t.size[1]===n[1]||(n[0]=t.size[0],n[1]=t.size[1],t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1]))),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none"),t.containerSize=null})),e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize(),t.children.forEach((function(t){t.setOpenGLRenderWindow(e)}))}},e.initialize=function(){if(!t.initialized){t.context=e.get3DContext(),t.textureUnitManager=QL.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);var n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.LEQUAL),n.enable(n.BLEND),t.initialized=!0}},e.makeCurrent=function(){t.context.makeCurrent()},e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&vF("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),e.modified())},e.getContainer=function(){return t.el},e.getContainerSize=function(){if(!t.containerSize&&t.el){var e=t.el.getBoundingClientRect(),n=e.width,r=e.height;t.containerSize=[n,r]}return t.containerSize||t.size},e.getFramebufferSize=function(){return t.activeFramebuffer?t.activeFramebuffer.getSize():t.size},e.getPixelData=function(e,n,r,o){var i=new Uint8Array((r-e+1)*(o-n+1)*4);return t.context.readPixels(e,n,r-e+1,o-n+1,t.context.RGBA,t.context.UNSIGNED_BYTE,i),i},e.get3DContext=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0},r=null,o="undefined"!=typeof WebGL2RenderingContext;return t.webgl2=!1,t.defaultToWebgl2&&o&&(r=t.canvas.getContext("webgl2",n))&&(t.webgl2=!0,gF("using webgl2")),r||(gF("using webgl1"),r=t.canvas.getContext("webgl",n)||t.canvas.getContext("experimental-webgl",n)),navigator.getVRDisplays&&navigator.getVRDisplays().then((function(n){n.length>0&&(t.vrDisplay=n[0],t.vrDisplay.depthNear=.01,t.vrDisplay.depthFar=100,e.invokeHaveVRDisplay())})),t.canvas.addEventListener("webglcontextlost",(function(e){e.preventDefault()}),!1),t.canvas.addEventListener("webglcontextrestored",e.restoreContext,!1),r},e.startVR=function(){t.oldCanvasSize=t.size.slice(),t.vrDisplay.capabilities.canPresent?t.vrDisplay.requestPresent([{source:t.canvas}]).then((function(){if(t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&t.hideCanvasInVR&&(t.el.style.display="none"),t.queryVRSize){var n=t.vrDisplay.getEyeParameters("left"),r=t.vrDisplay.getEyeParameters("right"),o=Math.floor(n.renderWidth+r.renderWidth),i=Math.floor(Math.max(n.renderHeight,r.renderHeight));e.setSize(o,i)}else e.setSize(t.vrResolution);t.renderable.getRenderers()[0].resetCamera(),t.vrFrameData=new VRFrameData,t.renderable.getInteractor().switchToVRAnimation(),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender),yF&&(t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender))})).catch((function(){console.error("failed to requestPresent")})):vF("vrDisplay is not connected")},e.stopVR=function(){t.renderable.getInteractor().returnFromVRAnimation(),t.vrDisplay.exitPresent(),t.vrDisplay.cancelAnimationFrame(t.vrSceneFrame),e.setSize.apply(e,y(t.oldCanvasSize)),t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&(t.el.style.display="block");var n=t.renderable.getRenderers()[0];n.getActiveCamera().setProjectionMatrix(null),n.setViewport(0,0,1,1),e.traverseAllPasses()},e.vrRender=function(){if(t.vrDisplay.isPresenting){t.renderable.getInteractor().updateGamepads(t.vrDisplay.displayId),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender),t.vrDisplay.getFrameData(t.vrFrameData);var n=t.renderable.getRenderers()[0];n.setViewport(0,0,.5,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.leftViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.leftProjectionMatrix),e.traverseAllPasses(),n.setViewport(.5,0,1,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.rightViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.rightProjectionMatrix),e.traverseAllPasses(),t.vrDisplay.submitFrame()}},e.restoreContext=function(){var t=SL.newInstance();t.setCurrentOperation("Release"),t.traverse(e,null)},e.activateTexture=function(n){var r=t._textureResourceIds.get(n);if(void 0===r){var o=e.getTextureUnitManager().allocate();o<0?vF("Hardware does not support the number of textures defined."):(t._textureResourceIds.set(n,o),t.context.activeTexture(t.context.TEXTURE0+o))}else t.context.activeTexture(t.context.TEXTURE0+r)},e.deactivateTexture=function(n){var r=t._textureResourceIds.get(n);void 0!==r&&(e.getTextureUnitManager().free(r),t._textureResourceIds.delete(n))},e.getTextureUnitForTexture=function(e){var n=t._textureResourceIds.get(e);return void 0!==n?n:-1},e.getDefaultTextureInternalFormat=function(e,n,r){if(t.webgl2)switch(e){case pe.UNSIGNED_CHAR:switch(n){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;case 4:default:return t.context.RGBA8}default:case pe.FLOAT:switch(n){case 1:return t.context.R16F;case 2:return t.context.RG16F;case 3:return t.context.RGB16F;case 4:default:return t.context.RGBA16F}}switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}},e.setBackgroundImage=function(e){t.bgImage.src=e.src},e.setUseBackgroundImage=function(e){t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},e.captureNextImage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.resetCamera,i=void 0!==o&&o,a=r.size,s=void 0===a?null:a,u=r.scale,c=void 0===u?1:u;if(t.deleted)return null;t.imageFormat=n;var l=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,t._screenshot={size:s||1!==c?s||t.size.map((function(e){return e*c})):null},new Promise((function(n,r){var o=e.onImageReady((function(r){if(null===t._screenshot.size)t.notifyStartCaptureImage=l,o.unsubscribe(),t._screenshot.placeHolder&&(t.size=t._screenshot.originalSize,e.modified(),t._screenshot.cameras&&t._screenshot.cameras.forEach((function(e){return(0,e.restoreParamsFn)(e.arg)})),e.traverseAllPasses(),t.el.removeChild(t._screenshot.placeHolder),t._screenshot.placeHolder.remove(),t._screenshot=null),n(r);else{var a=document.createElement("img");a.style=bF,a.src=r,t._screenshot.placeHolder=t.el.appendChild(a),t.canvas.style.display="none",t._screenshot.originalSize=t.size,t.size=t._screenshot.size,t._screenshot.size=null,e.modified(),i&&(t._screenshot.cameras=t.renderable.getRenderers().map((function(e){var t=e.getActiveCamera(),n=t.get("focalPoint","position","parallelScale");return{resetCameraFn:e.resetCamera,restoreParamsFn:t.set,arg:JSON.parse(JSON.stringify(n))}})),t._screenshot.cameras.forEach((function(e){return(0,e.resetCameraFn)()}))),e.traverseAllPasses()}}))}))},e.getGLInformations=function(){for(var n=e.get3DContext(),r=n.getExtension("OES_texture_float"),o=n.getExtension("OES_texture_half_float"),i=n.getExtension("WEBGL_debug_renderer_info"),a=n.getExtension("WEBGL_draw_buffers"),s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),u=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",n.getParameter(n.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",n.getParameter(n.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",n.getParameter(n.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",s&&n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",n.getParameter(n.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",n.getParameter(n.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",n.getParameter(n.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",n.getParameter(n.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",n.getParameter(n.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",n.getParameter(n.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",n.getParameter(n.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",n.getParameter(n.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",n.getParameter(n.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",n.getParameter(n.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",n.getParameter(n.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",n.getParameter(n.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",n.getParameter(n.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[r&&wF(n,n.RGBA,n.UNSIGNED_BYTE)?"RGBA":"",r&&wF(n,n.RGB,n.UNSIGNED_BYTE)?"RGB":"",r&&wF(n,n.LUMINANCE,n.UNSIGNED_BYTE)?"LUMINANCE":"",r&&wF(n,n.ALPHA,n.UNSIGNED_BYTE)?"ALPHA":"",r&&wF(n,n.LUMINANCE_ALPHA,n.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[o&&wF(n,n.RGBA,o.HALF_FLOAT_OES)?"RGBA":"",o&&wF(n,n.RGB,o.HALF_FLOAT_OES)?"RGB":"",o&&wF(n,n.LUMINANCE,o.HALF_FLOAT_OES)?"LUMINANCE":"",o&&wF(n,n.ALPHA,o.HALF_FLOAT_OES)?"ALPHA":"",o&&wF(n,n.LUMINANCE_ALPHA,o.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[r&&wF(n,n.RGBA,n.FLOAT)?"RGBA":"",r&&wF(n,n.RGB,n.FLOAT)?"RGB":"",r&&wF(n,n.LUMINANCE,n.FLOAT)?"LUMINANCE":"",r&&wF(n,n.ALPHA,n.FLOAT)?"ALPHA":"",r&&wF(n,n.LUMINANCE_ALPHA,n.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",a?n.getParameter(a.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",n.getSupportedExtensions().join("<br/>\t\t\t\t\t    ")],["WebGL Renderer","RENDERER",n.getParameter(n.RENDERER)],["WebGL Vendor","VENDOR",n.getParameter(n.VENDOR)],["WebGL Version","VERSION",n.getParameter(n.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",n.getParameter(n.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",t.webgl2?2:1]],c={};u.length;){var l=g(u.pop(),3),f=l[0],d=l[1],p=l[2];d&&(c[d]={label:f,value:p})}return c},e.traverseAllPasses=function(){if(t.renderPasses)for(var n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);t.notifyStartCaptureImage&&function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.imageFormat,r=document.createElement("canvas"),o=r.getContext("2d");r.width=t.canvas.width,r.height=t.canvas.height,o.drawImage(t.canvas,0,0);var i=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach((function(e){e.getViewProps().forEach((function(e){if(e.getContainer)for(var t=e.getContainer().getElementsByTagName("canvas"),n=0;n<t.length;n++){var r=t[n],a=r.getBoundingClientRect(),s=a.x-i.x,u=a.y-i.y;o.drawImage(r,s,u)}}))}));var a=r.toDataURL(n);r.remove(),e.invokeImageReady(a)}()},e.disableDepthMask=function(){t.depthMaskEnabled&&(t.context.depthMask(!1),t.depthMaskEnabled=!1)},e.enableDepthMask=function(){t.depthMaskEnabled||(t.context.depthMask(!0),t.depthMaskEnabled=!0)},e.disableCullFace=function(){t.cullFaceEnabled&&(t.context.disable(t.context.CULL_FACE),t.cullFaceEnabled=!1)},e.enableCullFace=function(){t.cullFaceEnabled||(t.context.enable(t.context.CULL_FACE),t.cullFaceEnabled=!0)},e.setViewStream=function(n){return t.viewStream!==n&&(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream&&(t.renderable.getRenderers()[0].getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady((function(t){return e.setBackgroundImage(t.image)})),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()),!0)},e.delete=fe.chain(e.delete,e.setViewStream,AF)}var PF={cullFaceEnabled:!1,depthMaskEnabled:!0,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,vrResolution:[2160,1200],queryVRSize:!1,hideCanvasInVR:!0,activeFramebuffer:null,vrDisplay:null,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function OF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,PF,n),XL.extend(e,t,n),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",SF(),t.selector||(t.selector=mF.newInstance(),t.selector.setOpenGLRenderWindow(e)),t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",t._textureResourceIds=new Map,t.myFactory=rL.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",EF),t.shaderCache=WL.newInstance(),t.shaderCache.setOpenGLRenderWindow(e),t.renderPasses[0]=OL.newInstance(),fe.event(e,t,"imageReady"),fe.event(e,t,"haveVRDisplay"),fe.get(e,t,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage"]),fe.setGet(e,t,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","queryVRSize","hideCanvasInVR","useOffScreen","activeFramebuffer"]),fe.setGetArray(e,t,["size","vrResolution"],2),_F(e,t)}var EF=fe.newInstance(OF,"vtkOpenGLRenderWindow");eB("WebGL",EF);var TF={newInstance:EF,extend:OF,pushMonitorGLContextCount:function(e){CF.push(e)},popMonitorGLContextCount:function(e){return CF.pop()}};function DF(e,t){t.classHierarchy.push("vtkWebGPUShaderModule"),e.initialize=function(e,n){t.device=e,t.handle=t.device.getHandle().createShaderModule({code:n.getCode()})}}var IF={device:null,handle:null};function kF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,IF,n),fe.obj(e,t),fe.get(e,t,["lastCameraMTime"]),fe.setGet(e,t,["device","handle"]),DF(e,t)}var MF={newInstance:fe.newInstance(kF,"vtkWebGPUShaderModule"),extend:kF};function NF(e,t){t.classHierarchy.push("vtkWebGPUShaderCache"),e.getShaderModule=function(e){for(var n=e.getType(),r=e.getHash(),o=t._shaderModules.keys(),i=0;i<o.length;i++){var a=o[i];if(a.getHash()===r&&a.getType()===n)return t._shaderModules.get(a)}var s=MF.newInstance();return s.initialize(t.device,e),t._shaderModules.set(e,s),s}}var RF={shaderModules:null,device:null,window:null};function BF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,RF,n),t._shaderModules=new Map,fe.obj(e,t),fe.setGet(e,t,["device","window"]),NF(e,t)}var LF={newInstance:fe.newInstance(BF,"vtkWebGPUShaderCache"),extend:BF,substitute:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Array.isArray(n)?n.join("\n"):n,i=!1;-1!==e.search(t)&&(i=!0);var a="";r&&(a="g");var s=new RegExp(t,a);return{replace:i,result:e.replace(s,o)}}},FF=["setBindGroup","setVertexBuffer","draw"];function jF(e,t){t.classHierarchy.push("vtkWebGPURenderEncoder"),e.begin=function(e){t.handle=e.beginRenderPass(t.description)},e.end=function(){t.handle.endPass()},e.setPipeline=function(e){t.handle.setPipeline(e.getHandle());var n=e.getPipelineDescription();if(t.colorTextureViews.length!==n.fragment.targets.length)console.log("mismatched attachment counts on pipeline ".concat(n.fragment.targets.length," while encoder has ").concat(t.colorTextureViews.length)),console.trace();else for(var r=0;r<t.colorTextureViews.length;r++){var o=t.colorTextureViews[r].getTexture().getFormat();o!==n.fragment.targets[r].format&&(console.log("mismatched attachments for attachment ".concat(r," on pipeline ").concat(n.fragment.targets[r].format," while encoder has ").concat(o)),console.trace())}if(!t.depthTextureView!=!("depthStencil"in n))console.log("mismatched depth attachments"),console.trace();else if(t.depthTextureView){var i=t.depthTextureView.getTexture().getFormat();i!==n.depthStencil.format&&(console.log("mismatched depth attachments on pipeline ".concat(n.depthStencil.format," while encoder has ").concat(i)),console.trace())}t.boundPipeline=e},e.replaceShaderCode=function(e){t.replaceShaderCodeFunction(e)},e.setColorTextureView=function(e,n){t.colorTextureViews[e]!==n&&(t.colorTextureViews[e]=n)},e.activateBindGroup=function(e){var n=t.boundPipeline.getDevice(),r=t.boundPipeline.getBindGroupLayoutCount(e.getName());t.handle.setBindGroup(r,e.getBindGroup(n));var o=n.getBindGroupLayoutDescription(e.getBindGroupLayout(n)),i=n.getBindGroupLayoutDescription(t.boundPipeline.getBindGroupLayout(r));o!==i&&(console.log("renderEncoder ".concat(t.pipelineHash," mismatched bind group layouts bind group has\n").concat(o,"\n versus pipeline\n").concat(i,"\n")),console.trace())},e.attachTextureViews=function(){for(var e=0;e<t.colorTextureViews.length;e++)t.description.colorAttachments[e]?t.description.colorAttachments[e].view=t.colorTextureViews[e].getHandle():t.description.colorAttachments[e]={view:t.colorTextureViews[e].getHandle()};t.depthTextureView&&(t.description.depthStencilAttachment.view=t.depthTextureView.getHandle())};for(var n=function(n){e[FF[n]]=function(){var e;return(e=t.handle)[FF[n]].apply(e,arguments)}},r=0;r<FF.length;r++)n(r)}var VF={description:null,handle:null,boundPipeline:null,pipelineHash:null,pipelineSettings:null,replaceShaderCodeFunction:null,depthTextureView:null};function UF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VF,n),W(e,t),t.description={colorAttachments:[{view:void 0,loadValue:"load",storeOp:"store"}],depthStencilAttachment:{view:void 0,depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}},t.replaceShaderCodeFunction=function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<f32>","outColor");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["output.outColor = computedColor;"]).result,t.setCode(n)},t.pipelineSettings={primitive:{cullMode:"none"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less-equal",format:"depth32float"},fragment:{targets:[{format:"bgra8unorm",blend:{color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"},alpha:{srcfactor:"one",dstFactor:"one-minus-src-alpha"}}}]}},t.colorTextureViews=[],H(e,t,["boundPipeline","colorTextureViews"]),Y(e,t,["depthTextureView","description","handle","pipelineHash","pipelineSettings","replaceShaderCodeFunction"]),jF(e,t)}var zF={newInstance:ne(UF,"vtkWebGPURenderEncoder"),extend:UF},GF={BufferUsage:{Verts:0,Lines:1,Triangles:2,Strips:3,LinesFromStrips:4,LinesFromTriangles:5,Points:6,UniformArray:7,PointArray:8,NormalsFromPoints:9,Texture:10,RawVertex:11,Storage:12},PrimitiveTypes:{Start:0,Points:0,Lines:1,Triangles:2,TriangleStrips:3,TriangleEdges:4,TriangleStripEdges:5,End:6}};function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var HF=["getMappedRange","mapAsync","unmap"];function qF(e,t){t.classHierarchy.push("vtkWebGPUBuffer"),e.create=function(e,n){t.handle=t.device.getHandle().createBuffer({size:e,usage:n}),t.sizeInBytes=e,t.usage=n},e.write=function(e){!function(e,t,n,r){var o=r.byteLength,i=e.createBuffer({size:o,usage:GPUBufferUsage.COPY_SRC,mappedAtCreation:!0}),a=i.getMappedRange(0,o);new Uint8Array(a).set(new Uint8Array(r)),i.unmap();var s=e.createCommandEncoder();s.copyBufferToBuffer(i,0,t,0,o);var u=s.finish();e.queue.submit([u]),i.destroy()}(t.device.getHandle(),t.handle,0,e.buffer)},e.createAndWrite=function(e,n){t.handle=t.device.getHandle().createBuffer({size:e.byteLength,usage:n,mappedAtCreation:!0}),t.sizeInBytes=e.byteLength,t.usage=n,new Uint8Array(t.handle.getMappedRange()).set(new Uint8Array(e.buffer)),t.handle.unmap()};for(var n=function(n){e[HF[n]]=function(){var e;return(e=t.handle)[HF[n]].apply(e,arguments)}},r=0;r<HF.length;r++)n(r)}var KF={device:null,handle:null,sizeInBytes:0,strideInBytes:0,arrayInformation:null,usage:null,sourceTime:null};function XF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,KF,n),fe.obj(e,t),fe.get(e,t,["handle","sizeInBytes","usage"]),fe.setGet(e,t,["strideInBytes","device","arrayInformation","sourceTime"]),qF(e,t)}var YF=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:fe.newInstance(XF),extend:XF},GF),ZF={r8unorm:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1},r8snorm:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1},r8uint:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1},r8sint:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1},r16uint:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2},r16sint:{numComponents:1,nativeType:Int16Array,stride:2,elementSize:2},r16float:{numComponents:1,nativeType:Float32Array,stride:2,elementSize:2},rg8unorm:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1},rg8snorm:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1},rg8uint:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1},rg8sint:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1},r32uint:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:4},r32sint:{numComponents:1,nativeType:Int32Array,stride:4,elementSize:4},r32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4},rg16uint:{numComponents:2,nativeType:Uint16Array,stride:4,elementSize:2},rg16sint:{numComponents:2,nativeType:Int16Array,stride:4,elementSize:2},rg16float:{numComponents:2,nativeType:Float32Array,stride:4,elementSize:2},rgba8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1},"rgba8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1},rgba8snorm:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1},rgba8uint:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1},rgba8sint:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1},bgra8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1},"bgra8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1},rgb9e5ufloat:{numComponents:4,nativeType:Uint32Array,stride:4},rgb10a2unorm:{numComponents:4,nativeType:Uint32Array,stride:4},rg11b10ufloat:{numComponents:4,nativeType:Float32Array,stride:4},rg32uint:{numComponents:2,nativeType:Uint32Array,stride:8,elementSize:4},rg32sint:{numComponents:2,nativeType:Int32Array,stride:8,elementSize:4},rg32float:{numComponents:2,nativeType:Float32Array,stride:8,elementSize:4},rgba16uint:{numComponents:4,nativeType:Uint16Array,stride:8,elementSize:2},rgba16sint:{numComponents:4,nativeType:Int16Array,stride:8,elementSize:2},rgba16float:{numComponents:4,nativeType:Float32Array,stride:8,elementSize:2},rgba32uint:{numComponents:4,nativeType:Uint32Array,stride:16,elementSize:4},rgba32sint:{numComponents:4,nativeType:Int32Array,stride:16,elementSize:4},rgba32float:{numComponents:4,nativeType:Float32Array,stride:16,elementSize:4},stencil8:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1},depth16unorm:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2},depth24plus:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:3},"depth24plus-stencil8":{numComponents:2,nativeType:Uint32Array,stride:4},depth32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4}},JF=function(e){return!e||e.length<6?0:e in ZF==1?ZF[e]:(M("unknown format ".concat(e)),null)},$F=function(e){if(!e||e.length<5)return 0;var t=1;"x"===e[e.length-2]&&(t=e[e.length-1]);var n=1===t?e.length-1:e.length-3,r=Number(e[n]);return Number.isNaN(r)?(M("unknown format ".concat(e)),0):t*(5-r/2)},QF=function(e){if(!e||e.length<5)return 0;var t;if("f"===e[0])t="Float";else if("s"===e[0])t="Int";else{if("u"!==e[0])return void M("unknown format ".concat(e));t="Uint"}var n=e.split("x")[0],r=Number(n[n.length-1]);if(!Number.isNaN(r))return(t+=8*(5-r/2))+"Array";M("unknown format ".concat(e))},ej=function(e){var t;if("f"===e[0]||"n"===e[1])t="f32";else if("s"===e[0]&&"i"===e[1])t="i32";else{if("u"!==e[0]||"i"!==e[1])return void M("unknown format ".concat(e));t="u32"}var n=1;return"x"===e[e.length-2]&&(n=Number(e[e.length-1])),4===n?"vec4<".concat(t,">"):3===n?"vec3<".concat(t,">"):2===n?"vec2<".concat(t,">"):t},tj=function(e){if(!e)return 0;var t=1;return"vec"===e.substring(0,3)?t=e[3]:"mat"===e.substring(0,3)&&(t=e[3]*e[5]),4*t},nj=function(e){if(e)return e.includes("f32")?"Float32Array":e.includes("i32")?"Int32Array":e.includes("u32")?"Uint32Array":void M("unknown format ".concat(e))};function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ij=GF.BufferUsage,aj=GF.PrimitiveTypes,sj=av.Representation,uj=k;function cj(e,t){return e.time===t.time&&e.format===t.format&&e.usage===t.usage&&e.hash===t.hash}var lj={anythingToPoints:function(e,t){return e},linesToWireframe:function(e,t){return e>1?2*(e-1):0},polysToWireframe:function(e,t){return e>2?2*e:0},stripsToWireframe:function(e,t){return e>2?4*e-6:0},polysToSurface:function(e,t){return e>2?3*(e-2):0},stripsToSurface:function(e,t,n){return numPoints>2?3*(e-2):0}};function fj(e){switch(e){case aj.Points:return"points";case aj.Lines:return"lines";case aj.Triangles:return"polys";case aj.TriangleStrips:return"strips";default:return""}}function dj(e,t,n){var r=null;r=t===sj.POINTS||"points"===n?lj.anythingToPoints:t===sj.WIREFRAME||"lines"===n?lj["".concat(n,"ToWireframe")]:lj["".concat(n,"ToSurface")];for(var o=e.getData(),i=o.length,a=0,s=0;s<i;)a+=r(o[s],o),s+=o[s]+1;return a}function pj(e,t,n,r){var o=[];return et([e[3*r]-e[3*n],e[3*r+1]-e[3*n+1],e[3*r+2]-e[3*n+2]],[e[3*t]-e[3*n],e[3*t+1]-e[3*n+1],e[3*t+2]-e[3*n+2]],o),nt(o),o}function hj(e,t){t.classHierarchy.push("vtkWebGPUBufferManager"),e.hasBuffer=function(e){if(e.source&&t.buffers.has(e.source))for(var n=t.buffers.get(e.source),r=0;r<n.length;r++)if(cj(n[r].request,e))return!0;return!1},e.getBuffer=function(e){if(e.source&&t.buffers.has(e.source))for(var n=t.buffers.get(e.source),r=0;r<n.length;r++)if(cj(n[r].request,e))return n[r].buffer;e.dataArray&&!e.nativeArray&&(e.nativeArray=e.dataArray.getData());var o=YF.newInstance();o.setDevice(t.device);var i=null;if(e.usage===ij.UniformArray&&(i=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,o.createAndWrite(e.nativeArray,i)),e.usage===ij.Storage&&(i=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,o.createAndWrite(e.nativeArray,i)),e.usage===ij.Texture&&(i=GPUBufferUsage.COPY_SRC,o.createAndWrite(e.nativeArray,i)),e.usage===ij.PointArray){i=GPUBufferUsage.VERTEX;var a=QF(e.format),s=function(e,t,n,r,o,i){var a={elementCount:0,blockSize:0,stride:0};if(!e.getData()||!e.getData().length)return a;var s=[0,0,0,0];i.shift&&(i.shift.length?s=i.shift:s.fill(i.shift));var u=[1,1,1,1];i.scale&&(i.scale.length?u=i.scale:u.fill(i.scale));var c,l=!!Object.prototype.hasOwnProperty.call(i,"packExtra")&&i.packExtra,f=r.getData(),d={anythingToPoints:function(e,t,n,r){for(var o=0;o<e;++o)c(t[n+o],r)},linesToWireframe:function(e,t,n,r){for(var o=0;o<e-1;++o)c(t[n+o],r),c(t[n+o+1],r)},polysToWireframe:function(e,t,n,r){if(e>2)for(var o=0;o<e;++o)c(t[n+o],r),c(t[n+(o+1)%e],r)},stripsToWireframe:function(e,t,n,r){if(e>2){for(var o=0;o<e-1;++o)c(t[n+o],r),c(t[n+o+1],r);for(var i=0;i<e-2;i++)c(t[n+i],r),c(t[n+i+2],r)}},polysToSurface:function(e,t,n,r){for(var o=0;o<e-2;o++)c(t[n+0],r),c(t[n+o+1],r),c(t[n+o+2],r)},stripsToSurface:function(e,t,n,r){for(var o=0;o<e-2;o++)c(t[n+o],r),c(t[n+o+1+o%2],r),c(t[n+o+1+(o+1)%2],r)}},p=fj(t),h=null;h=n===sj.POINTS||t===aj.Points?d.anythingToPoints:n===sj.WIREFRAME||t===aj.Lines?d["".concat(p,"ToWireframe")]:d["".concat(p,"ToSurface")];var m=e.getData(),g=m.length,v=dj(e,n,p),y=0,b=r.getNumberOfComponents(),w=L(o,v*(b+(l?1:0))),x=function(e,t){return f[e]};i.cellData&&(x=function(e,t){return f[t]}),1===b?c=function(e,t){w[y++]=u[0]*x(e,t)+s[0]}:2===b?c=function(e,t){w[y++]=u[0]*x(2*e,2*t)+s[0],w[y++]=u[1]*x(2*e+1,2*t+1)+s[1]}:3!==b||l?3===b&&l?c=function(e,t){w[y++]=u[0]*x(3*e,3*t)+s[0],w[y++]=u[1]*x(3*e+1,3*t+1)+s[1],w[y++]=u[2]*x(3*e+2,3*t+2)+s[2],w[y++]=1*u[3]+s[3]}:4===b&&(c=function(e,t){w[y++]=u[0]*x(4*e,4*t)+s[0],w[y++]=u[1]*x(4*e+1,4*t+1)+s[1],w[y++]=u[2]*x(4*e+2,4*t+2)+s[2],w[y++]=u[3]*x(4*e+3,4*t+3)+s[3]}):c=function(e,t){w[y++]=u[0]*x(3*e,3*t)+s[0],w[y++]=u[1]*x(3*e+1,3*t+1)+s[1],w[y++]=u[2]*x(3*e+2,3*t+2)+s[2]};for(var C=i.cellOffset,S=0;S<g;)h(m[S],m,S+1,C),S+=m[S]+1,C++;return a.nativeArray=w,a.elementCount=v,a}(e.cells,e.primitiveType,e.representation,e.dataArray,a,{packExtra:e.packExtra,shift:e.shift,scale:e.scale,cellData:e.cellData,cellOffset:e.cellOffset});o.createAndWrite(s.nativeArray,i),o.setStrideInBytes($F(e.format)),o.setArrayInformation([{offset:0,format:e.format}])}if(e.usage===ij.NormalsFromPoints){i=GPUBufferUsage.VERTEX;var u=function(e,t,n,r){if(!e.getData()||!e.getData().length)return null;var o,i=r.getData(),a={polysToPoints:function(e,t,n){for(var r=pj(i,t[n],t[n+1],t[n+2]),a=0;a<e;++a)o(r)},polysToWireframe:function(e,t,n){for(var r=pj(i,t[n],t[n+1],t[n+2]),a=0;a<e;++a)o(r),o(r)},polysToSurface:function(e,t,n){if(e<3)uj("skipping degenerate triangle");else for(var r=pj(i,t[n],t[n+1],t[n+2]),a=0;a<e-2;a++)o(r),o(r),o(r)}},s=fj(t),u=null;u=n===sj.POINTS?a["".concat(s,"ToPoints")]:n===sj.WIREFRAME?a["".concat(s,"ToWireframe")]:a["".concat(s,"ToSurface")];var c=dj(e,n,s),l=0,f=new Int8Array(4*c);o=function(e){f[l++]=127*e[0],f[l++]=127*e[1],f[l++]=127*e[2],f[l++]=127};for(var d=e.getData(),p=d.length,h=0;h<p;)u(d[h],d,h+1),h+=d[h]+1;return f}(e.cells,e.primitiveType,e.representation,e.dataArray);o.createAndWrite(u,i),o.setStrideInBytes($F(e.format)),o.setArrayInformation([{offset:0,format:e.format}])}return e.usage===ij.RawVertex&&(i=GPUBufferUsage.VERTEX,o.createAndWrite(e.nativeArray,i),o.setStrideInBytes($F(e.format)),o.setArrayInformation([{offset:0,format:e.format}])),o.setSourceTime(e.time),e.source&&(t.buffers.has(e.source)||t.buffers.set(e.source,[]),t.buffers.get(e.source).push({request:{time:e.time,format:e.format,usage:e.usage,hash:e.hash},buffer:o})),o},e.getFullScreenQuadBuffer=function(){if(t.fullScreenQuadBuffer)return t.fullScreenQuadBuffer;t.fullScreenQuadBuffer=YF.newInstance(),t.fullScreenQuadBuffer.setDevice(t.device);var e=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,-1,1,1,1,1,-1,1,1]);return t.fullScreenQuadBuffer.createAndWrite(e,GPUBufferUsage.VERTEX),t.fullScreenQuadBuffer.setStrideInBytes(12),t.fullScreenQuadBuffer.setArrayInformation([{offset:0,format:"float32x3"}]),t.fullScreenQuadBuffer}}var mj={device:null,fullScreenQuadBuffer:null};function gj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mj,n),W(e,t),t.buffers=new WeakMap,Y(e,t,["device"]),hj(e,t)}var vj=oj(oj({newInstance:ne(gj),extend:gj},{}),GF);function yj(e,t){t.classHierarchy.push("vtkWebGPUSampler"),e.create=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.device=e,t.handle=t.device.getHandle().createSampler({magFilter:n.magFilter?n.magFilter:"nearest",minFilter:n.minFilter?n.minFilter:"nearest"}),t.bindGroupTime.modified()},e.getShaderCode=function(e,n){return"[[binding(".concat(e,"), group(").concat(n,")]] var ").concat(t.name,": sampler;")},e.getBindGroupEntry=function(){return{resource:t.handle}}}var bj={device:null,handle:null,name:null};function wj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bj,n),fe.obj(e,t),t.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},t.bindGroupTime={},fe.obj(t.bindGroupTime,{mtime:0}),fe.get(e,t,["bindGroupTime","handle"]),fe.setGet(e,t,["bindGroupLayoutEntry","device","name"]),yj(e,t)}var xj={newInstance:fe.newInstance(wj),extend:wj};function Cj(e,t){t.classHierarchy.push("vtkWebGPUTextureView"),e.create=function(e,n){t.texture=e,t.options=n,t.options.dimension=t.options.dimension||"2d",t.textureHandle=e.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupLayoutEntry.texture.viewDimension=t.options.dimension},e.getBindGroupEntry=function(){return{resource:e.getHandle()}},e.getShaderCode=function(e,n){return"[[binding(".concat(e,"), group(").concat(n,")]] var ").concat(t.name,": texture_").concat(t.options.dimension,"<f32>;")},e.addSampler=function(n,r){var o=xj.newInstance();o.create(n,r),e.setSampler(o),t.sampler.setName("".concat(t.name,"Sampler"))},e.setName=function(n){t.sampler&&t.sampler.setName("".concat(n,"Sampler")),t.name!==n&&(t.name=n,e.modified())},e.getBindGroupTime=function(){return t.texture.getHandle()!==t.textureHandle&&(t.textureHandle=t.texture.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupTime.modified()),t.bindGroupTime},e.getHandle=function(){return t.texture.getHandle()!==t.textureHandle&&(t.textureHandle=t.texture.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupTime.modified()),t.handle}}var Sj={texture:null,handle:null,name:null,sampler:null};function Aj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sj,n),fe.obj(e,t),t.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{viewDimension:"2d"}},t.bindGroupTime={},fe.obj(t.bindGroupTime,{mtime:0}),fe.get(e,t,["bindGroupTime","name","texture"]),fe.setGet(e,t,["bindGroupLayoutEntry","sampler"]),Cj(e,t)}var _j={newInstance:fe.newInstance(Aj),extend:Aj},Pj=vj.BufferUsage;function Oj(e,t){t.classHierarchy.push("vtkWebGPUTexture"),e.create=function(e,n){t.device=e,t.width=n.width,t.height=n.height,t.depth=n.depth?n.depth:1;var r=1===t.depth?"2d":"3d";t.format=n.format?n.format:"rgbaunorm",t.usage=n.usage?n.usage:GPUTextureUsage.SAMPLED|GPUTextureUsage.COPY_DST,t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage,dimension:r})},e.assignFromHandle=function(e,n,r){t.device=e,t.handle=n,t.width=r.width,t.height=r.height,t.depth=r.depth?r.depth:1,t.format=r.format?r.format:"rgbaunorm",t.usage=r.usage?r.usage:GPUTextureUsage.SAMPLED|GPUTextureUsage.COPY_DST},e.writeImageData=function(e){var n=JF(t.format),r=t.width*n.stride;if(e.nativeArray){var o={usage:Pj.Texture};e.dataArray&&(o.dataArray=e.dataArray,o.time=e.dataArray.getMTime()),o.nativeArray=e.nativeArray;var i=t.width*n.stride;if(i%256){for(var a=e.dataArray.getData(),s=256*Math.floor((i+255)/256),u=s/a.BYTES_PER_ELEMENT,c=i/a.BYTES_PER_ELEMENT,l=fe.newTypedArray(a.name,u*t.height*t.depth),f=0;f<t.height*t.depth;f++)l.set(a.subarray(f*c,(f+1)*c),f*u);o.nativeArray=l,r=s}var d=t.device.getBufferManager().getBuffer(o);t.buffer=d}if(e.image){var p=document.createElement("canvas");p.width=e.image.width,p.height=e.image.height;var h=p.getContext("2d");h.translate(0,p.height),h.scale(1,-1),h.drawImage(e.image,0,0,e.image.width,e.image.height,0,0,p.width,p.height);var m={nativeArray:h.getImageData(0,0,e.image.width,e.image.height).data,time:0,usage:Pj.Texture,format:"unorm8x4"},g=t.device.getBufferManager().getBuffer(m);t.buffer=g}var v=t.device.createCommandEncoder();v.copyBufferToTexture({buffer:t.buffer.getHandle(),offset:0,bytesPerRow:r,rowsPerImage:t.height},{texture:t.handle},[t.width,t.height,t.depth]),t.device.submitCommandEncoder(v),t.ready=!0},e.resizeToMatch=function(e){e.getWidth()===t.width&&e.getHeight()===t.height&&e.getDepth()===t.depth||(t.width=e.getWidth(),t.height=e.getHeight(),t.depth=e.getDepth(),t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage}))},e.resize=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e===t.width&&n===t.height&&r===t.depth||(t.width=e,t.height=n,t.depth=r,t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage}))},e.createView=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.dimension||(n.dimension=1===t.depth?"2d":"3d");var r=_j.newInstance();return r.create(e,n),r}}var Ej={device:null,handle:null,buffer:null,ready:!1};function Tj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ej,n),fe.obj(e,t),fe.get(e,t,["handle","ready","width","height","depth","format","usage"]),fe.setGet(e,t,["device"]),Oj(e,t)}var Dj={newInstance:fe.newInstance(Tj),extend:Tj};function Ij(e,t){t.classHierarchy.push("vtkWebGPUOpaquePass"),e.traverse=function(n,r){if(!t.deleted){t.currentParent=r;var o=r.getDevice();if(t.renderEncoder)t.colorTexture.resize(r.getCanvas().width,r.getCanvas().height),t.depthTexture.resize(r.getCanvas().width,r.getCanvas().height);else{e.createRenderEncoder(),t.colorTexture=Dj.newInstance(),t.colorTexture.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:"bgra8unorm",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED|GPUTextureUsage.COPY_SRC});var i=t.colorTexture.createView();i.setName("opaquePassColorTexture"),t.renderEncoder.setColorTextureView(0,i),t.depthFormat="depth32float",t.depthTexture=Dj.newInstance(),t.depthTexture.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:t.depthFormat,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED|GPUTextureUsage.COPY_SRC});var a=t.depthTexture.createView();a.setName("opaquePassDepthTexture"),t.renderEncoder.setDepthTextureView(a)}t.renderEncoder.attachTextureViews(),e.setCurrentOperation("opaquePass"),n.setRenderEncoder(t.renderEncoder),n.traverse(e)}},e.getColorTextureView=function(){return t.renderEncoder.getColorTextureViews()[0]},e.getDepthTextureView=function(){return t.renderEncoder.getDepthTextureView()},e.createRenderEncoder=function(){t.renderEncoder=zF.newInstance(),t.renderEncoder.setPipelineHash("op")}}var kj={renderEncoder:null,colorTexture:null,depthTexture:null};function Mj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kj,n),SL.extend(e,t,n),fe.get(e,t,["colorTexture","depthTexture"]),Ij(e,t)}var Nj={newInstance:fe.newInstance(Mj,"vtkWebGPUOpaquePass"),extend:Mj};function Rj(e,t){t.classHierarchy.push("vtkWebGPUBindGroup"),e.setBindables=function(n){if(t.bindables.length===n.length){for(var r=!0,o=0;o<t.bindables.length;o++)t.bindables[o]!==n[o]&&(r=!1);if(r)return}t.bindables=n,e.modified()},e.getBindGroupLayout=function(e){for(var n=[],r=0;r<t.bindables.length;r++){var o=t.bindables[r].getBindGroupLayoutEntry();o.binding=r,n.push(o)}return e.getBindGroupLayout({entries:n})},e.getBindGroup=function(n){for(var r=e.getMTime(),o=0;o<t.bindables.length;o++){var i=t.bindables[o].getBindGroupTime().getMTime();r=i>r?i:r}if(r<t.bindGroupTime.getMTime())return t.bindGroup;for(var a=[],s=0;s<t.bindables.length;s++){var u=t.bindables[s].getBindGroupEntry();u.binding=s,a.push(u)}return t.bindGroup=n.getHandle().createBindGroup({layout:e.getBindGroupLayout(n),entries:a}),t.bindGroupTime.modified(),t.bindGroup},e.getShaderCode=function(e){for(var n=[],r=e.getBindGroupLayoutCount(t.name),o=0;o<t.bindables.length;o++)n.push(t.bindables[o].getShaderCode(o,r));return n.join("\n")}}var Bj={device:null,handle:null,name:null};function Lj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Bj,n),fe.obj(e,t),t.bindables=[],t.bindGroupTime={},fe.obj(t.bindGroupTime,{mtime:0}),fe.get(e,t,["bindGroupTime","handle","sizeInBytes","usage"]),fe.setGet(e,t,["name","device","arrayInformation","sourceTime"]),Rj(e,t)}var Fj={newInstance:fe.newInstance(Lj),extend:Lj};function jj(e,t){t.classHierarchy.push("vtkWebGPUPipeline"),e.getShaderDescriptions=function(){return t.shaderDescriptions},e.initialize=function(e){t.pipelineDescription=t.renderEncoder.getPipelineSettings(),t.pipelineDescription.primitive.topology=t.topology,t.pipelineDescription.vertex=t.vertexState;for(var n=[],r=0;r<t.layouts.length;r++)n.push(t.layouts[r].layout);t.pipelineLayout=e.getHandle().createPipelineLayout({bindGroupLayouts:n}),t.pipelineDescription.layout=t.pipelineLayout;for(var o=0;o<t.shaderDescriptions.length;o++){var i=t.shaderDescriptions[o],a=e.getShaderModule(i);"vertex"===i.getType()&&(t.pipelineDescription.vertex.module=a.getHandle(),t.pipelineDescription.vertex.entryPoint="main"),"fragment"===i.getType()&&(t.pipelineDescription.fragment.module=a.getHandle(),t.pipelineDescription.fragment.entryPoint="main")}t.handle=e.getHandle().createRenderPipeline(t.pipelineDescription)},e.getShaderDescription=function(e){for(var n=0;n<t.shaderDescriptions.length;n++)if(t.shaderDescriptions[n].getType()===e)return t.shaderDescriptions[n];return null},e.addBindGroupLayout=function(e){e&&t.layouts.push({layout:e.getBindGroupLayout(t.device),name:e.getName()})},e.getBindGroupLayout=function(e){return t.layouts[e].layout},e.getBindGroupLayoutCount=function(e){for(var n=0;n<t.layouts.length;n++)if(t.layouts[n].name===e)return n;return 0},e.bindVertexInput=function(e,t){t.bindBuffers(e)}}var Vj={handle:null,layouts:null,renderEncoder:null,shaderDescriptions:null,vertexState:null,topology:null,pipelineDescription:null};function Uj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Vj,n),W(e,t),t.layouts=[],t.shaderDescriptions=[],H(e,t,["handle","pipelineDescription"]),Y(e,t,["device","renderEncoder","topology","vertexState"]),jj(e,t)}var zj={newInstance:ne(Uj,"vtkWebGPUPipeline"),extend:Uj};function Gj(e,t){t.classHierarchy.push("vtkWebGPUShaderDescription"),e.hasOutput=function(e){return t.outputNames.includes(e)},e.addOutput=function(e,n){t.outputTypes.push(e),t.outputNames.push(n)},e.addBuiltinOutput=function(e,n){t.builtinOutputTypes.push(e),t.builtinOutputNames.push(n)},e.addBuiltinInput=function(e,n){t.builtinInputTypes.push(e),t.builtinInputNames.push(n)},e.replaceShaderCode=function(e,n){var r=[],o=[];if(n&&r.push(n.getShaderCode()),e||t.builtinInputNames.length){var i=[];if(i.push("struct ".concat(t.type,"Input\n{")),e)for(var a=e.getOutputNamesByReference(),s=e.getOutputTypesByReference(),u=0;u<a.length;u++)i.push("  [[location(".concat(u,")]] ").concat(a[u]," : ").concat(s[u],";"));for(var c=0;c<t.builtinInputNames.length;c++)i.push("  ".concat(t.builtinInputNames[c]," : ").concat(t.builtinInputTypes[c],";"));i.length>1&&(i.push("};"),o=i,r[r.length-1]+=",",r.push("input: ".concat(t.type,"Input")))}if(r.length&&(t.code=LF.substitute(t.code,"//VTK::IOStructs::Input",r).result),t.outputNames.length+t.builtinOutputNames.length){for(var l=["struct ".concat(t.type,"Output\n{")],f=0;f<t.outputNames.length;f++)l.push("  [[location(".concat(f,")]] ").concat(t.outputNames[f]," : ").concat(t.outputTypes[f],";"));for(var d=0;d<t.builtinOutputNames.length;d++)l.push("  ".concat(t.builtinOutputNames[d]," : ").concat(t.builtinOutputTypes[d],";"));l.push("};"),o=o.concat(l),t.code=LF.substitute(t.code,"//VTK::IOStructs::Output",["-> ".concat(t.type,"Output")]).result}t.code=LF.substitute(t.code,"//VTK::IOStructs::Dec",o).result}}var Wj={type:null,hash:null,code:null,outputNames:null,outputTypes:null};function Hj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Wj,n),t.outputNames=[],t.outputTypes=[],t.builtinOutputNames=[],t.builtinOutputTypes=[],t.builtinInputNames=[],t.builtinInputTypes=[],fe.obj(e,t),fe.setGet(e,t,["type","hash","code"]),fe.getArray(e,t,["outputTypes","outputNames"]),Gj(e,t)}var qj={newInstance:fe.newInstance(Hj,"vtkWebGPUShaderDescription"),extend:Hj};function Kj(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!t.includes(e[n]))return!1;return!0}function Xj(e,t){t.classHierarchy.push("vtkWebGPUVertexInput"),e.addBuffer=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertex",o=n;Array.isArray(o)||(o=[o]);for(var i=0;i<t.inputs.length;i++)if(Kj(t.inputs[i].names,o)){if(t.inputs[i].buffer===e)return;return void(t.inputs[i].buffer=e)}t.inputs.push({buffer:e,stepMode:r,names:o}),t.inputs=t.inputs.sort((function(e,t){return e.names[0]<t.names[0]?-1:e.names[0]>t.names[0]?1:0}))},e.removeBufferIfPresent=function(e){for(var n=0;n<t.inputs.length;n++)t.inputs[n].names.includes(e)&&t.inputs.splice(n,1)},e.getBuffer=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer;return null},e.hasAttribute=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return!0;return!1},e.getAttributeTime=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer.getSourceTime();return 0},e.getShaderCode=function(){for(var e="",n=0,r=0;r<t.inputs.length;r++)for(var o=0;o<t.inputs[r].names.length;o++){var i=t.inputs[r].buffer.getArrayInformation()[o],a=ej(i.format);n>0&&(e+=",\n"),e="".concat(e,"  [[location(").concat(n,")]] ").concat(t.inputs[r].names[o]," : ").concat(a),n++}return e},e.getVertexInputInformation=function(){var e={};if(t.inputs.length){for(var n=[],r=0,o=0;o<t.inputs.length;o++){for(var i=t.inputs[o].buffer,a={arrayStride:i.getStrideInBytes(),stepMode:t.inputs[o].stepMode,attributes:[]},s=i.getArrayInformation(),u=0;u<t.inputs[o].names.length;u++)a.attributes.push({shaderLocation:r,offset:s[u].offset,format:s[u].format}),r++;n.push(a)}e.buffers=n}return e},e.bindBuffers=function(e){for(var n=0;n<t.inputs.length;n++)e.setVertexBuffer(n,t.inputs[n].buffer.getHandle())},e.getReady=function(){},e.releaseGraphicsResources=function(){t.created&&(t.inputs=[],t.bindingDescriptions=[],t.attributeDescriptions=[])}}var Yj={inputs:null,bindingDescriptions:!1,attributeDescriptions:null};function Zj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yj,n),W(e,t),t.bindingDescriptions=[],t.attributeDescriptions=[],t.inputs=[],Y(e,t,["created","device","handle"]),Xj(e,t)}var Jj={newInstance:ne(Zj,"vtkWebGPUVertexInput"),extend:Zj},$j="\n//VTK::Renderer::Dec\n\n//VTK::Color::Dec\n\n//VTK::Normal::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::Select::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::IOStructs::Dec\n\n[[stage(vertex)]]\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output : vertexOutput;\n\n  // var vertex: vec4<f32> = vertexBC;\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Select::Impl\n\n  //VTK::Position::Impl\n\n  return output;\n}\n",Qj="\n//VTK::Renderer::Dec\n\n//VTK::Color::Dec\n\n//VTK::Normal::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::Select::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::IOStructs::Dec\n\n[[stage(fragment)]]\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output : fragmentOutput;\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Select::Impl\n\n  // var computedColor:vec4<f32> = vec4<f32>(1.0,0.5,0.5,1.0);\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n";function eV(e,t){t.classHierarchy.push("vtkWebGPUMapperHelper"),e.generateShaderDescriptions=function(n,r,o){var i=qj.newInstance({type:"vertex",hash:n,code:t.vertexShaderTemplate}),a=qj.newInstance({type:"fragment",hash:n,code:t.fragmentShaderTemplate}),s=r.getShaderDescriptions();s.push(i),s.push(a);for(var u=t.vertexShaderTemplate+t.fragmentShaderTemplate,c=new RegExp("//VTK::[^:]*::","g"),l=u.match(c).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return"replaceShader".concat(e.substring(7,e.length-2))})),f=0;f<l.length;f++){var d=l[f];"replaceShaderIOStructs"!==d&&t.shaderReplacements.has(d)&&t.shaderReplacements.get(d)(n,r,o)}e.replaceShaderIOStructs(n,r,o)},e.replaceShaderIOStructs=function(e,t,n){var r=t.getShaderDescription("vertex");r.replaceShaderCode(null,n),t.getShaderDescription("fragment").replaceShaderCode(r)},e.replaceShaderRenderEncoder=function(e,n,r){t.renderEncoder.replaceShaderCode(n)},t.shaderReplacements.set("replaceShaderRenderEncoder",e.replaceShaderRenderEncoder),e.replaceShaderRenderer=function(e,n,r){if(t.WebGPURenderer){var o=t.WebGPURenderer.getBindGroup().getShaderCode(n),i=n.getShaderDescription("vertex"),a=i.getCode();a=LF.substitute(a,"//VTK::Renderer::Dec",[o]).result,i.setCode(a);var s=n.getShaderDescription("fragment");a=s.getCode(),a=LF.substitute(a,"//VTK::Renderer::Dec",[o]).result,s.setCode(a)}},t.shaderReplacements.set("replaceShaderRenderer",e.replaceShaderRenderer),e.replaceShaderMapper=function(e,n,r){var o=t.bindGroup.getShaderCode(n),i=n.getShaderDescription("vertex"),a=i.getCode();a=LF.substitute(a,"//VTK::Mapper::Dec",[o]).result,i.setCode(a);var s=n.getShaderDescription("fragment");s.addBuiltinInput("bool","[[builtin(front_facing)]] frontFacing"),a=s.getCode(),a=LF.substitute(a,"//VTK::Mapper::Dec",[o]).result,s.setCode(a)},t.shaderReplacements.set("replaceShaderMapper",e.replaceShaderMapper),e.replaceShaderPosition=function(e,t,n){var r=t.getShaderDescription("vertex");r.addBuiltinOutput("vec4<f32>","[[builtin(position)]] Position");var o=r.getCode();o=LF.substitute(o,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*vertexBC;"]).result,r.setCode(o)},t.shaderReplacements.set("replaceShaderPosition",e.replaceShaderPosition),e.replaceShaderTCoord=function(e,t,n){t.getShaderDescription("vertex").addOutput("vec2<f32>","tcoordVS")},t.shaderReplacements.set("replaceShaderTCoord",e.replaceShaderTCoord),e.addTextureView=function(e){t.textureViews.includes(e)||t.textureViews.push(e)},e.renderForPipeline=function(e){var n=e.getBoundPipeline();e.activateBindGroup(t.bindGroup),n.bindVertexInput(e,t.vertexInput),e.draw(t.numberOfVertices,t.numberOfInstances,0,0)},e.registerToDraw=function(){t.pipeline&&t.WebGPURenderer.registerPipelineCallback(t.pipeline,e.renderForPipeline)},e.render=function(n,r){e.build(n,r),n.setPipeline(t.pipeline),t.WebGPURenderer&&t.WebGPURenderer.bindUBO(n),e.renderForPipeline(n)},e.getBindables=function(){var e=[];t.UBO&&e.push(t.UBO),t.SSBO&&e.push(t.SSBO);for(var n=0;n<t.textureViews.length;n++){e.push(t.textureViews[n]);var r=t.textureViews[n].getSampler();r&&e.push(r)}return e},e.build=function(n,r){t.renderEncoder=n,t.pipeline=r.getPipeline(t.pipelineHash),t.bindGroup.setBindables(e.getBindables()),t.pipeline||(t.pipeline=zj.newInstance(),t.pipeline.setDevice(r),t.WebGPURenderer&&t.pipeline.addBindGroupLayout(t.WebGPURenderer.getBindGroup()),t.pipeline.addBindGroupLayout(t.bindGroup),e.generateShaderDescriptions(t.pipelineHash,t.pipeline,t.vertexInput),t.pipeline.setTopology(t.topology),t.pipeline.setRenderEncoder(n),t.pipeline.setVertexState(t.vertexInput.getVertexInputInformation()),r.createPipeline(t.pipelineHash,t.pipeline))}}var tV={bindGroup:null,device:null,fragmentShaderTemplate:null,numberOfInstances:1,numberOfVertices:0,pipelineHash:null,shaderReplacements:null,SSBO:null,textureViews:null,topology:"triangle-list",UBO:null,vertexShaderTemplate:null,WebGPURenderer:null};function nV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tV,n),fe.obj(e,t),t.textureViews=[],t.vertexInput=Jj.newInstance(),t.bindGroup=Fj.newInstance(),t.bindGroup.setName("mapperBG"),t.fragmentShaderTemplate=t.fragmentShaderTemplate||Qj,t.vertexShaderTemplate=t.vertexShaderTemplate||$j,t.shaderReplacements=new Map,fe.get(e,t,["vertexInput"]),fe.setGet(e,t,["device","fragmentShaderTemplate","interpolate","numberOfInstances","numberOfVertices","pipelineHash","shaderReplacements","SSBO","textureViews","topology","UBO","vertexShaderTemplate","WebGPURenderer"]),eV(e,t)}var rV={newInstance:fe.newInstance(nV,"vtkWebGPUMapperHelper"),extend:nV};function oV(e,t){t.classHierarchy.push("vtkWebGPUFullScreenQuad"),e.replaceShaderPosition=function(e,t,n){var r=t.getShaderDescription("vertex");r.addBuiltinOutput("vec4<f32>","[[builtin(position)]] Position");var o=r.getCode();o=LF.substitute(o,"//VTK::Position::Impl",["output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);","output.Position = vec4<f32>(vertexBC, 1.0);"]).result,r.setCode(o)},t.shaderReplacements.set("replaceShaderPosition",e.replaceShaderPosition);var n=e.build;e.build=function(e,r){var o=r.getBufferManager().getFullScreenQuadBuffer();t.vertexInput.addBuffer(o,["vertexBC"]),t.numberOfVertices=6,n(e,r)}}var iV={};function aV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iV,n),rV.extend(e,t,n),oV(e,t)}var sV={newInstance:fe.newInstance(aV,"vtkWebGPUFullScreenQuad"),extend:aV};function uV(e,t){t.classHierarchy.push("vtkWebGPUOrderIndependentTranslucentPass"),e.traverse=function(n,r){if(!t.deleted){t.currentParent=r;var o=r.getDevice();if(t.translucentRenderEncoder)t.translucentColorTexture.resizeToMatch(t.colorTextureView.getTexture()),t.translucentAccumulateTexture.resizeToMatch(t.colorTextureView.getTexture());else{e.createRenderEncoder(),e.createFinalEncoder(),t.translucentColorTexture=Dj.newInstance(),t.translucentColorTexture.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:"rgba16float",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED});var i=t.translucentColorTexture.createView();i.setName("oitpColorTexture"),t.translucentRenderEncoder.setColorTextureView(0,i),t.translucentAccumulateTexture=Dj.newInstance(),t.translucentAccumulateTexture.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:"r16float",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED});var a=t.translucentAccumulateTexture.createView();a.setName("oitpAccumTexture"),t.translucentRenderEncoder.setColorTextureView(1,a),t.fullScreenQuad=sV.newInstance(),t.fullScreenQuad.setDevice(r.getDevice()),t.fullScreenQuad.setPipelineHash("oitpfsq"),t.fullScreenQuad.setTextureViews(t.translucentRenderEncoder.getColorTextureViews()),t.fullScreenQuad.setFragmentShaderTemplate("\n//VTK::Mapper::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::IOStructs::Dec\n\n[[stage(fragment)]]\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output: fragmentOutput;\n\n  var tcoord: vec2<i32> = vec2<i32>(i32(input.fragPos.x), i32(input.fragPos.y));\n  var reveal: f32 = textureLoad(oitpAccumTexture, tcoord, 0).r;\n  if (reveal == 1.0) { discard; }\n  var tcolor: vec4<f32> = textureLoad(oitpColorTexture, tcoord, 0);\n  var total: f32 = max(tcolor.a, 0.01);\n  var computedColor: vec4<f32> = vec4<f32>(tcolor.r/total, tcolor.g/total, tcolor.b/total, 1.0 - reveal);\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n")}t.translucentRenderEncoder.setDepthTextureView(t.depthTextureView),t.translucentRenderEncoder.attachTextureViews(),e.setCurrentOperation("translucentPass"),n.setRenderEncoder(t.translucentRenderEncoder),n.traverse(e),e.finalPass(r,n)}},e.finalPass=function(e,n){t.translucentFinalEncoder.setColorTextureView(0,t.colorTextureView),t.translucentFinalEncoder.attachTextureViews(),n.setRenderEncoder(t.translucentFinalEncoder),t.translucentFinalEncoder.begin(e.getCommandEncoder()),n.scissorAndViewport(t.translucentFinalEncoder),t.fullScreenQuad.render(t.translucentFinalEncoder,e.getDevice()),t.translucentFinalEncoder.end()},e.getTextures=function(){return[t.translucentColorTexture,t.translucentAccumulateTexture]},e.createRenderEncoder=function(){t.translucentRenderEncoder=zF.newInstance();var e=t.translucentRenderEncoder.getDescription();e.colorAttachments=[{view:void 0,loadValue:[0,0,0,0],storeOp:"store"},{view:void 0,loadValue:[1,0,0,0],storeOp:"store"}],e.depthStencilAttachment={view:void 0,depthLoadValue:"load",depthStoreOp:"store",stencilLoadValue:"load",stencilStoreOp:"store"},t.translucentRenderEncoder.setReplaceShaderCodeFunction((function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<f32>","outColor"),t.addOutput("f32","outAccum"),t.addBuiltinInput("vec4<f32>","[[builtin(position)]] fragPos");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["var w: f32 = 1.0 - input.fragPos.z * 0.9;","output.outColor = vec4<f32>(computedColor.rgb*computedColor.a, computedColor.a) * w;","output.outAccum = computedColor.a;"]).result,t.setCode(n)})),t.translucentRenderEncoder.setPipelineHash("oitpr"),t.translucentRenderEncoder.setPipelineSettings({primitive:{cullMode:"none"},depthStencil:{depthWriteEnabled:!1,depthCompare:"less",format:"depth32float"},fragment:{targets:[{format:"rgba16float",blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcfactor:"one",dstFactor:"one"}}},{format:"r16float",blend:{color:{srcFactor:"zero",dstFactor:"one-minus-src"},alpha:{srcfactor:"one",dstFactor:"one-minus-src-alpha"}}}]}})},e.createFinalEncoder=function(){t.translucentFinalEncoder=zF.newInstance(),t.translucentFinalEncoder.setDescription({colorAttachments:[{view:null,loadValue:"load",storeOp:"store"}]}),t.translucentFinalEncoder.setReplaceShaderCodeFunction((function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<f32>","outColor"),t.addBuiltinInput("vec4<f32>","[[builtin(position)]] fragPos");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["output.outColor = vec4<f32>(computedColor.rgb*computedColor.a, computedColor.a);"]).result,t.setCode(n)})),t.translucentFinalEncoder.setPipelineHash("oitpf"),t.translucentFinalEncoder.setPipelineSettings({primitive:{cullMode:"none"},fragment:{targets:[{format:"bgra8unorm",blend:{color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"},alpha:{srcfactor:"one",dstFactor:"one-minus-src-alpha"}}}]}})}}var cV={colorTextureView:null,depthTextureView:null};function lV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,cV,n),SL.extend(e,t,n),fe.setGet(e,t,["colorTextureView","depthTextureView"]),uV(e,t)}var fV={newInstance:fe.newInstance(lV,"vtkWebGPUOrderIndependentTranslucentPass"),extend:lV},dV=vj.BufferUsage,pV=fe.vtkErrorMacro;function hV(e,t){t.classHierarchy.push("vtkWebGPUUniformBuffer"),e.addEntry=function(e,n){t._bufferEntryNames.has(e)?pV("entry named ".concat(e," already exists")):(t.sortDirty=!0,t._bufferEntryNames.set(e,t.bufferEntries.length),t.bufferEntries.push({name:e,type:n,sizeInBytes:tj(n),offset:-1,nativeType:nj(n),packed:!1}))},e.sortBufferEntries=function(){if(t.sortDirty){for(var e=0,n=[],r=0;r<t.bufferEntries.length;r++){var o=t.bufferEntries[r];!1===o.packed&&o.sizeInBytes%16==0&&(o.packed=!0,o.offset=e,n.push(o),e+=o.sizeInBytes)}for(var i=0;i<t.bufferEntries.length;i++){var a=t.bufferEntries[i];if(!1===a.packed&&12===a.sizeInBytes)for(var s=0;s<t.bufferEntries.length;s++){var u=t.bufferEntries[s];if(!1===u.packed&&4===u.sizeInBytes){a.packed=!0,a.offset=e,n.push(a),e+=a.sizeInBytes,u.packed=!0,u.offset=e,n.push(u),e+=u.sizeInBytes;break}}}for(var c=0;c<t.bufferEntries.length;c++){var l=t.bufferEntries[c];if(!l.packed&&l.sizeInBytes%8==0)for(var f=c+1;f<t.bufferEntries.length;f++){var d=t.bufferEntries[f];if(!d.packed&&d.sizeInBytes%8==0){l.packed=!0,l.offset=e,n.push(l),e+=l.sizeInBytes,d.packed=!0,d.offset=e,n.push(d),e+=d.sizeInBytes;break}}}for(var p=0;p<t.bufferEntries.length;p++){var h=t.bufferEntries[p];if(!h.packed&&h.sizeInBytes%8==0)for(var m=!1,g=0;!m&&g<t.bufferEntries.length;g++){var v=t.bufferEntries[g];if(!v.packed&&4===v.sizeInBytes)for(var y=g+1;y<t.bufferEntries.length;y++){var b=t.bufferEntries[y];if(!b.packed&&4===b.sizeInBytes){h.packed=!0,h.offset=e,n.push(h),e+=h.sizeInBytes,v.packed=!0,v.offset=e,n.push(v),e+=v.sizeInBytes,b.packed=!0,b.offset=e,n.push(b),e+=b.sizeInBytes,m=!0;break}}}}for(var w=0;w<t.bufferEntries.length;w++){var x=t.bufferEntries[w];!x.packed&&x.sizeInBytes>4&&(x.packed=!0,x.offset=e,n.push(x),e+=x.sizeInBytes)}for(var C=0;C<t.bufferEntries.length;C++){var S=t.bufferEntries[C];S.packed||(S.packed=!0,S.offset=e,n.push(S),e+=S.sizeInBytes)}t.bufferEntries=n,t._bufferEntryNames.clear();for(var A=0;A<t.bufferEntries.length;A++)t._bufferEntryNames.set(t.bufferEntries[A].name,A);t.sizeInBytes=e,t.sortDirty=!1}},e.sendIfNeeded=function(e){if(!t.UBO){var n={nativeArray:t.Float32Array,time:0,usage:dV.UniformArray};t.UBO=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),t.sendDirty=!1}t.sendDirty&&(e.getHandle().queue.writeBuffer(t.UBO.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes),t.sendDirty=!1),t.sendTime.modified()},e.createView=function(e){e in t==0&&(t.arrayBuffer||(t.arrayBuffer=new ArrayBuffer(t.sizeInBytes)),t[e]=fe.newTypedArray(e,t.arrayBuffer))},e.setValue=function(n,r){e.sortBufferEntries();var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);var a=t[i.nativeType];i.lastValue!==r&&(a[i.offset/a.BYTES_PER_ELEMENT]=r,t.sendDirty=!0),i.lastValue=r}else pV("entry named ".concat(n," not found in UBO"))},e.setArray=function(n,r){e.sortBufferEntries();var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);for(var a=t[i.nativeType],s=!1,u=0;u<r.length;u++)i.lastValue&&i.lastValue[u]===r[u]||(a[i.offset/a.BYTES_PER_ELEMENT+u]=r[u],s=!0);s&&(t.sendDirty=!0,i.lastValue=y(r))}else pV("entry named ".concat(n," not found in UBO"))},e.getBindGroupEntry=function(){return{resource:{buffer:t.UBO.getHandle()}}},e.getSendTime=function(){return t.sendTime.getMTime()},e.getShaderCode=function(n,r){e.sortBufferEntries();for(var o=["[[block]] struct ".concat(t.name,"Struct\n{")],i=0;i<t.bufferEntries.length;i++){var a=t.bufferEntries[i];o.push("  ".concat(a.name,": ").concat(a.type,";"))}return o.push("};\n[[binding(".concat(n,"), group(").concat(r,")]] var<uniform> ").concat(t.name,": ").concat(t.name,"Struct;")),o.join("\n")}}var mV={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,name:null,bindGroupLayoutEntry:null,bindGroupEntry:null};function gV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mV,n),fe.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:"uniform"}},t.sendTime={},fe.obj(t.sendTime,{mtime:0}),t.bindGroupTime={},fe.obj(t.bindGroupTime,{mtime:0}),t.sendDirty=!0,t.sortDirty=!0,fe.get(e,t,["binding","bindGroupTime"]),fe.setGet(e,t,["bindGroupLayoutEntry","device","name","sizeInBytes"]),hV(e,t)}var vV={newInstance:fe.newInstance(gV,"vtkWebGPUUniformBuffer"),extend:gV},yV=vj.BufferUsage,bV=fe.vtkErrorMacro;function wV(e,t){t.classHierarchy.push("vtkWebGPUStorageBuffer"),e.addEntry=function(e,n){if(t._bufferEntryNames.has(e))bV("entry named ".concat(e," already exists"));else{t._bufferEntryNames.set(e,t.bufferEntries.length);var r=tj(n);t.bufferEntries.push({name:e,type:n,sizeInBytes:r,offset:t.sizeInBytes,nativeType:nj(n)}),t.sizeInBytes+=r}},e.send=function(e){if(!t._buffer){var n={nativeArray:t.Float32Array,time:0,usage:yV.Storage};return t._buffer=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),void t._sendTime.modified()}e.getHandle().queue.writeBuffer(t._buffer.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes*t.numberOfInstances),t._sendTime.modified()},e.createView=function(e){e in t==0&&(t.arrayBuffer||(t.arrayBuffer=new ArrayBuffer(t.sizeInBytes*t.numberOfInstances)),t[e]=fe.newTypedArray(e,t.arrayBuffer))},e.setValue=function(n,r,o){var i=t._bufferEntryNames.get(n);if(void 0!==i){var a=t.bufferEntries[i];e.createView(a.nativeType);var s=t[a.nativeType];s[(a.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT]=o}else bV("entry named ".concat(n," not found in UBO"))},e.setArray=function(n,r,o){var i=t._bufferEntryNames.get(n);if(void 0!==i){var a=t.bufferEntries[i];e.createView(a.nativeType);for(var s=t[a.nativeType],u=(a.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT,c=0;c<o.length;c++)s[u+c]=o[c]}else bV("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArray=function(n,r){var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);for(var a=t[i.nativeType],s=r.length/t.numberOfInstances,u=0;u<t.numberOfInstances;u++)for(var c=(i.offset+u*t.sizeInBytes)/a.BYTES_PER_ELEMENT,l=0;l<s;l++)a[c+l]=r[u*s+l]}else bV("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArrayColorToFloat=function(n,r){var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);for(var a=t[i.nativeType],s=r.length/t.numberOfInstances,u=0;u<t.numberOfInstances;u++)for(var c=(i.offset+u*t.sizeInBytes)/a.BYTES_PER_ELEMENT,l=0;l<s;l++)a[c+l]=r[u*s+l]/255}else bV("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArray3x3To4x4=function(n,r){var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);for(var a=t[i.nativeType],s=0;s<t.numberOfInstances;s++)for(var u=(i.offset+s*t.sizeInBytes)/a.BYTES_PER_ELEMENT,c=0;c<3;c++)for(var l=0;l<3;l++)a[u+4*c+l]=r[9*s+3*c+l]}else bV("entry named ".concat(n," not found in UBO"))},e.getSendTime=function(){return t._sendTime.getMTime()},e.getShaderCode=function(e,n){for(var r=["struct ".concat(t.name,"StructEntry\n{")],o=0;o<t.bufferEntries.length;o++){var i=t.bufferEntries[o];r.push("  ".concat(i.name,": ").concat(i.type,";"))}return r.push("\n};\n[[block]] struct ".concat(t.name,"Struct\n{\n  values: array<").concat(t.name,"StructEntry>;\n};\n[[binding(").concat(e,"), group(").concat(n,")]] var<storage> ").concat(t.name,": [[access(read)]] ").concat(t.name,"Struct;\n")),r.join("\n")},e.getBindGroupEntry=function(){return{resource:{buffer:t._buffer.getHandle()}}},e.clearData=function(){t.numberOfInstances=0,t.sizeInBytes=0,t.bufferEntries=[],t._bufferEntryNames=new Map,t._buffer=null,delete t.arrayBuffer,delete t.Float32Array}}var xV={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,name:null,numberOfInstances:1};function CV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xV,n),fe.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t._sendTime={},fe.obj(t._sendTime,{mtime:0}),t.bindGroupTime={},fe.obj(t.bindGroupTime,{mtime:0}),t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:"read-only-storage"}},fe.get(e,t,["bindGroupTime"]),fe.setGet(e,t,["device","bindGroupLayoutEntry","name","numberOfInstances","sizeInBytes"]),wV(e,t)}var SV={newInstance:fe.newInstance(CV,"vtkWebGPUStorageBuffer"),extend:CV},AV="\n//VTK::Renderer::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::IOStructs::Dec\n\n// dummy for now till they support 3d textures\nfn getTextureValue(vTex: texture_3d<f32>, tpos: vec4<f32>, vNum: i32) -> f32\n{\n  return textureSampleLevel(vTex, clampSampler, tpos.xyz, 0.0).a;\n  // 512.0 * f32(vNum) + 20.0 * trunc(10.0 * tpos.z);\n}\n\nfn getGradient(vTex: texture_3d<f32>, tpos: vec4<f32>, vNum: i32, scalar: f32) -> vec4<f32>\n{\n  var result: vec4<f32>;\n\n  var tstep: vec4<f32> = volumeSSBO.values[vNum].tstep;\n  result.x = getTextureValue(vTex, tpos + vec4<f32>(tstep.x, 0.0, 0.0, 1.0), vNum) - scalar;\n  result.y = getTextureValue(vTex, tpos + vec4<f32>(0.0, tstep.y, 0.0, 1.0), vNum) - scalar;\n  result.z = getTextureValue(vTex, tpos + vec4<f32>(0.0, 0.0, tstep.z, 1.0), vNum) - scalar;\n\n  // divide by spacing\n  result = result / volumeSSBO.values[vNum].spacing;\n\n  var grad: f32 = length(result.xyz);\n\n  // // rotate to View Coords\n  // result.xyz =\n  //   result.x * vPlaneNormal0 +\n  //   result.y * vPlaneNormal2 +\n  //   result.z * vPlaneNormal4;\n\n  if (grad > 0.0)\n  {\n    result = result * (1.0 / grad);\n  }\n\n  result.w = grad;\n\n  return result;\n}\n\nfn processVolume(vTex: texture_3d<f32>, vNum: i32, cNum: i32, posSC: vec4<f32>, tfunRows: f32) -> vec4<f32>\n{\n  var outColor: vec4<f32> = vec4<f32>(0.0, 0.0, 0.0, 0.0);\n\n  // convert to tcoords and reject if outside the volume\n  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*posSC;\n  // var tpos: vec4<f32> = posSC*0.003;\n  if (tpos.x < 0.0 || tpos.y < 0.0 || tpos.z < 0.0 ||\n      tpos.x > 1.0 || tpos.y > 1.0 || tpos.z > 1.0) { return outColor; }\n\n  var scalar: f32 = getTextureValue(vTex, tpos, vNum);\n\n  var coord: vec2<f32> =\n    vec2<f32>(scalar * componentSSBO.values[cNum].cScale + componentSSBO.values[cNum].cShift,\n      (0.5 + 2.0 * f32(vNum)) / tfunRows);\n  var color: vec4<f32> = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);\n  coord.x = scalar * componentSSBO.values[cNum].oScale + componentSSBO.values[cNum].oShift;\n\n  var gofactor: f32 = 1.0;\n  if (componentSSBO.values[cNum].gomin <  1.0)\n  {\n    var normal: vec4<f32> = getGradient(vTex, tpos, vNum, scalar);\n    gofactor = clamp(normal.a*componentSSBO.values[cNum].goScale + componentSSBO.values[cNum].goShift,\n      componentSSBO.values[cNum].gomin, componentSSBO.values[cNum].gomax);\n  }\n  var opacity: f32 = gofactor*textureSampleLevel(ofunTexture, clampSampler, coord, 0.0).r;\n  outColor = vec4<f32>(color.rgb, opacity);\n\n  //VTK::Volume::Process\n\n  return outColor;\n}\n\nfn composite(rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>) -> vec4<f32>\n{\n  // initial ray position is at the beginning\n  var rayPosSC: vec4<f32> = minPosSC;\n\n  // how many rows (tfuns) do we have in our tfunTexture\n  var tfunRows: f32 = f32(textureDimensions(tfunTexture).y);\n\n  var curDist: f32 = 0.0;\n  var computedColor: vec4<f32> = vec4<f32>(0.0, 0.0, 0.0, 0.0);\n  var sampleColor: vec4<f32>;\n  loop\n  {\n    // for each volume, sample and accumulate color\n\n//VTK::Volume::Calls\n\n    // increment position\n    curDist = curDist + mapperUBO.SampleDistance;\n    rayPosSC = rayPosSC + rayStepSC;\n\n    // check if we have reached a terminating condition\n    if (curDist > rayLengthSC) { break; }\n    if (computedColor.a > 0.98) { break; }\n  }\n  return computedColor;\n}\n\n[[stage(fragment)]]\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output: fragmentOutput;\n\n  var rayMax: f32 = textureSampleLevel(maxTexture, clampSampler, input.tcoordVS, 0.0).r;\n  var rayMin: f32 = textureSampleLevel(minTexture, clampSampler, input.tcoordVS, 0.0).r;\n\n  // discard empty rays\n  if (rayMax <= rayMin) { discard; }\n  else\n  {\n    var winDimsI32: vec2<i32> = textureDimensions(minTexture);\n    var winDims: vec2<f32> = vec2<f32>(f32(winDimsI32.x), f32(winDimsI32.y));\n\n    // compute start and end ray positions in view coordinates\n    var minPosSC: vec4<f32> = rendererUBO.PCSCMatrix*vec4<f32>(2.0*input.fragPos.x/winDims.x - 1.0, 1.0 - 2.0 * input.fragPos.y/winDims.y, rayMin, 1.0);\n    minPosSC = minPosSC * (1.0 / minPosSC.w);\n    var maxPosSC: vec4<f32> = rendererUBO.PCSCMatrix*vec4<f32>(2.0*input.fragPos.x/winDims.x - 1.0, 1.0 - 2.0 * input.fragPos.y/winDims.y, rayMax, 1.0);\n    maxPosSC = maxPosSC * (1.0 / maxPosSC.w);\n\n    var rayLengthSC: f32 = distance(minPosSC.xyz, maxPosSC.xyz);\n    var rayStepSC: vec4<f32> = (maxPosSC - minPosSC)*(mapperUBO.SampleDistance/rayLengthSC);\n    rayStepSC.w = 0.0;\n\n    //VTK::Volume::Loop\n\n    // var computedColor: vec4<f32> = vec4<f32>(rayMin, rayMax, 0.0, min(100.0*(rayMax - rayMin), 1.0));\n    // computedColor = vec4<f32>(rayLengthSC / 500.0, 1.0, 0.0, 1.0);\n    // computedColor = vec4<f32>(maxPosSC.xyz*0.01, 1.0);\n\n    //VTK::RenderEncoder::Impl\n  }\n\n  return output;\n}\n",_V=new Float64Array(16),PV=new Float64Array(16);function OV(e,t){t.classHierarchy.push("vtkWebGPUVolumePassFSQ"),e.replaceShaderPosition=function(e,t,n){var r=t.getShaderDescription("vertex");r.addBuiltinOutput("vec4<f32>","[[builtin(position)]] Position");var o=r.getCode();o=LF.substitute(o,"//VTK::Position::Impl",["output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);","output.Position = vec4<f32>(vertexBC, 1.0);"]).result,r.setCode(o),t.getShaderDescription("fragment").addBuiltinInput("vec4<f32>","[[builtin(position)]] fragPos")},t.shaderReplacements.set("replaceShaderPosition",e.replaceShaderPosition),e.replaceShaderVolume=function(e,n,r){for(var o=n.getShaderDescription("fragment"),i=o.getCode(),a=[],s=0;s<t.volumes.length;s++)a.push("      sampleColor = processVolume(volTexture".concat(s,", ").concat(s,", ").concat(t.rowStarts[s],", rayPosSC, tfunRows);")),a.push("      computedColor = vec4<f32>(\n        sampleColor.a * sampleColor.rgb * (1.0 - computedColor.a) + computedColor.rgb,\n        (1.0 - computedColor.a)*sampleColor.a + computedColor.a);");i=LF.substitute(i,"//VTK::Volume::Calls",a).result,t.blendMode===zT.COMPOSITE_BLEND&&(i=LF.substitute(i,"//VTK::Volume::Loop",["var computedColor: vec4<f32> = composite(rayLengthSC, minPosSC, rayStepSC);"]).result),o.setCode(i)},t.shaderReplacements.set("replaceShaderVolume",e.replaceShaderVolume),e.updateLUTImage=function(n){for(var r=e.getMTime(),o=0;o<t.volumes.length;o++){var i=t.volumes[o].getRenderable(),a=i.getMapper().getInputData();r=Math.max(r,i.getMTime(),a.getMTime())}if(!(r<t.lutBuildTime.getMTime())){t.numRows=0,t.rowStarts=[];for(var s=0;s<t.volumes.length;s++){t.rowStarts.push(t.numRows);var u=t.volumes[s].getRenderable(),c=u.getMapper(),l=u.getProperty(),f=c.getInputData(),d=(f.getPointData()&&f.getPointData().getScalars()).getNumberOfComponents(),p=l.getIndependentComponents()?d:1;t.numRows+=p}for(var h=new Uint8Array(2*t.numRows*t.rowLength*4),m=new Float32Array(2*t.numRows*t.rowLength),g=0,v=new Float32Array(3*t.rowLength),y=t.rowLength,b=0;b<t.volumes.length;b++)for(var w=t.volumes[b].getRenderable(),x=w.getMapper(),C=w.getProperty(),S=x.getInputData(),A=(S.getPointData()&&S.getPointData().getScalars()).getNumberOfComponents(),_=C.getIndependentComponents()?A:1,P=0;P<_;++P){var O=C.getRGBTransferFunction(P),E=O.getRange();O.getTable(E[0],E[1],y,v,1);for(var T=g*y*4,D=0;D<y;++D){h[T+4*D]=255*v[3*D],h[T+4*D+1]=255*v[3*D+1],h[T+4*D+2]=255*v[3*D+2],h[T+4*D+3]=255;for(var I=0;I<4;I++)h[T+4*(y+D)+I]=h[T+4*D+I]}var k=C.getScalarOpacity(P),M=t.sampleDist/C.getScalarOpacityUnitDistance(P),N=k.getRange();k.getTable(N[0],N[1],y,v,1),T=g*y;for(var R=0;R<y;++R)m[T+R]=1-Math.pow(1-v[R],M),m[T+R+y]=m[T+R];g+=2}var B={nativeArray:h,width:t.rowLength,height:2*t.numRows,depth:1,format:"rgba8unorm"},L=n.getTextureManager().getTexture(B).createView();L.setName("tfunTexture"),t.textureViews[2]=L;var F={nativeArray:m,width:t.rowLength,height:2*t.numRows,depth:1,format:"r32float"},j=n.getTextureManager().getTexture(F).createView();j.setName("ofunTexture"),t.textureViews[3]=j,t.lutBuildTime.modified()}},e.updateSSBO=function(n){for(var r=Math.max(e.getMTime(),t.WebGPURenderer.getStabilizedTime()),o=0;o<t.volumes.length;o++){var i=t.volumes[o].getRenderable(),a=i.getMapper().getInputData();r=Math.max(r,i.getMTime(),a.getMTime())}if(!(r<t.SSBO.getSendTime())){var s=t.WebGPURenderer.getStabilizedCenterByReference();t.SSBO.clearData(),t.SSBO.setNumberOfInstances(t.volumes.length);for(var u=new Float64Array(16*t.volumes.length),c=new Float64Array(4*t.volumes.length),l=new Float64Array(4*t.volumes.length),f=0;f<t.volumes.length;f++){var d=t.volumes[f].getRenderable().getMapper().getInputData();Di(_V),Bi(_V,_V,s);var p=t.volumes[f].getRenderable().getMatrix();Ii(PV,p),ki(PV,PV),Ri(_V,PV,_V);var h=d.getWorldToIndex();Ii(PV,h),Ri(_V,PV,_V);var m=d.getDimensions();Di(PV),Li(PV,PV,[1/m[0],1/m[1],1/m[2]]),Ri(_V,PV,_V);for(var g=0;g<16;g++)u[16*f+g]=_V[g];c[4*f]=1/m[0],c[4*f+1]=1/m[1],c[4*f+2]=1/m[2],c[4*f+3]=1;var v=d.getSpacing();l[4*f]=v[0],l[4*f+1]=v[1],l[4*f+2]=v[2],l[4*f+3]=1}t.SSBO.addEntry("SCTCMatrix","mat4x4<f32>"),t.SSBO.addEntry("tstep","vec4<f32>"),t.SSBO.addEntry("spacing","vec4<f32>"),t.SSBO.setAllInstancesFromArray("SCTCMatrix",u),t.SSBO.setAllInstancesFromArray("tstep",c),t.SSBO.setAllInstancesFromArray("spacing",l),t.SSBO.send(n),t.componentSSBO.clearData(),t.componentSSBO.setNumberOfInstances(t.numRows);for(var y=new Float64Array(t.numRows),b=new Float64Array(t.numRows),w=new Float64Array(t.numRows),x=new Float64Array(t.numRows),C=new Float64Array(t.numRows),S=new Float64Array(t.numRows),A=new Float64Array(t.numRows),_=new Float64Array(t.numRows),P=0,O=0;O<t.volumes.length;O++)for(var E=t.volumes[O].getRenderable(),T=E.getMapper(),D=E.getProperty(),I=T.getInputData(),k=(I.getPointData()&&I.getPointData().getScalars()).getNumberOfComponents(),M=D.getIndependentComponents(),N={scale:[255],offset:[0]},R=0;R<k;R++){var B=M?R:0,L=N.scale[R],F=D.getScalarOpacity(B).getRange(),j=L/(F[1]-F[0]),V=(N.offset[R]-F[0])/(F[1]-F[0]);x[P]=V,w[P]=j;var U=D.getRGBTransferFunction(B).getRange();if(b[P]=(N.offset[R]-U[0])/(U[1]-U[0]),y[P]=L/(U[1]-U[0]),D.getUseGradientOpacity(B)){var z=D.getGradientOpacityMinimumOpacity(B),G=D.getGradientOpacityMaximumOpacity(B);C[P]=z,S[P]=G;var W=[D.getGradientOpacityMinimumValue(B),D.getGradientOpacityMaximumValue(B)];_[P]=L*(G-z)/(W[1]-W[0]),A[P]=-W[0]*(G-z)/(W[1]-W[0])+z}else C[P]=1,S[P]=1,_[P]=0,A[P]=1;P++}t.componentSSBO.addEntry("cScale","f32"),t.componentSSBO.addEntry("cShift","f32"),t.componentSSBO.addEntry("oScale","f32"),t.componentSSBO.addEntry("oShift","f32"),t.componentSSBO.addEntry("goShift","f32"),t.componentSSBO.addEntry("goScale","f32"),t.componentSSBO.addEntry("gomin","f32"),t.componentSSBO.addEntry("gomax","f32"),t.componentSSBO.setAllInstancesFromArray("cScale",y),t.componentSSBO.setAllInstancesFromArray("cShift",b),t.componentSSBO.setAllInstancesFromArray("oScale",w),t.componentSSBO.setAllInstancesFromArray("oShift",x),t.componentSSBO.setAllInstancesFromArray("goScale",_),t.componentSSBO.setAllInstancesFromArray("goShift",A),t.componentSSBO.setAllInstancesFromArray("gomin",C),t.componentSSBO.setAllInstancesFromArray("gomax",S),t.componentSSBO.send(n)}},e.updateBuffers=function(n){for(var r=t.volumes[0].getRenderable().getMapper().getSampleDistance(),o=0;o<t.volumes.length;o++){var i=t.volumes[o].getRenderable().getMapper().getSampleDistance();i<r&&(r=i)}t.sampleDist!==r&&(t.sampleDist=r,t.UBO.setValue("SampleDistance",r),t.UBO.sendIfNeeded(n)),e.updateLUTImage(n),e.updateSSBO(n);for(var a=0;a<t.volumes.length;a++){var s=t.volumes[a].getRenderable().getMapper().getInputData(),u={imageData:s,source:s},c=n.getTextureManager().getTexture(u);if(!t.textureViews[a+4]||t.textureViews[a+4].getTexture()!==c){var l=c.createView();l.setName("volTexture".concat(a)),t.textureViews[a+4]=l}}},e.computePipelineHash=function(){var e=t.volumes[0].getRenderable().getMapper().getBlendMode();t.blendMode=e,t.pipelineHash="volfsq".concat(t.volumes.length,"b").concat(t.blendMode)},e.setVolumes=function(n){if(!t.volumes||t.volumes.length!==n.length)return t.volumes=y(n),void e.modified();for(var r=0;r<n.length;r++)if(n[r]!==t.volumes[r])return t.volumes=y(n),void e.modified()};var n=e.build;e.build=function(r,o){e.computePipelineHash(),e.updateBuffers(o),t.clampSampler||(t.clampSampler=xj.newInstance(),t.clampSampler.setName("clampSampler"),t.clampSampler.create(o,{minFilter:"linear",maxFilter:"linear"})),n(r,o)};var r=e.getBindables;e.getBindables=function(){var e=r();return e.push(t.componentSSBO),e.push(t.clampSampler),e}}var EV={volumes:null,rowLength:1024};function TV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,EV,n),sV.extend(e,t,n),t.fragmentShaderTemplate=AV,t.UBO=vV.newInstance(),t.UBO.setName("mapperUBO"),t.UBO.addEntry("SampleDistance","f32"),t.SSBO=SV.newInstance(),t.SSBO.setName("volumeSSBO"),t.componentSSBO=SV.newInstance(),t.componentSSBO.setName("componentSSBO"),t.lutBuildTime={},fe.obj(t.lutBuildTime,{mtime:0}),OV(e,t)}var DV={newInstance:fe.newInstance(TV,"vtkWebGPUVolumePassFSQ"),extend:TV},IV=av.Representation,kV=vj.BufferUsage,MV=vj.PrimitiveTypes,NV=[[0,4,6],[0,6,2],[1,3,7],[1,7,5],[0,5,4],[0,1,5],[2,6,7],[2,7,3],[0,3,1],[0,2,3],[4,5,7],[4,7,6]],RV="\n//VTK::Renderer::Dec\n\n//VTK::Select::Dec\n\n//VTK::VolumePass::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::IOStructs::Dec\n\n[[stage(fragment)]]\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output : fragmentOutput;\n\n  //VTK::Select::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::VolumePass::Impl\n\n  // use the minimum (closest) of the current value and the zbuffer\n  // the blend func will then take the max to find the farthest stop value\n  var stopval: f32 = min(input.fragPos.z, textureLoad(opaquePassDepthTexture, vec2<i32>(i32(input.fragPos.x), i32(input.fragPos.y)), 0).r);\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n";function BV(e,t){t.classHierarchy.push("vtkWebGPUVolumePass"),e.traverse=function(n,r){t.deleted||(t.currentParent=r,e.renderDepthBounds(n,r),t.finalEncoder||e.createFinalEncoder(r),e.finalPass(r,n))},e.finalPass=function(e,n){t.finalEncoder.setColorTextureView(0,t.colorTextureView),t.finalEncoder.attachTextureViews(),n.setRenderEncoder(t.finalEncoder),t.finalEncoder.begin(e.getCommandEncoder()),n.scissorAndViewport(t.finalEncoder),t.fullScreenQuad.setWebGPURenderer(n),t.fullScreenQuad.setVolumes(t.volumes),t.fullScreenQuad.render(t.finalEncoder,e.getDevice()),t.finalEncoder.end()},e.renderDepthBounds=function(n,r){e.updateDepthPolyData(n);var o=t._boundsPoly,i=o.getPolys(),a=i.getMTime(),s=o.getPoints(),u={hash:a+s.getMTime(),dataArray:s,source:s,cells:i,primitiveType:MV.Triangles,representation:IV.SURFACE,time:Math.max(s.getMTime(),i.getMTime()),usage:kV.PointArray,format:"float32x4",packExtra:!0},c=r.getDevice().getBufferManager().getBuffer(u);t._mapper.getVertexInput().addBuffer(c,["vertexBC"]),t._mapper.setNumberOfVertices(c.getSizeInBytes()/c.getStrideInBytes()),e.drawDepthRange(n,r)},e.updateDepthPolyData=function(e){for(var n=!1,r=0;r<t.volumes.length;r++){var o=t.volumes[r].getMTime();t._lastMTimes[r]&&o===t._lastMTimes[r]||(n=!0,t._lastMTimes[r]=o)}var i=e.getStabilizedTime();if(t._lastMTimes[t.volumes.length]&&i===t._lastMTimes[t.volumes.length]||(n=!0,t._lastMTimes[t.volumes.length]=i),n){for(var a=e.getStabilizedCenterByReference(),s=8*t.volumes.length,u=new Float64Array(3*s),c=12*t.volumes.length,l=new Uint16Array(4*c),f=0;f<t.volumes.length;f++){t.volumes[f].getBoundingCubePoints(u,24*f);for(var d=12*f*4,p=8*f,h=0;h<12;h++)l[d++]=3,l[d++]=p+NV[h][0],l[d++]=p+NV[h][1],l[d++]=p+NV[h][2]}for(var m=0;m<u.length;m+=3)u[m]-=a[0],u[m+1]-=a[1],u[m+2]-=a[2];t._boundsPoly.getPoints().setData(u,3),t._boundsPoly.getPoints().modified(),t._boundsPoly.getPolys().setData(l,1),t._boundsPoly.getPolys().modified(),t._boundsPoly.modified()}},e.drawDepthRange=function(n,r){var o=r.getDevice();if(t.depthRangeEncoder)t.depthRangeTexture.resizeToMatch(t.colorTextureView.getTexture()),t.depthRangeTexture2.resizeToMatch(t.colorTextureView.getTexture());else{e.createDepthRangeEncoder(),t.depthRangeTexture=Dj.newInstance(),t.depthRangeTexture.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:"r16float",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED});var i=t.depthRangeTexture.createView();i.setName("maxTexture"),t.depthRangeEncoder.setColorTextureView(0,i),t.depthRangeTexture2=Dj.newInstance(),t.depthRangeTexture2.create(o,{width:r.getCanvas().width,height:r.getCanvas().height,format:"r16float",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.SAMPLED});var a=t.depthRangeTexture2.createView();a.setName("minTexture"),t.depthRangeEncoder.setColorTextureView(1,a),t._mapper.setDevice(r.getDevice()),t._mapper.setTextureViews([t.depthTextureView])}t.depthRangeEncoder.attachTextureViews(),e.setCurrentOperation("volumeDepthRangePass"),n.setRenderEncoder(t.depthRangeEncoder),n.volumeDepthRangePass(!0),t._mapper.setWebGPURenderer(n),t._mapper.build(t.depthRangeEncoder,o),t._mapper.registerToDraw(),n.volumeDepthRangePass(!1)},e.createDepthRangeEncoder=function(){t.depthRangeEncoder=zF.newInstance(),t.depthRangeEncoder.setPipelineHash("volr"),t.depthRangeEncoder.setReplaceShaderCodeFunction((function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<f32>","outColor1"),t.addOutput("vec4<f32>","outColor2");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["output.outColor1 = vec4<f32>(stopval, 0.0, 0.0, 0.0);","output.outColor2 = vec4<f32>(input.fragPos.z, 0.0, 0.0, 0.0);"]).result,t.setCode(n)})),t.depthRangeEncoder.setDescription({colorAttachments:[{view:null,loadValue:[0,0,0,0],storeOp:"store"},{view:null,loadValue:[1,1,1,1],storeOp:"store"}]}),t.depthRangeEncoder.setPipelineSettings({primitive:{cullMode:"none"},fragment:{targets:[{format:"r16float",blend:{color:{srcFactor:"one",dstFactor:"one",operation:"max"},alpha:{srcfactor:"one",dstFactor:"one",operation:"max"}}},{format:"r16float",blend:{color:{srcFactor:"one",dstFactor:"one",operation:"min"},alpha:{srcfactor:"one",dstFactor:"one",operation:"min"}}}]}})},e.createFinalEncoder=function(e){t.fullScreenQuad=DV.newInstance(),t.fullScreenQuad.setDevice(e.getDevice()),t.fullScreenQuad.setTextureViews(y(t.depthRangeEncoder.getColorTextureViews())),t.finalEncoder=zF.newInstance(),t.finalEncoder.setDescription({colorAttachments:[{view:null,loadValue:"load",storeOp:"store"}]}),t.finalEncoder.setReplaceShaderCodeFunction((function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<f32>","outColor");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["output.outColor = vec4<f32>(computedColor.rgb*computedColor.a, computedColor.a);"]).result,t.setCode(n)})),t.finalEncoder.setPipelineHash("volpf"),t.finalEncoder.setPipelineSettings({primitive:{cullMode:"none"},fragment:{targets:[{format:"bgra8unorm",blend:{color:{srcFactor:"one",dstFactor:"one-minus-src-alpha"},alpha:{srcfactor:"one",dstFactor:"one-minus-src-alpha"}}}]}})},e.setVolumes=function(n){if(!t.volumes||t.volumes.length!==n.length)return t.volumes=y(n),void e.modified();for(var r=0;r<n.length;r++)if(n[r]!==t.volumes[r])return t.volumes=y(n),void e.modified()}}var LV={colorTextureView:null,depthTextureView:null,volumes:null};function FV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LV,n),SL.extend(e,t,n),t._mapper=rV.newInstance(),t._mapper.setFragmentShaderTemplate(RV),t._mapper.getShaderReplacements().set("replaceShaderVolumePass",(function(e,t,n){t.getShaderDescription("fragment").addBuiltinInput("vec4<f32>","[[builtin(position)]] fragPos")})),t._boundsPoly=Vc.newInstance(),t._lastMTimes=[],fe.setGet(e,t,["colorTextureView","depthTextureView"]),BV(e,t)}var jV={newInstance:fe.newInstance(FV,"vtkWebGPUVolumePass"),extend:FV};function VV(e,t){t.classHierarchy.push("vtkForwardPass"),e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.deleted){t.currentParent=r,e.setCurrentOperation("buildPass"),n.traverse(e),t.opaquePass||(t.opaquePass=Nj.newInstance());for(var o=n.getRenderable().getNumberOfLayers(),i=n.getChildren(),a=0;a<o;a++)for(var s=0;s<i.length;s++){var u=i[s],c=n.getRenderable().getRenderers()[s];c.getDraw()&&c.getLayer()===a&&(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumes=[],e.setCurrentOperation("queryPass"),u.traverse(e),e.setCurrentOperation("cameraPass"),u.traverse(e),t.opaquePass.traverse(u,n),t.translucentActorCount>0&&(t.translucentPass||(t.translucentPass=fV.newInstance()),t.translucentPass.setColorTextureView(t.opaquePass.getColorTextureView()),t.translucentPass.setDepthTextureView(t.opaquePass.getDepthTextureView()),t.translucentPass.traverse(u,n)),t.volumes.length>0&&(t.volumePass||(t.volumePass=jV.newInstance()),t.volumePass.setColorTextureView(t.opaquePass.getColorTextureView()),t.volumePass.setDepthTextureView(t.opaquePass.getDepthTextureView()),t.volumePass.setVolumes(t.volumes),t.volumePass.traverse(u,n)))}var l=n.getSwapChain().getCurrentTexture(),f=t.opaquePass.getColorTexture();n.getCommandEncoder().copyTextureToTexture({texture:f.getHandle()},{texture:l},{width:f.getWidth(),height:f.getHeight(),depthOrArrayLayers:1})}},e.incrementOpaqueActorCount=function(){return t.opaqueActorCount++},e.incrementTranslucentActorCount=function(){return t.translucentActorCount++},e.addVolume=function(e){t.volumes.push(e)}}var UV={opaqueActorCount:0,translucentActorCount:0,volumes:null,opaqueRenderEncoder:null,translucentPass:null,volumePass:null};function zV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,UV,n),SL.extend(e,t,n),fe.setGet(e,t,["opaquePass","translucentPass","volumePass"]),VV(e,t)}var GV={newInstance:fe.newInstance(zV,"vtkForwardPass"),extend:zV};function WV(e,t){t.classHierarchy.push("vtkWebGPUTextureManager"),e.getTexture=function(e){if(e.imageData){e.dataArray=e.imageData.getPointData().getScalars(),e.time=e.dataArray.getMTime(),e.nativeArray=e.dataArray.getData();var n=e.imageData.getDimensions();switch(e.width=n[0],e.height=n[1],e.depth=n[2],e.dataArray.getNumberOfComponents()){case 1:e.format="r8unorm";break;case 2:e.format="rg8unorm";break;default:case 3:case 4:e.format="rgba8unorm"}}if(e.image&&(e.time=0,e.width=e.image.width,e.height=e.image.height,e.depth=1,e.format="rgba8unorm"),e.source&&t.textures.has(e.source))for(var r=t.textures.get(e.source),o=0;o<r.length;o++)if(a=e,(i=r[o].request).time===a.time&&i.nativeArray===a.nativeArray&&i.format===a.format)return r[o].texture;var i,a,s=Dj.newInstance();return s.create(t.device,{width:e.width,height:e.height,depth:e.depth,format:e.format}),(e.nativeArray||e.image)&&s.writeImageData(e),e.source&&(t.textures.has(e.source)||t.textures.set(e.source,[]),t.textures.get(e.source).push({request:{time:e.time,nativeArray:e.nativeArray,format:e.format},texture:s})),s}}var HV={textures:null,handle:null,device:null};function qV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HV,n),fe.obj(e,t),t.textures=new WeakMap,fe.setGet(e,t,["device"]),WV(e,t)}var KV={newInstance:fe.newInstance(qV),extend:qV};function XV(e,t){t.classHierarchy.push("vtkWebGPUDevice"),e.initialize=function(e){t.handle=e},e.createCommandEncoder=function(){return t.handle.createCommandEncoder()},e.submitCommandEncoder=function(e){t.handle.queue.submit([e.finish()])},e.getShaderModule=function(e){return t.shaderCache.getShaderModule(e)},e.getBindGroupLayout=function(e){if(!e.entries)return null;for(var n=0;n<e.entries.length;n++){var r=e.entries[n];r.binding=r.binding||0,r.visibility=r.visibility||GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT}for(var o=JSON.stringify(e),i=0;i<t.bindGroupLayouts.length;i++)if(t.bindGroupLayouts[i].sval===o)return t.bindGroupLayouts[i].layout;var a=t.handle.createBindGroupLayout(e);return t.bindGroupLayouts.push({sval:o,layout:a}),a},e.getBindGroupLayoutDescription=function(e){for(var n=0;n<t.bindGroupLayouts.length;n++)if(t.bindGroupLayouts[n].layout===e)return t.bindGroupLayouts[n].sval;return vtkErrorMacro("layout not found"),console.trace(),null},e.getPipeline=function(e){return e in t.pipelines?t.pipelines[e]:null},e.createPipeline=function(n,r){r.initialize(e),t.pipelines[n]=r},e.onSubmittedWorkDone=function(){return t.handle.queue.onSubmittedWorkDone()}}var YV={handle:null,pipelines:null,shaderCache:null,bindGroupLayouts:null,bufferManager:null,textureManager:null};function ZV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YV,n),W(e,t),Y(e,t,["handle"]),H(e,t,["bufferManager","shaderCache","textureManager"]),t.shaderCache=LF.newInstance(),t.shaderCache.setDevice(e),t.bindGroupLayouts=[],t.bufferManager=vj.newInstance(),t.bufferManager.setDevice(e),t.textureManager=KV.newInstance(),t.textureManager.setDevice(e),t.pipelines={},XV(e,t)}var JV={newInstance:ne(ZV,"vtkWebGPUDevice"),extend:ZV};function $V(e,t){t.classHierarchy.push("vtkWebGPUHardwareSelectionPass"),e.traverse=function(n,r){if(!t.deleted){t.currentParent=null,e.setCurrentOperation("buildPass"),n.traverse(e);var o=n.getDevice();if(t.selectionRenderEncoder)t.colorTexture.resize(n.getCanvas().width,n.getCanvas().height),t.depthTexture.resizeToMatch(t.colorTexture);else{e.createRenderEncoder(),t.colorTexture=Dj.newInstance(),t.colorTexture.create(o,{width:n.getCanvas().width,height:n.getCanvas().height,format:"rgba32uint",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC});var i=t.colorTexture.createView();i.setName("hardwareSelectColorTexture"),t.selectionRenderEncoder.setColorTextureView(0,i),t.depthTexture=Dj.newInstance(),t.depthTexture.create(o,{width:n.getCanvas().width,height:n.getCanvas().height,format:"depth32float",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC});var a=t.depthTexture.createView();a.setName("hardwareSelectDepthTexture"),t.selectionRenderEncoder.setDepthTextureView(a)}t.selectionRenderEncoder.attachTextureViews(),r.setRenderEncoder(t.selectionRenderEncoder),e.setCurrentOperation("cameraPass"),r.traverse(e),e.setCurrentOperation("opaquePass"),r.traverse(e)}},e.createRenderEncoder=function(){t.selectionRenderEncoder=zF.newInstance(),t.selectionRenderEncoder.setPipelineHash("sel"),t.selectionRenderEncoder.setReplaceShaderCodeFunction((function(e){var t=e.getShaderDescription("fragment");t.addOutput("vec4<u32>","outColor");var n=t.getCode();n=LF.substitute(n,"//VTK::RenderEncoder::Impl",["output.outColor = vec4<u32>(mapperUBO.PropID, compositeID, 0u, 0u);"]).result,t.setCode(n)}));var e=t.selectionRenderEncoder.getDescription();e.colorAttachments[0].loadValue=[0,0,0,0],e.depthStencilAttachment.stencilLoadValue="load",t.selectionRenderEncoder.setPipelineSettings({primitive:{cullMode:"none"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth32float"},fragment:{targets:[{format:"rgba32uint",blend:void 0}]}})}}var QV={selectionRenderEncoder:null,colorTexture:null,depthTexture:null};function eU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,QV,n),SL.extend(e,t,n),fe.get(e,t,["colorTexture","depthTexture"]),$V(e,t)}var tU={newInstance:fe.newInstance(eU,"vtkWebGPUHardwareSelectionPass"),extend:eU},nU=Hc.SelectionContent,rU=Hc.SelectionField,oU=bo.FieldAssociations,iU=fe.vtkErrorMacro;function aU(e){return"".concat(e.propID," ").concat(e.compositeID)}function sU(e,t,n,r){var o=4*((n.height-t-1)*n.colorBufferWidth+e)+r;return n.colorValues[o]}function uU(e,t,n,r){var o=n<0?0:n;if(0===o){if(r[0]=t[0],r[1]=t[1],t[0]<0||t[0]>=e.width||t[1]<0||t[1]>=e.height)return null;var i=sU(t[0],t[1],e,0);if(i<=0)return null;var a={};a.propID=i;var s=sU(t[0],t[1],e,1);if((s<0||s>16777215)&&(s=0),a.compositeID=s,e.captureZValues){var u=(e.height-t[1]-1)*e.zbufferBufferWidth+t[0];a.zValue=e.depthValues[u],a.displayPosition=t}return a}var c=[t[0],t[1]],l=[0,0],f=uU(e,t,0,r);if(f)return f;for(var d=1;d<o;++d){for(var p=c[1]>d?c[1]-d:0;p<=c[1]+d;++p){if(l[1]=p,c[0]>=d&&(l[0]=c[0]-d,f=uU(e,l,0,r)))return f;if(l[0]=c[0]+d,f=uU(e,l,0,r))return f}for(var h=c[0]>=d?c[0]-(d-1):0;h<=c[0]+(d-1);++h){if(l[0]=h,c[1]>=d&&(l[1]=c[1]-d,f=uU(e,l,0,r)))return f;if(l[1]=c[1]+d,f=uU(e,l,0,r))return f}}return r[0]=t[0],r[1]=t[1],null}function cU(e,t,n,r,o){for(var i=Math.floor(t),a=Math.floor(n),s=Math.floor(r),u=Math.floor(o),c=new Map,l=[0,0],f=a;f<=u;f++)for(var d=i;d<=s;d++){var p=uU(e,[d,f],0,l);if(p){var h=aU(p);if(c.has(h)){var m=c.get(h);m.pixelCount++,e.captureZValues&&p.zValue<m.info.zValue&&(m.info=p),-1===m.attributeIDs.indexOf(p.attributeID)&&m.attributeIDs.push(p.attributeID)}else c.set(h,{info:p,pixelCount:1,attributeIDs:[p.attributeID]})}}return function(e,t,n){var r=[],o=0;return t.forEach((function(t,i){var a=Hc.newInstance();switch(a.setContentType(nU.INDICES),e){case oU.FIELD_ASSOCIATION_CELLS:a.setFieldType(rU.CELL);break;case oU.FIELD_ASSOCIATION_POINTS:a.setFieldType(rU.POINT);break;default:iU("Unknown field association")}a.getProperties().propID=t.info.propID;var s=n.webGPURenderer.getPropFromID(t.info.propID);a.getProperties().prop=s.getRenderable(),a.getProperties().compositeID=t.info.compositeID,a.getProperties().pixelCount=t.pixelCount,n.captureZValues&&(a.getProperties().displayPosition=[t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue],a.getProperties().worldPosition=n.webGPURenderWindow.displayToWorld(t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue,n.renderer)),a.setSelectionList(t.attributeIDs),r[o]=a,o++})),r}(e.fieldAssociation,c,e)}function lU(e,t){t.classHierarchy.push("vtkWebGPUHardwareSelector"),e.endSelection=function(){t.WebGPURenderer.setSelector(null)},e.getSourceDataAsync=function(){var e=HR(KR().mark((function e(n){var r,o,i,a,s,u,c,l,f,d,p;return KR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t.WebGPURenderWindow){e.next=3;break}return iU("Renderer and view must be set before calling Select."),e.abrupt("return",!1);case 3:if(t.WebGPURenderWindow.getInitialized()){e.next=7;break}return t.WebGPURenderWindow.initialize(),e.next=7,new Promise((function(e){return t.WebGPURenderWindow.onInitialized(e)}));case 7:if(r=t.WebGPURenderWindow.getViewNodeFor(n)){e.next=10;break}return e.abrupt("return",!1);case 10:if(o=r.getSuppressClear(),r.setSuppressClear(!0),t._selectionPass.traverse(t.WebGPURenderWindow,r),r.setSuppressClear(o),i=t.WebGPURenderWindow.getDevice(),a=t._selectionPass.getColorTexture(),s=t._selectionPass.getDepthTexture(),(u={captureZValues:t.captureZValues,fieldAssociation:t.fieldAssociation,renderer:n,webGPURenderer:r,webGPURenderWindow:t.WebGPURenderWindow,width:a.getWidth(),height:a.getHeight()}).colorBufferWidth=16*Math.floor((u.width+15)/16),u.colorBufferSizeInBytes=u.colorBufferWidth*u.height*4*4,(c=YF.newInstance()).setDevice(i),c.create(u.colorBufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),(l=t.WebGPURenderWindow.getCommandEncoder()).copyTextureToBuffer({texture:a.getHandle()},{buffer:c.getHandle(),bytesPerRow:16*u.colorBufferWidth,rowsPerImage:u.height},{width:u.width,height:u.height,depthOrArrayLayers:1}),t.captureZValues&&(u.zbufferBufferWidth=64*Math.floor((u.width+63)/64),(f=YF.newInstance()).setDevice(i),u.zbufferSizeInBytes=u.height*u.zbufferBufferWidth*4,f.create(u.zbufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),l.copyTextureToBuffer({texture:s.getHandle(),aspect:"depth-only"},{buffer:f.getHandle(),bytesPerRow:4*u.zbufferBufferWidth,rowsPerImage:u.height},{width:u.width,height:u.height,depthOrArrayLayers:1})),i.submitCommandEncoder(l),d=c.mapAsync(GPUMapMode.READ),!t.captureZValues){e.next=36;break}return p=f.mapAsync(GPUMapMode.READ),e.next=32,Promise.all([d,p]);case 32:u.depthValues=new Float32Array(f.getMappedRange().slice()),f.unmap(),e.next=38;break;case 36:return e.next=38,d;case 38:return u.colorValues=new Uint32Array(c.getMappedRange().slice()),c.unmap(),u.generateSelection=function(e,t,n,r){return cU(u,e,t,n,r)},e.abrupt("return",u);case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var fU={WebGPURenderWindow:null};function dU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fU,n),JR.extend(e,t,n),t._selectionPass=tU.newInstance(),fe.setGet(e,t,["WebGPURenderWindow"]),lU(e,t)}var pU={newInstance:fe.newInstance(dU,"vtkWebGPUHardwareSelector"),extend:dU};function hU(e,t){t.classHierarchy.push("vtkWebGPUSwapChain"),e.create=function(e,n){t.device=e,t.window=n,n.getContext()&&(t.colorFormat="bgra8unorm",t.handle=n.getContext().configureSwapChain({device:e.getHandle(),format:t.colorFormat,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST}),t.created=!0)},e.getCurrentTexture=function(){return t.handle.getCurrentTexture()},e.releaseGraphicsResources=function(){t.created&&(t.handle=null,t.created=!1,t.depthTexture=null)}}var mU={device:null,created:!1,handle:null,colorFormat:null};function gU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mU,n),W(e,t),H(e,t,["colorFormat"]),Y(e,t,["created","device","handle"]),hU(e,t)}var vU={newInstance:ne(gU,"vtkWebGPUSwapChain"),extend:gU},yU=Object.create(null);function bU(e,t){t.classHierarchy.push("vtkWebGPUViewNodeFactory")}var wU={};function xU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wU,n),t.overrides=yU,JB.extend(e,t,n),bU(0,t)}var CU={newInstance:fe.newInstance(xU,"vtkWebGPUViewNodeFactory"),extend:xU},SU=fe.vtkErrorMacro,AU={position:"absolute",top:0,left:0,width:"100%",height:"100%"};function _U(e,t){t.classHierarchy.push("vtkWebGPURenderWindow"),e.getViewNodeFactory=function(){return t.myFactory};var n=[0,0];function r(){return(r=HR(KR().mark((function n(){var r,o,i,a,s,u,c,l=arguments;return KR().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:t.imageFormat,o=document.createElement("canvas"),i=o.getContext("2d"),o.width=t.canvas.width,o.height=t.canvas.height,n.next=7,e.getPixelsAsync();case 7:a=n.sent,s=new ImageData(a.colorValues,a.width,a.height),i.putImageData(s,0,0),u=t.canvas.getBoundingClientRect(),t.renderable.getRenderers().forEach((function(e){e.getViewProps().forEach((function(e){if(e.getContainer)for(var t=e.getContainer().getElementsByTagName("canvas"),n=0;n<t.length;n++){var r=t[n],o=r.getBoundingClientRect(),a=o.x-u.x,s=o.y-u.y;i.drawImage(r,a,s)}}))})),c=o.toDataURL(r),o.remove(),e.invokeImageReady(c);case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.onModified((function(){t.renderable&&(t.size[0]===n[0]&&t.size[1]===n[1]||(n[0]=t.size[0],n[1]=t.size[1],t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1]),e.recreateSwapChain())),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none"),t.containerSize=null})),e.recreateSwapChain=function(){t.swapChain.releaseGraphicsResources(),t.swapChain.getCreated()||t.swapChain.create(t.device,e)},e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize()}else t.initialized&&(t.swapChain.getCreated()||t.swapChain.create(t.device,e),t.commandEncoder=t.device.createCommandEncoder())},e.initialize=function(){if(!t.initializing){if(t.initializing=!0,!navigator.gpu)return void SU("WebGPU is not enabled.");e.create3DContextAsync().then((function(){t.initialized=!0,e.invokeInitialized()}))}},e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&SU("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),e.modified())},e.getContainer=function(){return t.el},e.getContainerSize=function(){if(!t.containerSize&&t.el){var e=t.el.getBoundingClientRect(),n=e.width,r=e.height;t.containerSize=[n,r]}return t.containerSize||t.size},e.getFramebufferSize=function(){return t.size},e.create3DContextAsync=HR(KR().mark((function e(){return KR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.gpu.requestAdapter();case 2:return t.adapter=e.sent,t.device=JV.newInstance(),e.t0=t.device,e.next=7,t.adapter.requestDevice();case 7:e.t1=e.sent,e.t0.initialize.call(e.t0,e.t1),t.context=t.canvas.getContext("gpupresent");case 10:case"end":return e.stop()}}),e)}))),e.restoreContext=function(){var t=SL.newInstance();t.setCurrentOperation("Release"),t.traverse(e,null)},e.setBackgroundImage=function(e){t.bgImage.src=e.src},e.setUseBackgroundImage=function(e){t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},e.captureNextImage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.resetCamera,i=void 0!==o&&o,a=r.size,s=void 0===a?null:a,u=r.scale,c=void 0===u?1:u;if(t.deleted)return null;t.imageFormat=n;var l=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,t._screenshot={size:s||1!==c?s||t.size.map((function(e){return e*c})):null},new Promise((function(n,r){var o=e.onImageReady((function(r){if(null===t._screenshot.size)t.notifyStartCaptureImage=l,o.unsubscribe(),t._screenshot.placeHolder&&(t.size=t._screenshot.originalSize,e.modified(),t._screenshot.cameras&&t._screenshot.cameras.forEach((function(e){return(0,e.restoreParamsFn)(e.arg)})),e.traverseAllPasses(),t.el.removeChild(t._screenshot.placeHolder),t._screenshot.placeHolder.remove(),t._screenshot=null),n(r);else{var a=document.createElement("img");a.style=AU,a.src=r,t._screenshot.placeHolder=t.el.appendChild(a),t.canvas.style.display="none",t._screenshot.originalSize=t.size,t.size=t._screenshot.size,t._screenshot.size=null,e.modified(),i&&(t._screenshot.cameras=t.renderable.getRenderers().map((function(e){var t=e.getActiveCamera(),n=t.get("focalPoint","position","parallelScale");return{resetCameraFn:e.resetCamera,restoreParamsFn:t.set,arg:JSON.parse(JSON.stringify(n))}})),t._screenshot.cameras.forEach((function(e){return(0,e.resetCameraFn)()}))),e.traverseAllPasses()}}))}))},e.traverseAllPasses=function(){if(t.initialized){if(t.renderPasses)for(var n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);t.commandEncoder&&(t.device.submitCommandEncoder(t.commandEncoder),t.commandEncoder=null,t.notifyStartCaptureImage&&t.device.onSubmittedWorkDone().then((function(){!function(){r.apply(this,arguments)}()})))}else e.initialize(),e.onInitialized(e.traverseAllPasses)},e.setViewStream=function(n){return t.viewStream!==n&&(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream&&(t.renderable.getRenderers()[0].getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady((function(t){return e.setBackgroundImage(t.image)})),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()),!0)},e.getUniquePropID=function(){return t.nextPropID++},e.getPropFromID=function(e){for(var n=0;n<t.children.length;n++){var r=t.children[n].getPropFromID(e);if(null!==r)return r}return null},e.getPixelsAsync=HR(KR().mark((function e(){var n,r,o,i,a,s,u,c,l,f,d;return KR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.device,r=t.renderPasses[0].getOpaquePass().getColorTexture(),(o={width:r.getWidth(),height:r.getHeight()}).colorBufferWidth=64*Math.floor((o.width+63)/64),o.colorBufferSizeInBytes=o.colorBufferWidth*o.height*4,(i=YF.newInstance()).setDevice(n),i.create(o.colorBufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),(a=t.device.createCommandEncoder()).copyTextureToBuffer({texture:r.getHandle()},{buffer:i.getHandle(),bytesPerRow:4*o.colorBufferWidth,rowsPerImage:o.height},{width:o.width,height:o.height,depthOrArrayLayers:1}),n.submitCommandEncoder(a),s=i.mapAsync(GPUMapMode.READ),e.next=14,s;case 14:for(o.colorValues=new Uint8ClampedArray(i.getMappedRange().slice()),i.unmap(),u=new Uint8ClampedArray(o.height*o.width*4),c=0;c<o.height;c++)for(l=0;l<o.width;l++)f=4*(c*o.width+l),d=4*(c*o.colorBufferWidth+l),u[f]=o.colorValues[d+2],u[f+1]=o.colorValues[d+1],u[f+2]=o.colorValues[d],u[f+3]=o.colorValues[d+3];return o.colorValues=u,e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)}))),e.delete=fe.chain(e.delete,e.setViewStream)}var PU={initialized:!1,context:null,adapter:null,device:null,canvas:null,swapChain:null,cursorVisibility:!0,cursor:"pointer",containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1,nextPropID:1};function OU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,PU,n),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",t.swapChain=vU.newInstance(),XL.extend(e,t,n),t.myFactory=CU.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",EU),t.renderPasses[0]=GV.newInstance(),t.selector||(t.selector=pU.newInstance(),t.selector.setWebGPURenderWindow(e)),fe.event(e,t,"imageReady"),fe.event(e,t,"initialized"),fe.get(e,t,["swapChain","commandEncoder","device","useBackgroundImage"]),fe.setGet(e,t,["initialized","context","canvas","device","renderPasses","notifyStartCaptureImage","cursor","useOffScreen"]),fe.setGetArray(e,t,["size"],2),_U(e,t)}var EU=fe.newInstance(OU,"vtkWebGPURenderWindow");eB("WebGPU",EU);var TU={newInstance:EU,extend:OU},DU=Ks.extractURLParameters(),IU={margin:"0",padding:"0",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"},kU={position:"absolute",left:"25px",top:"25px",backgroundColor:"white",borderRadius:"5px",listStyle:"none",padding:"5px 10px",margin:"0",display:"block",border:"solid 1px black",maxWidth:"calc(100% - 70px)",maxHeight:"calc(100% - 60px)",overflow:"auto"};function MU(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function NU(e,t){t.classHierarchy.push("vtkFullScreenRenderWindow");var n=document.querySelector("body");t.rootContainer||(t.rootContainer=n),t.container||(t.container=document.createElement("div"),MU(t.container,t.containerStyle||IU),t.rootContainer.appendChild(t.container)),t.rootContainer===n&&(document.documentElement.style.height="100%",n.style.height="100%",n.style.padding="0",n.style.margin="0"),t.renderWindow=iB.newInstance(),t.renderer=CS.newInstance(),t.renderWindow.addRenderer(t.renderer),t.apiSpecificRenderWindow=t.renderWindow.newAPISpecificView(DU.viewAPI),t.apiSpecificRenderWindow.setContainer(t.container),t.renderWindow.addView(t.apiSpecificRenderWindow),t.interactor=Rm.newInstance(),t.interactor.setInteractorStyle(ub.newInstance()),t.interactor.setView(t.apiSpecificRenderWindow),t.interactor.initialize(),t.interactor.bindEvents(t.container),e.setBackground=t.renderer.setBackground,e.removeController=function(){var e=t.controlContainer;e&&e.parentNode.removeChild(e)},e.setControllerVisibility=function(e){t.controllerVisibility=e,t.controlContainer&&(t.controlContainer.style.display=e?"block":"none")},e.toggleControllerVisibility=function(){e.setControllerVisibility(!t.controllerVisibility)},e.addController=function(n){t.controlContainer=document.createElement("div"),MU(t.controlContainer,t.controlPanelStyle||kU),t.rootContainer.appendChild(t.controlContainer),t.controlContainer.innerHTML=n,e.setControllerVisibility(t.controllerVisibility),t.rootContainer.addEventListener("keypress",(function(t){"c"===String.fromCharCode(t.charCode)&&e.toggleControllerVisibility()}))},e.setBackground.apply(e,y(t.background)),e.addRepresentation=function(e){e.getActors().forEach((function(e){t.renderer.addActor(e)}))},e.removeRepresentation=function(e){e.getActors().forEach((function(e){return t.renderer.removeActor(e)}))},e.delete=fe.chain(e.setContainer,t.apiSpecificRenderWindow.delete,e.delete),e.resize=function(){var e=t.container.getBoundingClientRect(),n=window.devicePixelRatio||1;t.apiSpecificRenderWindow.setSize(Math.floor(e.width*n),Math.floor(e.height*n)),t.resizeCallback&&t.resizeCallback(e),t.renderWindow.render()},e.setResizeCallback=function(n){t.resizeCallback=n,e.resize()},t.listenWindowResize&&window.addEventListener("resize",e.resize),e.resize()}var RU={background:[.32,.34,.43],containerStyle:null,controlPanelStyle:null,listenWindowResize:!0,resizeCallback:null,controllerVisibility:!0};function BU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,RU,n),fe.obj(e,t),fe.get(e,t,["renderWindow","renderer","apiSpecificRenderWindow","interactor","rootContainer","container","controlContainer"]),NU(e,t)}var LU={newInstance:fe.newInstance(BU),extend:BU};function FU(e,t){var n=e.invokeResize;delete e.invokeResize,t.renderWindow=iB.newInstance(),t.renderer=CS.newInstance(),t.renderWindow.addRenderer(t.renderer),t.openGLRenderWindow=TF.newInstance(),t.renderWindow.addView(t.openGLRenderWindow),t.interactor=Rm.newInstance(),t.interactor.setInteractorStyle(ub.newInstance()),t.interactor.setView(t.openGLRenderWindow),t.interactor.initialize(),e.setBackground=t.renderer.setBackground,e.setBackground.apply(e,y(t.background)),e.resize=function(){if(t.container){var e=t.container.getBoundingClientRect(),r=window.devicePixelRatio||1;t.openGLRenderWindow.setSize(Math.floor(e.width*r),Math.floor(e.height*r)),n(),t.renderWindow.render()}},e.setContainer=function(e){t.container&&t.interactor.unbindEvents(t.container),t.container=e,t.openGLRenderWindow.setContainer(t.container),t.container&&t.interactor.bindEvents(t.container)},e.delete=fe.chain(e.setContainer,t.openGLRenderWindow.delete,e.delete),t.listenWindowResize&&window.addEventListener("resize",e.resize),e.resize()}var jU={background:[.32,.34,.43],listenWindowResize:!0,container:null};function VU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jU,n),fe.obj(e,t),fe.get(e,t,["renderWindow","renderer","openGLRenderWindow","interactor","container"]),fe.event(e,t,"resize"),FU(e,t)}var UU={newInstance:fe.newInstance(VU),extend:VU},zU=SD.newInstance(),GU=zU.connect,WU=zU.disconnect;function HU(e,t){t.classHierarchy.push("vtkRemoteView"),t.canvasView=jB.newInstance(),t.interactorStyle=Pb.newInstance(),t.interactor=Rm.newInstance(),t.interactor.setView(t.canvasView),t.interactor.initialize(),t.interactor.setInteractorStyle(t.interactorStyle),t.interactorStyle.onRemoteMouseEvent((function(e){t.session&&t.rpcMouseEvent&&t.session.call(t.rpcMouseEvent,[e])})),t.interactorStyle.onRemoteWheelEvent((function(e){t.session&&t.rpcWheelEvent&&t.session.call(t.rpcWheelEvent,[e])})),t.interactorStyle.onRemoteGestureEvent((function(e){t.session&&t.rpcGestureEvent&&t.session.call(t.rpcGestureEvent,[e])})),e.delete=fe.chain((function(){t.session=null,t.canvasView&&(t.canvasView.setViewStream(null),t.canvasView.delete()),t.interactor&&t.interactor.delete(),t.viewStream&&t.viewStream.delete()}),e.delete),e.setViewStream=function(n){t.viewStream=n,t.canvasView.setViewStream(t.viewStream),t.viewStream.setStillQuality(t.stillQuality),t.viewStream.setStillRatio(t.stillRatio),t.viewStream.setInteractiveQuality(t.interactiveQuality),t.viewStream.setInteractiveRatio(t.interactiveRatio),t.interactor.onStartAnimation(t.viewStream.startInteraction),t.interactor.onEndAnimation(t.viewStream.endInteraction),e.setViewId(n.getViewId())},e.setViewId=function(n){t.viewStream||e.setViewStream(zU.createViewStream(n)),t.viewStream.setViewId(n),t.interactorStyle.setRemoteEventAddOn({view:n}),e.modified()},e.setContainer=function(n){t.container&&t.interactor.unbindEvents(n),t.container=n,t.canvasView.setContainer(t.container),n&&(t.interactor.bindEvents(n),e.resize())},e.resize=function(){if(t.container&&t.canvasView){var n=t.container.getBoundingClientRect(),r=n.width,o=n.height;t.canvasView.setSize(r,o),e.render()}},e.render=function(){t.viewStream&&t.viewStream.render()},e.resetCamera=function(){t.viewStream&&t.viewStream.resetCamera()};var n={modified:e.modified};fe.set(n,t,["interactiveQuality","interactiveRatio","stillQuality","stillRatio"]),e.setInteractiveQuality=function(e){var r=n.setInteractiveQuality(e);return t.viewStream&&r&&t.viewStream.setInteractiveQuality(t.interactiveQuality),r},e.setInteractiveRatio=function(e){var r=n.setInteractiveRatio(e);return t.viewStream&&r&&t.viewStream.setInteractiveRatio(t.interactiveRatio),r},e.setStillQuality=function(e){var r=n.setStillQuality(e);return t.viewStream&&r&&t.viewStream.setStillQuality(t.stillQuality),r},e.setStillRatio=function(e){var r=n.setStillRatio(e);return t.viewStream&&r&&t.viewStream.setStillRatio(t.stillRatio),r},t.viewStream&&e.setViewStream(t.viewStream)}var qU={viewId:"-1",interactiveQuality:60,interactiveRatio:1/window.devicePixelRatio,stillQuality:100,stillRatio:1,rpcMouseEvent:"viewport.mouse.interaction",rpcGestureEvent:null,rpcWheelEvent:null};function KU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qU,n),fe.obj(e,t,n),fe.get(e,t,["container","viewStream","canvasView","interactor","interactorStyle","interactiveQuality","interactiveRatio","stillQuality","stillRatio"]),fe.setGet(e,t,["session","rpcMouseEvent","rpcGestureEvent","rpcWheelEvent"]),HU(e,t)}var XU={newInstance:fe.newInstance(KU,"vtkRemoteView"),extend:KU,SHARED_IMAGE_STREAM:zU,connectImageStream:GU,disconnectImageStream:WU},YU=n(1406),ZU=(Tb()(YU.Z,{insert:"head",singleton:!1}),YU.Z.locals||{});function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $U={left:function(e){return{top:"0",left:"0",bottom:"0",right:"unset",height:"unset",width:"".concat(e,"px")}},right:function(e){return{top:"0",right:"0",bottom:"0",left:"unset",height:"unset",width:"".concat(e,"px")}},top:function(e){return{top:"0",left:"0",right:"0",bottom:"unset",width:"unset",height:"".concat(e,"px")}},bottom:function(e){return{bottom:"0",left:"0",right:"0",top:"unset",width:"unset",height:"".concat(e,"px")}}};function QU(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JU(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);function r(e){t.renderWindowContainer.style[e]="0px"}function o(){var e,n,o,i;["left","right","top","bottom"].forEach(r),t.renderWindowContainer.style[t.controlPosition]="".concat(t.controlSize,"px"),e=t.controlContainer,n=t.controlPosition,o=t.controlSize,i=$U[n](o),Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}t.renderWindowContainer=document.createElement("div"),t.renderWindowContainer.classList.add(ZU.renderWindow),n.setContainer(t.renderWindowContainer),t.controlContainer=document.createElement("div"),t.controlContainer.classList.add(ZU.control),e.setContainer=function(n){t.rootContainer&&(t.rootContainer.removeChild(t.container),t.rootContainer.removeChild(t.controlContainer),t.rootContainer.classList.remove(ZU.rootContainer)),t.rootContainer=n,t.rootContainer&&(t.rootContainer.appendChild(t.container),t.rootContainer.appendChild(t.controlContainer),t.rootContainer.classList.add(ZU.rootContainer),o(),e.resize())},e.setControlSize=function(n){t.controlSize=n,o(),e.modified()},e.setControlPosition=function(n){t.controlPosition=n,o(),e.modified()},t.listenWindowResize&&window.addEventListener("resize",e.resize),o(),e.resize()}var ez={rootContainer:null,controlPosition:"left",controlSize:10};function tz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ez,n),UU.extend(e,t),fe.get(e,t,["rootContainer","controlContainer","renderWindowContainer"]),QU(e,t)}var nz={newInstance:fe.newInstance(tz,"vtkRenderWindowWithControlBar"),extend:tz};function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iz={},az=/instance:\${([^}]+)}/,sz={},uz=[],cz={},lz={vtkPoints:Ns,vtkCellArray:qn,vtkDataArray:Fn};function fz(e){return e.map((function(e){return az.exec(e)})).filter((function(e){return e})).map((function(e){return e[1]}))}function dz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.dependencies&&e.dependencies.forEach((function(e){t.push(e.id),dz(e,t)})),t}function pz(e,t,n,r){if(t){var o=iz[e];o&&o.update?o.update(t,n,r):console.log("no updater for",e)}}function hz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=iz[e];return n&&n.build?n.build(t):(console.log("No builder for",e),null)}function mz(){Object.keys(iz).forEach((function(e){delete iz[e]}))}function gz(){Object.keys(sz).forEach((function(e){delete sz[e]}))}function vz(e){if(1===e[1].length)return-1===uz.indexOf(e[1][0]);for(var t=!1,n=0;n<e[1].length;n++)t=t||-1===uz.indexOf(e[1][n]);return t}function yz(e,t,n){if(n.start(),e.set(t.properties),t.dependencies&&t.dependencies.forEach((function(e){var t=e.id,r=e.type;if(cz[r]){var o=cz[r],i=o.key,a=o.value;if(!i||e.properties[i]===a)return void uz.push(function(e){return"instance:${".concat(e,"}")}(t))}var s=n.getInstance(t);s||(s=hz(r,{managedInstanceId:t}),n.registerInstance(t,s)),pz(r,s,e,n)})),t.calls&&t.calls.filter(vz).forEach((function(t){var r;e[t[0]].apply(null,(r=n,t[1].map((function(e){var t=az.exec(e);return t?r.getInstance(t[1]):e}))))})),t.arrays){var r=[],o=t.arrays.map((function(t){return n.start(),n.getArray(t.hash,t.dataType,n).then(function(e,t,n){return function(r){var o=t.vtkClass?t.vtkClass:"vtkDataArray",i=lz[o].newInstance(oz(oz({},t),{},{values:r})),a=t.registration?t.registration:"addArray",s=t.location?e.getReferenceByName(t.location):e;return n.push([s[a],[i]]),i}}(e,t,r)).catch((function(e){console.log("Error fetching array",JSON.stringify(t),e)})).finally(n.end)}));n.start(),Promise.all(o).then((function(){!function(e){for(;e.length;){var t=g(e.shift(),2),n=t[0],r=t[1];n.apply(void 0,y(r))}}(r)})).catch((function(e){console.error("Error in array handling for state",JSON.stringify(t),e)})).finally(n.end)}n.end()}function bz(e,t,n){sz[t.id]||yz(e,t,n),sz[t.id]=!0}function wz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n,r){var o;r.start(),n.arrays||(n.arrays=[]),e.forEach((function(e){if(n.properties[e]){var t=n.properties[e];t.registration="set".concat(j(e)),n.arrays.push(t),delete n.properties[e]}}));var i=n.properties.fields||[];(o=n.arrays).push.apply(o,y(i)),delete n.properties.fields,t.getPointData().removeAllArrays(),t.getCellData().removeAllArrays(),yz(t,n,r),r.end()}}var xz=wz(["points","polys","verts","lines","strips"]),Cz=wz([]);function Sz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yz;hz||pz?iz[e]={build:t,update:n}:delete iz[e]}var Az={vtkMapper:["vtkOpenGLPolyDataMapper","vtkCompositePolyDataMapper2","vtkDataSetMapper"],vtkProperty:["vtkOpenGLProperty"],vtkRenderer:["vtkOpenGLRenderer"],vtkCamera:["vtkOpenGLCamera"],vtkColorTransferFunction:["vtkPVDiscretizableColorTransferFunction"],vtkActor:["vtkOpenGLActor","vtkPVLODActor"],vtkLight:["vtkOpenGLLight","vtkPVLight"],vtkTexture:["vtkOpenGLTexture"],vtkImageMapper:["vtkOpenGLImageSliceMapper"],vtkVolumeMapper:["vtkFixedPointVolumeRayCastMapper"]},_z={vtkRenderWindow:{build:iB.newInstance,update:function(e,t,n){t.calls&&t.calls.filter(vz).filter((function(e){return"removeRenderer"===e[0]})).forEach((function(e){fz(e[1]).forEach((function(e){var t=n.getInstance(e);t.getViewProps().forEach((function(e){var t=e.get("flattenedDepIds").flattenedDepIds;t&&t.forEach((function(e){return n.unregisterInstance(e)})),n.unregisterInstance(n.getInstanceId(e))})),t.removeAllViewProps()}))})),e.render(),yz(e,t,n)}},vtkRenderer:{build:CS.newInstance,update:function(e,t,n){yz(e,t,n);var r=new Set;t.dependencies&&t.dependencies.forEach((function(e){var t=n.getInstance(e.id);if(t){var o=dz(e);t.set({flattenedDepIds:o},!0),o.forEach((function(e){return r.add(e)}))}}));var o=new Set;t.calls&&t.calls.filter(vz).filter((function(e){return"removeViewProp"===e[0]})).forEach((function(e){fz(e[1]).forEach((function(e){var t=n.getInstance(e).get("flattenedDepIds").flattenedDepIds;t&&t.forEach((function(e){return o.add(e)})),o.add(e)}))})),y(o).filter((function(e){return!r.has(e)})).forEach((function(e){return n.unregisterInstance(e)}))}},vtkLookupTable:{build:Ss.newInstance,update:yz},vtkCamera:{build:iS.newInstance,update:bz},vtkPolyData:{build:Vc.newInstance,update:xz},vtkImageData:{build:es.newInstance,update:Cz},vtkMapper:{build:Uv.newInstance,update:yz},vtkGlyph3DMapper:{build:GR.newInstance,update:yz},vtkProperty:{build:av.newInstance,update:yz},vtkActor:{build:dv.newInstance,update:yz},vtkLight:{build:cS.newInstance,update:yz},vtkColorTransferFunction:{build:iT.newInstance,update:function(e,t,n){n.start();var r=t.properties.nodes.map((function(e){var t=g(e,6);return{x:t[0],r:t[1],g:t[2],b:t[3],midpoint:t[4],sharpness:t[5]}}));e.set(oz(oz({},t.properties),{},{nodes:r}),!0),e.sortAndUpdateRange(),e.modified(),n.end()}},vtkTexture:{build:IT.newInstance,update:yz},vtkVolume:{build:xT.newInstance,update:yz},vtkVolumeMapper:{build:KT.newInstance,update:yz},vtkVolumeProperty:{build:gT.newInstance,update:yz},vtkImageSlice:{build:xA.newInstance,update:yz},vtkImageMapper:{build:cA.newInstance,update:yz},vtkImageProperty:{build:gA.newInstance,update:yz},vtkPiecewiseFunction:{build:Ju.newInstance,update:function(e,t,n){n.start();var r=t.properties.nodes.map((function(e){var t=g(e,4);return{x:t[0],y:t[1],midpoint:t[2],sharpness:t[3]}}));e.set(oz(oz({},t.properties),{},{nodes:r}),!0),e.sortAndUpdateRange(),e.modified(),n.end()}}};function Pz(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&mz(),Object.keys(_z).forEach((function(e){var t=_z[e];Sz(e,t.build,t.update)}))}function Oz(){Object.keys(Az).forEach((function(e){Az[e].forEach((function(t){iz[t]=iz[e]}))}))}Pz(),Oz(),cz.vtkOpenGLLight={},cz.vtkPVLight={},cz.vtkLight={};var Ez={build:hz,update:pz,genericUpdater:yz,oneTimeGenericUpdater:bz,setTypeMapping:Sz,clearTypeMapping:mz,getSupportedTypes:function(){return Object.keys(iz)},clearOneTimeUpdaters:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return gz();var r=t;return 1===r.length&&Array.isArray(r[0])&&(r=r[0]),r.forEach((function(e){delete sz[e]})),r},updateRenderWindow:function(e,t,n){return pz("vtkRenderWindow",e,t,n)},excludeInstance:function(e,t,n){cz[e]={key:t,value:n}},setDefaultMapping:Pz,applyDefaultAliases:Oz,alwaysUpdateCamera:function(){Sz("vtkCamera",iS.newInstance),Oz()}};function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Iz={};function kz(){var e={},t=null;return{setFetchArrayFunction:function(e){t=e},getArray:function(n,r,o){var i=e[n];return i?(i.mtimes[o.getActiveViewId()]=o.getMTime(),new Promise((function(e,t){e(i.array)}))):t?new Promise((function(i,a){t(n).then((function(t){var a=t;if("string"==typeof t&&(a=d.toArrayBuffer(t)),a instanceof Blob){var s=new FileReader;s.onload=function(){var t=L(r,s.result),a=p({},o.getActiveViewId(),o.getMTime());e[n]={mtimes:a,array:t},i(t)},s.readAsArrayBuffer(a)}else{var u=L(r,a),c=p({},o.getActiveViewId(),o.getMTime());e[n]={mtimes:c,array:u},i(u)}}),(function(e){console.log("Error getting data array:"),console.log(e),a(e)}))})):Promise.reject(new Error('No array fetcher found, please use "setArrayFetcher" to provide one'))},emptyCachedArrays:function(){Object.keys(e).forEach((function(t){delete e[t]}))},freeOldArrays:function(t,n){var r=n.getMTime()-t;Object.keys(e).filter((function(t){return e[t].mtimes[n.getActiveViewId()]})).filter((function(t){return e[t].mtimes[n.getActiveViewId()]<r})).forEach((function(t){delete e[t]}))}}}function Mz(){var e={};return{getInstance:function(t){return e[t]},getInstanceId:function(t){var n=null;return Object.keys(e).forEach((function(r){t===e[r]&&(n=r)})),n},registerInstance:function(t,n){e[t]=n},unregisterInstance:function(t){delete e[t]},emptyCachedInstances:function(){Object.keys(e).forEach((function(t){delete e[t]}))}}}function Nz(){var e=0,t={start:function(){e+=1,t.invokeProgressEvent(e)},end:function(){e-=1,t.invokeProgressEvent(e),0===e&&t.invokeProgressDone()},resetProgress:function(){e=0}},n={};return te(t,n,"progressEvent"),te(t,n,"progressDone"),t}function Rz(){var e={},t="default";return{getMTime:function(n){return e[n||t]||1},incrementMTime:function(n){var r=n||t;e[r]||(e[r]=1),e[r]+=1},setActiveViewId:function(e){t=e},getActiveViewId:function(){return t}}}function Bz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Iz[e];return t||(t=Dz(Dz(Dz(Dz({},kz()),Mz()),Nz()),Rz()),Iz[e]=t),t}function Lz(e,t){var n=-1,r=100,o=function(e){return e.get("managedInstanceId").managedInstanceId},i=function(){return ie(e,o)};function a(t){e.set({synchronizedViewId:t},!0,!0)}function s(){return e.get("synchronizedViewId").synchronizedViewId}return{synchronize:function(o){s()||a(o.id);var i=o.mtime||0;return s()===o.id&&n<i?new Promise((function(a,s){var u=t.onProgressDone((function(){u.unsubscribe(),e.render(),a(!0)}));n=i,t.setActiveViewId(o.id),t.incrementMTime(),Ez.updateRenderWindow(e,o,t),t.freeOldArrays(r,t)})):Promise.resolve(!1)},setSynchronizedViewId:a,getSynchronizedViewId:s,updateGarbageCollectorThreshold:function(e){r=e},getManagedInstanceIds:i,clearOneTimeUpdaters:function(){Ez.clearOneTimeUpdaters(i())}}}function Fz(e,t){t.classHierarchy.push("vtkSynchronizableRenderWindow"),t.synchronizerContext||(t.synchronizerContext=Bz(t.synchronizerContextName));var n=Lz(e,t.synchronizerContext);Object.keys(n).forEach((function(t){e[t]?e[t]=re(e[t],n[t]):e[t]=n[t]}))}var jz={synchronizerContextName:"default",synchronizerContext:null,synchronizedViewId:null};function Vz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jz,n),iB.extend(e,t),H(e,t,["synchronizerContext"]),Fz(e,t)}var Uz=ne(Vz,"vtkSynchronizableRenderWindow"),zz={vtkCanvasView:jB,vtkFullScreenRenderWindow:LU,vtkGenericRenderWindow:UU,vtkRemoteView:XU,vtkRenderWindowWithControlBar:nz,vtkSynchronizableRenderWindow:{newInstance:Uz,extend:Vz,getSynchronizerContext:Bz,setSynchronizerContext:function(e,t){Iz[e]=t},decorate:function(e){var t=Lz(e,Bz(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default"));return Dz(Dz(Dz({},t),e),{},{delete:re(e.delete,t.delete)})},createInstanceMap:Mz,createArrayHandler:kz,createProgressHandler:Nz,createSceneMtimeHandler:Rz,vtkObjectManager:Ez},vtkTextureLODsDownloader:BT};function Gz(e,t){t.classHierarchy.push("vtkOpenGLActor"),e.buildPass=function(n){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.context=t.openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(var r=0;r<t.children.length;r++){var o=t.children[r];o.isA("vtkOpenGLTexture")?(t.ogltextures||(t.ogltextures=[]),t.ogltextures.push(o)):t.oglmapper=o}}},e.traverseOpaqueZBufferPass=function(t){e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getVisibility()||t.renderable.getIsOpaque()||t.openGLRenderer.getSelector()&&!t.renderable.getPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=function(){if(t.ogltextures){t.activeTextures=[];for(var e=0;e<t.ogltextures.length;e++){var n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(n,r){if(n)t.openGLRenderWindow.enableDepthMask(),e.activateTextures();else if(t.activeTextures)for(var o=0;o<t.activeTextures.length;o++)t.activeTextures[o].deactivate()},e.translucentPass=function(n,r){if(n)t.openGLRenderWindow.disableDepthMask(),e.activateTextures();else if(t.activeTextures)for(var o=0;o<t.activeTextures.length;o++)t.activeTextures[o].deactivate()},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),Oi(t.keyMatrices.mcwc,t.renderable.getMatrix()),Ii(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.renderable.getIsIdentity()?Aa(t.keyMatrices.normalMatrix):(ba(t.keyMatrices.normalMatrix,t.keyMatrices.mcwc),Pa(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),_a(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),t.keyMatrixTime.modified()),t.keyMatrices}}var Wz={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function Hz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Wz,n),KB.extend(e,t,n),t.keyMatrixTime={},W(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:Aa(new Float64Array(9)),mcwc:Di(new Float64Array(16))},Y(e,t,["context"]),H(e,t,["activeTextures"]),Gz(e,t)}var qz=ne(Hz),Kz={newInstance:qz,extend:Hz};function Xz(e,t){t.classHierarchy.push("vtkOpenGLActor2D"),e.buildPass=function(n){if(n){if(!t.renderable)return;t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.children.forEach((function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)})),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getVisibility()||t.renderable.getIsOpaque()||t.openGLRenderer.getSelector()&&!t.renderable.getPickable()||(e.apply(n,!0),t.children.forEach((function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)})),e.apply(n,!1))},e.activateTextures=function(){t.activeTextures=[],t.children.forEach((function(e){e.isA("vtkOpenGLTexture")&&(e.render(),e.getHandle()&&t.activeTextures.push(e))}))},e.opaquePass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!0),e.activateTextures()):t.activeTextures.forEach((function(e){e.deactivate()}))},e.translucentPass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!1),e.activateTextures()):(t.activeTextures.forEach((function(e){e.deactivate()})),t.context.depthMask(!0))}}QB("vtkActor",qz);var Yz={context:null,activeTextures:[]};function Zz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yz,n),KB.extend(e,t,n),Y(e,t,["context"]),H(e,t,["activeTextures"]),Xz(e,t)}var Jz=ne(Zz),$z={newInstance:Jz,extend:Zz};QB("vtkActor2D",Jz);var Qz={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},eG={ObjectType:Qz};function tG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tG(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rG=eG.ObjectType;function oG(e,t){function n(e){switch(e){case rG.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case rG.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in t.context)return t.context.TEXTURE_BUFFER;default:case rG.ARRAY_BUFFER:return t.context.ARRAY_BUFFER}}t.classHierarchy.push("vtkOpenGLBufferObject");var r=null,o=null,i=!0,a="";e.getType=function(){return r},e.setType=function(e){r=e},e.getHandle=function(){return o},e.isReady=function(){return!1===i},e.generateBuffer=function(e){var i=n(e);return null===o&&(o=t.context.createBuffer(),r=e),n(r)===i},e.upload=function(s,u){return e.generateBuffer(u)?(t.context.bindBuffer(n(r),o),t.context.bufferData(n(r),s,t.context.STATIC_DRAW),i=!1,!0):(a="Trying to upload array buffer to incompatible buffer.",!1)},e.bind=function(){return!!o&&(t.context.bindBuffer(n(r),o),!0)},e.release=function(){return!!o&&(t.context.bindBuffer(n(r),null),!0)},e.releaseGraphicsResources=function(){null!==o&&(t.context.bindBuffer(n(r),null),t.context.deleteBuffer(o),o=null)},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.getError=function(){return a}}var iG={objectType:rG.ARRAY_BUFFER,openGLRenderWindow:null,context:null};function aG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iG,n),fe.obj(e,t),fe.get(e,t,["openGLRenderWindow"]),oG(e,t)}var sG=nG(nG({newInstance:fe.newInstance(aG),extend:aG},{}),eG);function uG(e,t){t.classHierarchy.push("vtkOpenGLCamera"),e.buildPass=function(n){n&&(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext())},e.opaquePass=function(e){if(e){var n=t.openGLRenderer.getTiledSizeAndOrigin();t.context.viewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize),t.context.scissor(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)}},e.translucentPass=e.opaquePass,e.opaqueZBufferPass=e.opaquePass,e.volumePass=e.opaquePass,e.getKeyMatrices=function(n){if(n!==t.lastRenderer||t.openGLRenderWindow.getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||n.getMTime()>t.keyMatrixTime.getMTime()||t.renderable.getMTime()>t.keyMatrixTime.getMTime()){Oi(t.keyMatrices.wcvc,t.renderable.getViewMatrix()),ba(t.keyMatrices.normalMatrix,t.keyMatrices.wcvc),Pa(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),Ii(t.keyMatrices.wcvc,t.keyMatrices.wcvc);var r=t.openGLRenderer.getAspectRatio();Oi(t.keyMatrices.vcpc,t.renderable.getProjectionMatrix(r,-1,1)),Ii(t.keyMatrices.vcpc,t.keyMatrices.vcpc),Ri(t.keyMatrices.wcpc,t.keyMatrices.vcpc,t.keyMatrices.wcvc),t.keyMatrixTime.modified(),t.lastRenderer=n}return t.keyMatrices}}var cG={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function lG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,cG,n),KB.extend(e,t,n),t.keyMatrixTime={},W(t.keyMatrixTime),t.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Y(e,t,["context","keyMatrixTime"]),uG(e,t)}var fG=ne(lG),dG={newInstance:fG,extend:lG};QB("vtkCamera",fG);var pG=fe.vtkErrorMacro;function hG(e,t){t.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),e.setType(Qz.ARRAY_BUFFER),e.createVBO=function(n,r,o,i){if(!n.getData()||!n.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0,t.customData=[];var a=i.points.getData(),s=null,u=null,c=null,l=i.colors?i.colors.getNumberOfComponents():0,f=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,s=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach((function(e){e&&(t.customData.push({data:e.getData(),offset:4*t.blockSize,components:e.getNumberOfComponents(),name:e.getName()}),t.blockSize+=e.getNumberOfComponents())})),i.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=f,t.blockSize+=f,u=i.tcoords.getData()),i.colors?(t.colorComponents=i.colors.getNumberOfComponents(),t.colorOffset=0,c=i.colors.getData(),t.colorBO||(t.colorBO=sG.newInstance()),t.colorBO.setOpenGLRenderWindow(t.openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;var d,p=0,h=0,m=0,g=0,v=0,y=0,b={anythingToPoints:function(e,t,n){for(var r=0;r<e;++r)d(t[n+r])},linesToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)d(t[n+r]),d(t[n+r+1])},polysToWireframe:function(e,t,n){if(e>2)for(var r=0;r<e;++r)d(t[n+r]),d(t[n+(r+1)%e])},stripsToWireframe:function(e,t,n){if(e>2){for(var r=0;r<e-1;++r)d(t[n+r]),d(t[n+r+1]);for(var o=0;o<e-2;o++)d(t[n+o]),d(t[n+o+2])}},polysToSurface:function(e,t,n){for(var r=0;r<e-2;r++)d(t[n+0]),d(t[n+r+1]),d(t[n+r+2])},stripsToSurface:function(e,t,n){for(var r=0;r<e-2;r++)d(t[n+r]),d(t[n+r+1+r%2]),d(t[n+r+1+(r+1)%2])}},w={anythingToPoints:function(e,t){return e},linesToWireframe:function(e,t){return e>1?2*(e-1):0},polysToWireframe:function(e,t){return e>2?2*e:0},stripsToWireframe:function(e,t){return e>2?4*e-6:0},polysToSurface:function(e,t){return e>2?3*(e-2):0},stripsToSurface:function(e,t,n){return e>2?3*(e-2):0}},x=null,C=null;o===Jg.POINTS||"verts"===r?(x=b.anythingToPoints,C=w.anythingToPoints):o===Jg.WIREFRAME||"lines"===r?(x=b["".concat(r,"ToWireframe")],C=w["".concat(r,"ToWireframe")]):(x=b["".concat(r,"ToSurface")],C=w["".concat(r,"ToSurface")]);for(var S=n.getData(),A=S.length,_=0,P=0;P<A;)_+=C(S[P],S),P+=S[P]+1;var O=null,E=new Float32Array(_*t.blockSize);c&&(O=new Uint8Array(4*_));for(var T=0,D=0,I=0,k=0,M=0;M<3;++M){var N=i.points.getRange(M),R=N[1]-N[0];I+=R*R;var B=.5*(N[1]+N[0]);k+=B*B}if(I>0&&(Math.abs(k)/I>1e6||Math.abs(Math.log10(I))>3||0===I&&k>1e6)){for(var L=new Float64Array(3),F=new Float64Array(3),j=0;j<3;++j){var V=i.points.getRange(j),U=V[1]-V[0];L[j]=.5*(V[1]+V[0]),F[j]=U>0?1/U:1}e.setCoordShiftAndScale(L,F)}else!0===t.coordShiftAndScaleEnabled&&e.setCoordShiftAndScale(null,null);d=function(e){if(p=3*e,t.coordShiftAndScaleEnabled?(E[T++]=(a[p++]-t.coordShift[0])*t.coordScale[0],E[T++]=(a[p++]-t.coordShift[1])*t.coordScale[1],E[T++]=(a[p++]-t.coordShift[2])*t.coordScale[2]):(E[T++]=a[p++],E[T++]=a[p++],E[T++]=a[p++]),null!==s&&(h=i.haveCellNormals?3*(y+i.cellOffset):3*e,E[T++]=s[h++],E[T++]=s[h++],E[T++]=s[h++]),t.customData.forEach((function(t){v=e*t.components;for(var n=0;n<t.components;++n)E[T++]=t.data[v++]})),null!==u){m=e*f;for(var n=0;n<f;++n)E[T++]=u[m++]}null!==c&&(g=i.haveCellScalars?(y+i.cellOffset)*l:e*l,O[D++]=c[g++],O[D++]=c[g++],O[D++]=c[g++],O[D++]=4===l?c[g++]:255)};for(var z=0;z<A;)x(S[z],S,z+1),z+=S[z]+1,y++;return t.elementCount=_,e.upload(E,Qz.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(O,Qz.ARRAY_BUFFER)),y},e.setCoordShiftAndScale=function(e,n){null===e||e.constructor===Float64Array&&3===e.length?null===n||n.constructor===Float64Array&&3===n.length?(null!==t.coordShift&&null!==e&&mi(e,t.coordShift)||(t.coordShift=e),null!==t.coordScale&&null!==n&&mi(n,t.coordScale)||(t.coordScale=n),t.coordShiftAndScaleEnabled=function(e,t){return null!==e&&null!==t&&!(hi(e,[0,0,0])&&hi(t,[1,1,1]))}(t.coordShift,t.coordScale),t.coordShiftAndScaleEnabled?t.inverseShiftAndScaleMatrix=function(e,t){var n=new Float64Array(3);Jo(n,t);var r=new Float64Array(16);return Qi(r,Lg(),e,n),r}(t.coordShift,t.coordScale):t.inverseShiftAndScaleMatrix=null):pG("Wrong type for coordScale, expected vec3 or null"):pG("Wrong type for coordShift, expected vec3 or null")}}var mG={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function gG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mG,n),sG.extend(e,t,n),fe.setGet(e,t,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),fe.get(e,t,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),hG(e,t)}var vG={newInstance:fe.newInstance(gG),extend:gG};function yG(e,t){t.classHierarchy.push("vtkOpenGLVertexArrayObject"),e.exposedMethod=function(){},e.initialize=function(){t.instancingExtension=null,t.openGLRenderWindow.getWebgl2()||(t.instancingExtension=t.context.getExtension("ANGLE_instanced_arrays")),!t.forceEmulation&&t.openGLRenderWindow&&t.openGLRenderWindow.getWebgl2()?(t.extension=null,t.supported=!0,t.handleVAO=t.context.createVertexArray()):(t.extension=t.context.getExtension("OES_vertex_array_object"),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1)},e.isReady=function(){return 0!==t.handleVAO||!1===t.supported},e.bind=function(){if(e.isReady()||e.initialize(),e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(t.handleVAO):t.context.bindVertexArray(t.handleVAO);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var o=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,o.buffer);for(var i=0;i<o.attributes.length;++i)for(var a=o.attributes[i],s=a.isMatrix?a.size:1,u=0;u<s;++u)n.enableVertexAttribArray(a.index+u),n.vertexAttribPointer(a.index+u,a.size,a.type,a.normalize,a.stride,a.offset+a.stride*u/a.size),a.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(a.index+u,1):n.vertexAttribDivisor(a.index+u,1))}},e.release=function(){if(e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(null):t.context.bindVertexArray(null);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var o=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,o.buffer);for(var i=0;i<o.attributes.length;++i)for(var a=o.attributes[i],s=a.isMatrix?a.size:1,u=0;u<s;++u)n.enableVertexAttribArray(a.index+u),n.vertexAttribPointer(a.index+u,a.size,a.type,a.normalize,a.stride,a.offset+a.stride*u/a.size),a.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(a.index+u,0):n.vertexAttribDivisor(a.index+u,0)),n.disableVertexAttribArray(a.index+u)}},e.shaderProgramChanged=function(){e.release(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.handleProgram=0},e.releaseGraphicsResources=function(){e.shaderProgramChanged(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.supported=!0,t.handleProgram=0},e.addAttributeArray=function(t,n,r,o,i,a,s,u){return e.addAttributeArrayWithDivisor(t,n,r,o,i,a,s,u,0,!1)},e.addAttributeArrayWithDivisor=function(n,r,o,i,a,s,u,c,l,f){if(!n)return!1;if(!n.isBound()||0===r.getHandle()||r.getType()!==Qz.ARRAY_BUFFER)return!1;if(0===t.handleProgram&&(t.handleProgram=n.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==n.getHandle())return!1;var d=t.context,p={};if(p.name=o,p.index=d.getAttribLocation(t.handleProgram,o),p.offset=i,p.stride=a,p.type=s,p.size=u,p.normalize=c,p.isMatrix=f,p.divisor=l,-1===p.Index)return!1;if(r.bind(),d.enableVertexAttribArray(p.index),d.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),l>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p.index,1):d.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!t.supported){for(var h=!1,m=0;m<t.buffers.length;++m){var g=t.buffers[m];if(g.buffer===p.buffer){h=!0;for(var v=!1,y=0;y<g.attributes.length;++y)g.attributes[y].name===o&&(v=!0,g.attributes[y]=p);v||g.attributes.push(p)}}h||t.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},e.addAttributeMatrixWithDivisor=function(n,r,o,i,a,s,u,c,l){var f=e.addAttributeArrayWithDivisor(n,r,o,i,a,s,u,c,l,!0);if(!f)return f;for(var d=t.context,p=d.getAttribLocation(t.handleProgram,o),h=1;h<u;h++)d.enableVertexAttribArray(p+h),d.vertexAttribPointer(p+h,u,s,c,a,i+a*h/u),l>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p+h,1):d.vertexAttribDivisor(p+h,1));return!0},e.removeAttributeArray=function(n){if(!e.isReady()||0===t.handleProgram)return!1;if(!t.supported)for(var r=0;r<t.buffers.length;++r)for(var o=t.buffers[r],i=0;i<o.attributes.length;++i)if(o.attributes[i].name===n)return o.attributes.splice(i,1),o.attributes.length||t.buffers.splice(r,1),!0;return!0},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))}}var bG={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null,openGLRenderWindow:null};function wG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bG,n),t.buffers=[],fe.obj(e,t),fe.get(e,t,["supported"]),fe.setGet(e,t,["forceEmulation"]),yG(e,t)}var xG={newInstance:fe.newInstance(wG,"vtkOpenGLVertexArrayObject"),extend:wG};function CG(e,t){t.classHierarchy.push("vtkOpenGLHelper"),e.setOpenGLRenderWindow=function(e){t.program.setContext(e.getContext()),t.VAO.setOpenGLRenderWindow(e),t.CABO.setOpenGLRenderWindow(e)},e.releaseGraphicsResources=function(e){t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)}}var SG={program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0};function AG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SG,n),fe.obj(e,t),t.shaderSourceTime={},fe.obj(t.shaderSourceTime),t.attributeUpdateTime={},fe.obj(t.attributeUpdateTime),fe.setGet(e,t,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType"]),t.program=jL.newInstance(),t.VAO=xG.newInstance(),t.CABO=vG.newInstance(),CG(e,t)}var _G={newInstance:fe.newInstance(AG),extend:AG},PG=fe.vtkErrorMacro;function OG(e,t){t.classHierarchy.push("vtkConvolution2DPass"),e.computeKernelWeight=function(e){var t=e.reduce((function(e,t){return e+t}));return t<=0?1:t},e.traverse=function(n){if(!t.deleted)if(t.kernelDimension%2==1){null===t.kernel&&(t.kernel=new Float32Array(t.kernelDimension),t.kernel[Math.floor(t.kernelDimension/2)]=1);var r=t.kernelDimension*t.kernelDimension;if(t.kernel.length===r){null===t.framebuffer&&(t.framebuffer=bL.newInstance());var o=n.getSize(),i=n.getContext();if(null!==i){t.VBOBuildTime.getMTime()<e.getMTime()&&(t.tris.setOpenGLRenderWindow(n),e.buildVertexBuffer()),t.framebuffer.setOpenGLRenderWindow(n),t.framebuffer.saveCurrentBindingsAndBuffers();var a=t.framebuffer.getSize();if(null!==a&&a[0]===o[0]&&a[1]===o[1]||(t.framebuffer.create(o[0],o[1]),t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),t.delegates.forEach((function(t){t.traverse(n,e)})),t.framebuffer.restorePreviousBindingsAndBuffers(),null!==t.convolutionShader&&t.oldKernelDimension!==t.kernelDimension&&(t.convolutionShader=null,t.oldKernelDimension=t.kernelDimension),null===t.convolutionShader){t.convolutionShader=n.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join("\n"),e.getFragmentShaderCode(t.kernelDimension),"");var s=t.convolutionShader;t.copyVAO=xG.newInstance(),t.copyVAO.setOpenGLRenderWindow(n),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(s,t.tris.getCABO(),"vertexDC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),i.FLOAT,3,i.FALSE)||PG("Error setting vertexDC in copy shader VAO."),t.copyVAO.addAttributeArray(s,t.tris.getCABO(),"tcoordTC",t.tris.getCABO().getTCoordOffset(),t.tris.getCABO().getStride(),i.FLOAT,2,i.FALSE)||PG("Error setting vertexDC in copy shader VAO.")}else n.getShaderCache().readyShaderProgram(t.convolutionShader);i.viewport(0,0,o[0],o[1]),i.scissor(0,0,o[0],o[1]);var u=t.framebuffer.getColorTexture();u.activate(),t.convolutionShader.setUniformi("u_image",u.getTextureUnit()),t.convolutionShader.setUniform2f("u_textureSize",u.getWidth(),u.getHeight()),t.convolutionShader.setUniformfv("u_kernel",t.kernel),t.convolutionShader.setUniformf("u_kernelWeight",e.computeKernelWeight(t.kernel)),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),u.deactivate()}else t.delegates.forEach((function(t){t.traverse(n,e)}))}else PG("The given kernel is invalid. 2D convolution kernels have to be 1D arrays with ".concat(r," components representing the ").concat(t.kernelDimension,"x").concat(t.kernelDimension," kernel in row-major form."))}else PG("Invalid kernel dimension! Kernel dimension must be odd (e.g. 3, 5, 7, ...).")},e.getFragmentShaderCode=function(e){for(var t=e*e,n=["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D u_image;","uniform vec2 u_textureSize;","uniform float u_kernel[".concat(t,"];"),"uniform float u_kernelWeight;","varying vec2 tcoord;","void main(){","    vec2 onePixel = vec2(1.0, 1.0) / u_textureSize;","    vec4 colorSum =\n"].join("\n"),r=Math.floor(e/2),o=0,i=-r;i<=r;++i)for(var a=-r;a<=r;++a)n+="        texture2D(u_image, tcoord + onePixel * vec2(".concat(a,", ").concat(i,")) * u_kernel[").concat(o,"]"),++o!==t&&(n+=" +\n");return n+[";","    gl_FragData[0] = vec4((colorSum / u_kernelWeight).rgb, texture2D(u_image, tcoord).a);","}"].join("\n")},e.buildVertexBuffer=function(){var e=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),n=new Float32Array([0,0,1,0,0,1,1,1]),r=new Uint16Array([4,0,1,3,2]),o=Fn.newInstance({numberOfComponents:3,values:e});o.setName("points");var i=Fn.newInstance({numberOfComponents:2,values:n});i.setName("tcoords");var a=Fn.newInstance({numberOfComponents:1,values:r});t.tris.getCABO().createVBO(a,"polys",Jg.SURFACE,{points:o,tcoords:i,cellOffset:0}),t.VBOBuildTime.modified()}}var EG={framebuffer:null,convolutionShader:null,tris:null,kernel:[0,0,0,0,1,0,0,0,0],oldKernelDimension:3,kernelDimension:3};function TG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,EG,n),SL.extend(e,t,n),t.VBOBuildTime={},fe.obj(t.VBOBuildTime,{mtime:0}),t.tris=_G.newInstance(),fe.setGet(e,t,["kernel","kernelDimension"]),fe.get(e,t,["framebuffer"]),OG(e,t)}var DG={newInstance:fe.newInstance(TG,"vtkConvolution2DPass"),extend:TG},IG=n(516),kG=n.n(IG),MG=n(1158),NG=n.n(MG),RG=function(e,t){e.replaceShaderCoincidentOffset=function(n,r,o){var i=e.getCoincidentParameters(r,o);if(i&&(0!==i.factor||0!==i.offset)){var a=n.Fragment;a=jL.substitute(a,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,t.context.getExtension("EXT_frag_depth")&&(0!==i.factor?(a=jL.substitute(a,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,a=jL.substitute(a,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):a=jL.substitute(a,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),t.openGLRenderWindow.getWebgl2()&&(0!==i.factor?(a=jL.substitute(a,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,a=jL.substitute(a,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):a=jL.substitute(a,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=a}}},BG={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6},LG=av.Representation,FG=av.Shading,jG=Uv.ScalarMode,VG=mL.Filter,UG=mL.Wrap,zG=M,GG={type:"StartEvent"},WG={type:"EndEvent"};function HG(e,t){function n(e,t,n){return t.identity(n),e.reduce((function(e,n,r){return 0===r?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e}),n)}t.classHierarchy.push("vtkOpenGLPolyDataMapper"),e.buildPass=function(n){n&&(t.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor"),t.openGLRenderer=t.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.openGLCamera=t.openGLRenderer.getViewNodeFor(t.openGLRenderer.getRenderable().getActiveCamera()))},e.translucentPass=function(t){t&&e.render()},e.opaqueZBufferPass=function(n){n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaquePass=function(t){t&&e.render()},e.render=function(){var n=t.openGLRenderWindow.getContext();if(t.context!==n){t.context=n;for(var r=BG.Start;r<BG.End;r++)t.primitives[r].setOpenGLRenderWindow(t.openGLRenderWindow)}var o=t.openGLActor.getRenderable(),i=t.openGLRenderer.getRenderable();e.renderPiece(i,o)},e.buildShaders=function(n,r,o){e.getShaderTemplate(n,r,o);var i=t.renderable.getViewSpecificProperties().OpenGL,a=null;if(i&&(a=i.ShaderReplacements),a)for(var s=0;s<a.length;s++){var u=a[s];if(u.replaceFirst){var c=u.shaderType,l=n[c],f=jL.substitute(l,u.originalValue,u.replacementValue,u.replaceAll);n[c]=f.result}}if(e.replaceShaderValues(n,r,o),a)for(var d=0;d<a.length;d++){var p=a[d];if(!p.replaceFirst){var h=p.shaderType,m=n[h],g=jL.substitute(m,p.originalValue,p.replacementValue,p.replaceAll);n[h]=g.result}}},e.getShaderTemplate=function(e,n,r){var o=t.renderable.getViewSpecificProperties().OpenGL,i=kG();if(o){var a=o.VertexShaderCode;void 0!==a&&""!==a&&(i=a)}e.Vertex=i;var s=NG();if(o){var u=o.FragmentShaderCode;void 0!==u&&""!==u&&(s=u)}e.Fragment=s;var c="";if(o){var l=o.GeometryShaderCode;void 0!==l&&(c=l)}e.Geometry=c},e.replaceShaderColor=function(e,n,r){var o=e.Vertex,i=e.Geometry,a=e.Fragment,s=t.lastBoundBO.getReferenceByName("lastLightComplexity"),u=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];s&&(u=u.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];s&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),s&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges||(u=u.concat(["varying vec4 vertexColorVSOutput;"]),o=jL.substitute(o,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,o=jL.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,i=jL.substitute(i,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,i=jL.substitute(i,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges?t.renderable.getInterpolateScalarsBeforeMapping()&&t.renderable.getColorCoordinates()&&!t.drawingEdges?a=jL.substitute(a,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(r.getBackfaceProperty()&&!t.drawingEdges&&(u=u.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),s?(u=u.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),t.haveCellScalars&&!t.drawingEdges&&(u=u.concat(["uniform samplerBuffer texture1;"])),a=jL.substitute(a,"//VTK::Color::Impl",c).result):a=jL.substitute(a,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result,a=jL.substitute(a,"//VTK::Color::Dec",u).result,e.Vertex=o,e.Geometry=i,e.Fragment=a},e.replaceShaderLight=function(e,n,r){var o=e.Fragment,i=t.lastBoundBO.getReferenceByName("lastLightComplexity"),a=t.lastBoundBO.getReferenceByName("lastLightCount"),s=[];switch(i){case 0:o=jL.substitute(o,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:o=jL.substitute(o,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var u=0;u<a;++u)s=s.concat(["uniform vec3 lightColor".concat(u,";"),"uniform vec3 lightDirectionVC".concat(u,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(u,"; // normalized")]);o=jL.substitute(o,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var c=0;c<a;++c)s=s.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(c,"));"),"  diffuseL += ((df".concat("",") * lightColor").concat(c,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(c,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(c,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(c,");"),"    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=jL.substitute(o,"//VTK::Light::Impl",s,!1).result;break;case 3:for(var l=0;l<a;++l)s=s.concat(["uniform vec3 lightColor".concat(l,";"),"uniform vec3 lightDirectionVC".concat(l,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(l,"; // normalized"),"uniform vec3 lightPositionVC".concat(l,";"),"uniform vec3 lightAttenuation".concat(l,";"),"uniform float lightConeAngle".concat(l,";"),"uniform float lightExponent".concat(l,";"),"uniform int lightPositional".concat(l,";")]);o=jL.substitute(o,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var f=0;f<a;++f)s=s.concat(["  attenuation = 1.0;","  if (lightPositional".concat(f," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(f,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(f,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(f,".x"),"       + lightAttenuation".concat(f,".y * distanceVC"),"       + lightAttenuation".concat(f,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(f," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(f,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(f,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(f,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat("",") * lightColor").concat(f,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(f,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(f,");"),"    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=jL.substitute(o,"//VTK::Light::Impl",s,!1).result;break;default:zG("bad light complexity")}e.Fragment=o},e.replaceShaderNormal=function(n,r,o){if(t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var i=n.Vertex,a=n.Geometry,s=n.Fragment;t.lastBoundBO.getCABO().getNormalOffset()?(i=jL.substitute(i,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,i=jL.substitute(i,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,a=jL.substitute(a,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,a=jL.substitute(a,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,s=jL.substitute(s,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,s=jL.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):t.haveCellNormals?(s=jL.substitute(s,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,s=jL.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.getOpenGLMode(o.getProperty().getRepresentation(),t.lastBoundBO.getPrimitiveType())===t.context.LINES?(s=jL.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = vec3(dFdx(vertexVC.x),dFdx(vertexVC.y),dFdx(vertexVC.z));","  vec3 fdy = vec3(dFdy(vertexVC.x),dFdy(vertexVC.y),dFdy(vertexVC.z));","  //VTK::UniformFlow::Impl"]).result,s=jL.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  fdx = normalize(fdx);","  fdy = normalize(fdy);","  if (abs(fdx.x) > 0.0)","    { normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(s=jL.substitute(s,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,s=jL.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,s=jL.substitute(s,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),n.Vertex=i,n.Geometry=a,n.Fragment=s}},e.replaceShaderPositionVC=function(e,n,r){var o=e.Vertex,i=e.Geometry,a=e.Fragment;r.getProperty().getRepresentation()!==LG.POINTS&&t.lastBoundBO.getPrimitiveType()!==BG.Points||(o=jL.substitute(o,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = ".concat(r.getProperty().getPointSize(),".0;")],!1).result),t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(o=jL.substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=jL.substitute(o,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,o=jL.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,i=jL.substitute(i,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,i=jL.substitute(i,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,a=jL.substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=jL.substitute(a,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(o=jL.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=jL.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),e.Vertex=o,e.Geometry=i,e.Fragment=a},e.replaceShaderTCoord=function(e,n,r){if(t.lastBoundBO.getCABO().getTCoordOffset()){var o=e.Vertex,i=e.Geometry,a=e.Fragment;if(t.drawingEdges)return;o=jL.substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var s=t.openGLActor.getActiveTextures(),u=2,c=2;if(s&&s.length>0&&(u=s[0].getComponents(),s[0].getTarget()===t.context.TEXTURE_CUBE_MAP&&(c=3)),t.renderable.getColorTextureMap()&&(u=t.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),c=2),2===c){if(o=jL.substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=jL.substitute(i,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,i=jL.substitute(i,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,a=jL.substitute(a,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,s&&s.length>=1)switch(u){case 1:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:a=jL.substitute(a,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*texture2D(texture1, tcoordVCVSOutput.st);").result}}else switch(o=jL.substitute(o,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,i=jL.substitute(i,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,i=jL.substitute(i,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,a=jL.substitute(a,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,u){case 1:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:a=jL.substitute(a,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*textureCube(texture1, tcoordVCVSOutput);").result}e.Vertex=o,e.Geometry=i,e.Fragment=a}},e.replaceShaderClip=function(e,n,r){var o=e.Vertex,i=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){var a=t.renderable.getNumberOfClippingPlanes();a>6&&(M("OpenGL has a limit of 6 clipping planes"),a=6),o=jL.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,o=jL.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,i=jL.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,i=jL.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}e.Vertex=o,e.Fragment=i},e.getCoincidentParameters=function(e,n){var r=null,o=n.getProperty();if(t.renderable.getResolveCoincidentTopology()||o.getEdgeVisibility()&&o.getRepresentation()===LG.SURFACE){var i=t.lastBoundBO.getPrimitiveType();i===BG.Points||o.getRepresentation()===LG.POINTS?r=t.renderable.getCoincidentTopologyPointOffsetParameter():i===BG.Lines||o.getRepresentation()===LG.WIREFRAME?r=t.renderable.getCoincidentTopologyLineOffsetParameters():i!==BG.Tris&&i!==BG.TriStrips||(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters()),i!==BG.TrisEdges&&i!==BG.TriStripsEdges||((r=t.renderable.getCoincidentTopologyPolygonOffsetParameters()).factor/=2,r.offset/=2)}return r},e.replaceShaderPicking=function(e,t,n){var r=e.Fragment;r=jL.substitute(r,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,r=jL.substitute(r,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,e.Fragment=r},e.replaceShaderValues=function(n,r,o){if(e.replaceShaderColor(n,r,o),e.replaceShaderNormal(n,r,o),e.replaceShaderLight(n,r,o),e.replaceShaderTCoord(n,r,o),e.replaceShaderPicking(n,r,o),e.replaceShaderClip(n,r,o),e.replaceShaderCoincidentOffset(n,r,o),e.replaceShaderPositionVC(n,r,o),t.haveSeenDepthRequest){var i=n.Fragment;i=jL.substitute(i,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,i=jL.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,n.Fragment=i}},e.getNeedToRebuildShaders=function(n,r,o){var i=0,a=0,s=n.getPrimitiveType(),u=t.currentInput,c=!1,l=u.getPointData().getNormals(),f=u.getCellData().getNormals(),d=o.getProperty().getInterpolation()===FG.FLAT,p=o.getProperty().getRepresentation(),h=e.getOpenGLMode(p,s);if(h===t.context.TRIANGLES||f&&!l||!d&&l?c=!0:d||h!==t.context.LINES||(c=!0),o.getProperty().getLighting()&&c){i=0;for(var m=r.getLightsByReference(),g=0;g<m.length;++g){var v=m[g];v.getSwitch()>0&&(a++,0===i&&(i=1)),1===i&&(a>1||1!==v.getIntensity()||!v.lightTypeIsHeadLight())&&(i=2),i<3&&v.getPositional()&&(i=3)}}var y=!1,b=t.lastBoundBO.getReferenceByName("lastLightComplexity"),w=t.lastBoundBO.getReferenceByName("lastLightCount");return b===i&&w===a||(t.lastBoundBO.set({lastLightComplexity:i},!0),t.lastBoundBO.set({lastLightCount:a},!0),y=!0),!!(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<o.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||y)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,!0)},e.updateShaders=function(n,r,o){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,o)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,o);var a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,o),e.setPropertyShaderParameters(n,r,o),e.setCameraShaderParameters(n,r,o),e.setLightingShaderParameters(n,r,o);var s=t.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach((function(e){e.callback(e.userData,n,r,o)}))},e.setMapperShaderParameters=function(n,r,o){if(n.getProgram().isUniformUsed("PrimitiveIDOffset")&&n.getProgram().setUniformi("PrimitiveIDOffset",t.primitiveIDOffset),n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){var i=t.lastBoundBO.getReferenceByName("lastLightComplexity");n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||zG("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("normalMC")&&n.getCABO().getNormalOffset()&&i>0?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"normalMC",n.getCABO().getNormalOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||zG("Error setting normalMC in shader VAO."):n.getVAO().removeAttributeArray("normalMC"),t.renderable.getCustomShaderAttributes().forEach((function(e,r){n.getProgram().isAttributeUsed("".concat(e,"MC"))&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"".concat(e,"MC"),n.getCABO().getCustomData()[r].offset,n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getCustomData()[r].components,!1)||zG("Error setting ".concat(e,"MC in shader VAO.")))})),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),!1)||zG("Error setting tcoordMC in shader VAO."):n.getVAO().removeAttributeArray("tcoordMC"),n.getProgram().isAttributeUsed("scalarColor")&&n.getCABO().getColorComponents()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),"scalarColor",n.getCABO().getColorOffset(),n.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,4,!0)||zG("Error setting scalarColor in shader VAO."):n.getVAO().removeAttributeArray("scalarColor"),n.getAttributeUpdateTime().modified()}if(t.renderable.getNumberOfClippingPlanes()){var a=t.renderable.getNumberOfClippingPlanes();a>6&&(M("OpenGL has a limit of 6 clipping planes"),a=6);for(var s=[],u=0;u<a;u++){var c=[];t.renderable.getClippingPlaneInDataCoords(o.getMatrix(),u,c);for(var l=0;l<4;l++)s.push(c[l])}n.getProgram().setUniformi("numClipPlanes",a),n.getProgram().setUniform4fv("clipPlanes",6,s)}t.internalColorTexture&&n.getProgram().isUniformUsed("texture1")&&n.getProgram().setUniformi("texture1",t.internalColorTexture.getTextureUnit());var f=t.openGLActor.getActiveTextures();if(f)for(var d=0;d<f.length;++d){var p=f[d].getTextureUnit(),h="texture".concat(p+1);n.getProgram().isUniformUsed(h)&&n.getProgram().setUniformi(h,p)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",t.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var m=e.getCoincidentParameters(r,o);n.getProgram().setUniformf("coffset",m.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",m.factor)}var g=t.openGLRenderer.getSelector();n.getProgram().setUniform3fArray("mapperIndex",g?g.getPropColorValue():[0,0,0]),n.getProgram().setUniformi("picking",g?g.getCurrentPass()+1:0)},e.setLightingShaderParameters=function(e,n,r){var o=t.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(o<2)){for(var i=e.getProgram(),a=0,s=n.getLightsByReference(),u=0;u<s.length;++u){var c=s[u];if(c.getSwitch()>0){var l=c.getColorByReference(),f=c.getIntensity();t.lightColor[0]=l[0]*f,t.lightColor[1]=l[1]*f,t.lightColor[2]=l[2]*f;var d=c.getDirection(),p=n.getActiveCamera().getViewMatrix(),h=y(d);c.lightTypeIsSceneLight()&&(h[0]=p[0]*d[0]+p[1]*d[1]+p[2]*d[2],h[1]=p[4]*d[0]+p[5]*d[1]+p[6]*d[2],h[2]=p[8]*d[0]+p[9]*d[1]+p[10]*d[2],nt(h)),t.lightDirection[0]=h[0],t.lightDirection[1]=h[1],t.lightDirection[2]=h[2],t.lightHalfAngle[0]=-t.lightDirection[0],t.lightHalfAngle[1]=-t.lightDirection[1],t.lightHalfAngle[2]=1-t.lightDirection[2],nt(t.lightDirection),i.setUniform3fArray("lightColor".concat(a),t.lightColor),i.setUniform3fArray("lightDirectionVC".concat(a),t.lightDirection),i.setUniform3fArray("lightHalfAngleVC".concat(a),t.lightHalfAngle),a++}}if(!(o<3)){var m=n.getActiveCamera().getViewMatrix();Ii(m,m),a=0;for(var g=0;g<s.length;++g){var v=s[g];if(v.getSwitch()>0){var b=v.getTransformedPosition(),w=new Float64Array(3);ii(w,b,m),i.setUniform3fArray("lightAttenuation".concat(a),v.getAttenuationValuesByReference()),i.setUniformi("lightPositional".concat(a),v.getPositional()),i.setUniformf("lightExponent".concat(a),v.getExponent()),i.setUniformf("lightConeAngle".concat(a),v.getConeAngle()),i.setUniform3fArray("lightPositionVC".concat(a),[w[0],w[1],w[2]]),a++}}}}},e.setCameraShaderParameters=function(e,r,o){var s=e.getProgram(),u=t.openGLCamera.getKeyMatrices(r),c=r.getActiveCamera(),l=t.openGLCamera.getKeyMatrixTime().getMTime(),f=s.getLastCameraMTime(),d=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,p=o.getIsIdentity(),h=p?{mcwc:null,normalMatrix:null}:t.openGLActor.getKeyMatrices();s.setUniformMatrix("MCPCMatrix",n([u.wcpc,h.mcwc,d],i,t.tmpMat4)),s.isUniformUsed("MCVCMatrix")&&s.setUniformMatrix("MCVCMatrix",n([u.wcvc,h.mcwc,d],i,t.tmpMat4)),s.isUniformUsed("normalMatrix")&&s.setUniformMatrix3x3("normalMatrix",n([u.normalMatrix,h.normalMatrix],a,t.tmpMat3)),f!==l&&(s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",c.getParallelProjection()),s.setLastCameraMTime(l)),p||s.setLastCameraMTime(0)},e.setPropertyShaderParameters=function(e,n,r){var o=e.getProgram(),i=r.getProperty(),a=i.getOpacity(),s=t.drawingEdges?i.getEdgeColorByReference():i.getAmbientColorByReference(),u=t.drawingEdges?i.getEdgeColorByReference():i.getDiffuseColorByReference(),c=t.drawingEdges?1:i.getAmbient(),l=t.drawingEdges?0:i.getDiffuse(),f=t.drawingEdges?0:i.getSpecular(),d=i.getSpecularPower();o.setUniformf("opacityUniform",a),o.setUniform3fArray("ambientColorUniform",s),o.setUniform3fArray("diffuseColorUniform",u),o.setUniformf("ambient",c),o.setUniformf("diffuse",l);var p=t.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(p<1)){var h=i.getSpecularColorByReference();if(o.setUniform3fArray("specularColorUniform",h),o.setUniformf("specularPowerUniform",d),o.setUniformf("specular",f),o.isUniformUsed("ambientIntensityBF")){if(a=(i=r.getBackfaceProperty()).getOpacity(),s=i.getAmbientColor(),c=i.getAmbient(),u=i.getDiffuseColor(),l=i.getDiffuse(),h=i.getSpecularColor(),f=i.getSpecular(),o.setUniformf("ambientIntensityBF",c),o.setUniformf("diffuseIntensityBF",l),o.setUniformf("opacityUniformBF",a),o.setUniform3fArray("ambientColorUniformBF",s),o.setUniform3fArray("diffuseColorUniformBF",u),p<1)return;o.setUniformf("specularIntensityBF",f),o.setUniform3fArray("specularColorUniformBF",h),o.setUniformf("specularPowerUniformBF",d)}}},e.renderPieceStart=function(n,r){t.primitiveIDOffset=0,t.openGLRenderer.getSelector()&&(t.openGLRenderer.getSelector().getCurrentPass(),t.openGLRenderer.getSelector().renderProp(r)),e.updateBufferObjects(n,r),t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var o=r.getProperty().getRepresentation(),i=t.context,a=r.getProperty().getEdgeVisibility()&&o===LG.SURFACE;i.lineWidth(r.getProperty().getLineWidth());for(var s=BG.Start;s<BG.End;s++){var u=t.primitives[s].getCABO();if(u.getElementCount()){t.drawingEdges=a&&(s===BG.TrisEdges||s===BG.TriStripsEdges);var c=e.getOpenGLMode(o,s);t.drawingEdges&&t.renderDepth||(e.updateShaders(t.primitives[s],n,r),i.drawArrays(c,0,u.getElementCount()));var l=(c===i.POINTS?1:0)||(c===i.LINES?2:3);t.primitiveIDOffset+=u.getElementCount()/l}}i.lineWidth(1)},e.getOpenGLMode=function(e,n){return e===LG.POINTS||n===BG.Points?t.context.POINTS:e===LG.WIREFRAME||n===BG.Lines||n===BG.TrisEdges||n===BG.TriStripsEdges?t.context.LINES:t.context.TRIANGLES},e.renderPieceFinish=function(e,n){t.LastBoundBO&&t.LastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()},e.renderPiece=function(n,r){if(e.invokeEvent(GG),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent(WG),t.currentInput){if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var o=t.context,i=r.getProperty().getBackfaceCulling(),a=r.getProperty().getFrontfaceCulling();i||a?a?(t.openGLRenderWindow.enableCullFace(),o.cullFace(o.FRONT)):(t.openGLRenderWindow.enableCullFace(),o.cullFace(o.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)}}else zG("No input!")},e.computeBounds=function(n,r){e.getInput()?t.bounds=e.getInput().getBounds():en(t.bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){var o=t.VBOBuildTime.getMTime();return o<e.getMTime()||o<t.renderable.getMTime()||o<r.getMTime()||o<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var o=t.renderable.getColorMapColors();t.haveCellScalars=!1;var i=t.renderable.getScalarMode();t.renderable.getScalarVisibility()&&(i!==jG.USE_CELL_DATA&&i!==jG.USE_CELL_FIELD_DATA&&i!==jG.USE_FIELD_DATA&&r.getPointData().getScalars()||i===jG.USE_POINT_FIELD_DATA||!o||(t.haveCellScalars=!0));var a=n.getProperty().getInterpolation()!==FG.FLAT?r.getPointData().getNormals():null;null===a&&r.getCellData().getNormals()&&(t.haveCellNormals=!0,a=r.getCellData().getNormals());var s=n.getProperty().getRepresentation(),u=r.getPointData().getTCoords();if(t.openGLActor.getActiveTextures()||(u=null),t.renderable.getColorCoordinates()){u=t.renderable.getColorCoordinates(),t.internalColorTexture||(t.internalColorTexture=mL.newInstance());var c=t.internalColorTexture;c.setMinificationFilter(VG.NEAREST),c.setMagnificationFilter(VG.NEAREST),c.setWrapS(UG.CLAMP_TO_EDGE),c.setWrapT(UG.CLAMP_TO_EDGE),c.setOpenGLRenderWindow(t.openGLRenderWindow);var l=t.renderable.getColorTextureMap(),f=l.getExtent(),d=l.getPointData().getScalars();c.create2DFromRaw(f[1]-f[0]+1,f[3]-f[2]+1,d.getNumberOfComponents(),d.getDataType(),d.getData()),c.activate(),c.sendParameters(),c.deactivate()}var p="".concat(r.getMTime(),"A").concat(s,"B").concat(r.getMTime())+"C".concat(a?a.getMTime():1,"D").concat(o?o.getMTime():1)+"E".concat(n.getProperty().getEdgeVisibility())+"F".concat(u?u.getMTime():1);if(t.VBOBuildString!==p){var h=r.getPoints(),m={points:h,normals:a,tcoords:u,colors:o,cellOffset:0,haveCellScalars:t.haveCellScalars,haveCellNormals:t.haveCellNormals,customAttributes:t.renderable.getCustomShaderAttributes().map((function(e){return r.getPointData().getArrayByName(e)}))};m.cellOffset+=t.primitives[BG.Points].getCABO().createVBO(r.getVerts(),"verts",s,m),m.cellOffset+=t.primitives[BG.Lines].getCABO().createVBO(r.getLines(),"lines",s,m),m.cellOffset+=t.primitives[BG.Tris].getCABO().createVBO(r.getPolys(),"polys",s,m),m.cellOffset+=t.primitives[BG.TriStrips].getCABO().createVBO(r.getStrips(),"strips",s,m),n.getProperty().getEdgeVisibility()&&s===LG.SURFACE?(t.primitives[BG.TrisEdges].getCABO().createVBO(r.getPolys(),"polys",LG.WIREFRAME,{points:h,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),t.primitives[BG.TriStripsEdges].getCABO().createVBO(r.getStrips(),"strips",LG.WIREFRAME,{points:h,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(t.primitives[BG.TrisEdges].releaseGraphicsResources(t.openGLRenderWindow),t.primitives[BG.TriStripsEdges].releaseGraphicsResources(t.openGLRenderWindow)),t.VBOBuildTime.modified(),t.VBOBuildString=p}}}}var qG={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1};function KG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qG,n),KB.extend(e,t,n),RG(e,t,n),t.primitives=[],t.primTypes=BG,t.tmpMat3=Aa(new Float64Array(9)),t.tmpMat4=Di(new Float64Array(16));for(var r=BG.Start;r<BG.End;r++)t.primitives[r]=_G.newInstance(),t.primitives[r].setPrimitiveType(r),t.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Y(e,t,["context"]),t.VBOBuildTime={},W(t.VBOBuildTime,{mtime:0}),HG(e,t)}var XG=ne(KG,"vtkOpenGLPolyDataMapper"),YG={newInstance:XG,extend:KG};function ZG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}QB("vtkMapper",XG);var JG=M,$G=av.Representation,QG=sG.ObjectType,eW=mF.PassTypes,tW={type:"StartEvent"},nW={type:"EndEvent"};function rW(e,t){t.classHierarchy.push("vtkOpenGLGlyph3DMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZG(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.renderPiece=function(n,r){if(e.invokeEvent(tW),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(1),e.invokeEvent(nW),t.currentInput){if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var o=t.context;t.openGLRenderWindow.getWebgl2()?(t.hardwareSupport=!0,t.extension=null):t.extension||(t.extension=t.context.getExtension("ANGLE_instanced_arrays"),t.hardwareSupport=!!t.extension);var i=r.getProperty().getBackfaceCulling(),a=r.getProperty().getFrontfaceCulling();i||a?a?(t.openGLRenderWindow.enableCullFace(),o.cullFace(o.FRONT)):(t.openGLRenderWindow.enableCullFace(),o.cullFace(o.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)}}else JG("No input!")},e.multiply4x4WithOffset=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3],u=t[4],c=t[5],l=t[6],f=t[7],d=t[8],p=t[9],h=t[10],m=t[11],g=t[12],v=t[13],y=t[14],b=t[15],w=n[r],x=n[r+1],C=n[r+2],S=n[r+3];e[0]=w*o+x*u+C*d+S*g,e[1]=w*i+x*c+C*p+S*v,e[2]=w*a+x*l+C*h+S*y,e[3]=w*s+x*f+C*m+S*b,w=n[r+4],x=n[r+5],C=n[r+6],S=n[r+7],e[4]=w*o+x*u+C*d+S*g,e[5]=w*i+x*c+C*p+S*v,e[6]=w*a+x*l+C*h+S*y,e[7]=w*s+x*f+C*m+S*b,w=n[r+8],x=n[r+9],C=n[r+10],S=n[r+11],e[8]=w*o+x*u+C*d+S*g,e[9]=w*i+x*c+C*p+S*v,e[10]=w*a+x*l+C*h+S*y,e[11]=w*s+x*f+C*m+S*b,w=n[r+12],x=n[r+13],C=n[r+14],S=n[r+15],e[12]=w*o+x*u+C*d+S*g,e[13]=w*i+x*c+C*p+S*v,e[14]=w*a+x*l+C*h+S*y,e[15]=w*s+x*f+C*m+S*b},e.replaceShaderNormal=function(e,r,o){if(t.hardwareSupport&&t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var i=e.Vertex;t.lastBoundBO.getCABO().getNormalOffset()&&(i=jL.substitute(i,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,i=jL.substitute(i,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),e.Vertex=i}n.replaceShaderNormal(e,r,o)},e.replaceShaderColor=function(e,r,o){if(t.hardwareSupport&&t.renderable.getColorArray()){var i=e.Vertex,a=e.Geometry,s=e.Fragment,u=t.lastBoundBO.getReferenceByName("lastLightComplexity"),c=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];u&&(c=c.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var l=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(l=l.concat(["  vec3 specularColor;","  float specularPower;"])),l=l.concat(["  opacity = opacityUniform;"]),u&&(l=l.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),t.drawingEdges||(c=c.concat(["varying vec4 vertexColorVSOutput;"]),i=jL.substitute(i,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,i=jL.substitute(i,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,a=jL.substitute(a,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,a=jL.substitute(a,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,l=l.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),s=jL.substitute(s,"//VTK::Color::Impl",l).result,s=jL.substitute(s,"//VTK::Color::Dec",c).result,e.Vertex=i,e.Geometry=a,e.Fragment=s}n.replaceShaderColor(e,r,o)},e.replaceShaderPositionVC=function(e,r,o){if(t.hardwareSupport){var i=e.Vertex;t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(i=jL.substitute(i,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,i=jL.substitute(i,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(i=jL.substitute(i,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,i=jL.substitute(i,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),e.Vertex=i}n.replaceShaderPositionVC(e,r,o)},e.replaceShaderPicking=function(e,r,o){if(t.hardwareSupport){var i=e.Fragment,a=e.Vertex;a=jL.substitute(a,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,a=jL.substitute(a,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,e.Vertex=a,i=jL.substitute(i,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,i=jL.substitute(i,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,e.Fragment=i}else n.replaceShaderPicking(e,r,o)},e.updateGlyphShaderParameters=function(n,r,o,i,a,s,u,c){var l=o.getProgram();if(n){var f=t.normalMatrix,d=s,p=9*u,h=t.tmpMat3,m=f[0],g=f[1],v=f[2],y=f[3],b=f[4],w=f[5],x=f[6],C=f[7],S=f[8],A=d[p],_=d[p+1],P=d[p+2],O=d[p+3],E=d[p+4],T=d[p+5],D=d[p+6],I=d[p+7],k=d[p+8];h[0]=A*m+_*y+P*x,h[1]=A*g+_*b+P*C,h[2]=A*v+_*w+P*S,h[3]=O*m+E*y+T*x,h[4]=O*g+E*b+T*C,h[5]=O*v+E*w+T*S,h[6]=D*m+I*y+k*x,h[7]=D*g+I*b+k*C,h[8]=D*v+I*w+k*S,l.setUniformMatrix3x3("normalMatrix",t.tmpMat3)}if(e.multiply4x4WithOffset(t.tmpMat4,t.mcpcMatrix,a,16*u),l.setUniformMatrix("MCPCMatrix",t.tmpMat4),r&&(e.multiply4x4WithOffset(t.tmpMat4,t.mcvcMatrix,a,16*u),l.setUniformMatrix("MCVCMatrix",t.tmpMat4)),i){var M=i.getData();t.tmpColor[0]=M[4*u]/255,t.tmpColor[1]=M[4*u+1]/255,t.tmpColor[2]=M[4*u+2]/255,l.setUniform3fArray("ambientColorUniform",t.tmpColor),l.setUniform3fArray("diffuseColorUniform",t.tmpColor)}c&&l.setUniform3fArray("mapperIndex",c.getPropColorValue())},e.renderPieceDraw=function(n,r){var o=r.getProperty().getRepresentation(),i=t.context,a=r.getProperty().getEdgeVisibility()&&o===$G.SURFACE,s=t.openGLCamera.getKeyMatrices(n),u=t.openGLActor.getKeyMatrices();Ta(t.normalMatrix,s.normalMatrix,u.normalMatrix),Ri(t.mcpcMatrix,s.wcpc,u.mcwc),Ri(t.mcvcMatrix,s.wcvc,u.mcwc);var c=t.renderable.getMatrixArray(),l=t.renderable.getNormalArray(),f=t.renderable.getColorArray(),d=c.length/16,p=!1;t.openGLRenderer.getSelector()&&t.openGLRenderer.getSelector().getCurrentPass()===eW.COMPOSITE_INDEX_PASS&&(p=!0);for(var h=t.primTypes.Start;h<t.primTypes.End;h++){var m=t.primitives[h].getCABO();if(m.getElementCount()){t.drawingEdges=a&&(h===t.primTypes.TrisEdges||h===t.primTypes.TriStripsEdges),e.updateShaders(t.primitives[h],n,r);var g=t.primitives[h].getProgram(),v=e.getOpenGLMode(o,h),y=g.isUniformUsed("normalMatrix"),b=g.isUniformUsed("MCVCMatrix");if(t.hardwareSupport)t.extension?t.extension.drawArraysInstancedANGLE(v,0,m.getElementCount(),d):i.drawArraysInstanced(v,0,m.getElementCount(),d);else for(var w=0;w<d;++w)p&&t.openGLRenderer.getSelector().renderCompositeIndex(w),e.updateGlyphShaderParameters(y,b,t.primitives[h],f,c,l,w,p?t.openGLRenderer.getSelector():null),i.drawArrays(v,0,m.getElementCount())}}},e.setMapperShaderParameters=function(e,r,o){if(e.getCABO().getElementCount()&&(t.glyphBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime()))return e.getProgram().isAttributeUsed("gMatrix")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.matrixBuffer,"gMatrix",0,64,t.context.FLOAT,4,!1,1)||JG("Error setting gMatrix in shader VAO."):e.getVAO().removeAttributeArray("gMatrix"),e.getProgram().isAttributeUsed("gNormal")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.normalBuffer,"gNormal",0,36,t.context.FLOAT,3,!1,1)||JG("Error setting gNormal in shader VAO."):e.getVAO().removeAttributeArray("gNormal"),e.getProgram().isAttributeUsed("gColor")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.colorBuffer,"gColor",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||JG("Error setting gColor in shader VAO."):e.getVAO().removeAttributeArray("gColor"),e.getProgram().isAttributeUsed("mapperIndexVS")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.pickBuffer,"mapperIndexVS",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||JG("Error setting mapperIndexVS in shader VAO."):e.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(e,r,o),void e.getAttributeUpdateTime().modified();n.setMapperShaderParameters(e,r,o)},e.getNeedToRebuildBufferObjects=function(e,r){return t.renderable.buildArrays(),t.VBOBuildTime.getMTime()<t.renderable.getBuildTime().getMTime()||n.getNeedToRebuildBufferObjects(e,r)},e.buildBufferObjects=function(e,r){if(t.hardwareSupport){var o=t.renderable.getMatrixArray(),i=t.renderable.getNormalArray(),a=t.renderable.getColorArray();if(t.matrixBuffer||(t.matrixBuffer=sG.newInstance(),t.matrixBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.normalBuffer=sG.newInstance(),t.normalBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorBuffer=sG.newInstance(),t.colorBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.pickBuffer=sG.newInstance(),t.pickBuffer.setOpenGLRenderWindow(t.openGLRenderWindow)),t.renderable.getBuildTime().getMTime()>t.glyphBOBuildTime.getMTime()){t.matrixBuffer.upload(o,QG.ARRAY_BUFFER),t.normalBuffer.upload(i,QG.ARRAY_BUFFER),a?t.colorBuffer.upload(a.getData(),QG.ARRAY_BUFFER):t.colorBuffer.releaseGraphicsResources();for(var s=o.length/16,u=new Uint8Array(4*s),c=0;c<s;++c){var l=c+1,f=4*c;u[f]=l%256,l-=u[f],l/=256,u[f+1]=l%256,l-=u[f+1],l/=256,u[f+2]=l%256,u[f+3]=255}t.pickBuffer.upload(u,QG.ARRAY_BUFFER),t.glyphBOBuildTime.modified()}}return n.buildBufferObjects(e,r)}}var oW={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function iW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oW,n),YG.extend(e,t,n),t.tmpMat3=Aa(new Float64Array(9)),t.normalMatrix=Aa(new Float64Array(9)),t.mcpcMatrix=Di(new Float64Array(16)),t.mcvcMatrix=Di(new Float64Array(16)),t.tmpColor=[],t.glyphBOBuildTime={},W(t.glyphBOBuildTime,{mtime:0}),rW(e,t)}var aW=ne(iW,"vtkOpenGLGlyph3DMapper"),sW={newInstance:aW,extend:iW};QB("vtkGlyph3DMapper",aW);var uW=M,cW=QS.SlicingMode;function lW(e,t,n){if(t.apply(e)){var r=e.getIndependentComponents();return"".concat(e.getMTime(),"-").concat(r,"-").concat(n)}return"0"}function fW(e,t){t.classHierarchy.push("vtkOpenGLImageMapper"),e.buildPass=function(n){if(n){t.openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice"),t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.pwfTexture.setOpenGLRenderWindow(t.openGLRenderWindow);var r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera()),t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(r.getActiveCamera())}},e.translucentPass=function(t){t&&e.render()},e.opaqueZBufferPass=function(n){n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaquePass=function(t){t&&e.render()},e.getCoincidentParameters=function(e,n){return t.renderable.getResolveCoincidentTopology()?t.renderable.getCoincidentTopologyPolygonOffsetParameters():null},e.render=function(){var n=t.openGLImageSlice.getRenderable(),r=t.openGLRenderer.getRenderable();e.renderPiece(r,n)},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=kG(),e.Fragment=NG(),e.Geometry=""},e.replaceShaderValues=function(n,r,o){var i=n.Vertex,a=n.Fragment;i=jL.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=jL.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=jL.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=jL.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var s=t.openGLTexture.getComponents(),u=o.getProperty().getIndependentComponents(),c=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(u){for(var l=1;l<s;l++)c=c.concat(["uniform float cshift".concat(l,";"),"uniform float cscale".concat(l,";"),"uniform float pwfshift".concat(l,";"),"uniform float pwfscale".concat(l,";")]);switch(s){case 1:c=c.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:c=c.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:c=c.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:c=c.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:uW("Unsupported number of independent coordinates.")}}if(a=jL.substitute(a,"//VTK::TCoord::Dec",c).result,u){for(var f=["r","g","b","a"],d=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],p=0;p<s;p++)d=d.concat(["vec3 tcolor".concat(p," = mix").concat(p," * texture2D(colorTexture1, vec2(tvalue.").concat(f[p]," * cscale").concat(p," + cshift").concat(p,", height").concat(p,")).rgb;"),"float compWeight".concat(p," = mix").concat(p," * texture2D(pwfTexture1, vec2(tvalue.").concat(f[p]," * pwfscale").concat(p," + pwfshift").concat(p,", height").concat(p,")).r;")]);switch(s){case 1:d=d.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:d=d.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:d=d.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:d=d.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:uW("Unsupported number of independent coordinates.")}a=jL.substitute(a,"//VTK::TCoord::Impl",d).result}else switch(s){case 1:a=jL.substitute(a,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;default:a=jL.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}t.haveSeenDepthRequest&&(a=jL.substitute(a,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,a=jL.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=i,n.Fragment=a,e.replaceShaderCoincidentOffset(n,r,o)},e.getNeedToRebuildShaders=function(e,n,r){var o=t.openGLTexture.getComponents(),i=r.getProperty().getIndependentComponents();return(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===e.getProgram()||t.lastTextureComponents!==o||t.lastIndependentComponents!==i)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=o,t.lastIndependentComponents=i,!0)},e.updateShaders=function(n,r,o){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,o)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,o);var a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,o),e.setCameraShaderParameters(n,r,o),e.setPropertyShaderParameters(n,r,o)},e.setMapperShaderParameters=function(n,r,o){n.getCABO().getElementCount()&&(t.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||uW("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),t.context.FALSE)||uW("Error setting tcoordMC in shader VAO.")),n.getAttributeUpdateTime().modified());var i=t.openGLTexture.getTextureUnit();n.getProgram().setUniformi("texture1",i);var a=t.openGLTexture.getComponents(),s=o.getProperty().getIndependentComponents();if(s)for(var u=0;u<a;u++)n.getProgram().setUniformf("mix".concat(u),o.getProperty().getComponentWeight(u));for(var c=t.openGLTexture.getShiftAndScale(),l=0;l<a;l++){var f=o.getProperty().getColorWindow(),d=o.getProperty().getColorLevel(),p=s?l:0,h=o.getProperty().getRGBTransferFunction(p);if(h){var m=h.getRange();f=m[1]-m[0],d=.5*(m[1]+m[0])}var g=c.scale/f,v=(c.shift-d)/f+.5;n.getProgram().setUniformf("cshift".concat(l),v),n.getProgram().setUniformf("cscale".concat(l),g)}for(var y=0;y<a;y++){var b=1,w=0,x=s?y:0,C=o.getProperty().getPiecewiseFunction(x);if(C){var S=C.getRange(),A=S[1]-S[0],_=.5*(S[0]+S[1]);b=c.scale/A,w=(c.shift-_)/A+.5}n.getProgram().setUniformf("pwfshift".concat(y),w),n.getProgram().setUniformf("pwfscale".concat(y),b)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",t.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var P=e.getCoincidentParameters(r,o);n.getProgram().setUniformf("coffset",P.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",P.factor)}var O=t.colorTexture.getTextureUnit();n.getProgram().setUniformi("colorTexture1",O);var E=t.pwfTexture.getTextureUnit();n.getProgram().setUniformi("pwfTexture1",E)},e.setCameraShaderParameters=function(e,n,r){var o=e.getProgram(),i=t.openGLImageSlice.getKeyMatrices(),a=t.currentInput.getIndexToWorld();Ri(t.imagemat,i.mcwc,a);var s=t.openGLCamera.getKeyMatrices(n);if(Ri(t.imagemat,s.wcpc,t.imagemat),e.getCABO().getCoordShiftAndScaleEnabled()){var u=e.getCABO().getInverseShiftAndScaleMatrix();Ri(t.imagemat,t.imagemat,u)}o.setUniformMatrix("MCPCMatrix",t.imagemat)},e.setPropertyShaderParameters=function(e,t,n){var r=e.getProgram(),o=n.getProperty().getOpacity();r.setUniformf("opacity",o)},e.renderPieceStart=function(n,r){e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var o=t.context;t.openGLTexture.activate(),t.colorTexture.activate(),t.pwfTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),o.drawArrays(o.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.openGLTexture.deactivate(),t.colorTexture.deactivate(),t.pwfTexture.deactivate()},e.renderPieceFinish=function(e,t){},e.renderPiece=function(n,r){e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),t.currentInput?(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)):uW("No input!")},e.computeBounds=function(n,r){e.getInput()?t.bounds=e.getInput().getBounds():en(t.bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(n,r){var o=t.currentInput;if(o){var i=o.getPointData()&&o.getPointData().getScalars();if(i){var a=r.getProperty(),s=a.getInterpolationType();s===lA.NEAREST?(t.colorTexture.setMinificationFilter(UB.NEAREST),t.colorTexture.setMagnificationFilter(UB.NEAREST),t.pwfTexture.setMinificationFilter(UB.NEAREST),t.pwfTexture.setMagnificationFilter(UB.NEAREST)):(t.colorTexture.setMinificationFilter(UB.LINEAR),t.colorTexture.setMagnificationFilter(UB.LINEAR),t.pwfTexture.setMinificationFilter(UB.LINEAR),t.pwfTexture.setMagnificationFilter(UB.LINEAR));var u=i.getNumberOfComponents(),c=a.getIndependentComponents(),l=c?u:1,f=c?2*l:1,d=lW(a,a.getRGBTransferFunction,l);if(t.colorTextureString!==d){var p=1024,h=new Uint8Array(p*f*3),m=a.getRGBTransferFunction();if(m){for(var g=new Float32Array(3072),v=0;v<l;v++){var y=(m=a.getRGBTransferFunction(v)).getRange();if(m.getTable(y[0],y[1],p,g,1),c)for(var b=0;b<3072;b++)h[v*p*6+b]=255*g[b],h[v*p*6+b+3072]=255*g[b];else for(var w=0;w<3072;w++)h[v*p*6+w]=255*g[w]}t.colorTexture.create2DFromRaw(p,f,3,pe.UNSIGNED_CHAR,h)}else{for(var x=0;x<3072;++x)h[x]=255*x/3069,h[x+1]=255*x/3069,h[x+2]=255*x/3069;t.colorTexture.create2DFromRaw(p,1,3,pe.UNSIGNED_CHAR,h)}t.colorTextureString=d}var C=lW(a,a.getPiecewiseFunction,l);if(t.pwfTextureString!==C){var S=1024,A=S*f,_=new Uint8Array(A),P=a.getPiecewiseFunction();if(t.pwfTexture.resetFormatAndType(),P){for(var O=new Float32Array(A),E=new Float32Array(S),T=0;T<l;++T)if(null===(P=a.getPiecewiseFunction(T)))O.fill(1);else{var D=P.getRange();if(P.getTable(D[0],D[1],S,E,1),c)for(var I=0;I<S;I++)O[T*S*2+I]=E[I],O[T*S*2+I+S]=E[I];else for(var k=0;k<S;k++)O[T*S*2+k]=E[k]}t.pwfTexture.create2DFromRaw(S,f,1,pe.FLOAT,O)}else _.fill(255),t.pwfTexture.create2DFromRaw(S,1,1,pe.UNSIGNED_CHAR,_);t.pwfTextureString=C}var M=t.renderable.getClosestIJKAxis().ijkMode,N=t.renderable.getSlice();M!==t.renderable.getSlicingMode()&&(N=t.renderable.getSliceAtPosition(N));var R,B=o.getExtent();M===cW.I&&(R=N-B[0]),M===cW.J&&(R=N-B[2]),M!==cW.K&&M!==cW.NONE||(R=N-B[4]);var L="".concat(N,"A").concat(o.getMTime(),"A").concat(i.getMTime(),"B").concat(e.getMTime(),"C").concat(t.renderable.getSlicingMode(),"D").concat(r.getProperty().getMTime());if(t.VBOBuildString!==L){var F=o.getDimensions();s===lA.NEAREST?(4===u?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(UB.NEAREST)):t.openGLTexture.setMinificationFilter(UB.NEAREST),t.openGLTexture.setMagnificationFilter(UB.NEAREST)):(4===u?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(UB.LINEAR_MIPMAP_LINEAR)):t.openGLTexture.setMinificationFilter(UB.LINEAR),t.openGLTexture.setMagnificationFilter(UB.LINEAR)),t.openGLTexture.setWrapS(VB.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(VB.CLAMP_TO_EDGE);for(var j=F[0]*F[1]*u,V=new Float32Array(12),U=new Float32Array(8),z=0;z<4;z++)U[2*z]=z%2?1:0,U[2*z+1]=z>1?1:0;var G=i.getData(),W=null;if(M===cW.I){W=new G.constructor(F[2]*F[1]*u);for(var H=0,q=0;q<F[2];q++)for(var K=0;K<F[1];K++){var X=(R+K*F[0]+q*F[0]*F[1])*u;H=(q*F[1]+K)*u,W.set(G.subarray(X,X+u),H)}F[0]=F[1],F[1]=F[2],V[0]=N,V[1]=B[2],V[2]=B[4],V[3]=N,V[4]=B[3],V[5]=B[4],V[6]=N,V[7]=B[2],V[8]=B[5],V[9]=N,V[10]=B[3],V[11]=B[5]}else if(M===cW.J){W=new G.constructor(F[2]*F[0]*u);for(var Y=0,Z=0;Z<F[2];Z++)for(var J=0;J<F[0];J++){var $=(J+R*F[0]+Z*F[0]*F[1])*u;Y=(Z*F[0]+J)*u,W.set(G.subarray($,$+u),Y)}F[1]=F[2],V[0]=B[0],V[1]=N,V[2]=B[4],V[3]=B[1],V[4]=N,V[5]=B[4],V[6]=B[0],V[7]=N,V[8]=B[5],V[9]=B[1],V[10]=N,V[11]=B[5]}else M===cW.K||M===cW.NONE?(W=G.subarray(R*j,(R+1)*j),V[0]=B[0],V[1]=B[2],V[2]=N,V[3]=B[1],V[4]=B[2],V[5]=N,V[6]=B[0],V[7]=B[3],V[8]=N,V[9]=B[1],V[10]=B[3],V[11]=N):uW("Reformat slicing not yet supported.");t.openGLTexture.create2DFromRaw(F[0],F[1],u,i.getDataType(),W),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();var Q=Fn.newInstance({numberOfComponents:3,values:V});Q.setName("points");var ee=Fn.newInstance({numberOfComponents:2,values:U});ee.setName("tcoords");var te=new Uint16Array(8);te[0]=3,te[1]=0,te[2]=1,te[3]=3,te[4]=3,te[5]=0,te[6]=3,te[7]=2;var ne=Fn.newInstance({numberOfComponents:1,values:te});t.tris.getCABO().createVBO(ne,"polys",Jg.SURFACE,{points:Q,tcoords:ee,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=L}}}}}var dW={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function pW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dW,n),KB.extend(e,t,n),RG(e,t,n),t.tris=_G.newInstance(),t.openGLTexture=mL.newInstance(),t.colorTexture=mL.newInstance(),t.pwfTexture=mL.newInstance(),t.imagemat=Di(new Float64Array(16)),Y(e,t,[]),t.VBOBuildTime={},W(t.VBOBuildTime),fW(e,t)}var hW=ne(pW,"vtkOpenGLImageMapper"),mW={newInstance:hW,extend:pW};function gW(e,t){t.classHierarchy.push("vtkOpenGLImageSlice"),e.buildPass=function(n){if(t.renderable&&t.renderable.getVisibility()&&n){if(!t.renderable)return;t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaqueZBufferPass=function(t){e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getVisibility()||t.renderable.getIsOpaque()||t.openGLRenderer.getSelector()&&!t.renderable.getPickable()||(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(n,r){n&&(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!0))},e.translucentPass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!1)):t.context.depthMask(!0)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(Oi(t.keyMatrices.mcwc,t.renderable.getMatrix()),Ii(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.keyMatrixTime.modified()),t.keyMatrices}}QB("vtkImageMapper",hW);var vW={context:null,keyMatrixTime:null,keyMatrices:null};function yW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vW,n),KB.extend(e,t,n),t.keyMatrixTime={},W(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:Di(new Float64Array(16))},Y(e,t,["context"]),gW(e,t)}var bW=ne(yW,"vtkOpenGLImageSlice"),wW={newInstance:bW,extend:yW};QB("vtkImageSlice",bW);var xW=k;function CW(e,t){t.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),e.opaquePass=function(n,r){t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent();var o=t.openGLRenderer.getAspectRatio(),i=t.openGLRenderer?t.openGLRenderer.getRenderable().getActiveCamera():null,a=t.openGLRenderer.getTiledSizeAndOrigin(),s=null;if(t.renderable.getUseZValues()){var u=r.getZBufferTexture(),c=Math.floor(u.getWidth()),l=Math.floor(u.getHeight()),f=t.openGLRenderWindow.getContext();u.bind();var d=r.getFramebuffer();d?d.saveCurrentBindingsAndBuffers():xW("No framebuffer to save/restore");var p=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,p),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u.getHandle(),0),f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(c*l*4),f.viewport(0,0,c,l),f.readPixels(0,0,c,l,f.RGBA,f.UNSIGNED_BYTE,s)),d&&d.restorePreviousBindingsAndBuffers(),f.deleteFramebuffer(p)}t.renderable.invokeCallback(t.renderable.getInputData(),i,o,a,s)},e.queryPass=function(e,n){e&&t.renderable.getUseZValues()&&n.requestDepth()}}var SW={};function AW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SW,n),KB.extend(e,t,n),CW(e,t)}var _W=ne(AW,"vtkOpenGLPixelSpaceCallbackMapper"),PW={newInstance:_W,extend:AW};QB("vtkPixelSpaceCallbackMapper",_W);var OW=k;function EW(e,t){t.classHierarchy.push("vtkOpenGLRenderer"),e.buildPass=function(n){if(n){if(!t.renderable)return;t.renderable.isActiveCameraCreated()||t.renderable.resetCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes()}},e.updateLights=function(){for(var e=0,n=t.renderable.getLightsByReference(),r=0;r<n.length;++r)n[r].getSwitch()>0&&e++;return e||(OW("No lights are on, creating one."),t.renderable.createLight()),e},e.opaqueZBufferPass=function(n){if(n){var r=0,o=t.context;t.renderable.getTransparent()||(t.context.clearColor(1,0,0,1),r|=o.COLOR_BUFFER_BIT),t.renderable.getPreserveDepthBuffer()||(o.clearDepth(1),r|=o.DEPTH_BUFFER_BIT,o.depthMask(!0));var i=e.getTiledSizeAndOrigin();o.enable(o.SCISSOR_TEST),o.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),o.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),o.colorMask(!0,!0,!0,!0),o.clear(r),o.enable(o.DEPTH_TEST)}},e.cameraPass=function(t){t&&e.clear()},e.getAspectRatio=function(){var e=t.parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.getTiledSizeAndOrigin=function(){var e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=e[0]-n[0],o=e[1]-n[1],i=t.parent.normalizedDisplayToDisplay(r,o),a=Math.round(i[0]),s=Math.round(i[1]),u=e[2]-n[0],c=e[3]-n[1],l=t.parent.normalizedDisplayToDisplay(u,c),f=Math.round(l[0])-a,d=Math.round(l[1])-s;return f<0&&(f=0),d<0&&(d=0),{usize:f,vsize:d,lowerLeftU:a,lowerLeftV:s}},e.clear=function(){var n=0,r=t.context;if(!t.renderable.getTransparent()){var o=t.renderable.getBackgroundByReference();t.context.clearColor(o[0],o[1],o[2],o[3]),n|=r.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,r.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var i=e.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.clear(n),r.enable(r.DEPTH_TEST)},e.releaseGraphicsResources=function(){null!==t.selector&&t.selector.releaseGraphicsResources()},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))}}var TW={context:null,openGLRenderWindow:null,selector:null};function DW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,TW,n),KB.extend(e,t,n),H(e,t,["shaderCache"]),Y(e,t,["selector"]),EW(e,t)}var IW=ne(DW,"vtkOpenGLRenderer"),kW={newInstance:IW,extend:DW};QB("vtkRenderer",IW);var MW=M;function NW(e,t){t.classHierarchy.push("vtkOpenGLSkybox"),e.buildPass=function(n){if(n){t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow);var r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera())}},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementOpaqueActorCount()}},e.opaquePass=function(n,r){if(n&&!t.openGLRenderer.getSelector()){e.updateBufferObjects(),t.openGLRenderWindow.enableDepthMask(),t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.tris.getProgram()),t.openGLTexture.render(t.openGLRenderWindow);var o=t.openGLTexture.getTextureUnit();t.tris.getProgram().setUniformi("sbtexture",o);var i=t.openGLRenderer.getRenderable(),a=t.openGLCamera.getKeyMatrices(i),s=new Float64Array(16);if(ki(s,a.wcpc),t.tris.getProgram().setUniformMatrix("IMCPCMatrix",s),"box"===t.lastFormat){var u=i.getActiveCamera().getPosition();t.tris.getProgram().setUniform3f("camPos",u[0],u[1],u[2])}t.tris.getVAO().bind(),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.openGLTexture.deactivate()}},e.updateBufferObjects=function(){if(!t.tris.getCABO().getElementCount()){for(var e=new Float32Array(12),n=0;n<4;n++)e[3*n]=n%2*2-1,e[3*n+1]=n>1?1:-1,e[3*n+2]=1;var r=Fn.newInstance({numberOfComponents:3,values:e});r.setName("points");var o=new Uint16Array(8);o[0]=3,o[1]=0,o[2]=1,o[3]=3,o[4]=3,o[5]=0,o[6]=3,o[7]=2;var i=Fn.newInstance({numberOfComponents:1,values:o});t.tris.getCABO().createVBO(i,"polys",Jg.SURFACE,{points:r,cellOffset:0})}t.renderable.getFormat()!==t.lastFormat&&(t.lastFormat=t.renderable.getFormat(),"box"===t.lastFormat&&t.tris.setProgram(t.openGLRenderWindow.getShaderCache().readyShaderProgramArray("//VTK::System::Dec\n             attribute vec3 vertexMC;\n             uniform mat4 IMCPCMatrix;\n             varying vec3 TexCoords;\n             void main () {\n              gl_Position = vec4(vertexMC.xyz, 1.0);\n              vec4 wpos = IMCPCMatrix * gl_Position;\n              TexCoords = wpos.xyz/wpos.w;\n             }","//VTK::System::Dec\n             //VTK::Output::Dec\n             varying vec3 TexCoords;\n             uniform samplerCube sbtexture;\n             uniform vec3 camPos;\n             void main () {\n               // skybox looks from inside out\n               // which means we have to adjust\n               // our tcoords. Otherwise text would\n               // be flipped\n               vec3 tc = normalize(TexCoords - camPos);\n               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))\n               {\n                 tc = vec3(1.0, 1.0, -1.0) * tc;\n               }\n               else\n               {\n                 tc = vec3(-1.0, 1.0, 1.0) * tc;\n               }\n               gl_FragData[0] = textureCube(sbtexture, tc);\n             }","")),"background"===t.lastFormat&&t.tris.setProgram(t.openGLRenderWindow.getShaderCache().readyShaderProgramArray("//VTK::System::Dec\n             attribute vec3 vertexMC;\n             uniform mat4 IMCPCMatrix;\n             varying vec2 TexCoords;\n             void main () {\n              gl_Position = vec4(vertexMC.xyz, 1.0);\n              vec4 wpos = IMCPCMatrix * gl_Position;\n              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;\n             }","//VTK::System::Dec\n             //VTK::Output::Dec\n             varying vec2 TexCoords;\n             uniform sampler2D sbtexture;\n             void main () {\n               gl_FragData[0] = texture2D(sbtexture, TexCoords);\n             }","")),t.tris.getShaderSourceTime().modified(),t.tris.getVAO().bind(),t.tris.getVAO().addAttributeArray(t.tris.getProgram(),t.tris.getCABO(),"vertexMC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||MW("Error setting vertexMC in shader VAO."));var a=t.renderable.getTextures();a.length||MW("vtkSkybox requires a texture map"),t.openGLTexture.getRenderable()!==a[0]&&(t.openGLTexture.releaseGraphicsResources(t.openGLRenderWindow),t.openGLTexture.setRenderable(a[0]))}}var RW={context:null};function BW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,RW,n),KB.extend(e,t,n),t.openGLTexture=mL.newInstance(),t.tris=_G.newInstance(),t.keyMatrixTime={},W(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:Aa(new Float64Array(9)),mcwc:Di(new Float64Array(16))},Y(e,t,["context"]),H(e,t,["activeTextures"]),NW(e,t)}var LW=ne(BW),FW={newInstance:LW,extend:BW};QB("vtkSkybox",LW);var jW=n(4714),VW=n.n(jW);function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zW=M;function GW(e,t){t.classHierarchy.push("vtkOpenGLSphereMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=VW(),e.Fragment=NG(),e.Geometry=""},e.replaceShaderValues=function(e,r,o){var i=e.Vertex,a=e.Fragment;i=jL.substitute(i,"//VTK::Camera::Dec",["uniform mat4 VCPCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,a=jL.substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=jL.substitute(a,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;\n"]).result,a=jL.substitute(a,"//VTK::Normal::Dec",["uniform float invertedDepth;\n","uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCPCMatrix;\n"]).result;var s="";t.context.getExtension("EXT_frag_depth")&&(s="gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),t.openGLRenderWindow.getWebgl2()&&(s="gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;\n"),a=jL.substitute(a,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float b = 2.0*dot(EyePos,EyeDir);\n","  float c = dot(EyePos,EyePos) - 1.0;\n","  float d = b*b - 4.0*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t = (-b - invertedDepth*sqrt(d))*0.5;\n","    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);\n","    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;\n","    }\n","  vec4 pos = VCPCMatrix * vertexVC;\n",s]).result,a=jL.substitute(a,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(a=jL.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=i,e.Fragment=a,n.replaceShaderValues(e,r,o)},e.setMapperShaderParameters=function(e,r,o){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"offsetMC",12,e.getCABO().getStride(),t.context.FLOAT,2,!1)||zW("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isUniformUsed("invertedDepth")&&e.getProgram().setUniformf("invertedDepth",t.invert?-1:1),n.setMapperShaderParameters(e,r,o)},e.setCameraShaderParameters=function(e,n,r){var o=e.getProgram(),i=n.getActiveCamera(),a=t.openGLCamera.getKeyMatrices(n);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",a.vcpc),o.isUniformUsed("MCVCMatrix"))if(r.getIsIdentity())o.setUniformMatrix("MCVCMatrix",a.wcvc);else{var s=t.openGLActor.getKeyMatrices(),u=new Float64Array(16);Ri(u,a.wcvc,s.mcwc),o.setUniformMatrix("MCVCMatrix",u)}o.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",i.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var o=t.renderable.getColorMapColors(),i=t.primitives[t.primTypes.Tris].getCABO(),a=r.getPointData(),s=r.getPoints(),u=s.getNumberOfPoints(),c=s.getData(),l=null;null!=t.renderable.getScaleArray()&&a.hasArray(t.renderable.getScaleArray())&&(l=a.getArray(t.renderable.getScaleArray()).getData());var f=null,d=0,p=null;o?(d=o.getNumberOfComponents(),i.setColorOffset(0),i.setColorBOStride(4),f=o.getData(),p=new Uint8Array(3*u*4),i.getColorBO()||i.setColorBO(sG.newInstance()),i.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow)):i.getColorBO()&&i.setColorBO(null),i.setColorComponents(d);var h=new Float32Array(5*u*3);i.setStride(20);for(var m=Math.cos(_e(30)),g=0,v=0,y=0,b=0,w=0;w<u;++w){var x=t.renderable.getRadius();l&&(x=l[w]),g=3*w,h[y++]=c[g++],h[y++]=c[g++],h[y++]=c[g++],h[y++]=-2*x*m,h[y++]=-x,f&&(v=w*d,p[b++]=f[v],p[b++]=f[v+1],p[b++]=f[v+2],p[b++]=f[v+3]),g=3*w,h[y++]=c[g++],h[y++]=c[g++],h[y++]=c[g++],h[y++]=2*x*m,h[y++]=-x,f&&(p[b++]=f[v],p[b++]=f[v+1],p[b++]=f[v+2],p[b++]=f[v+3]),g=3*w,h[y++]=c[g++],h[y++]=c[g++],h[y++]=c[g++],h[y++]=0,h[y++]=2*x,f&&(p[b++]=f[v],p[b++]=f[v+1],p[b++]=f[v+2],p[b++]=f[v+3])}i.setElementCount(y/5),i.upload(h,Qz.ARRAY_BUFFER),o&&i.getColorBO().upload(p,Qz.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var WW={};function HW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,WW,n),YG.extend(e,t,n),GW(e,t)}var qW=ne(HW,"vtkOpenGLSphereMapper"),KW={newInstance:qW,extend:HW};QB("vtkSphereMapper",qW);var XW=n(5961),YW=n.n(XW);function ZW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var JW=M;function $W(e,t){t.classHierarchy.push("vtkOpenGLStickMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZW(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=YW(),e.Fragment=NG(),e.Geometry=""},e.replaceShaderValues=function(e,r,o){var i=e.Vertex,a=e.Fragment;i=jL.substitute(i,"//VTK::Camera::Dec",["uniform mat4 VCPCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,a=jL.substitute(a,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,a=jL.substitute(a,"//VTK::PositionVC::Impl","  vec4 vertexVC = vertexVCVSOutput;\n").result,a=jL.substitute(a,"//VTK::Normal::Dec",["uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 orientVCVSOutput;\n","varying float lengthVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCPCMatrix;\n"]).result;var s="";t.context.getExtension("EXT_frag_depth")&&(s="  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),t.openGLRenderWindow.getWebgl2()&&(s="gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;\n"),a=jL.substitute(a,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  vec3 base1;\n","  if (abs(orientVCVSOutput.z) < 0.99) {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }\n","  else {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }\n","  vec3 base2 = cross(orientVCVSOutput,base1);\n","  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));\n","  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;\n","  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);\n","  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;\n","  float d = b*b - 4.0*a*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t =  (-b - sqrt(d))/(2.0*a);\n","    float tz = EyePos.z + t*EyeDir.z;\n","    vec3 iPoint = EyePos + t*EyeDir;\n","    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {\n","      float t2 = (-b + sqrt(d))/(2.0*a);\n","      float tz2 = EyePos.z + t2*EyeDir.z;\n","      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }\n","      else {\n","        normalVCVSOutput = orientVCVSOutput;\n","        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;\n","        iPoint = EyePos + t3*EyeDir;\n","        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","        }\n","      }\n","    else {\n","      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;\n","      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","      }\n","    }\n","  vec4 pos = VCPCMatrix * vertexVC;\n",s]).result,a=jL.substitute(a,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(a=jL.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=i,e.Fragment=a,n.replaceShaderValues(e,r,o)},e.setMapperShaderParameters=function(e,r,o){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getProgram().isAttributeUsed("orientMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"orientMC",12,e.getCABO().getStride(),t.context.FLOAT,3,!1)||JW("Error setting 'orientMC' in shader VAO.")),e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO().getColorBO(),"offsetMC",0,e.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,3,!0)||JW("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isAttributeUsed("radiusMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"radiusMC",24,e.getCABO().getStride(),t.context.FLOAT,1,!1)||JW("Error setting 'radiusMC' in shader VAO."))),n.setMapperShaderParameters(e,r,o)},e.setCameraShaderParameters=function(e,n,r){var o=e.getProgram(),i=n.getActiveCamera(),a=t.openGLCamera.getKeyMatrices(n);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",a.vcpc),r.getIsIdentity())o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",a.wcvc),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",a.normalMatrix);else{var s=t.openGLActor.getKeyMatrices();if(o.isUniformUsed("MCVCMatrix")){var u=new Float64Array(16);Ri(u,a.wcvc,s.mcwc),o.setUniformMatrix("MCVCMatrix",u)}if(o.isUniformUsed("normalMatrix")){var c=new Float64Array(9);Ta(c,a.normalMatrix,s.normalMatrix),o.setUniformMatrix3x3("normalMatrix",c)}}o.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",i.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var o=t.renderable.getColorMapColors(),i=t.primitives[t.primTypes.Tris].getCABO(),a=r.getPointData(),s=r.getPoints(),u=s.getNumberOfPoints(),c=s.getData(),l=null,f=0;i.setColorBOStride(4),i.getColorBO()||i.setColorBO(sG.newInstance()),i.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow),o&&(f=o.getNumberOfComponents(),i.setColorOffset(4),l=o.getData(),i.setColorBOStride(8)),i.setColorComponents(f),i.setStride(28);var d=new Float32Array(7*u*12),p=new Uint8Array(12*u*(l?8:4)),h=null,m=null;null!=t.renderable.getScaleArray()&&a.hasArray(t.renderable.getScaleArray())&&(h=a.getArray(t.renderable.getScaleArray()).getData()),null!=t.renderable.getOrientationArray()&&a.hasArray(t.renderable.getOrientationArray())?m=a.getArray(t.renderable.getOrientationArray()).getData():JW(["Error setting orientationArray.\n","You have to specify the stick orientation"]);for(var g=[0,1,3,0,3,2,2,3,5,2,5,4],v=0,y=0,b=0,w=0,x=0;x<u;++x){var C=t.renderable.getLength(),S=t.renderable.getRadius();h&&(C=h[2*x],S=h[2*x+1]);for(var A=0;A<g.length;++A)v=3*x,d[b++]=c[v++],d[b++]=c[v++],d[b++]=c[v++],v=3*x,d[b++]=m[v++]*C,d[b++]=m[v++]*C,d[b++]=m[v++]*C,d[b++]=S,p[w++]=g[A]%2*255,p[w++]=g[A]>=4?255:0,p[w++]=g[A]>=2?255:0,p[w++]=255,y=x*f,l&&(p[w++]=l[y],p[w++]=l[y+1],p[w++]=l[y+2],p[w++]=l[y+3])}i.setElementCount(b/7),i.upload(d,Qz.ARRAY_BUFFER),i.getColorBO().upload(p,Qz.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var QW={};function eH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,QW,n),YG.extend(e,t,n),$W(e,t)}var tH=ne(eH,"vtkOpenGLStickMapper"),nH={newInstance:tH,extend:eH};function rH(e,t){t.classHierarchy.push("vtkOpenGLVolume"),e.buildPass=function(n){t.renderable&&t.renderable.getVisibility()&&n&&(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementVolumeCount()}},e.traverseVolumePass=function(n){t.renderable&&t.renderable.getVisibility()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.children[0].traverse(n),e.apply(n,!1))},e.volumePass=function(n){t.renderable&&t.renderable.getVisibility()&&(n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!1)):t.context.depthMask(!0))},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),Oi(t.MCWCMatrix,t.renderable.getMatrix()),Ii(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?Aa(t.normalMatrix):(ba(t.normalMatrix,t.MCWCMatrix),Pa(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}}}QB("vtkStickMapper",tH);var oH={};function iH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oH,n),KB.extend(e,t,n),t.keyMatrixTime={},W(t.keyMatrixTime,{mtime:0}),t.normalMatrix=new Float64Array(9),t.MCWCMatrix=new Float64Array(16),Y(e,t,["context"]),rH(e,t)}var aH=ne(iH,"vtkOpenGLVolume"),sH={newInstance:aH,extend:iH};QB("vtkVolume",aH);var uH=n(3123),cH=n.n(uH),lH=n(9115),fH=n.n(lH);function dH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pH=N,hH=M;function mH(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function gH(e,t){t.classHierarchy.push("vtkOpenGLVolumeMapper"),e.buildPass=function(){t.zBufferTexture=null},e.opaqueZBufferPass=function(e,n){if(e){var r=n.getZBufferTexture();r!==t.zBufferTexture&&(t.zBufferTexture=r)}},e.volumePass=function(n,r){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.jitterTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.scalarTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.opacityTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLVolume=e.getFirstAncestorOfType("vtkOpenGLVolume");var o=t.openGLVolume.getRenderable();t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var i=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(i.getActiveCamera()),e.renderPiece(i,o)}},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=cH(),e.Fragment=fH(),e.Geometry=""},e.replaceShaderValues=function(n,r,o){var i=n.Fragment;o.getProperty().getInterpolationType()===aT.LINEAR&&(i=jL.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),!0===o.getProperty().getUseLabelOutline()&&(i=jL.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var a=t.scalarTexture.getComponents();i=jL.substitute(i,"//VTK::NumComponents","#define vtkNumComponents ".concat(a)).result;var s=o.getProperty().getIndependentComponents();if(s){i=jL.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var u=[],c=0;c<a;c++)o.getProperty().getOpacityMode(c)===sT.PROPORTIONAL&&u.push("#define vtkComponent".concat(c,"Proportional"));u.length>0&&(i=jL.substitute(i,"//VTK::vtkProportionalComponents",u.join("\n")).result)}var l=t.currentInput.getExtent(),f=t.currentInput.getSpacing(),d=new Float64Array(3);Ro(d,(l[1]-l[0])*f[0],(l[3]-l[2])*f[1],(l[5]-l[4])*f[2]);var p=ko(d)/t.renderable.getSampleDistance();i=jL.substitute(i,"//VTK::MaximumSamplesValue","".concat(Math.ceil(p))).result,i=jL.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(t.lastLightComplexity)).result,t.gopacity=o.getProperty().getUseGradientOpacity(0);for(var h=1;s&&!t.gopacity&&h<a;++h)o.getProperty().getUseGradientOpacity(h)&&(t.gopacity=!0);t.gopacity&&(i=jL.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),null!==t.zBufferTexture&&(i=jL.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=jL.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=jL.substitute(i,"//VTK::BlendMode","".concat(t.renderable.getBlendMode())).result;var m=t.renderable.getIpScalarRange(),g=m[0],v=m[1];g=Number.isInteger(g)?g.toFixed(1).toString():g.toString(),v=Number.isInteger(v)?v.toFixed(1).toString():v.toString(),i=jL.substitute(i,"//VTK::IPScalarRangeMin",g).result,i=jL.substitute(i,"//VTK::IPScalarRangeMax",v).result,n.Fragment=i,e.replaceShaderLight(n,r,o),e.replaceShaderClippingPlane(n,r,o)},e.replaceShaderLight=function(e,n,r){var o=e.Fragment;switch(t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var i=0;n.getLights().forEach((function(e){e.getSwitch()>0&&(o=jL.substitute(o,"//VTK::Light::Dec",["uniform vec3 lightColor".concat(i,";"),"uniform vec3 lightDirectionVC".concat(i,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(i,"; // normalized"),"//VTK::Light::Dec"],!1).result,o=jL.substitute(o,"//VTK::Light::Impl",["  float df = abs(dot(normal.rgb, -lightDirectionVC".concat(i,"));"),"  diffuse += ((df".concat("",") * lightColor").concat(i,");"),"    float sf = pow( abs(dot(lightHalfAngleVC".concat(i,",normal.rgb)), vSpecularPower);"),"    specular += ((sf".concat("",") * lightColor").concat(i,");"),"  //VTK::Light::Impl"],!1).result,i++)}))}e.Fragment=o},e.replaceShaderClippingPlane=function(e,n,r){var o=e.Fragment;if(t.renderable.getClippingPlanes().length>0){var i=t.renderable.getClippingPlanes().length;o=jL.substitute(o,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,o=jL.substitute(o,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(i,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}e.Fragment=o},e.getNeedToRebuildShaders=function(n,r,o){var i=0;o.getProperty().getShade()&&t.renderable.getBlendMode()===zT.COMPOSITE_BLEND&&(i=0,t.numberOfLights=0,r.getLights().forEach((function(e){e.getSwitch()>0&&(t.numberOfLights++,0===i&&(i=1)),1===i&&(t.numberOfLights>1||1!==e.getIntensity()||!e.lightTypeIsHeadLight())&&(i=2),i<3&&e.getPositional()&&(i=3)})));var a=!1;t.lastLightComplexity!==i&&(t.lastLightComplexity=i,a=!0);var s=t.scalarTexture.getComponents(),u=o.getProperty().getIndependentComponents(),c=!1,l=[];if(u){for(var f=0;f<s;f++)l.push(o.getProperty().getOpacityMode(f));l.length>0&&(c=!0)}var d=t.currentInput.getExtent(),h=t.currentInput.getSpacing(),m=new Float64Array(3);Ro(m,(d[1]-d[0])*h[0],(d[3]-d[2])*h[1],(d[5]-d[4])*h[2]);var g=ko(m)/t.renderable.getSampleDistance(),v={interpolationType:o.getProperty().getInterpolationType(),useLabelOutline:o.getProperty().getUseLabelOutline(),numComp:s,usesProportionalComponents:c,iComps:u,maxSamples:g,useGradientOpacity:o.getProperty().getUseGradientOpacity(0),blendMode:t.renderable.getBlendMode(),ipScalarMode:t.renderable.getIpScalarRange(),proportionalComponents:l};return t.previousState&&t.previousState.interpolationType===v.interpolationType&&t.previousState.useLabelOutline===v.useLabelOutline&&t.previousState.numComp===v.numComp&&t.previousState.usesProportionalComponents===v.usesProportionalComponents&&t.previousState.iComps===v.iComps&&t.previousState.maxSamples===v.maxSamples&&t.previousState.useGradientOpacity===v.useGradientOpacity&&t.previousState.blendMode===v.blendMode&&mH(t.previousState.ipScalarMode,v.ipScalarMode)&&mH(t.previousState.proportionalComponents,v.proportionalComponents)?!!(0===n.getProgram()||a||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||!!t.lastZBufferTexture!=!!t.zBufferTexture||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime())&&(t.lastZBufferTexture=t.zBufferTexture,!0):(t.previousState=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v),!0)},e.updateShaders=function(n,r,o){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,o)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,o);var a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,o),e.setCameraShaderParameters(n,r,o),e.setPropertyShaderParameters(n,r,o),e.getClippingPlaneShaderParameters(n,r,o)},e.setMapperShaderParameters=function(n,r,o){var i=n.getProgram();if(n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(n.getVAO().addAttributeArray(i,n.getCABO(),"vertexDC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||hH("Error setting vertexDC in shader VAO.")),n.getAttributeUpdateTime().modified()),i.setUniformi("texture1",t.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",t.renderable.getSampleDistance()),null!==t.zBufferTexture){i.setUniformi("zBufferTexture",t.zBufferTexture.getTextureUnit());var a=e.getRenderTargetSize();i.setUniformf("vpWidth",a[0]),i.setUniformf("vpHeight",a[1])}},e.setCameraShaderParameters=function(n,r,o){var i=t.openGLCamera.getKeyMatrices(r),a=t.openGLVolume.getKeyMatrices();Ri(t.modelToView,i.wcvc,a.mcwc);var s=n.getProgram(),u=t.openGLCamera.getRenderable(),c=u.getClippingRange();s.setUniformf("camThick",c[1]-c[0]),s.setUniformf("camNear",c[0]),s.setUniformf("camFar",c[1]);for(var l=t.currentInput.getBounds(),f=t.currentInput.getDimensions(),d=new Float64Array(3),p=new Float64Array(3),h=1,m=-1,g=1,v=-1,y=0;y<8;++y)Ro(d,l[y%2],l[2+Math.floor(y/2)%2],l[4+Math.floor(y/4)]),ii(d,d,t.modelToView),u.getParallelProjection()||($o(p,d),Ho(d,p,-c[0]/d[2])),ii(d,d,i.vcpc),h=Math.min(d[0],h),m=Math.max(d[0],m),g=Math.min(d[1],g),v=Math.max(d[1],v);s.setUniformf("dcxmin",h),s.setUniformf("dcxmax",m),s.setUniformf("dcymin",g),s.setUniformf("dcymax",v),s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",u.getParallelProjection());var b=t.currentInput.getExtent(),w=t.currentInput.getSpacing(),x=new Float64Array(3);Ro(x,(b[1]-b[0]+1)*w[0],(b[3]-b[2]+1)*w[1],(b[5]-b[4]+1)*w[2]),s.setUniform3f("vSpacing",w[0],w[1],w[2]),Ro(d,b[0],b[2],b[4]),t.currentInput.indexToWorldVec3(d,d),ii(d,d,t.modelToView),s.setUniform3f("vOriginVC",d[0],d[1],d[2]);var C=t.currentInput.getIndexToWorld();Ri(t.idxToView,t.modelToView,C),Ta(t.idxNormalMatrix,i.normalMatrix,a.normalMatrix),Ta(t.idxNormalMatrix,t.idxNormalMatrix,t.currentInput.getDirection());var S=ko(x)/t.renderable.getSampleDistance();S>t.renderable.getMaximumSamplesPerRay()&&pH("The number of steps required ".concat(Math.ceil(S)," is larger than the\n        specified maximum number of steps ").concat(t.renderable.getMaximumSamplesPerRay(),".\n        Please either change the\n        volumeMapper sampleDistance or its maximum number of samples."));var A=new Float64Array(3);if(Ro(A,1,1,1),jo(A,A,x),s.setUniform3f("vVCToIJK",A[0],A[1],A[2]),s.setUniform3i("volumeDimensions",f[0],f[1],f[2]),!t.openGLRenderWindow.getWebgl2()){var _=t.scalarTexture.getVolumeInfo();s.setUniformf("texWidth",t.scalarTexture.getWidth()),s.setUniformf("texHeight",t.scalarTexture.getHeight()),s.setUniformi("xreps",_.xreps),s.setUniformi("xstride",_.xstride),s.setUniformi("ystride",_.ystride)}for(var P=new Float64Array(3),O=new Float64Array(3),E=0;E<6;++E){switch(E){default:case 0:Ro(P,1,0,0),Ro(O,b[1],b[3],b[5]);break;case 1:Ro(P,-1,0,0),Ro(O,b[0],b[2],b[4]);break;case 2:Ro(P,0,1,0),Ro(O,b[1],b[3],b[5]);break;case 3:Ro(P,0,-1,0),Ro(O,b[0],b[2],b[4]);break;case 4:Ro(P,0,0,1),Ro(O,b[1],b[3],b[5]);break;case 5:Ro(P,0,0,-1),Ro(O,b[0],b[2],b[4])}ai(P,P,t.idxNormalMatrix),ii(O,O,t.idxToView);var T=-1*Qo(O,P);if(s.setUniform3f("vPlaneNormal".concat(E),P[0],P[1],P[2]),s.setUniformf("vPlaneDistance".concat(E),T),o.getProperty().getUseLabelOutline()){var D=t.currentInput.getWorldToIndex();s.setUniformMatrix("vWCtoIDX",D),ki(t.projectionToWorld,i.wcpc),s.setUniformMatrix("PCWCMatrix",t.projectionToWorld);var I=e.getRenderTargetSize();s.setUniformf("vpWidth",I[0]),s.setUniformf("vpHeight",I[1])}}switch(ki(t.projectionToView,i.vcpc),s.setUniformMatrix("PCVCMatrix",t.projectionToView),t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var k=0,M=[];r.getLights().forEach((function(e){if(e.getSwitch()>0){var t=e.getColor(),n=e.getIntensity();M[0]=t[0]*n,M[1]=t[1]*n,M[2]=t[2]*n,s.setUniform3fArray("lightColor".concat(k),M);var r=e.getDirection();Ro(P,r[0],r[1],r[2]),ai(P,P,i.normalMatrix),s.setUniform3f("lightDirectionVC".concat(k),P[0],P[1],P[2]);var o=[-.5*P[0],-.5*P[1],-.5*(P[2]-1)];s.setUniform3fArray("lightHalfAngleVC".concat(k),o),k++}}))}},e.setPropertyShaderParameters=function(e,n,r){var o=e.getProgram();o.setUniformi("ctexture",t.colorTexture.getTextureUnit()),o.setUniformi("otexture",t.opacityTexture.getTextureUnit()),o.setUniformi("jtexture",t.jitterTexture.getTextureUnit());var i=t.scalarTexture.getVolumeInfo(),a=r.getProperty(),s=t.scalarTexture.getComponents(),u=r.getProperty().getIndependentComponents();if(u&&s>=2)for(var c=0;c<s;c++)o.setUniformf("mix".concat(c),r.getProperty().getComponentWeight(c));for(var l=0;l<s;l++){var f=u?l:0,d=i.scale[l],p=a.getScalarOpacity(f).getRange(),h=d/(p[1]-p[0]),m=(i.offset[l]-p[0])/(p[1]-p[0]);o.setUniformf("oshift".concat(l),m),o.setUniformf("oscale".concat(l),h);var g=a.getRGBTransferFunction(f).getRange();o.setUniformf("cshift".concat(l),(i.offset[l]-g[0])/(g[1]-g[0])),o.setUniformf("cscale".concat(l),d/(g[1]-g[0]))}if(t.gopacity)if(u)for(var v=0;v<s;++v){var y=i.scale[v];if(a.getUseGradientOpacity(v)){var b=a.getGradientOpacityMinimumOpacity(v),w=a.getGradientOpacityMaximumOpacity(v);o.setUniformf("gomin".concat(v),b),o.setUniformf("gomax".concat(v),w);var x=[a.getGradientOpacityMinimumValue(v),a.getGradientOpacityMaximumValue(v)];o.setUniformf("goscale".concat(v),y*(w-b)/(x[1]-x[0])),o.setUniformf("goshift".concat(v),-x[0]*(w-b)/(x[1]-x[0])+b)}else o.setUniformf("gomin".concat(v),1),o.setUniformf("gomax".concat(v),1),o.setUniformf("goscale".concat(v),0),o.setUniformf("goshift".concat(v),1)}else{var C=i.scale[s-1],S=a.getGradientOpacityMinimumOpacity(0),A=a.getGradientOpacityMaximumOpacity(0);o.setUniformf("gomin0",S),o.setUniformf("gomax0",A);var _=[a.getGradientOpacityMinimumValue(0),a.getGradientOpacityMaximumValue(0)];o.setUniformf("goscale0",C*(A-S)/(_[1]-_[0])),o.setUniformf("goshift0",-_[0]*(A-S)/(_[1]-_[0])+S)}if(!0===r.getProperty().getUseLabelOutline()){var P=r.getProperty().getLabelOutlineThickness();o.setUniformi("outlineThickness",P)}t.lastLightComplexity>0&&(o.setUniformf("vAmbient",a.getAmbient()),o.setUniformf("vDiffuse",a.getDiffuse()),o.setUniformf("vSpecular",a.getSpecular()),o.setUniformf("vSpecularPower",a.getSpecularPower()))},e.getClippingPlaneShaderParameters=function(e,n,r){if(t.renderable.getClippingPlanes().length>0){for(var o=t.openGLCamera.getKeyMatrices(n),i=[],a=[],s=t.renderable.getClippingPlanes(),u=s.length,c=0;c<u;++c){var l=s[c].getNormal(),f=s[c].getOrigin();ai(l,l,o.normalMatrix),ii(f,f,o.wcvc);var d=-1*Qo(f,l);i.push(l[0]),i.push(l[1]),i.push(l[2]),a.push(d)}var p=e.getProgram();p.setUniform3fv("vClipPlaneNormals",i),p.setUniformfv("vClipPlaneDistances",a)}},e.getRenderTargetSize=function(){if(t.lastXYF>1.43){var e=t.framebuffer.getSize();return[t.fvp[0]*e[0],t.fvp[1]*e[1]]}return t.openGLRenderWindow.getFramebufferSize()},e.renderPieceStart=function(n,r){if(t.renderable.getAutoAdjustSampleDistances()){var o=n.getVTKWindow().getInteractor(),i=o.getLastFrameTime();if(t.avgFrameTime=.97*t.avgFrameTime+.03*i,t.avgWindowArea=.97*t.avgWindowArea+.03/(t.lastXYF*t.lastXYF),n.getVTKWindow().getInteractor().isAnimating()){var a=Math.sqrt(t.avgFrameTime*o.getDesiredUpdateRate()/t.avgWindowArea);a>10&&(a=10),t.targetXYF=a}else t.targetXYF=Math.sqrt(t.avgFrameTime*o.getStillUpdateRate()/t.avgWindowArea);t.targetXYF<1.53&&t.targetXYF>1.33&&(t.targetXYF=t.lastXYF),Math.abs(1-t.targetXYF/t.lastXYF)<.1&&(t.targetXYF=t.lastXYF),t.lastXYF=t.targetXYF}else t.lastXYF=t.renderable.getImageSampleDistance();t.lastXYF<=1.43&&(t.lastXYF=1);var s=t.lastXYF,u=t.openGLRenderWindow.getFramebufferSize();if(s>1.43){if(t.framebuffer.saveCurrentBindingsAndBuffers(),null===t.framebuffer.getGLFramebuffer())t.framebuffer.create(Math.floor(.7*u[0]),Math.floor(.7*u[1])),t.framebuffer.populateFramebuffer();else{var c=t.framebuffer.getSize();c[0]===Math.floor(.7*u[0])&&c[1]===Math.floor(.7*u[1])||(t.framebuffer.create(Math.floor(.7*u[0]),Math.floor(.7*u[1])),t.framebuffer.populateFramebuffer())}t.framebuffer.bind();var l=t.context;l.clearColor(0,0,0,0),l.colorMask(!0,!0,!0,!0),l.clear(l.COLOR_BUFFER_BIT),l.viewport(0,0,u[0]/s,u[1]/s),t.fvp=[Math.floor(u[0]/s)/Math.floor(.7*u[0]),Math.floor(u[1]/s)/Math.floor(.7*u[1])]}t.context.disable(t.context.DEPTH_TEST),e.updateBufferObjects(n,r),r.getProperty().getInterpolationType()===aT.NEAREST?(t.scalarTexture.setMinificationFilter(UB.NEAREST),t.scalarTexture.setMagnificationFilter(UB.NEAREST)):(t.scalarTexture.setMinificationFilter(UB.LINEAR),t.scalarTexture.setMagnificationFilter(UB.LINEAR)),t.lastBoundBO=null,null!==t.zBufferTexture&&t.zBufferTexture.activate()},e.renderPieceDraw=function(n,r){var o=t.context;t.scalarTexture.activate(),t.opacityTexture.activate(),t.colorTexture.activate(),t.jitterTexture.activate(),e.updateShaders(t.tris,n,r),o.drawArrays(o.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.scalarTexture.deactivate(),t.colorTexture.deactivate(),t.opacityTexture.deactivate(),t.jitterTexture.deactivate()},e.renderPieceFinish=function(e,n){if(null!==t.zBufferTexture&&t.zBufferTexture.deactivate(),t.lastXYF>1.43){if(t.framebuffer.restorePreviousBindingsAndBuffers(),null===t.copyShader){t.copyShader=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join("\n"),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join("\n"),"");var r=t.copyShader;t.copyVAO=xG.newInstance(),t.copyVAO.setOpenGLRenderWindow(t.openGLRenderWindow),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(r,t.tris.getCABO(),"vertexDC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||hH("Error setting vertexDC in copy shader VAO.")}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.copyShader);var o=t.openGLRenderWindow.getFramebufferSize();t.context.viewport(0,0,o[0],o[1]);var i=t.framebuffer.getColorTexture();i.activate(),t.copyShader.setUniformi("texture",i.getTextureUnit()),t.copyShader.setUniform2f("tfactor",t.fvp[0],t.fvp[1]);var a=t.context;a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),i.deactivate(),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)}},e.renderPiece=function(n,r){e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),t.currentInput?(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)):hH("No input!")},e.computeBounds=function(n,r){e.getInput()?t.bounds=e.getInput().getBounds():en(t.Bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(r){var o=r.getPointData()&&r.getPointData().getScalars();if(o){var i=n.getProperty();if(!t.jitterTexture.getHandle()){for(var a=new Uint8Array(1024),s=0;s<1024;++s)a[s]=255*Math.random();t.jitterTexture.setMinificationFilter(UB.LINEAR),t.jitterTexture.setMagnificationFilter(UB.LINEAR),t.jitterTexture.create2DFromRaw(32,32,1,pe.UNSIGNED_CHAR,a)}var u=o.getNumberOfComponents(),c=i.getIndependentComponents()?u:1,l="".concat(i.getMTime());if(t.opacityTextureString!==l){for(var f=1024,d=2048*c,p=new Float32Array(d),h=new Float32Array(f),m=0;m<c;++m){var g=i.getScalarOpacity(m),v=t.renderable.getSampleDistance()/i.getScalarOpacityUnitDistance(m),y=g.getRange();g.getTable(y[0],y[1],f,h,1);for(var b=0;b<f;++b)p[m*f*2+b]=1-Math.pow(1-h[b],v),p[m*f*2+b+f]=p[m*f*2+b]}if(t.opacityTexture.releaseGraphicsResources(t.openGLRenderWindow),t.opacityTexture.setMinificationFilter(UB.LINEAR),t.opacityTexture.setMagnificationFilter(UB.LINEAR),t.openGLRenderWindow.getWebgl2()||t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear"))t.opacityTexture.create2DFromRaw(f,2*c,1,pe.FLOAT,p);else{for(var w=new Uint8Array(d),x=0;x<d;++x)w[x]=255*p[x];t.opacityTexture.create2DFromRaw(f,2*c,1,pe.UNSIGNED_CHAR,w)}t.opacityTextureString=l}if(l="".concat(i.getMTime()),t.colorTextureString!==l){for(var C=1024,S=new Uint8Array(2048*c*3),A=new Float32Array(3072),_=0;_<c;++_){var P=i.getRGBTransferFunction(_),O=P.getRange();P.getTable(O[0],O[1],C,A,1);for(var E=0;E<3072;++E)S[_*C*6+E]=255*A[E],S[_*C*6+E+3072]=255*A[E]}t.colorTexture.releaseGraphicsResources(t.openGLRenderWindow),t.colorTexture.setMinificationFilter(UB.LINEAR),t.colorTexture.setMagnificationFilter(UB.LINEAR),t.colorTexture.create2DFromRaw(C,2*c,3,pe.UNSIGNED_CHAR,S),t.colorTextureString=l}if(l="".concat(r.getMTime()),t.scalarTextureString!==l){var T=r.getDimensions();t.scalarTexture.releaseGraphicsResources(t.openGLRenderWindow),t.scalarTexture.resetFormatAndType(),t.scalarTexture.create3DFilterableFromRaw(T[0],T[1],T[2],u,o.getDataType(),o.getData()),t.scalarTextureString=l}if(!t.tris.getCABO().getElementCount()){for(var D=new Float32Array(12),I=0;I<4;I++)D[3*I]=I%2*2-1,D[3*I+1]=I>1?1:-1,D[3*I+2]=-1;var k=new Uint16Array(8);k[0]=3,k[1]=0,k[2]=1,k[3]=3,k[4]=3,k[5]=0,k[6]=3,k[7]=2;var M=Fn.newInstance({numberOfComponents:3,values:D});M.setName("points");var N=Fn.newInstance({numberOfComponents:1,values:k});t.tris.getCABO().createVBO(N,"polys",Jg.SURFACE,{points:M,cellOffset:0})}t.VBOBuildTime.modified()}}}}var vH={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function yH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vH,n),KB.extend(e,t,n),t.VBOBuildTime={},W(t.VBOBuildTime,{mtime:0}),t.tris=_G.newInstance(),t.scalarTexture=mL.newInstance(),t.opacityTexture=mL.newInstance(),t.colorTexture=mL.newInstance(),t.jitterTexture=mL.newInstance(),t.jitterTexture.setWrapS(VB.REPEAT),t.jitterTexture.setWrapT(VB.REPEAT),t.framebuffer=bL.newInstance(),t.idxToView=Di(new Float64Array(16)),t.idxNormalMatrix=Aa(new Float64Array(9)),t.modelToView=Di(new Float64Array(16)),t.projectionToView=Di(new Float64Array(16)),t.projectionToWorld=Di(new Float64Array(16)),Y(e,t,["context"]),gH(e,t)}var bH=ne(yH,"vtkOpenGLVolumeMapper"),wH={newInstance:bH,extend:yH};QB("vtkVolumeMapper",bH);var xH={Core:NB,Misc:zz,OpenGL:{vtkActor:Kz,vtkActor2D:$z,vtkBufferObject:sG,vtkCamera:dG,vtkCellArrayBufferObject:vG,vtkConvolution2DPass:DG,vtkFramebuffer:bL,vtkGlyph3DMapper:sW,vtkHardwareSelector:mF,vtkHelper:_G,vtkImageMapper:mW,vtkImageSlice:wW,vtkPixelSpaceCallbackMapper:PW,vtkPolyDataMapper:YG,vtkRenderer:kW,vtkRenderWindow:TF,vtkShader:NL,vtkShaderCache:WL,vtkShaderProgram:jL,vtkSkybox:FW,vtkSphereMapper:KW,vtkStickMapper:nH,vtkTexture:mL,vtkTextureUnitManager:QL,vtkVertexArrayObject:xG,vtkViewNodeFactory:rL,vtkVolume:sH,vtkVolumeMapper:wH},SceneGraph:{vtkRenderPass:SL,vtkRenderWindowViewNode:XL,vtkViewNode:KB,vtkViewNodeFactory:JB},WebGPU:{vtkRenderWindow:TU}};function CH(e,t){function n(){if(t.input)for(var e=0;e<t.sourceDependencies.length;++e)t.sourceDependencies[e].setInputData(t.input.getDataset())}t.classHierarchy.push("vtkAbstractRepresentationProxy"),e.setInput=function(r){if(t.sourceSubscription&&(t.sourceSubscription.unsubscribe(),t.sourceSubscription=null),e.gcPropertyLinks("source"),t.input=r,e.updateColorByDomain(),t.input&&(n(),t.sourceSubscription=t.input.onDatasetChange(n)),t.links)for(var o=0;o<t.links.length;o++){var i=t.links[o],a=i.link,s=i.property,u=i.persistent,c=i.updateOnBind,l=i.type;if(void 0===l||"source"===l){var f=r.getPropertyLink(a,u);e.registerPropertyLinkForGC(f,"source"),f.bind(e,s,c)}}},e.getInputDataSet=function(){return t.input?t.input.getDataset():null},e.getDataArray=function(t,n){var r=g(e.getColorBy(),2),o=r[0],i=r[1],a=e.getInputDataSet(),s=a?a.getReferenceByName(n||i):null;return s?s.getArrayByName(t||o):null},e.getLookupTableProxy=function(n){var r=n||e.getColorBy()[0];return r?t.proxyManager.getLookupTable(r):null},e.setLookupTableProxy=function(){},e.getPiecewiseFunctionProxy=function(n){var r=n||e.getColorBy()[0];return r?t.proxyManager.getPiecewiseFunction(r):null},e.setPiecewiseFunctionProxy=function(){},e.rescaleTransferFunctionToDataRange=function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=e.getDataArray(n,r).getRange(o);t.proxyManager.rescaleTransferFunctionToDataRange(n,i)},e.isVisible=function(){return t.actors.length?t.actors[0].getVisibility():!!t.volumes.length&&t.volumes[0].getVisibility()},e.setVisibility=function(n){for(var r=0,o=t.actors.length;o--;)r+=t.actors[o].setVisibility(n);for(o=t.volumes.length;o--;)r+=t.volumes[o].setVisibility(n);r&&e.modified()},e.setColorBy=function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=Uv.ColorMode.DEFAULT,a=Uv.ScalarMode.DEFAULT,s=n,u=!!e.getDataArray(n,r),c=n?e.getLookupTableProxy(n).getLookupTable():null;c&&(-1===o?c.setVectorModeToMagnitude():(c.setVectorModeToComponent(),c.setVectorComponent(o))),u&&(i=Uv.ColorMode.MAP_SCALARS,a="pointData"===r?Uv.ScalarMode.USE_POINT_FIELD_DATA:Uv.ScalarMode.USE_CELL_FIELD_DATA,t.mapper.setLookupTable&&t.mapper.setLookupTable(c),t.rescaleOnColorBy&&e.rescaleTransferFunctionToDataRange(n,r,o)),t.mapper.set({colorByArrayName:s,colorMode:i,scalarMode:a,scalarVisibility:u},!0)},e.getColorBy=function(){if(!t.mapper.getColorByArrayName){var n=e.getInputDataSet();return n.getPointData().getScalars()?[n.getPointData().getScalars().getName(),"pointData",-1]:n.getCellData().getScalars()?[n.getCellData().getScalars().getName(),"cellData",-1]:n.getPointData().getNumberOfArrays()?[n.getPointData().getArrayByIndex(0).getName(),"pointData",-1]:n.getCellData().getNumberOfArrays()?[n.getCellData().getArrayByIndex(0).getName(),"cellData",-1]:[]}var r=[],o=t.mapper.get("colorByArrayName","colorMode","scalarMode","scalarVisibility"),i=o.colorByArrayName,a=o.colorMode,s=o.scalarMode;if(o.scalarVisibility&&i&&(r.push(i),r.push(s===Uv.ScalarMode.USE_POINT_FIELD_DATA?"pointData":"cellData")),a===Uv.ColorMode.MAP_SCALARS&&i){var u=e.getLookupTableProxy(i).getLookupTable(),c=u.getVectorMode()===ys.VectorMode.MAGNITUDE?-1:u.getVectorComponent();r.push(c)}return r},e.listDataArrays=function(){var n=[];if(!t.input)return n;for(var r=e.getInputDataSet(),o=r.getPointData(),i=o.getNumberOfArrays(),a=0;a<i;a++){var s=o.getArrayByIndex(a);n.push({name:s.getName(),location:"pointData",numberOfComponents:s.getNumberOfComponents(),dataRange:s.getRange()})}var u=r.getCellData();i=u.getNumberOfArrays();for(var c=0;c<i;c++){var l=u.getArrayByIndex(c);n.push({name:l.getName(),location:"cellData",numberOfComponents:l.getNumberOfComponents(),dataRange:l.getRange()})}return n},e.updateColorByDomain=function(){e.updateProxyProperty("colorBy",{domain:{arrays:e.listDataArrays(),solidColor:!t.disableSolidColor}})},e.delete=re((function(){t.sourceSubscription&&(t.sourceSubscription.unsubscribe(),t.sourceSubscription=null)}),e.delete);var r=[],o=y(Xr.INIT_BOUNDS);function i(e){e&&(Xr.addBounds(o,e.getBounds()),r.push(e))}e.getNestedProps=function(){return r},e.getBounds=function(){return t.boundMTime<t.mtime&&(t.boundMTime=t.mtime,Xr.reset(o),r.length=0,t.actors.forEach(i),t.volumes.forEach(i)),o}}var SH={boundMTime:0,actors:[],volumes:[],sourceDependencies:[],rescaleOnColorBy:!0},AH={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SH,n),Hg.extend(e,t,n),Y(e,t,["rescaleOnColorBy"]),H(e,t,["input","mapper","actors","volumes"]),CH(e,t),ce(e,t)}},_H={Preset:0,RGBPoints:1,HSVPoints:2,Nodes:3},PH={Preset:"Cool to Warm",RGBPoints:[[0,0,0,0],[1,1,1,1]],HSVPoints:[[0,0,0,0],[1,0,0,1]],Nodes:[{x:0,r:0,g:0,b:0,midpoint:.5,sharpness:0},{x:1,r:1,g:1,b:1,midpoint:.5,sharpness:0}]};function OH(e,t){t.classHierarchy.push("vtkLookupTableProxy"),t.lookupTable=t.lookupTable||iT.newInstance(),t.lookupTable.setVectorModeToMagnitude(),e.setPresetName=function(n){t.presetName!==n&&(t.presetName=n,t.mode=_H.Preset,e.applyMode())},e.setRGBPoints=function(n){t.rgbPoints!==n&&(t.rgbPoints=(n||PH.RGBPoints).slice(),e.applyMode())},e.setHSVPoints=function(n){t.hsvPoints!==n&&(t.hsvPoints=(n||PH.HSVPoints).slice(),e.applyMode())},e.setNodes=function(n){t.nodes!==n&&(t.nodes=(n||PH.Nodes).slice(),e.applyMode())},e.setMode=function(n){t.mode!==n&&(t.mode=n,e.applyMode())},e.applyMode=function(){switch(t.mode){case _H.Preset:var n=dM.getPresetByName(t.presetName);n&&t.lookupTable.applyColorMap(n);break;case _H.RGBPoints:t.lookupTable.removeAllPoints(),t.rgbPoints.forEach((function(e){var n;return(n=t.lookupTable).addRGBPointLong.apply(n,y(e))}));break;case _H.HSVPoints:t.lookupTable.removeAllPoints(),t.hsvPoints.forEach((function(e){var n;return(n=t.lookupTable).addHSVPointLong.apply(n,y(e))}));break;case _H.Nodes:t.lookupTable.setNodes(t.nodes)}t.lookupTable.setMappingRange(t.dataRange[0],t.dataRange[1]),t.lookupTable.updateRange(),e.modified()},e.setDataRange=function(n,r){t.dataRange[0]===n&&t.dataRange[1]===r||(t.dataRange[0]=n,t.dataRange[1]=r,t.lookupTable.setMappingRange(t.dataRange[0],t.dataRange[1]),t.lookupTable.updateRange(),e.applyMode())},e.applyMode()}var EH={mode:_H.Preset,presetName:PH.Preset,rgbPoints:PH.RGBPoints,hsvPoints:PH.HSVPoints,nodes:PH.Nodes,arrayName:"No array associated",arrayLocation:"pointData",dataRange:[0,1]};function TH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,EH,n),fe.obj(e,t),fe.setGet(e,t,["arrayName"]),fe.get(e,t,["mode","lookupTable","presetName","rgbPoints","hsvPoints","nodes","dataRange"]),OH(e,t),fe.proxy(e,t)}var DH={newInstance:fe.newInstance(TH,"vtkLookupTableProxy"),extend:TH,Mode:_H,Defaults:PH};function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MH={Gaussians:0,Points:1,Nodes:2},NH={Gaussians:[{position:.5,height:1,width:.5,xBias:.5,yBias:.5}],Points:[[0,0],[1,1]],Nodes:[{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}]};function RH(e){return e.map((function(e){return kH({},e)}))}function BH(e,t){t.classHierarchy.push("vtkPiecewiseFunctionProxy"),t.piecewiseFunction=t.piecewiseFunction||Ju.newInstance(),e.setGaussians=function(n){t.gaussians=RH(n||[]),0===t.gaussians.length&&(t.gaussians=RH(NH.Gaussians)),e.applyMode()},e.setPoints=function(n){t.points=(n||[]).slice(),0===t.points.length&&(t.points=NH.Points.slice()),e.applyMode()},e.setNodes=function(n){t.nodes=(n||[]).slice(),0===t.nodes.length&&(t.nodes=NH.Nodes.slice()),e.applyMode()},e.setMode=function(n){t.mode!==n&&(t.mode=n,e.applyMode())},e.applyMode=function(){switch(t.mode){case MH.Gaussians:kw.applyGaussianToPiecewiseFunction(t.gaussians,255,t.dataRange,t.piecewiseFunction),e.modified();break;case MH.Points:!function(e,t,n){var r=t[1]-t[0],o=e.map((function(e){var n=g(e,2),o=n[0],i=n[1];return[o*r+t[0],i]}));n.removeAllPoints(),o.forEach((function(e){var t=g(e,2),r=t[0],o=t[1];return n.addPoint(r,o)}))}(t.points,t.dataRange,t.piecewiseFunction),e.modified();break;case MH.Nodes:!function(e,t,n){var r=t[1]-t[0],o=e.map((function(e){return kH(kH({},e),{},{x:e.x*r+t[0]})}));n.setNodes(o)}(t.nodes,t.dataRange,t.piecewiseFunction),e.modified()}},e.getLookupTableProxy=function(){return t.proxyManager.getLookupTable(t.arrayName)},e.setDataRange=function(n,r){t.dataRange[0]===n&&t.dataRange[1]===r||(t.dataRange[0]=n,t.dataRange[1]=r,e.applyMode())},e.applyMode()}var LH={mode:MH.Gaussians,gaussians:NH.Gaussians,points:NH.Points,nodes:NH.Nodes,arrayName:"No array associated",arrayLocation:"pointData",dataRange:[0,1]};function FH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LH,n),fe.obj(e,t),fe.setGet(e,t,["arrayName"]),fe.get(e,t,["piecewiseFunction","gaussians","nodes","points","mode","dataRange"]),BH(e,t),fe.proxy(e,t)}var jH={newInstance:fe.newInstance(FH,"vtkPiecewiseFunctionProxy"),extend:FH,Mode:MH,Defaults:NH};function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zH=fe.vtkErrorMacro;function GH(e,t){function n(n){var r=n.getProxyId?n.getProxyId():n,o=t.proxyIdMapping[r];return Object.keys(t.proxyByGroup).forEach((function(e){var n=t.proxyByGroup[e],r=n.indexOf(o);-1!==r&&n.splice(r,1)})),delete t.proxyIdMapping[r],o.gcPropertyLinks("application"),o.gcPropertyLinks("source"),o.setProxyManager(null),e.invokeProxyRegistrationChange({action:"unregister",proxyId:r,proxyName:o.getProxyName(),proxyGroup:o.getProxyGroup(),proxy:o}),o}e.setActiveSource=function(n){t.activeSource!==n&&(t.activeSourceSubscription&&(t.activeSourceSubscription.unsubscribe(),t.activeSourceSubscription=null),t.activeSource=n,n&&(t.activeSourceSubscription=n.onModified(e.modified)),e.modified(),e.invokeActiveSourceChange(n))},e.setActiveView=function(n){t.activeView!==n&&(t.activeViewSubscription&&(t.activeViewSubscription.unsubscribe(),t.activeViewSubscription=null),t.activeView=n,n&&(t.activeViewSubscription=n.onModified(e.modified)),e.modified(),e.invokeActiveViewChange(n))},e.getProxyById=function(e){return t.proxyIdMapping[e]},e.getProxyGroups=function(){return Object.keys(t.proxyByGroup)},e.getProxyInGroup=function(e){return[].concat(t.proxyByGroup[e]||[])},e.getSources=function(){return[].concat(t.proxyByGroup.Sources||[])},e.getRepresentations=function(){return[].concat(t.proxyByGroup.Representations||[])},e.getViews=function(){return[].concat(t.proxyByGroup.Views||[])},e.createProxy=function(n,r,o){var i=t.proxyConfiguration.definitions;if(!i[n]||!i[n][r])return null;var a=i[n][r],s=UH(UH({},a.options),o),u=a.class.newInstance(UH(UH({},s),{},{proxyGroup:n,proxyName:r,proxyManager:e}));if(a.proxyProps){var c={};Object.keys(a.proxyProps).forEach((function(t){var n=a.proxyProps[t];c[t]=e.createProxy(n.group,n.name,n.options)})),u.set(c)}return a.props&&u.set(a.props),function(n){if(n){t.proxyIdMapping[n.getProxyId()]=n;var r=n.getProxyGroup();t.proxyByGroup[r]||(t.proxyByGroup[r]=[]),-1===t.proxyByGroup[r].indexOf(n)&&t.proxyByGroup[r].push(n),n.setProxyManager(e),fe.setImmediate((function(){e.invokeProxyRegistrationChange({action:"register",proxyId:n.getProxyId(),proxyName:n.getProxyName(),proxyGroup:n.getProxyGroup(),proxy:n})}))}}(u),s.activateOnCreate&&u.activate(),u},e.getRepresentation=function(n,r){var o=n||e.getActiveSource(),i=r||e.getActiveView();if(!o||!i||!o.getType())return null;var a=o.getProxyId(),s=i.getProxyId(),u=t.sv2rMapping[a];u||(u={},t.sv2rMapping[a]=u);var c=u[s];if(!c){var l=i.getProxyName(),f=o.getType(),d=t.proxyConfiguration.representations[l][f];if(!d)return zH("No definition for representation of ".concat(f," in view ").concat(l)),null;c=e.createProxy("Representations",d.name,d.options),t.r2svMapping[c.getProxyId()]={sourceId:a,viewId:s},u[s]=c,c.setInput(o),i.addRepresentation(c)}return c},e.deleteProxy=function(r){var o=r.getProxyGroup().toLowerCase();if("views"===o)r.getRepresentations().forEach((function(t){e.deleteProxy(t)})),r.setContainer(null),n(r),e.getActiveView()===r&&e.setActiveView(e.getViews()[0]);else if("representations"===o){var i=t.r2svMapping[r.getProxyId()],a=i.sourceId,s=i.viewId;e.getProxyById(s).removeRepresentation(r),delete t.r2svMapping[r.getProxyId()],delete t.sv2rMapping[a][s],n(r)}else if("sources"===o){var u=t.sv2rMapping[r.getProxyId()];Object.keys(u).forEach((function(t){e.deleteProxy(u[t])})),n(r),e.getActiveSource()===r&&e.setActiveSource(e.getSources()[0])}else n(r);r.delete()}}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qH(e){var t={};return e.listPropertyNames().forEach((function(n){t[n]=e.getPropertyByName(n).value})),t}function KH(e,t){e.loadState=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){var i={},a={},s={},u=n.datasetHandler||A,c=[];t.sources.forEach((function(t){var n=t.id,r=t.group,o=t.name,a=t.props;c.push(Promise.resolve(u(a.dataset)).then((function(t){if(t){var s=e.createProxy(r,o);return s.setName(a.name),s.setInputData(t,a.type),i[n]=s,s}return null})))})),Promise.all(c).then((function(){var n=e.getViews();function o(e){i[e]&&s[e]&&i[e].resetOrientation().then((function(){i[e].getCamera().set(s[e]),i[e].getRenderer().updateLightsGeometryToFollowCamera(),i[e].renderLater()}))}t.views.forEach((function(r){var o=r.id,a=r.group,u=r.name,c=r.props,l=r.camera,f=null;t.options.recycleViews&&(f=n.find((function(e){return e.getProxyGroup()===a&&e.getProxyName()===u&&e.getName()===c.name}))),f?f.setDisableAnimation(!0):f=e.createProxy(a,u,{disableAnimation:!0}),f.set(c,!0),i[o]=f,s[o]=l})),t.representations.forEach((function(t){var n=t.source,r=t.view,a=t.props;e.getRepresentation(i[n],i[r]).set(a,!0),o(r)})),Object.keys(t.fields).forEach((function(n){var r=t.fields[n],o=r.lookupTable,i=r.piecewiseFunction,a=e.getLookupTable(n,o);a.setPresetName(o.presetName),a.setDataRange.apply(a,y(o.dataRange));var s=e.getPiecewiseFunction(n,i);switch(i.mode){case jH.Mode.Gaussians:s.setGaussians(i.gaussians);break;case jH.Mode.Points:s.setPoints(i.points);break;case jH.Mode.Nodes:s.setNodes(i.nodes)}s.setMode(i.mode),s.setDataRange.apply(s,y(i.dataRange))})),Object.keys(s).forEach(o),Object.keys(i).forEach((function(e){var t=i[e].getProxyId();a[e]=t})),t.views.forEach((function(e){var t=e.id;i[t].setDisableAnimation(!1)})),r(HH(HH({},t.userData),{},{$oldToNewIdMapping:a}))})).catch(o)}))},e.saveState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){var i=e.getSources(),a=e.getViews(),s=t.datasetHandler||function(e){return e.getState()};delete t.datasetHandler;var u=[],c=new Set,l={userData:n,options:t,sources:[],views:[],representations:[],fields:{}};i.forEach((function(e){var t=Promise.resolve(s(e.getDataset(),e));u.push(t),l.sources.push({id:e.getProxyId(),group:e.getProxyGroup(),name:e.getProxyName(),props:{name:e.getName(),type:e.getType(),dataset:t}})})),a.forEach((function(e){var t=e.getCamera().get("position","viewUp","focalPoint");l.views.push({id:e.getProxyId(),group:e.getProxyGroup(),name:e.getProxyName(),props:Object.assign(qH(e),e.get("axis","orientation","viewUp")),camera:t}),e.getRepresentations().forEach((function(t){l.representations.push({source:t.getInput().getProxyId(),view:e.getProxyId(),props:qH(t)}),c.add(t.getColorBy()[0])}))})),c.forEach((function(t){l.fields[t]={lookupTable:e.getLookupTable(t).get("mode","presetName","rgbPoints","hsvPoints","nodes","arrayName","arrayLocation","dataRange"),piecewiseFunction:e.getPiecewiseFunction(t).get("mode","gaussians","points","nodes","arrayName","arrayLocation","dataRange")}})),Promise.all(u).then((function(){for(var e=function(e){l.sources[e].props.dataset.then((function(t){l.sources[e].props.dataset=t}))},t=0;t<l.sources.length;t++)e(t);r(l)})).catch(o)}))}}function XH(e,t){function n(){t.animating=!1;for(var n=e.getViews(),r=0;r<n.length;r++)n[r].setAnimation(!1,e)}e.create3DView=function(t){return e.createProxy("Views","View3D",t)},e.create2DView=function(t){return e.createProxy("Views","View2D",t)},e.render=function(t){var n=t||e.getActiveView();n&&n.renderLater()},e.renderAllViews=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getViews(),r=0;r<n.length;r++)n[r].render(t)},e.setAnimationOnAllViews=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getViews().filter((function(e){return!t||e.getContainer()})),r=0;r<n.length;r++)n[r].setAnimation(t,e)},e.autoAnimateViews=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;if(!t.animating){t.animating=!0;for(var o=e.getViews().filter((function(e){return e.getContainer()})),i=0;i<o.length;i++)o[i].setAnimation(!0,e);t.clearAnimations=fe.debounce(n,r)}t.clearAnimations()},e.resizeAllViews=function(){for(var t=e.getViews(),n=0;n<t.length;n++)t[n].resize()},e.resetCamera=function(t){var n=t||e.getActiveView();n&&n.resetCamera&&n.resetCamera()},e.createRepresentationInAllViews=function(t){for(var n=e.getViews(),r=0;r<n.length;r++)e.getRepresentation(t,n[r])},e.resetCameraInAllViews=function(){for(var t=e.getViews(),n=0;n<t.length;n++)t[n].resetCamera()}}function YH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JH(e,t){e.getSections=function(){var n=[],r=e.getActiveSource();if(!r)return[];var o=e.getActiveView();if(r){var i=r.getProxySection();i.ui.length&&n.push(Object.assign(i,{collapsed:t.collapseState[i.name]}))}if(r&&o){var a=e.getRepresentation(r,o);if(a){var s=a.getProxySection();s.ui.length&&n.push(Object.assign(s,{collapsed:t.collapseState[s.name]}))}}if(o){var u=o.getProxySection();u.ui.length&&n.push(Object.assign(u,{collapsed:t.collapseState[u.name]}))}return n},e.updateCollapseState=function(n,r){t.collapseState[n]=r,e.modified()},e.applyChanges=function(t){for(var n={},r=Object.keys(t),o=r.length;o--;){var i=r[o],a=g(i.split(":"),2),s=a[0],u=a[1];if(n[s]||(n[s]={}),"__command_execute__"===t[i]){var c=e.getProxyById(s);c&&c[u]()}else n[s][u]=t[i]}var l=Object.keys(n);for(o=l.length;o--;){var f=l[o],d=e.getProxyById(f);d&&d.set(n[f])}e.modified(),e.renderAllViews()},e.getLookupTable=function(n,r){return t.lookupTables[n]||(t.lookupTables[n]=e.createProxy("Proxy","LookupTable",ZH({arrayName:n},r))),t.lookupTables[n]},e.getPiecewiseFunction=function(n,r){return t.piecewiseFunctions[n]||(t.piecewiseFunctions[n]=e.createProxy("Proxy","PiecewiseFunction",ZH({arrayName:n},r))),t.piecewiseFunctions[n]},e.rescaleTransferFunctionToDataRange=function(t,n){var r=e.getLookupTable(t),o=e.getPiecewiseFunction(t);r.setDataRange(n[0],n[1]),o.setDataRange(n[0],n[1])}}function $H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,{proxyIdMapping:{},proxyByGroup:{},proxyConfiguration:{},sv2rMapping:{},r2svMapping:{},collapseState:{},lookupTables:{},piecewiseFunctions:{},animating:!1},n),fe.obj(e,t),fe.setGet(e,t,["proxyConfiguration","activeSource","activeView"]),fe.event(e,t,"ActiveSourceChange"),fe.event(e,t,"ActiveViewChange"),fe.event(e,t,"ProxyRegistrationChange"),GH(e,t),KH(e),XH(e,t),JH(e,t),fe.proxy(e,t),t.classHierarchy.push("vtkProxyManager")}var QH={newInstance:fe.newInstance($H,"vtkProxyManager"),extend:$H};function eq(e,t){t.classHierarchy.push("vtkSourceProxy"),e.setInputProxy=function(n){t.inputSubscription&&(t.inputSubscription(),t.inputSubscription=null),t.inputProxy=n,t.inputProxy&&(t.inputSubscription=n.onModified(e.update,-1).unsubscribe),e.update()},e.setInputData=function(n,r){t.dataset!==n&&(t.dataset=n,t.type=r||n.getClassName(),e.modified(),e.invokeDatasetChange())},e.setInputAlgorithm=function(n,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.type=r,t.algo!==n&&(t.algo=n,t.algoSubscription&&(t.algoSubscription(),t.algoSubscription=null),n&&o&&(t.algoSubscription=n.onModified((function(){e.update()}),-1).unsubscribe,e.update()))},e.update=function(){t.algo&&t.inputProxy&&t.algo.setInputData(t.inputProxy.getDataset()),t.updateDomain&&t.inputProxy&&t.updateDomain(e,t.inputProxy.getDataset()),t.algo&&e.setInputData(t.algo.getOutputData(),t.type)},e.getUpdate=function(){return t.algo.getMTime()>t.dataset.getMTime()},e.delete=fe.chain((function(){t.algoSubscription&&(t.algoSubscription(),t.algoSubscription=null),t.inputSubscription&&(t.inputSubscription(),t.inputSubscription=null)}),e.delete),t.inputProxy&&(t.inputSubscription=t.inputProxy.onModified((function(){e.update()}),-1).unsubscribe),t.algoFactory&&e.setInputAlgorithm(t.algoFactory.newInstance(),null,t.autoUpdate),e.update()}var tq={name:"Default source"};function nq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tq,n),fe.obj(e,t),fe.get(e,t,["name","type","dataset","algo","inputProxy"]),fe.set(e,t,["name"]),fe.event(e,t,"DatasetChange"),fe.proxy(e,t),eq(e,t),t.proxyPropertyMapping&&fe.proxyPropertyMapping(e,t,t.proxyPropertyMapping)}var rq={newInstance:fe.newInstance(nq,"vtkSourceProxy"),extend:nq};function oq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var iq={slice:Jy.vtkMouseCameraSliceManipulator,multiRotate:Jy.vtkMouseCameraTrackballMultiRotateManipulator,pan:Jy.vtkMouseCameraTrackballPanManipulator,roll:Jy.vtkMouseCameraTrackballRollManipulator,rotate:Jy.vtkMouseCameraTrackballRotateManipulator,axisRotate:Jy.vtkMouseCameraAxisRotateManipulator,zoom:Jy.vtkMouseCameraTrackballZoomManipulator,zoomToMouse:Jy.vtkMouseCameraTrackballZoomToMouseManipulator,range:Jy.vtkMouseRangeManipulator,vrPan:Jy.vtkVRButtonPanManipulator,gestureCamera:Jy.vtkGestureCameraManipulator,movement:Jy.vtkKeyboardCameraManipulator,freeLook:Jy.vtkMouseCameraTrackballFirstPersonManipulator,unicam:Jy.vtkMouseCameraUnicamManipulator,unicamRotate:Jy.vtkMouseCameraUnicamRotateManipulator},aq={"3D":[{type:"rotate"},{type:"pan",options:{shift:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}},{type:"roll",options:{shift:!0,control:!0}},{type:"roll",options:{shift:!0,alt:!0}},{type:"roll",options:{shift:!0,button:3}},{type:"vrPan"},{type:"gestureCamera"}],"2D":[{type:"pan",options:{shift:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{button:3}},{type:"roll",options:{shift:!0,alt:!0}},{type:"roll",options:{shift:!0,button:3}},{type:"roll",options:{shift:!0}},{type:"vrPan"},{type:"gestureCamera"}],FirstPerson:[{type:"movement"},{type:"freeLook"}],Unicam:[{type:"unicam"}],zRotateTop:[{type:"pan",options:{shift:!0}},{type:"axisRotate",options:{rotationAxis:[0,0,1],useHalfAxis:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}}],zRotateAll:[{type:"pan",options:{shift:!0}},{type:"axisRotate",options:{rotationAxis:[0,0,1],useHalfAxis:!1}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}}]};function sq(e,t){t.removeAllManipulators();for(var n=0;n<e.length;n++){var r=e[n],o=iq[r.type].newInstance(r.options);o.isA("vtkCompositeVRManipulator")?t.addVRManipulator(o):o.isA("vtkCompositeGestureManipulator")?t.addGestureManipulator(o):o.isA("vtkCompositeKeyboardManipulator")?t.addKeyboardManipulator(o):t.addMouseManipulator(o)}return!0}var uq={applyDefinitions:sq,applyPreset:function(e,t){return sq(aq[e],t)},registerManipulatorType:function(e,t){iq[e]=t},registerStylePreset:function(e,t){aq[e]=t}},cq=1e-6;function lq(e,t){function n(){var e=g(t.renderer.getBackground(),3),n=e[0],r=e[1],o=e[2];t.cornerAnnotation.getAnnotationContainer().style.color=n+r+o>1.5?"black":"white"}t.classHierarchy.push("vtkViewProxy"),t.renderWindow=iB.newInstance(),t.renderer=CS.newInstance({background:[0,0,0]}),t.renderWindow.addRenderer(t.renderer),t.openglRenderWindow=t.renderWindow.newAPISpecificView(),t.renderWindow.addView(t.openglRenderWindow),t.interactor=Rm.newInstance(),t.interactor.setView(t.openglRenderWindow),t.interactorStyle3D=lg.newInstance(),t.interactorStyle2D=lg.newInstance(),uq.applyPreset("3D",t.interactorStyle3D),uq.applyPreset("2D",t.interactorStyle2D),t.cornerAnnotation=Lb.newInstance(),t.interactor.setInteractorStyle(t.useParallelRendering?t.interactorStyle2D:t.interactorStyle3D),t.camera=t.renderer.getActiveCamera(),t.camera.setParallelProjection(!!t.useParallelRendering),t.orientationAxesArrow=FM.newInstance(),t.orientationAxesCube=DM.newInstance(),SM.applyPreset("default",t.orientationAxesCube),SM.applyPreset("lps",t.orientationAxesCube),t.orientationAxesMap={arrow:t.orientationAxesArrow,cube:t.orientationAxesCube},t.orientationWidget=IS.newInstance({actor:t.orientationAxesArrow,interactor:t.renderWindow.getInteractor()}),t.orientationWidget.setEnabled(!0),t.orientationWidget.setViewportCorner(IS.Corners.BOTTOM_LEFT),t.orientationWidget.setViewportSize(.1),e.setPresetToInteractor3D=function(e){return Array.isArray(e)?uq.applyDefinitions(e,t.interactorStyle3D):uq.applyPreset(e,t.interactorStyle3D)},e.setPresetToInteractor2D=function(e){return Array.isArray(e)?uq.applyDefinitions(e,t.interactorStyle2D):uq.applyPreset(e,t.interactorStyle2D)},e.setOrientationAxesType=function(n){var r=t.orientationAxesMap[n];r&&(t.orientationAxesType=n,t.orientationWidget.setActor(r),e.renderLater())},e.registerOrientationAxis=function(e,n){t.orientationAxesMap[e]=n},e.unregisterOrientationAxis=function(e){delete t.orientationAxesMap[e]},e.listOrientationAxis=function(){return Object.keys(t.orientationAxesMap)},e.setPresetToOrientationAxes=function(n){var r=!1;return"string"==typeof n?(t.presetToOrientationAxes!==n&&(t.presetToOrientationAxes=n,r=SM.applyPreset(n,t.orientationAxesCube),e.modified()),r):(t.presetToOrientationAxes="Custom",r=SM.applyDefinitions(n,t.orientationAxesCube),e.modified(),r)},e.setContainer=function(e){t.container&&(t.interactor.unbindEvents(t.container),t.openglRenderWindow.setContainer(null),t.cornerAnnotation.setContainer(null)),t.container=e,e&&(t.openglRenderWindow.setContainer(e),t.cornerAnnotation.setContainer(e),t.interactor.initialize(),t.interactor.bindEvents(e))},e.resize=function(){if(t.container){var n=t.container.getBoundingClientRect();if(n.width===n.height&&0===n.width)return;var r=window.devicePixelRatio||1,o=Math.max(10,Math.floor(r*n.width)),i=Math.max(10,Math.floor(r*n.height));t.openglRenderWindow.setSize(o,i),e.invokeResize({width:o,height:i}),e.renderLater()}},e.renderLater=function(){e.render(!1)},e.render=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.representations.length>0&&t.resetCameraOnFirstRender&&(t.resetCameraOnFirstRender=!1,e.resetCamera()),t.orientationWidget.updateMarkerOrientation(),t.renderer.resetCameraClippingRange(),n?t.renderWindow.render():setTimeout(t.renderWindow.render,0)},e.addRepresentation=function(e){e&&-1===t.representations.indexOf(e)&&(t.representations.push(e),t.renderer.addViewProp(e))},e.removeRepresentation=function(e){e&&(-1!==t.representations.indexOf(e)&&(t.representations=t.representations.filter((function(t){return t!==e})),t.renderer.removeViewProp(e)),0===t.representations.length&&(t.resetCameraOnFirstRender=!0))},e.resetCamera=function(){t.renderer.resetCamera(),t.renderer.resetCameraClippingRange(),t.interactorStyle2D.setCenterOfRotation(t.camera.getFocalPoint()),t.interactorStyle3D.setCenterOfRotation(t.camera.getFocalPoint()),e.renderLater()},e.captureImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.format,r=void 0===n?"image/png":n,o=oq(e,["format"]);return t.renderWindow.captureImages(r,o)[0]},e.openCaptureImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_blank",n=new Image;return e.captureImage().then((function(e){n.src=e;var r=window.open("",t);r.document.write(n.outerHTML),r.document.title="vtk.js Image Capture",window.focus()}))},e.setCornerAnnotation=function(e,n){t.cornerAnnotation.updateTemplates(p({},e,(function(e){return Lb.applyTemplate(n,e)})))},e.setCornerAnnotations=function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.keys(n).forEach((function(t){e.setCornerAnnotation(t,n[t])})):t.cornerAnnotation.updateTemplates(n)},e.updateCornerAnnotation=function(e){return t.cornerAnnotation.updateMetadata(e)},e.setAnnotationOpacity=function(n){t.annotationOpacity!==Number(n)&&(t.annotationOpacity=Number(n),t.cornerAnnotation.getAnnotationContainer().style.opacity=n,e.modified())},e.setBackground=re(t.renderer.setBackground,n),e.getBackground=t.renderer.getBackground,e.setAnimation=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!t.disableAnimation||!n)if(n)t.renderWindow.getInteractor().requestAnimation(r);else{var o=r===e||0==="".concat(r).indexOf("ViewProxy.moveCamera.");t.renderWindow.getInteractor().cancelAnimation(r,o)}},e.updateOrientation=function(n,r,o){var i,a,s,u,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(void 0===n)return Promise.resolve();var f=t.camera.getPosition(),d=t.camera.getViewUp(),p=t.camera.getFocalPoint();t.axis=n,t.orientation=r,t.viewUp=o;var h=t.camera.getFocalPoint();h[t.axis]+=t.orientation,(i=t.camera).setPosition.apply(i,y(h)),(a=t.camera).setViewUp.apply(a,y(o)),t.renderer.resetCamera();var m=t.camera.getFocalPoint(),g=t.camera.getPosition(),v=t.camera.getViewUp();return(s=t.camera).setFocalPoint.apply(s,y(p)),(u=t.camera).setPosition.apply(u,y(f)),(c=t.camera).setViewUp.apply(c,y(d)),e.moveCamera(m,g,v,l)},e.moveCamera=function(n,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.camera.getFocalPoint(),s=t.camera.getPosition(),u=t.camera.getViewUp(),c=[{focalPoint:n,position:r,viewUp:o}];if(i){var l=[(a[0]-n[0])/i,(a[1]-n[1])/i,(a[2]-n[2])/i],f=[(s[0]-r[0])/i,(s[1]-r[1])/i,(s[2]-r[2])/i],d=[(u[0]-o[0])/i,(u[1]-o[1])/i,(u[2]-o[2])/i],p=l[0]||l[1]||l[2]||f[0]||f[1]||f[2]||d[0]||d[1]||d[2],h=l.map((function(e){return Math.abs(e)<cq?0:1})).reduce((function(e,t){return e+t}),0),m=f.map((function(e){return Math.abs(e)<cq?0:1})).reduce((function(e,t){return e+t}),0),g=d.map((function(e){return Math.abs(e)<cq?0:1})).reduce((function(e,t){return e+t}),0);if(p)if(1===g&&0===m&&0===h)for(var v=a.map((function(e,t){return Math.abs(s[t]-e)<cq?t:null})).filter((function(e){return null!==e})).find((function(e){return Math.abs(d[e])<cq})),b=0;b<i;b++){var w=[o[0]+(b+1)*d[0],o[1]+(b+1)*d[1],o[2]+(b+1)*d[2]];w[v]=Math.sin(Math.PI*b/(i-1)),c.push({focalPoint:n,position:r,viewUp:w})}else for(var x=0;x<i;x++)c.push({focalPoint:[n[0]+(x+1)*l[0],n[1]+(x+1)*l[1],n[2]+(x+1)*l[2]],position:[r[0]+(x+1)*f[0],r[1]+(x+1)*f[1],r[2]+(x+1)*f[2]],viewUp:[o[0]+(x+1)*d[0],o[1]+(x+1)*d[1],o[2]+(x+1)*d[2]]})}return 1===c.length?(t.camera.set(c.pop()),t.renderer.resetCameraClippingRange(),t.interactor.getLightFollowCamera()&&t.renderer.updateLightsGeometryToFollowCamera(),Promise.resolve()):new Promise((function(n,r){var o=performance.now().toString(),i="ViewProxy.moveCamera.".concat(o);e.setAnimation(!0,i);var a=null;a=setInterval((function(){if(c.length){var r,o,s,u=c.pop(),l=u.focalPoint,f=u.position,d=u.viewUp;(r=t.camera).setFocalPoint.apply(r,y(l)),(o=t.camera).setPosition.apply(o,y(f)),(s=t.camera).setViewUp.apply(s,y(d)),t.renderer.resetCameraClippingRange(),t.interactor.getLightFollowCamera()&&t.renderer.updateLightsGeometryToFollowCamera()}else clearInterval(a),e.setAnimation(!1,i),n()}),1)}))},e.resetOrientation=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.updateOrientation(t.axis,t.orientation,t.viewUp,n)},e.rotate=function(e){var n,r=t.camera.get("viewUp","focalPoint","position"),o=r.viewUp,i=r.focalPoint,a=r.position,s=[i[0]-a[0],i[1]-a[1],i[2]-a[2]];Es.buildFromDegree().rotate(Number.isNaN(e)?90:e,s).apply(o),(n=t.camera).setViewUp.apply(n,y(o)),t.camera.modified(),t.orientationWidget.updateMarkerOrientation(),t.renderWindow.render()},e.focusTo=re(t.camera.setFocalPoint,t.interactorStyle2D.setCenterOfRotation,t.interactorStyle3D.setCenterOfRotation),e.delete=re(e.setContainer,t.openglRenderWindow.delete,e.delete),e.resetOrientation(),n()}var fq={representations:[],sectionName:"view",annotationOpacity:1,resetCameraOnFirstRender:!0,presetToOrientationAxes:"lps",orientationAxesType:"arrow",disableAnimation:!1,axis:1,orientation:0,viewUp:[0,0,1]};function dq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fq,n),W(e,t),Y(e,t,["name","disableAnimation"]),H(e,t,["annotationOpacity","camera","container","cornerAnnotation","interactor","interactorStyle2D","interactorStyle3D","openglRenderWindow","orientationAxesType","presetToOrientationAxes","renderer","renderWindow","representations","useParallelRendering"]),te(e,t,"Resize"),lq(e,t),ce(e,t),le(e,t,{orientationAxesVisibility:{modelKey:"orientationWidget",property:"enabled"},orientationAxesCorner:{modelKey:"orientationWidget",property:"viewportCorner"},orientationAxesSize:{modelKey:"orientationWidget",property:"viewportSize"},cameraViewUp:{modelKey:"camera",property:"viewUp",modified:!1},cameraPosition:{modelKey:"camera",property:"position",modified:!1},cameraFocalPoint:{modelKey:"camera",property:"focalPoint",modified:!1}})}var pq={newInstance:ne(dq,"vtkViewProxy"),extend:dq};function hq(e){return Array.isArray(e)?e.map(hq).join(", "):Number.isInteger(e)?e:Number.isFinite(e)?Math.abs(e)<.01?"0":e.toFixed(2):e}function mq(e,t){t.classHierarchy.push("vtkView2DProxy"),e.updateWidthHeightAnnotation=function(){var n=t.cornerAnnotation.getMetadata(),r=n.ijkOrientation,o=n.dimensions;if(r&&o){var i=o;o.length>3&&(i=o.split(",").map(Number));var a=t.camera.getDirectionOfProjection(),s=t.camera.getViewUp(),u=[0,0,0];et(a,s,u);var c=wn(u),l=wn(s),f=i["IJK".indexOf(r[c])],d=i["IJK".indexOf(r[l])];e.updateCornerAnnotation({sliceWidth:f,sliceHeight:d})}};var n=e.updateOrientation;e.updateOrientation=function(r,o,i){for(var a=n(r,o,i),s=t.representations.length;s--;){var u=t.representations[s],c="XYZ"[r];u.setSlicingMode&&u.setSlicingMode(c)}return e.updateCornerAnnotation({axis:"XYZ"[r]}),a};var r=e.addRepresentation;e.addRepresentation=function(n){r(n),n.setSlicingMode&&(n.setSlicingMode("XYZ"[t.axis]),e.bindRepresentationToManipulator(n))};var o=e.removeRepresentation;function i(n){e.updateCornerAnnotation({windowWidth:n}),t.sliceRepresentation&&t.sliceRepresentation.setWindowWidth&&t.sliceRepresentation.setWindowWidth(n)}function a(n){e.updateCornerAnnotation({windowLevel:n}),t.sliceRepresentation&&t.sliceRepresentation.setWindowLevel&&t.sliceRepresentation.setWindowLevel(n)}function s(n){var r=Number(n),o={slice:Number.isInteger(r)?n:r.toFixed(2)};if(t.sliceRepresentation&&t.sliceRepresentation.setSlice&&t.sliceRepresentation.setSlice(r),t.sliceRepresentation&&t.sliceRepresentation.getAnnotations){var i=t.sliceRepresentation.getAnnotations();Object.keys(i).forEach((function(e){o[e]=hq(i[e])}))}e.updateCornerAnnotation(o)}e.removeRepresentation=function(n){if(o(n),n===t.sliceRepresentation){e.bindRepresentationToManipulator(null);for(var r=t.representations.length;r--;)e.bindRepresentationToManipulator(t.representations[r])&&(r=0)}},t.rangeManipulator=qy.newInstance({button:1,scrollEnabled:!0}),t.interactorStyle2D.addMouseManipulator(t.rangeManipulator),e.bindRepresentationToManipulator=function(n){var r=0;for(t.rangeManipulator.removeAllListeners(),t.sliceRepresentation=n;t.sliceRepresentationSubscriptions.length;)t.sliceRepresentationSubscriptions.pop().unsubscribe();if(n){if(t.sliceRepresentationSubscriptions.push(t.camera.onModified(e.updateWidthHeightAnnotation)),n.getWindowWidth){var o=function(){return i(n.getWindowWidth())},u=n.getPropertyDomainByName("windowWidth"),c=u.min,l=u.max,f=u.step;f&&"any"!==f||(f=1/512),t.rangeManipulator.setVerticalListener(c,l,f,n.getWindowWidth,i),t.sliceRepresentationSubscriptions.push(n.onModified(o)),o(),r++}if(n.getWindowLevel){var d=function(){return a(n.getWindowLevel())},p=n.getPropertyDomainByName("windowLevel"),h=p.min,m=p.max,g=p.step;g&&"any"!==g||(g=1/512),t.rangeManipulator.setHorizontalListener(h,m,g,n.getWindowLevel,a),t.sliceRepresentationSubscriptions.push(n.onModified(d)),d(),r++}var v=n.getPropertyDomainByName("slice");if(n.getSlice&&v){var y=function(){return s(n.getSlice())};t.rangeManipulator.setScrollListener(v.min,v.max,v.step,n.getSlice,s),t.sliceRepresentationSubscriptions.push(n.onModified(y)),y(),r++}}return r}}var gq={axis:2,orientation:-1,viewUp:[0,1,0],useParallelRendering:!0,sliceRepresentationSubscriptions:[]};function vq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,gq,n),pq.extend(e,t,n),fe.get(e,t,["axis"]),mq(e,t)}var yq=fe.newInstance(vq,"vtkView2DProxy"),bq={vtkAbstractRepresentationProxy:AH,vtkLookupTableProxy:DH,vtkPiecewiseFunctionProxy:jH,vtkProxyManager:QH,vtkSourceProxy:rq,vtkView2DProxy:{newInstance:yq,extend:vq},vtkViewProxy:pq},wq={representation:{"Surface with edges":{property:{edgeVisibility:!0,representation:2}},Surface:{property:{edgeVisibility:!1,representation:2}},Wireframe:{property:{edgeVisibility:!1,representation:1}},Points:{property:{edgeVisibility:!1,representation:0}}}},xq={representation:"Surface"};function Cq(e,t){t.classHierarchy.push("vtkGeometryRepresentationProxy"),t.mapper=Uv.newInstance({interpolateScalarsBeforeMapping:!0,useLookupTableScalarRange:!0,scalarVisibility:!1}),t.actor=dv.newInstance(),t.property=t.actor.getProperty(),t.sourceDependencies.push(t.mapper),t.actor.setMapper(t.mapper),t.actors.push(t.actor)}var Sq={representation:"Surface"};function Aq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sq,n),AH.extend(e,t,n),Cq(0,t),fe.proxyPropertyState(e,t,wq,xq),fe.proxyPropertyMapping(e,t,{opacity:{modelKey:"property",property:"opacity"},visibility:{modelKey:"actor",property:"visibility"},color:{modelKey:"property",property:"diffuseColor"},interpolateScalarsBeforeMapping:{modelKey:"mapper",property:"interpolateScalarsBeforeMapping"},pointSize:{modelKey:"property",property:"pointSize"},useShadow:{modelKey:"property",property:"lighting"},useBounds:{modelKey:"actor",property:"useBounds"}})}var _q={newInstance:fe.newInstance(Aq,"vtkGeometryRepresentationProxy"),extend:Aq};function Pq(e,t){t.classHierarchy.push("vtkGlyphRepresentationProxy"),t.property=av.newInstance(),t.sourceDependencies.push({setInputData:function(e){t.actors.length=0;var n=iT.newInstance();n.applyColorMap({RGBPoints:e.rgbPoints}),t.glyph={};for(var r=e.glyph.length;r--;){var o=e.glyph[r];t.glyph[o.id]=A(o)}for(r=e.mapping.length;r--;){var i=e.mapping[r],a=t.glyph[i.glyphId],s=Vc.newInstance();s.getPoints().setData(Float32Array.from(i.coordinates),3),i.scale&&s.getPointData().addArray(Fn.newInstance({name:"scaling",values:Float32Array.from(i.scale),numberOfComponents:3}));var u=GR.newInstance({useLookupTableScalarRange:!0,lookupTable:n,orient:!1,scaling:!!i.scale,scaleArray:"scaling",scaleMode:GR.ScaleModes.SCALE_BY_COMPONENTS}),c=dv.newInstance();t.property&&c.setProperty(t.property),c.setMapper(u),u.setInputData(s,0),u.setInputConnection(a.getOutputPort(),1),t.actors.push(c)}}}),e.setColorBy=function(){},e.getColorBy=function(){return[]},e.listDataArrays=function(){return[]}}var Oq={};function Eq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Oq,n),AH.extend(e,t,n),Pq(e,t),fe.proxyPropertyMapping(e,t,{edgeVisibility:{modelKey:"property",property:"edgeVisibility"}})}var Tq={newInstance:fe.newInstance(Eq,"vtkGlyphRepresentationProxy"),extend:Eq};function Dq(e,t){t.classHierarchy.push("vtkMoleculeRepresentationProxy"),t.filter=Gf.newInstance(),t.sphereMapper=EB.newInstance(),t.stickMapper=kB.newInstance(),t.sphereActor=dv.newInstance(),t.stickActor=dv.newInstance(),t.sourceDependencies.push(t.filter),t.sphereMapper.setInputConnection(t.filter.getOutputPort(0)),t.sphereMapper.setScaleArray(t.filter.getSphereScaleArrayName()),t.sphereActor.setMapper(t.sphereMapper),t.stickMapper.setInputConnection(t.filter.getOutputPort(1)),t.stickMapper.setScaleArray("stickScales"),t.stickMapper.setOrientationArray("orientation"),t.stickActor.setMapper(t.stickMapper),t.actors.push(t.sphereActor),t.actors.push(t.stickActor),e.setColorBy=function(){},e.getColorBy=function(){return[]},e.listDataArrays=function(){return[]}}var Iq={};function kq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Iq,n),AH.extend(e,t,n),Dq(e,t),fe.proxyPropertyMapping(e,t,{tolerance:{modelKey:"filter",property:"tolerance"},atomicRadiusScaleFactor:{modelKey:"filter",property:"atomicRadiusScaleFactor"},bondRadius:{modelKey:"filter",property:"bondRadius"},deltaBondFactor:{modelKey:"filter",property:"deltaBondFactor"},radiusType:{modelKey:"filter",property:"radiusType"},hideElements:{modelKey:"filter",property:"hideElements"}})}var Mq={newInstance:fe.newInstance(kq,"vtkMoleculeRepresentationProxy"),extend:kq};function Nq(e,t){t.classHierarchy.push("vtkSkyboxRepresentationProxy"),t.actor=AB.newInstance(),t.actors.push(t.actor),t.sourceDependencies.push({setInputData:function(n){t.actor.removeAllTextures(),t.actor.addTexture(n);var r=t.input.getAlgo().getPositions();e.updateProxyProperty("position",{values:r})}}),e.setColorBy=function(){},e.getColorBy=function(){return[]},e.listDataArrays=function(){return[]},e.setPosition=function(e){t.input.getAlgo().setPosition(e)},e.getPosition=function(){return t.input.getAlgo().getPosition()}}var Rq={};function Bq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Rq,n),AH.extend(e,t,n),Nq(e,t)}var Lq={newInstance:fe.newInstance(Bq,"vtkSkyboxRepresentationProxy"),extend:Bq};function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jq(e,t){return e+t}function Vq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(jq,0)/t.length}function Uq(e,t,n,r){var o,i,a,s,u=t.getRange(),c=e.getSpacing(),l=e.getBounds(),f=e.getExtent(),d=n.mapper.getSlicingMode(),p="IJKXYZ"[d];switch(d){case cA.SlicingMode.I:case cA.SlicingMode.J:case cA.SlicingMode.K:o=f[2*(s="IJK".indexOf(p))],i=f[2*s+1],a=1;break;case cA.SlicingMode.X:case cA.SlicingMode.Y:case cA.SlicingMode.Z:o=l[2*(s="XYZ".indexOf(p))],i=l[2*s+1],a=c[n.mapper.getClosestIJKAxis().ijkMode]}var h={slice:{domain:{min:o,max:i,step:a}},windowWidth:{domain:{min:0,max:u[1]-u[0],step:"any"}},windowLevel:{domain:{min:u[0],max:u[1],step:"any"}}};return r("slice",h.slice),r("windowWidth",h.windowWidth),r("windowLevel",h.windowLevel),{slice:Vq(h.slice.domain.min,h.slice.domain.max),windowWidth:h.windowWidth.domain.max,windowLevel:Math.floor(Vq(h.windowLevel.domain.min,h.windowLevel.domain.max))}}function zq(e,t){function n(n){t.mapper.setSlicingMode(cA.SlicingMode[n]);var r="".concat(n.toLowerCase(),"Slice");if(r in t&&void 0!==t[r]&&t.mapper.setSlice(t[r]),t.input){var o=Uq(e.getInputDataSet(),e.getDataArray(),t,e.updateProxyProperty);e.set(o)}e.modified()}t.classHierarchy.push("vtkSliceRepresentationProxy"),t.mapper=cA.newInstance(),t.actor=xA.newInstance(),t.property=t.actor.getProperty(),t.actor.setMapper(t.mapper),t.actors.push(t.actor),t.sourceDependencies.push(t.mapper),t.sourceDependencies.push({setInputData:function(n){var r=Uq(n,e.getDataArray(),t,e.updateProxyProperty);e.set(r);var o=n.getBounds(),i=n.getExtent();switch(t.mapper.getSlicingMode()){case cA.SlicingMode.I:e.setSlice(Math.floor(Vq(i[0],i[1])));break;case cA.SlicingMode.J:e.setSlice(Math.floor(Vq(i[2],i[3])));break;case cA.SlicingMode.K:e.setSlice(Math.floor(Vq(i[4],i[5])));break;case cA.SlicingMode.X:e.setSlice(Vq(o[0],o[1]));break;case cA.SlicingMode.Y:e.setSlice(Vq(o[2],o[3]));break;case cA.SlicingMode.Z:e.setSlice(Vq(o[4],o[5]))}}}),e.setSlicingMode=function(e){return!!e&&t.slicingMode!==e&&(t.slicingMode=e,n(e),!0)},e.getSliceIndex=function(){return-1!=="XYZ".indexOf(t.slicingMode)?t.mapper.getSliceAtPosition(t.mapper.getSlice()):t.mapper.getSlice()},e.getAnnotations=function(){var n={},r=e.getSliceIndex(),o=t.mapper.getBoundsForSlice(),i=t.mapper.getSlicingModeNormal(),a=t.mapper.getClosestIJKAxis().ijkMode,s=[.5*(o[0]+o[1]),.5*(o[2]+o[3]),.5*(o[4]+o[5])],u=0;o[1]-o[0]<Number.EPSILON&&(u=o[0]),o[3]-o[2]<Number.EPSILON&&(u=o[2]),o[5]-o[4]<Number.EPSILON&&(u=o[4]);var c=t.mapper.getInputData();if(c){n.sliceSpacing=c.getSpacing()[a],n.dimensions=c.getDimensions(),n.sliceCount=c.getDimensions()[a];for(var l=[],f=0;f<3;f++){var d=[0,0,0,0,0,0];d[2*f+1]=1;var h=c.extentToBounds(d);h[1]-h[0]>Number.EPSILON&&(l[0]="IJK"[f]),h[3]-h[2]>Number.EPSILON&&(l[1]="IJK"[f]),h[5]-h[4]>Number.EPSILON&&(l[2]="IJK"[f])}n.ijkOrientation=l.join("")}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fq(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ijkMode:a,sliceBounds:o,sliceIndex:r,sliceNormal:i,sliceOrigin:s,slicePosition:u},n)};var r=e.setColorBy;e.setColorBy=function(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(null===n)t.property.setRGBTransferFunction(null),t.property.setPiecewiseFunction(null);else{r(n,o,i);var a=e.getLookupTableProxy(n),s=e.getPiecewiseFunctionProxy(n);t.property.setRGBTransferFunction(a.getLookupTable()),t.property.setPiecewiseFunction(s.getPiecewiseFunction())}},n(t.slicingMode||"X")}var Gq={};function Wq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Gq,n),AH.extend(e,t,n),fe.get(e,t,["slicingMode"]),zq(e,t),fe.proxyPropertyMapping(e,t,{visibility:{modelKey:"actor",property:"visibility"},windowWidth:{modelKey:"property",property:"colorWindow"},windowLevel:{modelKey:"property",property:"colorLevel"},interpolationType:{modelKey:"property",property:"interpolationType"},slice:{modelKey:"mapper",property:"slice"}})}var Hq={newInstance:fe.newInstance(Wq,"vtkSliceRepresentationProxy"),extend:Wq};function qq(e,t){t.classHierarchy.push("vtkSlicedGeometryRepresentationProxy"),t.plane=dr.newInstance(),t.cutter=Tl.newInstance(),t.cutter.setCutFunction(t.plane),t.mapper=Uv.newInstance(),t.actor=dv.newInstance(),t.property=t.actor.getProperty(),t.property.setLighting(!1),t.mapper.setInputConnection(t.cutter.getOutputPort()),t.actor.setMapper(t.mapper),t.actors.push(t.actor),t.sourceDependencies.push(t.cutter),e.setSlice=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t.slice!==n;t.slice=n;var o=t.plane.getNormal();return!(!t.plane.setOrigin(o[0]*n,o[1]*n,o[2]*n)&&!r||(e.modified(),0))},e.setOffset=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t.offset!==n;t.offset=n;var o=t.plane.getNormal();return!(!t.actor.setPosition(n*o[0],n*o[1],n*o[2])&&!r||(e.modified(),0))},e.setSlicingMode=function(n){if(t.slicingMode!==n&&n){switch(t.slicingMode=n,cA.SlicingMode[n]){case cA.SlicingMode.X:t.plane.setNormal(1,0,0);break;case cA.SlicingMode.Y:t.plane.setNormal(0,1,0);break;case cA.SlicingMode.Z:t.plane.setNormal(0,0,1);break;default:return}var r=e.setSlice(t.slice);(r=e.setOffset(t.offset)||r)||e.modified()}else console.log("skip setSlicingMode",n)}}var Kq={slicingMode:cA.SlicingMode.NONE,slice:0,offset:0};function Xq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Kq,n),AH.extend(e,t,n),fe.get(e,t,["slicingMode","slice","offset"]),qq(e,t),fe.proxyPropertyState(e,t),fe.proxyPropertyMapping(e,t,{opacity:{modelKey:"property",property:"opacity"},visibility:{modelKey:"actor",property:"visibility"},color:{modelKey:"property",property:"diffuseColor"},useShadow:{modelKey:"property",property:"lighting"},useBounds:{modelKey:"actor",property:"useBounds"}})}var Yq=fe.newInstance(Xq,"vtkSlicedGeometryRepresentationProxy");function Zq(e,t){return e+t}function Jq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Zq,0)/t.length}function $q(e,t,n){n.mapper;var r=n.property;r.setInterpolationTypeToLinear();for(var o=t.getNumberOfComponents(),i=Xr.getDiagonalLength(e.getBounds())/Math.max.apply(Math,y(e.getDimensions())),a=0;a<o;a++){r.setScalarOpacityUnitDistance(a,i);var s=t.getRange(a);r.setGradientOpacityMinimumValue(a,0),r.setGradientOpacityMaximumValue(a,.05*(s[1]-s[0])),r.setShade(!0),r.setUseGradientOpacity(a,!0),r.setGradientOpacityMinimumOpacity(a,0),r.setGradientOpacityMaximumOpacity(a,1)}r.setAmbient(.2),r.setDiffuse(.7),r.setSpecular(.3),r.setSpecularPower(8)}function Qq(e,t){t.classHierarchy.push("vtkVolumeRepresentationProxy"),t.mapper=KT.newInstance(),t.volume=xT.newInstance(),t.property=t.volume.getProperty(),t.cropFilter=Ql.newInstance(),t.mapper.setInputConnection(t.cropFilter.getOutputPort()),t.sourceDependencies.push(t.cropFilter),t.mapperX=cA.newInstance({slicingMode:cA.SlicingMode.X}),t.actorX=xA.newInstance({visibility:!1}),t.propertySlices=t.actorX.getProperty(),t.mapperY=cA.newInstance({slicingMode:cA.SlicingMode.Y}),t.actorY=xA.newInstance({visibility:!1,property:t.propertySlices}),t.mapperZ=cA.newInstance({slicingMode:cA.SlicingMode.Z}),t.actorZ=xA.newInstance({visibility:!1,property:t.propertySlices}),t.mapperX.setInputConnection(t.cropFilter.getOutputPort()),t.mapperY.setInputConnection(t.cropFilter.getOutputPort()),t.mapperZ.setInputConnection(t.cropFilter.getOutputPort()),t.volume.setMapper(t.mapper),t.volumes.push(t.volume),t.actorX.setMapper(t.mapperX),t.actors.push(t.actorX),t.actorY.setMapper(t.mapperY),t.actors.push(t.actorY),t.actorZ.setMapper(t.mapperZ),t.actors.push(t.actorZ),t.sourceDependencies.push({setInputData:function(n){var r=g(e.getColorBy(),2),o=r[0],i=r[1];e.rescaleTransferFunctionToDataRange(o,i);var a=e.getLookupTableProxy(o),s=e.getPiecewiseFunctionProxy(o);t.property.setRGBTransferFunction(0,a.getLookupTable()),t.property.setScalarOpacity(0,s.getPiecewiseFunction()),$q(n,e.getDataArray(),t),(t.sampleDistance<0||t.sampleDistance>1)&&e.setSampleDistance(),(t.edgeGradient<0||t.edgeGradient>1)&&e.setEdgeGradient();var u=function(e,t,n,r){var o=t.getRange(),i=e.getSpacing(),a=e.getBounds(),s=n.mapperX.getClosestIJKAxis().ijkMode,u=n.mapperY.getClosestIJKAxis().ijkMode,c=n.mapperZ.getClosestIJKAxis().ijkMode,l={xSlice:{domain:{min:a[0],max:a[1],step:i[s]}},ySlice:{domain:{min:a[2],max:a[3],step:i[u]}},zSlice:{domain:{min:a[4],max:a[5],step:i[c]}},windowWidth:{domain:{min:0,max:o[1]-o[0],step:"any"}},windowLevel:{domain:{min:o[0],max:o[1],step:"any"}}};return r("xSlice",l.xSlice),r("ySlice",l.ySlice),r("zSlice",l.zSlice),r("windowWidth",l.windowWidth),r("windowLevel",l.windowLevel),{xSlice:Jq(l.xSlice.domain.min,l.xSlice.domain.max),ySlice:Jq(l.ySlice.domain.min,l.ySlice.domain.max),zSlice:Jq(l.zSlice.domain.min,l.zSlice.domain.max),windowWidth:l.windowWidth.domain.max,windowLevel:Math.floor(Jq(l.windowLevel.domain.min,l.windowLevel.domain.max))}}(n,e.getDataArray(),t,e.updateProxyProperty);e.set(u),2===n.getDimensions().reduce((function(e,t){return e+(t>1?1:0)}),0)&&e.setIs2DVolume(!0)}}),e.setIs2DVolume=function(n){t.is2DVolume=n,n&&(e.getVisibility()&&e.setSliceVisibility(!0),t.volume.setVisibility(!1))},e.isVisible=function(){return t.volume.getVisibility()},e.setVisibility=function(n){n?t.is2DVolume?e.setSliceVisibility(!0):t.volume.setVisibility(!0):(t.volume.setVisibility(!1),e.setSliceVisibility(!1))},e.getVisibility=function(){return t.volume.getVisibility()||e.getSliceVisibility()},e.isVisible=e.getVisibility,e.setSliceVisibility=function(n){if(n&&t.is2DVolume){var r=e.getInputDataSet().getDimensions().indexOf(1);t.actors[r]&&t.actors[r].setVisibility(!0)}else t.actors.forEach((function(e){return e.setVisibility(n)}))},e.getSliceVisibility=function(){return t.actorX.getVisibility()||t.actorY.getVisibility()||t.actorZ.getVisibility()},e.setSampleDistance=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4;if(t.sampleDistance!==n){t.sampleDistance=n;var r=e.getInputDataSet(),o=.7*Math.sqrt(r.getSpacing().map((function(e){return e*e})).reduce((function(e,t){return e+t}),0));t.mapper.setSampleDistance(o*Math.pow(2,3*n-1.5)),e.modified()}},e.setEdgeGradient=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;if(t.edgeGradient!==n){t.edgeGradient=n;var r=e.getDataArray(),o=r.getNumberOfComponents();if(0===n)for(var i=0;i<o;i++)t.volume.getProperty().setUseGradientOpacity(i,!1);else for(var a=0;a<o;a++){var s=r.getRange(a);t.volume.getProperty().setUseGradientOpacity(a,!0);var u=Math.max(0,n-.3)/.7;u>0?t.volume.getProperty().setGradientOpacityMinimumValue(a,Math.exp(Math.log(.2*(s[1]-s[0]))*u*u)):t.volume.getProperty().setGradientOpacityMinimumValue(a,0),t.volume.getProperty().setGradientOpacityMaximumValue(a,Math.exp(Math.log(1*(s[1]-s[0]))*n*n))}e.modified()}};var n=e.setColorBy;e.setColorBy=function(r,o){n(r,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1);var i=e.getLookupTableProxy(r),a=e.getPiecewiseFunctionProxy(r);t.property.setRGBTransferFunction(0,i.getLookupTable()),t.property.setScalarOpacity(0,a.getPiecewiseFunction())}}var eK={sampleDistance:-1,edgeGradient:-1,disableSolidColor:!0,is2DVolume:!1};function tK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,eK,n),AH.extend(e,t,n),fe.get(e,t,["sampleDistance","edgeGradient","cropFilter","is2DVolume"]),Qq(e,t),fe.proxyPropertyMapping(e,t,{xSlice:{modelKey:"mapperX",property:"slice"},ySlice:{modelKey:"mapperY",property:"slice"},zSlice:{modelKey:"mapperZ",property:"slice"},volumeVisibility:{modelKey:"volume",property:"visibility"},xSliceVisibility:{modelKey:"actorX",property:"visibility"},ySliceVisibility:{modelKey:"actorY",property:"visibility"},zSliceVisibility:{modelKey:"actorZ",property:"visibility"},windowWidth:{modelKey:"propertySlices",property:"colorWindow"},windowLevel:{modelKey:"propertySlices",property:"colorLevel"},useShadow:{modelKey:"property",property:"shade"},croppingPlanes:{modelKey:"cropFilter",property:"croppingPlanes"}})}var nK={Core:bq,Representations:{vtkGeometryRepresentationProxy:_q,vtkGlyphRepresentationProxy:Tq,vtkMoleculeRepresentationProxy:Mq,vtkSkyboxRepresentationProxy:Lq,vtkSliceRepresentationProxy:Hq,vtkSlicedGeometryRepresentationProxy:{newInstance:Yq,extend:Xq},vtkVolumeRepresentationProxy:{newInstance:fe.newInstance(tK,"vtkVolumeRepresentationProxy"),extend:tK,updateConfiguration:$q}}},rK={JSZip:xE(),pako:rE};function oK(e,t){t.classHierarchy.push("vtkAbstractWidget"),t.actorToRepresentationMap=new WeakMap,e.getBounds=t.widgetState.getBounds,e.getNestedProps=function(){return t.representations},e.activateHandle=function(n){var r=n.selectedState,o=n.representation;t.widgetState.activateOnly(r),t.activeState=r,r&&r.updateManipulator&&r.updateManipulator(),e.invokeActivateHandle({selectedState:r,representation:o}),e.updateCursor&&e.updateCursor()},e.deactivateAllHandles=function(){t.widgetState.deactivate()},e.hasActor=function(e){return t.actorToRepresentationMap.has(e)},e.grabFocus=function(){t.hasFocus=!0},e.loseFocus=function(){t.hasFocus=!1},e.hasFocus=function(){return t.hasFocus},e.placeWidget=function(e){return t.widgetState.placeWidget(e)},e.getPlaceFactor=function(){return t.widgetState.getPlaceFactor()},e.setPlaceFactor=function(e){return t.widgetState.setPlaceFactor(e)},e.getRepresentationFromActor=function(e){return t.actorToRepresentationMap.get(e)},e.updateRepresentationForRender=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SA.FRONT_BUFFER,n=0;n<t.representations.length;n++)t.representations[n].updateActorVisibility(e,t.visibility,t.contextVisibility,t.handleVisibility)},e.getViewWidgets=function(){return t.factory.getViewIds().map((function(e){return t.factory.getWidgetForView({viewId:e})}))},e.setPriority(.5)}var iK={contextVisibility:!0,handleVisibility:!0,hasFocus:!1};function aK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iK,n),Hg.extend(e,t,n),Gm.extend(e,t,n),fe.setGet(e,t,["contextVisibility","handleVisibility","widgetManager"]),fe.get(e,t,["representations","widgetState"]),fe.event(e,t,"ActivateHandle"),oK(e,t)}var sK={newInstance:fe.newInstance(aK,"vtkAbstractWidget"),extend:aK},uK=0,cK=1,lK=fe.vtkErrorMacro,fK=fe.vtkWarningMacro,dK=["active","inactive","static"];function pK(e,t){t.classHierarchy.push("vtkWidgetRepresentation");var n={mtimes:{},states:[]};function r(e,t){e&&e.setResolveCoincidentTopologyToPolygonOffset&&(e.setResolveCoincidentTopologyToPolygonOffset(),_v.forEach((function(n){if(t[n]){var r="setRelativeCoincidentTopology".concat(n,"OffsetParameters");if(e[r]){var o=t[n],i=o.factor,a=o.offset;e[r](i,a)}}})))}e.getActors=function(){return t.actors},e.getNestedProps=e.getActors,e.setLabels=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];1===r.length?t.labels=[].concat(r[0]):t.labels=r,e.modified()},e.getRepresentationStates=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.inputData[0];return n.mtimes.representation===e.getMTime()&&n.mtimes.input===r.getMTime()||(n.mtimes.representation=e.getMTime(),n.mtimes.input=r.getMTime(),n.states=[],t.labels.forEach((function(e){n.states=n.states.concat(r.getStatesWithLabel(e)||[])}))),n.states},e.getSelectedState=function(t,n){var r=e.getRepresentationStates();return n<r.length?r[n]:(lK("Representation ".concat(e.getClassName()," should implement getSelectedState(prop, compositeID) method.")),null)},e.updateActorVisibility=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SA.FRONT_BUFFER,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!0;switch(t.behavior){case uK:i=e===SA.PICKING_BUFFER||o;break;case cK:i=e===SA.FRONT_BUFFER&&r;break;default:i=!0}for(var a=n&&i,s=0;s<t.actors.length;s++)t.visibilityFlagArray?t.actors[s].setVisibility(a&&t.visibilityFlagArray[s]):t.actors[s].setVisibility(a);if(t.alwaysVisibleActors)for(var u=0;u<t.alwaysVisibleActors.length;u++)t.alwaysVisibleActors[u].setVisibility(!0)},t.actors.push=function(){fK("You should use publicAPI.addActor() to initialize the actor properly");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e.addActor(t)}))},e.addActor=function(e){r(e.getMapper(),t.coincidentTopologyParameters),Array.prototype.push.apply(t.actors,[e])},e.setCoincidentTopologyParameters=function(n){t.coincidentTopologyParameters=n,e.getActors().forEach((function(e){r(e.getMapper(),t.coincidentTopologyParameters)}))},e.getPixelWorldHeightAtCoord=function(e){var n=t.displayScaleParams,r=n.dispHeightFactor,o=n.cameraPosition,i=n.cameraDir,a=n.isParallel,s=n.rendererPixelDims,u=1;if(a)u=r;else{var c=y(e);Ke(c,o,c),u=$e(c,i)*r}return u/s[1]},e.setLabels(t.labels)}var hK={actors:[],labels:[],behavior:cK,coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1,offset:-1},Polygon:{factor:-1,offset:-1}},scaleInPixels:!1,displayScaleParams:{dispHeightFactor:1,cameraPosition:[0,0,0],cameraDir:[1,0,0],isParallel:!1,rendererPixelDims:[1,1]}},mK={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hK,n),Hg.extend(e,t,n),fe.algo(e,t,1,1),fe.get(e,t,["labels","coincidentTopologyParameters"]),fe.set(e,t,["displayScaleParams"]),fe.setGet(e,t,["scaleInPixels"]),pK(e,t)},mergeStyles:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o={active:{},inactive:{},static:{}};return dK.forEach((function(t){var r=o[t];e.forEach((function(e){r[e]||(r[e]={}),n.filter((function(n){return n&&n[t]&&n[t][e]})).forEach((function(n){return Object.assign(r[e],n[t][e])}))}))})),o},applyStyles:function(e,t,n){n?Object.keys(e).forEach((function(r){var o=e[r].actor===n?t.active[r]:t.inactive[r];o&&e[r].actor.getProperty().set(o)})):(Object.keys(t.static).forEach((function(n){e[n]&&e[n].actor.getProperty().set(t.static[n])})),Object.keys(t.inactive).forEach((function(n){e[n]&&e[n].actor.getProperty().set(t.inactive[n])})))},connectPipeline:function(e){e.source.isA("vtkDataSet")?e.mapper.setInputData(e.source):e.mapper.setInputConnection(e.source.getOutputPort()),e.glyph&&e.mapper.setInputConnection(e.glyph.getOutputPort(),1),e.actor.setMapper(e.mapper)}};function gK(e){return{name:e,attrs:{},eventListeners:{},textContent:null,children:[],setAttribute:function(e,t){this.attrs[e]=t},removeAttribute:function(e){delete this.attrs[e]},appendChild:function(e){this.children.push(e)},addEventListeners:function(e,t){this.eventListeners[e]=t}}}function vK(e,t){t.classHierarchy.push("vtkSVGRepresentation");var n=null;t.psActor=dv.newInstance({pickable:!1}),t.psMapper=Zw.newInstance(),t.points=Vc.newInstance(),t.psMapper.setInputData(t.points),t.psActor.setMapper(t.psMapper),t.psMapper.setCallback((function(){if(n){var e=n;n=null,e.resolve({coords:arguments.length<=0?void 0:arguments[0],camera:arguments.length<=1?void 0:arguments[1],aspect:arguments.length<=2?void 0:arguments[2],depthValues:arguments.length<=3?void 0:arguments[3],windowSize:arguments.length<=4?void 0:arguments[4]})}})),e.addActor(t.psActor),e.worldPointsToPixelSpace=function(e){for(var r,o,i=new Float32Array(3*e.length),a=0;a<e.length;a++)i[3*a+0]=e[a][0],i[3*a+1]=e[a][1],i[3*a+2]=e[a][2];return t.points.getPoints().setData(i),t.points.modified(),(n={promise:new Promise((function(e,t){r=e,o=t})),resolve:r,reject:o}).promise},e.createListenableSvgElement=function(n,r){var o=gK(n);return t.pickable&&(o.addEventListeners("mouseenter",(function(){e.setHover(r)})),o.addEventListeners("mouseleave",(function(){e.getHover()===r&&e.setHover(null)}))),o},e.updateActorVisibility=function(){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.behavior===cK?e.setVisibility(n&&r):t.behavior===uK&&e.setVisibility(n&&o)},e.render=function(){throw new Error("Not implemented")}}var yK={visibility:!0},bK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yK,n),mK.extend(e,t,n),fe.setGet(e,t,["visibility","hover"]),vK(e,t)},wK=gK,xK=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)};function CK(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e.name),n=Object.keys(e.attrs),r=0;r<n.length;r++){var o=n[r];t.setAttribute(o,e.attrs[o])}if(Object.keys(e.eventListeners).forEach((function(n){t.addEventListener(n,e.eventListeners[n])})),e.textContent)t.textContent=e.textContent;else for(var i=0;i<e.children.length;i++)t.appendChild(CK(e.children[i]));return t}function SK(e,t){if(null!==t.textContent&&t.children.length)throw new Error("Tree cannot have both children and textContent!");if(!e)return[function(){return CK(t)}];if(!t)return[function(e){return e.remove()}];if(e.name!==t.name)return[function(e){var n=CK(t);return e.replaceWith(n),n}];var n=[],r=g(function(e,t){for(var n=[],r=[],o=Object.keys(e),i=Object.keys(t),a=new Set(o),s=new Set(i),u=0;u<o.length;u++){var c=o[u];s.has(c)?e[c]!==t[c]&&n.push([c,t[c]]):r.push(c)}for(var l=0;l<i.length;l++){var f=i[l];a.has(f)||n.push([f,t[f]])}return[n,r]}(e.attrs,t.attrs),2),o=r[0],i=r[1];if((o.length||i.length)&&n.push((function(e){for(var t=0;t<o.length;t++){var n=g(o[t],2),r=n[0],a=n[1];e.setAttribute(r,a)}for(var s=0;s<i.length;s++){var u=i[s];e.removeAttribute(u)}return e})),e.textContent!==t.textContent&&null!==t.textContent&&n.push((function(e){return e.textContent=t.textContent,e})),null===t.textContent){for(var a=Math.min(e.children.length,t.children.length),s=function(r){var o=SK(e.children[r],t.children[r]);n.push((function(e){for(var t=0;t<o.length;t++)o[t](e.children[r]);return e}))},u=0;u<a;u++)s(u);if(e.children.length<t.children.length)for(var c=function(e){n.push((function(n){return n.appendChild(CK(t.children[e])),n}))},l=a;l<t.children.length;l++)c(l);else for(var f=function(e){n.push((function(t){return t.children[e].remove(),t}))},d=e.children.length-1;d>=a;d--)f(d)}return n}var AK=AA.ViewTypes,_K=AA.RenderingTypes,PK=AA.CaptureOn,OK=fe.vtkErrorMacro,EK=wK,TK=xK,DK=1;function IK(e){var t=e.getActiveCamera(),n=e.getRenderWindow(),r=n.getInteractor(),o=r.getView();return{renderer:e,renderWindow:n,interactor:r,apiSpecificRenderWindow:o,camera:t}}function kK(e,t){t.viewId||(t.viewId="view-".concat(DK++)),t.classHierarchy.push("vtkWidgetManager");var n,r=new WeakMap,o=new WeakMap,i=new WeakMap,a=[];function s(e){return e&&(e.isA("vtkAbstractWidget")?e:e.getWidgetForView({viewId:t.viewId}))}t.svgRoot=(t.viewId,(n=TK("svg")).setAttribute("style","position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),n.setAttribute("version","1.1"),n.setAttribute("baseProfile","full"),n);var u=new WeakMap;function c(){var e=t.apiSpecificRenderWindow.getReferenceByName("el"),n=t.apiSpecificRenderWindow.getCanvas();e.insertBefore(t.svgRoot,n.nextSibling),"static"===window.getComputedStyle(e).position&&(e.style.position="relative")}function l(){var e=g(t.apiSpecificRenderWindow.getSize(),2),n=e[0],r=e[1],o=window.devicePixelRatio||1,i=String(n/o),a=String(r/o),s="0 0 ".concat(n," ").concat(r),u=t.svgRoot.getAttribute("width"),c=t.svgRoot.getAttribute("height"),l=t.svgRoot.getAttribute("viewBox");u!==i&&t.svgRoot.setAttribute("width",i),c!==a&&t.svgRoot.setAttribute("height",a),l!==s&&t.svgRoot.setAttribute("viewBox",s)}function f(){if(t.useSvgLayer)for(var e=function(e){var n=t.widgets[e],r=n.getRepresentations().filter((function(e){return e.isA("vtkSVGRepresentation")})),a=[];n.getVisibility()&&(a=r.filter((function(e){return e.getVisibility()})).map((function(e){return e.render()})));var s=Promise.all(a),c=u.get(n)||[];c.push(s),u.set(n,c),s.then((function(e){var r=u.get(n)||[],a=r.indexOf(s);if(!t.deleted&&!n.isDeleted()&&-1!==a){r=r.slice(a+1),u.set(n,r);for(var c=i.get(n),l=EK("g"),f=0;f<e.length;f++)l.appendChild(e[f]);for(var d=o.get(n),p=d,h=SK(c,l),m=0;m<h.length;m++)p=h[m](p);!d&&p?(t.svgRoot.appendChild(p),o.set(n,p)):d&&!p&&(d.remove(),o.delete(n)),i.set(n,l)}}))},n=0;n<t.widgets.length;n++)e(n)}function d(){var e=t.apiSpecificRenderWindow,n=t.camera,r=t.renderer;if(r&&e&&n){var o=g(e.getSize(),2),i=o[0],a=o[1],s=g(r.getViewport(),4),u=s[0],c=s[1],l=[i*(s[2]-u),a*(s[3]-c)],f=n.getPosition(),d=n.getDirectionOfProjection(),p=n.getParallelProjection(),h=p?n.getParallelScale():2*Math.tan(_e(n.getViewAngle())/2);t.widgets.forEach((function(e){e.getNestedProps().forEach((function(e){e.getScaleInPixels()&&e.setDisplayScaleParams({dispHeightFactor:h,cameraPosition:f,cameraDir:d,isParallel:p,rendererPixelDims:l})}))}))}}function p(e){e.updateRepresentationForRender(t.renderingType)}function h(){t.renderingType=_K.FRONT_BUFFER,t.widgets.forEach(p)}function m(e,n,r,o){return t.renderingType=_K.PICKING_BUFFER,t.widgets.forEach(p),t.selector.setArea(e,n,r,o),t.selector.releasePixBuffers(),t.previousSelectedData=null,t.selector.captureBuffers()}function v(e){t.renderer.removeActor(e),function(e){var n=o.get(e);n&&(o.delete(e),i.delete(e),t.svgRoot.removeChild(n))}(e),e.delete()}function y(){t.renderer.getRenderWindow().getInteractor().render(),e.renderWidgets()}e.enablePicking=function(){t.pickingEnabled=!0,t.pickingAvailable=!0,e.renderWidgets()},e.renderWidgets=function(){if(t.pickingEnabled&&t.captureOn===PK.MOUSE_RELEASE){var n=g(t.apiSpecificRenderWindow.getSize(),2),r=n[0],o=n[1];t.pickingAvailable=m(0,0,r,o)}h(),e.modified()},e.disablePicking=function(){t.pickingEnabled=!1,t.pickingAvailable=!1},e.setRenderer=function(n){for(Object.assign(t,IK(n));a.length;)a.pop().unsubscribe();t.selector=t.apiSpecificRenderWindow.getSelector(),t.selector.setFieldAssociation(fo.FIELD_ASSOCIATION_POINTS),t.selector.attach(t.apiSpecificRenderWindow,t.renderer),a.push(t.interactor.onRenderEvent(f)),a.push(t.apiSpecificRenderWindow.onModified(l)),l(),a.push(t.apiSpecificRenderWindow.onModified(d)),a.push(t.camera.onModified(d)),d(),a.push(t.interactor.onStartAnimation((function(){t.isAnimating=!0}))),a.push(t.interactor.onEndAnimation((function(){t.isAnimating=!1,e.renderWidgets()}))),a.push(t.interactor.onMouseMove((function(n){var r=n.position;if(!t.isAnimating&&t.pickingAvailable){e.updateSelectionFromXY(r.x,r.y);var o=e.getSelectedData(),i=o.requestCount,a=o.selectedState,s=o.representation,u=o.widget;if(!i)if(t.apiSpecificRenderWindow.setCursor(u?"pointer":"default"),t.widgetInFocus===u&&u.hasFocus())u.activateHandle({selectedState:a,representation:s}),t.interactor.render(),t.interactor.render();else{for(var c=0;c<t.widgets.length;c++){var l=t.widgets[c];l===u&&l.getPickable()?(l.activateHandle({selectedState:a,representation:s}),t.activeWidget=l):l.deactivateAllHandles()}t.interactor.render(),t.interactor.render()}}}))),e.modified(),t.pickingEnabled&&e.enablePicking(),t.useSvgLayer&&c()},e.addWidget=function(n,o,i){if(!t.renderer)return OK("Widget manager MUST BE link to a view before registering widgets"),null;var a,s=t.viewId,u=t.renderer,c=n.getWidgetForView({viewId:s,renderer:u,viewType:o||AK.DEFAULT,initialValues:i});return-1===t.widgets.indexOf(c)&&(t.widgets.push(c),(a=c).setWidgetManager(e),function(e){for(var t=e.getRepresentations(),n=0;n<t.length;n++)for(var o=t[n],i={widget:e,representation:o},a=o.getActors(),s=0;s<a.length;s++){var u=a[s];r.set(u,i)}}(a),d(),t.renderer.addActor(a),e.modified()),c},e.removeWidgets=function(){t.widgets.forEach(v),t.widgets=[],t.widgetInFocus=null,y()},e.removeWidget=function(n){var r=s(n),o=t.widgets.indexOf(r);-1!==o&&(t.widgets.splice(o,1),t.widgetInFocus===r&&e.releaseFocus(),v(r),y())},e.updateSelectionFromXY=function(e,n){if(t.pickingEnabled){for(var r=0;r<t.widgets.length;++r){var o=t.widgets[r],i=o.getRepresentations().filter((function(e){return e.isA("vtkSVGRepresentation")&&null!=e.getHover()}));if(i.length){var a=Hc.newInstance();return a.getProperties().compositeID=i[0].getHover(),a.getProperties().widget=o,a.getProperties().representation=i[0],void(t.selections=[a])}}var s=t.pickingAvailable;t.captureOn===PK.MOUSE_MOVE&&(s=m(e,n,e,n),h()),s&&(t.selections=t.selector.generateSelection(e,n,e,n))}},e.updateSelectionFromMouseEvent=function(n){var r=n.pageX,o=n.pageY,i=t.apiSpecificRenderWindow.getCanvas().getBoundingClientRect(),a=i.top,s=r-i.left,u=i.height-(o-a);e.updateSelectionFromXY(s,u)},e.getSelectedData=function(){if(!t.selections||!t.selections.length)return t.previousSelectedData=null,{};var e=t.selections[0].getProperties(),n=e.propID,o=e.compositeID,i=e.prop,a=t.selections[0].getProperties(),s=a.widget,u=a.representation;if(t.previousSelectedData&&t.previousSelectedData.prop===i&&t.previousSelectedData.widget===s&&t.previousSelectedData.compositeID===o)return t.previousSelectedData.requestCount++,t.previousSelectedData;if(r.has(i)){var c=r.get(i);s=c.widget,u=c.representation}if(s&&u){var l=u.getSelectedState(i,o);return t.previousSelectedData={requestCount:0,propID:n,compositeID:o,prop:i,widget:s,representation:u,selectedState:l},t.previousSelectedData}return t.previousSelectedData=null,{}},e.grabFocus=function(e){var n=s(e);t.widgetInFocus&&t.widgetInFocus!==n&&t.widgetInFocus.loseFocus(),t.widgetInFocus=n,t.widgetInFocus&&t.widgetInFocus.grabFocus()},e.releaseFocus=function(){return e.grabFocus(null)},e.setUseSvgLayer=function(e){return e!==t.useSvgLayer&&(t.useSvgLayer=e,t.renderer&&(e?(c(),f()):t.apiSpecificRenderWindow.getReferenceByName("el").removeChild(t.svgRoot)),!0)};var b=e.delete;e.delete=function(){for(;a.length;)a.pop().unsubscribe();b()}}var MK={viewId:null,widgets:[],renderer:null,viewType:AK.DEFAULT,pickingAvailable:!1,isAnimating:!1,pickingEnabled:!0,selections:null,previousSelectedData:null,widgetInFocus:null,useSvgLayer:!0,captureOn:PK.MOUSE_MOVE};function NK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MK,n),fe.obj(e,t),fe.setGet(e,t,["captureOn",{type:"enum",name:"viewType",enum:AK}]),fe.get(e,t,["selections","widgets","viewId","pickingEnabled","useSvgLayer"]),kK(e,t)}var RK={newInstance:fe.newInstance(NK,"vtkWidgetManager"),extend:NK,Constants:AA};function BK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BK(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FK(){}function jK(e,t){fe.obj(e,t),fe.get(e,t,["widgetState"]),fe.event(e,t,"WidgetChange"),function(e,t){t.classHierarchy.push("vtkAbstractWidgetFactory");var n={};e.getWidgetForView=function(r){var o=r.viewId,i=r.renderer,a=r.viewType,s=r.initialValues;if(!n[o]){if(!i)return null;var u=IK(i),c=u.interactor,l=u.apiSpecificRenderWindow,f=u.camera,d={},h={onWidgetChange:e.onWidgetChange};Object.assign(d,t,{viewType:a,renderer:i,camera:f,apiSpecificRenderWindow:l,factory:e}),fe.safeArrays(d),sK.extend(h,d,s);var m=s;d.representations=e.getRepresentationsForViewType(a).map((function(e){var t=e.builder,n=e.labels,r=e.initialValues;return t.newInstance(LK(LK({labels:n},r),m))})),d.representations.forEach((function(e){e.setInputData(d.widgetState),e.getActors().forEach((function(t){d.actorToRepresentationMap.set(t,e)}))})),t.behavior(h,d),["coincidentTopologyParameters"].concat(y(t.methodsToLink||[])).forEach((function(e){var t,n="set".concat(fe.capitalize(e)),r="get".concat(fe.capitalize(e)),o=(p(t={},e,[]),p(t,n,[]),p(t,r,[]),t);d.representations.forEach((function(t){t[e]&&o[e].push(t[e]),t[n]&&o[n].push(t[n]),t[r]&&o[r].push(t[r])})),Object.keys(o).forEach((function(e){var t=o[e];1===t.length?h[e]=t[0]:t.length>1&&(h[e]=fe.chain.apply(fe,y(t)))}))})),h.delete=fe.chain((function(){delete n[o]}),h.delete),h.setInteractor(c);var g=Object.freeze(h);return n[o]=g,g}return n[o]},e.getViewIds=function(){return Object.keys(n)},e.setVisibility=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)n[t[r]].setVisibility(e)},e.setPickable=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)n[t[r]].setPickable(e)},e.setDragable=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)n[t[r]].setDragable(e)},e.setContextVisibility=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)n[t[r]].setContextVisibility(e)},e.setHandleVisibility=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)n[t[r]].setHandleVisibility(e)},e.placeWidget=function(e){return t.widgetState.placeWidget(e)},e.getPlaceFactor=function(){return t.widgetState.getPlaceFactor()},e.setPlaceFactor=function(e){return t.widgetState.setPlaceFactor(e)};var r=FK;e.delete=fe.chain(e.delete,(function(){return r()})),setTimeout((function(){r=t.widgetState.onModified((function(){return e.invokeWidgetChange(t.widgetState)})).unsubscribe}),0)}(e,t)}var VK={newInstance:fe.newInstance(jK,"vtkAbstractWidget"),extend:jK},UK="default";function zK(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function GK(e,t){t.classHierarchy.push("vtkWidgetState");var n=[];t.labels={},t.nestedStates=[],e.bindState=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[UK];if(t.nestedStates.push(r),n.push(r.onModified(e.modified)),Array.isArray(o)&&o.length)for(var i=0;i<o.length;i++){var a=o[i];t.labels[a]||(t.labels[a]=[]),t.labels[a].push(r)}else{var s=Array.isArray(o)?UK:o||UK;t.labels[s]||(t.labels[s]=[]),t.labels[s].push(r)}},e.unbindState=function(r){for(;n.length;)n.pop().unsubscribe();zK(t.nestedStates,r);for(var o=0;o<t.nestedStates.length;o++)n.push(t.nestedStates[o].onModified(e.modified));Object.keys(t.labels).forEach((function(e){zK(t.labels[e],r)}))},e.unbindAll=function(){for(;n.length;)n.pop().unsubscribe();t.nestedStates=[]},e.activate=function(){return e.setActive(!0)},e.deactivate=function(n){n!==e&&e.setActive(!1);for(var r=0;r<t.nestedStates.length;r++)t.nestedStates[r].deactivate(n)},e.activateOnly=function(t){t&&t.setActive(!0),e.deactivate(t)},e.getStatesWithLabel=function(e){return t.labels[e]},e.getAllNestedStates=function(){return t.nestedStates},e.delete=fe.chain(e.unbindAll,e.delete)}var WK={active:!1},HK={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,WK,n),fe.obj(e,t),fe.setGet(e,t,["active"]),GK(e,t)}};function qK(e,t){var n=[],r=y(Xr.INIT_BOUNDS);e.containsPoint=function(e,t,n){return Array.isArray(e)?Xr.containsPoint(r,e[0],e[1],e[2]):Xr.containsPoint(r,e,t,n)},e.placeWidget=function(o){t.bounds=[];for(var i=[(o[0]+o[1])/2,(o[2]+o[3])/2,(o[4]+o[5])/2],a=0;a<6;a++){var s=i[Math.floor(a/2)];n[a]=o[a],t.bounds[a]=(o[a]-s)*t.placeFactor+s}Xr.setBounds(r,t.bounds),e.invokeBoundsChange(t.bounds),e.modified()},e.setPlaceFactor=function(o){if(t.placeFactor!==o){t.placeFactor=o,t.bounds=[];for(var i=[(n[0]+n[1])/2,(n[2]+n[3])/2,(n[4]+n[5])/2],a=0;a<6;a++){var s=i[Math.floor(a/2)];t.bounds[a]=(n[a]-s)*t.placeFactor+s}Xr.setBounds(r,t.bounds),e.invokeBoundsChange(t.bounds),e.modified()}}}var KK={bounds:[-1,1,-1,1,-1,1],placeFactor:1},XK={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,KK,n),fe.setGetArray(e,t,["bounds"],6),fe.get(e,t,["placeFactor"]),fe.event(e,t,"BoundsChange"),t.bounds=t.bounds.slice(),qK(e,t)}},YK={color:.5},ZK={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YK,n),fe.setGet(e,t,["color"])}};function JK(e,t){e.translate=function(t,n,r){var o=g(e.getCornerByReference(),3),i=o[0],a=o[1],s=o[2];e.setCorner(i+t,a+n,s+r)}}var $K={corner:[0,0,0]},QK={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$K,n),fe.setGetArray(e,t,["corner"],3),JK(e)}};function eX(e,t){var n="degree"===t.angleUnit?Es.buildFromDegree():Es.buildFromRadian();e.rotateFromDirections=function(r,o){n.identity().rotateFromDirections(r,o).apply(t.direction),e.modified()},e.rotate=function(e,r){n.identity().rotate(e,r).apply(t.direction)},e.rotateX=function(e){n.identity().rotateX(e).apply(t.direction)},e.rotateY=function(e){n.identity().rotateY(e).apply(t.direction)},e.rotateZ=function(e){n.identity().rotateZ(e).apply(t.direction)}}var tX={direction:[1,0,0]},nX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tX,n),fe.setGetArray(e,t,["direction"],3),eX(e,t)}};function rX(e,t){e.updateManipulator=function(){if(t.manipulator){var e=t.origin,n=t.normal,r=t.direction,o=t.manipulator,i=o.setOrigin,a=o.setCenter,s=o.setNormal,u=o.setDirection;e&&i?i(e):e&&a&&a(e),r&&u?u(r):r&&!n&&s?s(r):n&&u&&u(n)}}}var oX={manipulator:null},iX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oX,n),fe.setGet(e,t,["manipulator"]),rX(e,t)}},aX={name:""},sX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,aX,n),fe.setGet(e,t,["name"])}};function uX(e,t){return 3===e.length&&3===t.length&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function cX(e,t){var n={o:[],p1:[],p2:[]};e.normalize=function(){nt(t.up),nt(t.right),nt(t.direction),e.modified()},e.updateFromOriginRightUp=function(r,o,i){(function(e,t,n,r){return uX(e,r.o)&&uX(t,r.p1)&&uX(n,r.p2)})(r,o,i,n)||(n.o=r.slice(),n.p1=o.slice(),n.p2=i.slice(),t.up=[i[0]-r[0],i[1]-r[1],i[2]-r[2]],t.right=[o[0]-r[0],o[1]-r[1],o[2]-r[2]],et(t.up,t.right,t.direction),et(t.direction,t.up,t.right),e.normalize(),e.modified())}}var lX={up:[0,1,0],right:[1,0,0],direction:[0,0,1]},fX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lX,n),fe.setGetArray(e,t,["up","right","direction"],3),cX(e,t)}};function dX(e,t){e.translate=function(t,n,r){var o=g(e.getOriginByReference(),3),i=o[0],a=o[1],s=o[2];e.setOrigin(i+t,a+n,s+r)}}var pX={origin:[0,0,0]},hX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pX,n),fe.setGetArray(e,t,["origin"],3),dX(e)}},mX={scale1:.5},gX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mX,n),fe.setGet(e,t,["scale1"])}},vX={scale3:[1,1,1]},yX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vX,n),fe.setGetArray(e,t,["scale3"],3)}},bX={text:"DefaultText"},wX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bX,n),fe.setGet(e,t,["text"])}},xX={visible:!0},CX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xX,n),fe.setGet(e,t,["visible"]),e.isVisible=e.getVisible}},SX={shape:""},AX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SX,n),fe.setGet(e,t,["shape"])}},_X=fe.vtkErrorMacro,PX={bounds:XK,color:ZK,corner:QK,direction:nX,manipulator:iX,name:sX,orientation:fX,origin:hX,scale1:gX,scale3:yX,text:wX,visible:CX,shape:AX};function OX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};arguments.length>4&&void 0!==arguments[4]&&arguments[4]||HK.extend(n,r,t);for(var o=0;o<e.length;o++){var i=PX[e[o]];i?i.extend(n,r,t):_X("Invalid mixin name:",e[o])}return fe.safeArrays(r),Object.freeze(n)}var EX=function(){function e(){Yn(this,e),this.publicAPI={},this.model={},HK.extend(this.publicAPI,this.model),XK.extend(this.publicAPI,this.model)}return Jn(e,[{key:"addDynamicMixinState",value:function(e){var t=this,n=e.labels,r=e.mixins,o=e.name,i=e.initialValues,a="".concat(o,"List");return this.model[a]=[],this.publicAPI["add".concat(fe.capitalize(o))]=function(){var e=OX(r,i);return t.publicAPI.bindState(e,n),t.model[a].push(e),t.publicAPI.modified(),e},this.publicAPI["remove".concat(fe.capitalize(o))]=function(e){var n=t.model[a].indexOf(e);-1===n&&e<t.model[a].length&&(n=e);var r=t.model[a][n];r&&t.publicAPI.unbindState(r),t.model[a].splice(n,1),t.publicAPI.modified()},this.publicAPI["get".concat(fe.capitalize(o),"List")]=function(){return t.model[a].slice()},this.publicAPI["clear".concat(fe.capitalize(o),"List")]=function(){for(;t.model[a].length;){var e=t.model[a].pop();e&&t.publicAPI.unbindState(e)}t.publicAPI.modified()},this}},{key:"addStateFromMixin",value:function(e){var t=e.labels,n=e.mixins,r=e.name,o=OX(n,e.initialValues);return this.model[r]=o,this.publicAPI.bindState(o,t),fe.setGet(this.publicAPI,this.model,[r]),this}},{key:"addStateFromInstance",value:function(e){var t=e.labels,n=e.name,r=e.instance;return this.model[n]=r,this.publicAPI.bindState(r,t),fe.setGet(this.publicAPI,this.model,[n]),this}},{key:"addField",value:function(e){var t=e.name,n=e.initialValue;return Array.isArray(n)?fe.setGetArray(this.publicAPI,this.model,[t],n.length):fe.setGet(this.publicAPI,this.model,[t]),this.model[t]=n,this}},{key:"build",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OX(t,{},this.publicAPI,this.model,!0)}}]),e}(),TX={createBuilder:function(){return new EX}},DX={vtkAbstractWidget:sK,vtkAbstractWidgetFactory:VK,vtkStateBuilder:TX,vtkWidgetManager:RK,vtkWidgetState:HK};function IX(e,t,n,r,o,i){var a=i.displayToWorld(e,t,0,o),s=[0,0,0];Ke(i.displayToWorld(e,t,1,o),a,s);var u=[0,0,0];et(r,s,u),et(u,s,u);var c=$e([a[0]-n[0],a[1]-n[1],a[2]-n[2]],u),l=$e(u,r),f=r.slice();return Xe(f,c/l),qe(n,f,f),f}function kX(e,t){t.classHierarchy.push("vtkLineManipulator"),e.handleEvent=function(e,n){return IX(e.position.x,e.position.y,t.origin,t.normal,e.pokedRenderer,n)}}var MX={origin:[0,0,0],normal:[0,0,1]};function NX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MX,n),fe.obj(e,t),fe.setGetArray(e,t,["origin","normal"],3),kX(e,t)}var RX={projectDisplayToLine:IX,extend:NX,newInstance:fe.newInstance(NX,"vtkLineManipulator")};function BX(e,t,n,r,o,i){var a=i.displayToWorld(e,t,0,o),s=i.displayToWorld(e,t,1,o);return dr.intersectWithLine(a,s,n,r).x}function LX(e,t){t.classHierarchy.push("vtkPlaneManipulator"),e.handleEvent=function(e,n){return BX(e.position.x,e.position.y,t.origin,t.normal,e.pokedRenderer,n)}}var FX={normal:[0,0,1],origin:[0,0,0]};function jX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,FX,n),fe.obj(e,t),fe.setGetArray(e,t,["normal","origin"],3),LX(e,t)}var VX={intersectDisplayWithPlane:BX,extend:jX,newInstance:fe.newInstance(jX,"vtkPlaneManipulator")};function UX(e,t,n,r,o,i,a,s){var u=n-e,c=r-t,l=a.getActiveCamera(),f=l.getViewUp(),d=l.getDirectionOfProjection(),p=a.getRenderWindow().getInteractor().getView().getSize(),h=360*u/p[0],m=360*c/p[1],g=new Float64Array([i[0],i[1],i[2]]),v=f,y=[0,0,0];et(d,f,y);var b=Di(new Float64Array(16));return Fi(b,b,_e(h),v),Fi(b,b,_e(-m),y),ii(g,g,b),g}function zX(e,t){t.classHierarchy.push("vtkTrackballManipulator");var n=0,r=0;e.handleEvent=function(e,o){var i=UX(n,r,e.position.x,e.position.y,t.origin,t.normal,e.pokedRenderer);return n=e.position.x,r=e.position.y,i},e.reset=function(e){n=e.position.x,r=e.position.y}}var GX={normal:[0,0,1]};function WX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,GX,n),fe.obj(e,t),fe.setGetArray(e,t,["normal"],3),zX(e,t)}var HX={trackballRotate:UX,extend:WX,newInstance:fe.newInstance(WX,"vtkTrackballManipulator")},qX={vtkLineManipulator:RX,vtkPlaneManipulator:VX,vtkTrackballManipulator:HX};function KX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KX(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YX(e,t){t.classHierarchy.push("vtkHandleRepresentation")}var ZX={activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,behavior:uK,pickable:!0,dragable:!0},JX={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=XX(XX({},ZX),n);mK.extend(e,t,r),fe.setGet(e,t,["activeScaleFactor","activeColor","useActiveColor"]),YX(0,t)}};function $X(e,t){t.classHierarchy.push("vtkCircleContextRepresentation"),t.internalPolyData=Vc.newInstance({mtime:0}),t.internalArrays={points:t.internalPolyData.getPoints(),scale:Fn.newInstance({name:"scale",numberOfComponents:3,empty:!0}),color:Fn.newInstance({name:"color",numberOfComponents:1,empty:!0}),direction:Fn.newInstance({name:"direction",numberOfComponents:9,empty:!0})},t.internalPolyData.getPointData().addArray(t.internalArrays.scale),t.internalPolyData.getPointData().addArray(t.internalArrays.color),t.internalPolyData.getPointData().addArray(t.internalArrays.direction),t.pipelines={circle:{source:e,glyph:cp.newInstance({resolution:t.glyphResolution,radius:1,lines:t.drawBorder,face:t.drawFace}),mapper:GR.newInstance({orientationArray:"direction",scaleArray:"scale",scaleMode:GR.ScaleModes.SCALE_BY_COMPONENTS,colorByArrayName:"color",scalarMode:is.USE_POINT_FIELD_DATA}),actor:dv.newInstance({pickable:!1})}},t.pipelines.circle.actor.getProperty().setOpacity(.2),t.pipelines.circle.mapper.setOrientationModeToMatrix(),t.pipelines.circle.mapper.setResolveCoincidentTopology(!0),t.pipelines.circle.mapper.setResolveCoincidentTopologyPolygonOffsetParameters(-1,-1),mK.connectPipeline(t.pipelines.circle),e.addActor(t.pipelines.circle.actor),t.transform=Es.buildFromDegree(),e.setGlyphResolution=fe.chain(e.setGlyphResolution,(function(e){return t.glyph.setResolution(e)})),e.setDrawBorder=function(e){t.pipelines.circle.glyph.setLines(e)},e.setDrawFace=function(e){t.pipelines.circle.glyph.setFace(e)},e.setOpacity=function(e){t.pipelines.circle.actor.getProperty().setOpacity(e)},e.requestData=function(n,r){var o=t.internalArrays,i=o.points,a=o.scale,s=o.color,u=o.direction,c=e.getRepresentationStates(n[0]),l=c.length;s.getNumberOfValues()!==l&&(i.setData(new Float32Array(3*l)),a.setData(new Float32Array(3*l)),u.setData(new Float32Array(9*l)),s.setData(new Float32Array(l)));for(var f={points:i.getData(),scale:a.getData(),color:s.getData(),direction:u.getData()},d=0;d<c.length;d++){var p=c[d],h=p.getActive(),m=h?t.activeScaleFactor:1,g=p.getOrigin();f.points[3*d+0]=g[0],f.points[3*d+1]=g[1],f.points[3*d+2]=g[2];var v=p.getRight?p.getRight():[1,0,0],b=p.getUp?p.getUp():[0,1,0],w=p.getDirection?p.getDirection():[0,0,1],x=[].concat(y(v),y(b),y(w)),C=p.getScale3?p.getScale3():[1,1,1];C=C.map((function(e){return 0===e?2*t.defaultScale:2*e}));var S=Es.buildFromDegree().rotateFromDirections([1,0,0],[0,0,1]).getMatrix(),A=[];ba(A,S),ii(C,C,S),Ta(x,x,A);for(var _=0;_<9;_+=1)f.direction[9*d+_]=x[_];var P=(p.getScale1?p.getScale1():t.defaultScale)/2,O=m;p.getVisible&&!p.getVisible()&&(O=0),f.scale[3*d+0]=P*O*C[0],f.scale[3*d+1]=P*O*C[1],f.scale[3*d+2]=P*O*C[2],f.color[d]=t.useActiveColor&&h?t.activeColor:p.getColor()}t.internalPolyData.modified(),r[0]=t.internalPolyData},e.setActiveScaleFactor(1)}var QX={glyphResolution:32,defaultScale:1,drawBorder:!1,drawFace:!0};function eY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,QX,n),JX.extend(e,t,n),fe.setGet(e,t,["glyphResolution","defaultScale"]),fe.get(e,t,["glyph","mapper","actor"]),$X(e,t)}var tY={newInstance:fe.newInstance(eY,"vtkCircleContextRepresentation"),extend:eY};function nY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nY(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oY(e,t){t.classHierarchy.push("vtkContextRepresentation")}var iY={behavior:cK,pickable:!1,dragable:!0},aY={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rY(rY({},iY),n);mK.extend(e,t,r),oY(0,t)}};function sY(e,t){t.classHierarchy.push("vtkConvexFaceContextRepresentation"),t.internalPolyData=Vc.newInstance({mtime:0}),t.points=new Float32Array(12),t.cells=new Uint8Array([4,0,1,2,3]),t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getPolys().setData(t.cells),t.mapper=Uv.newInstance({scalarVisibility:!1}),t.actor=dv.newInstance(),t.actor.getProperty().setOpacity(t.opacity),t.mapper.setInputConnection(e.getOutputPort()),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.requestData=function(n,r){for(var o=e.getRepresentationStates(n[0]),i=function(e){if(t.cells.length-1!==e){t.points=new Float32Array(3*e),t.cells=new Uint8Array(e+1),t.cells[0]=e;for(var n=0;n<e;n++)t.cells[n+1]=n;t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getPolys().setData(t.cells)}return t.points}(o.length),a=0;a<o.length;a++){var s=o[a].getOrigin();i[3*a]=s[0],i[3*a+1]=s[1],i[3*a+2]=s[2]}t.internalPolyData.modified(),r[0]=t.internalPolyData},e.getSelectedState=function(n,r){var o=t.inputData[0],i=e.getRepresentationStates(o);return o.updateFromOriginRightUp&&o.updateFromOriginRightUp(i[0].getOrigin(),i[i.length-1].getOrigin(),i[1].getOrigin()),o};var n=e.updateActorVisibility;e.updateActorVisibility=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SA.FRONT_BUFFER,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(t.behavior){case uK:e===SA.PICKING_BUFFER?t.actor.getProperty().setOpacity(1):t.actor.getProperty().setOpacity(t.opacity);break;case cK:default:t.actor.getProperty().setOpacity(t.opacity)}n(e,r,o,i)}}var uY={defaultColor:[1,0,.5],opacity:.2};function cY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,uY,n),aY.extend(e,t,n),fe.setGetArray(e,t,["defaultColor"],3),fe.get(e,t,["mapper","actor"]),fe.setGet(e,t,["opacity"]),sY(e,t)}var lY={newInstance:fe.newInstance(cY,"vtkConvexFaceContextRepresentation"),extend:cY};function fY(e,t){t.classHierarchy.push("vtkCubeHandleRepresentation"),t.internalPolyData=Vc.newInstance({mtime:0}),t.internalArrays={points:t.internalPolyData.getPoints(),scale:Fn.newInstance({name:"scale",numberOfComponents:3,empty:!0}),color:Fn.newInstance({name:"color",numberOfComponents:1,empty:!0})},t.internalPolyData.getPointData().addArray(t.internalArrays.scale),t.internalPolyData.getPointData().addArray(t.internalArrays.color),t.mapper=GR.newInstance({scaleArray:"scale",colorByArrayName:"color",scalarMode:is.USE_POINT_FIELD_DATA}),t.actor=dv.newInstance(),t.glyph=vp.newInstance(),t.mapper.setInputConnection(e.getOutputPort(),0),t.mapper.setInputConnection(t.glyph.getOutputPort(),1),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.requestData=function(n,r){var o=t.internalArrays,i=o.points,a=o.scale,s=o.color,u=e.getRepresentationStates(n[0]),c=u.length;s.getNumberOfValues()!==c&&(i.setData(new Float32Array(3*c)),a.setData(new Float32Array(3*c)),s.setData(new Float32Array(c)));for(var l={points:i.getData(),scale:a.getData(),color:s.getData()},f=0;f<u.length;f++){var d=u[f],p=d.getActive(),h=p?t.activeScaleFactor:1,m=d.getOrigin();l.points[3*f+0]=m[0],l.points[3*f+1]=m[1],l.points[3*f+2]=m[2],l.scale[f]=h*(!d.isVisible||d.isVisible()?1:0)*(d.getScale1?d.getScale1():t.defaultScale),e.getScaleInPixels()&&(l.scale[f]*=e.getPixelWorldHeightAtCoord(m)),l.color[f]=t.useActiveColor&&p?t.activeColor:d.getColor()}t.internalPolyData.modified(),r[0]=t.internalPolyData}}var dY={};function pY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dY,n),JX.extend(e,t,n),fe.get(e,t,["glyph","mapper","actor","defaultScale"]),fY(e,t)}var hY={newInstance:fe.newInstance(pY,"vtkCubeHandleRepresentation"),extend:pY},mY=AA.RenderingTypes,gY=$g.Interpolation,vY=$g.Representation,yY=["plane","outline","normal","origin","display2D"],bY={active:{plane:{opacity:1,color:[0,.9,0]},normal:{opacity:1,color:[0,.9,0]},origin:{opacity:1,color:[0,.9,0]}},inactive:{plane:{opacity:.6,color:[1,1,1]},normal:{opacity:1,color:[.9,0,0]},origin:{opacity:1,color:[1,0,0]}},static:{display2D:{representation:vY.POINT},outline:{color:[1,1,1],opacity:1,representation:vY.WIREFRAME,interpolation:gY.FLAT}}};function wY(e,t){t.classHierarchy.push("vtkImplicitPlaneRepresentation"),t.plane=dr.newInstance(),t.matrix=Es.buildFromDegree(),t.pipelines={},t.pipelines.outline={source:vp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!1})},t.pipelines.plane={source:Xl.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},t.pipelines.origin={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},t.pipelines.normal={source:ep.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},t.pipelines.display2D={source:e,mapper:Zw.newInstance(),actor:dv.newInstance({pickable:!1})};var n=Tl.newInstance({cutFunction:t.plane});n.setInputConnection(t.pipelines.outline.source.getOutputPort()),t.pipelines.plane.source.setInputConnection(n.getOutputPort()),mK.connectPipeline(t.pipelines.outline),mK.connectPipeline(t.pipelines.plane),mK.connectPipeline(t.pipelines.origin),mK.connectPipeline(t.pipelines.normal),mK.connectPipeline(t.pipelines.display2D),e.addActor(t.pipelines.outline.actor),e.addActor(t.pipelines.plane.actor),e.addActor(t.pipelines.origin.actor),e.addActor(t.pipelines.normal.actor),e.addActor(t.pipelines.display2D.actor),e.requestData=function(e,n){var r=e[0],o=r.getOrigin(),i=r.getNormal(),a=r.getBounds();t.plane.setOrigin(o),t.plane.setNormal(i),t.pipelines.outline.source.setCenter(.5*(a[0]+a[1]),.5*(a[2]+a[3]),.5*(a[4]+a[5]));var s=a[1]-a[0],u=a[3]-a[2],c=a[5]-a[4];t.pipelines.outline.source.setXLength(s),t.pipelines.outline.source.setYLength(u),t.pipelines.outline.source.setZLength(c),t.pipelines.normal.source.set({height:Math.max(s,u,c),radius:t.handleSizeRatio*Math.min(s,u,c)*t.axisScale,resolution:t.sphereResolution});var l=t.pipelines.normal.source.getOutputData(),f=Vc.newInstance();f.shallowCopy(l),f.getPoints().setData(Float32Array.from(l.getPoints().getData()),3),f.getPointData().removeAllArrays(),t.matrix.identity().translate(o[0],o[1],o[2]).rotateFromDirections([0,1,0],i).apply(f.getPoints().getData()),t.pipelines.normal.mapper.setInputData(f),t.pipelines.origin.actor.setPosition(o);var d=t.handleSizeRatio*Math.min(s,u,c);t.pipelines.origin.actor.setScale(d,d,d),mK.applyStyles(t.pipelines,t.representationStyle,r.getActive()&&r.getActiveHandle());var p=Vc.newInstance();p.shallowCopy(t.pipelines.plane.source.getOutputData()),n[0]=p},e.setSphereResolution=function(e){return t.sphereResolution=e,t.pipelines.origin.source.setPhiResolution(e)&&t.pipelines.origin.source.setThetaResolution(e)},e.setRepresentationStyle=function(n){t.representationStyle=mK.mergeStyles(yY,t.representationStyle,n),mK.applyStyles(t.pipelines,t.representationStyle),e.modified()},e.updateActorVisibility=function(e,n,r,o){var i=t.planeVisible,a=t.originVisible,s=t.normalVisible,u=t.outlineVisible;if(e===mY.PICKING_BUFFER)t.pipelines.plane.actor.setVisibility(i&&n),t.pipelines.origin.actor.setVisibility(a&&n),t.pipelines.normal.actor.setVisibility(s&&n),t.pipelines.plane.actor.getProperty().setOpacity(1);else{t.pipelines.outline.actor.setVisibility(u&&n&&r),t.pipelines.plane.actor.setVisibility(i&&n&&o),t.pipelines.origin.actor.setVisibility(a&&n&&o),t.pipelines.normal.actor.setVisibility(s&&n&&o);var c=t.inputData[0];c&&mK.applyStyles(t.pipelines,t.representationStyle,c.getActive()&&c.getActiveHandle())}},e.getSelectedState=function(e,n){var r=t.inputData[0];switch(r.setActiveHandle(e),e){case t.pipelines.plane.actor:r.setUpdateMethodName("updateFromPlane");break;case t.pipelines.origin.actor:r.setUpdateMethodName("updateFromOrigin");break;case t.pipelines.normal.actor:r.setUpdateMethodName("updateFromNormal");break;default:r.setUpdateMethodName("updateFromPlane")}return r},e.setRepresentationStyle(bY),e.setSphereResolution(t.sphereResolution)}var xY={sphereResolution:24,handleSizeRatio:.05,axisScale:.1,normalVisible:!0,originVisible:!0,planeVisible:!0,outlineVisible:!0};function CY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xY,n),mK.extend(e,t,n),fe.get(e,t,["sphereResolution","representationStyle"]),fe.setGet(e,t,["handleSizeRatio","axisScale","normalVisible","originVisible","planeVisible","outlineVisible"]),wY(e,t)}var SY={newInstance:fe.newInstance(CY,"vtkImplicitPlaneRepresentation"),extend:CY,generateState:function(){return TX.createBuilder().addField({name:"origin",initialValue:[0,0,0]}).addField({name:"normal",initialValue:[0,0,1]}).addField({name:"activeHandle",initialValue:null}).addField({name:"updateMethodName"}).build()}};function AY(e,t){var n;t.classHierarchy.push("vtkOutlineContextRepresentation"),t.bbox=y(Xr.INIT_BOUNDS),t.internalPolyData=Vc.newInstance({mtime:0}),t.points=new Float32Array(24),t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getLines().setData(Uint16Array.from(qf)),t.mapper=Uv.newInstance({scalarVisibility:!1}),t.actor=dv.newInstance(),(n=t.actor.getProperty()).setEdgeColor.apply(n,y(t.edgeColor)),t.mapper.setInputConnection(e.getOutputPort()),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.requestData=function(n,r){var o=e.getRepresentationStates(n[0]);Xr.reset(t.bbox);for(var i=0;i<o.length;i++){var a=o[i].getOrigin();Xr.addPoint.apply(Xr,[t.bbox].concat(y(a)))}for(var s=0;s<Hf.length;s++)t.points[s]=t.bbox[Hf[s]];t.internalPolyData.getPoints().modified(),t.internalPolyData.modified(),r[0]=t.internalPolyData}}var _Y={edgeColor:[1,1,1]};function PY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_Y,n),aY.extend(e,t,n),fe.setGetArray(e,t,["edgeColor"],3),fe.get(e,t,["mapper","actor"]),AY(e,t)}var OY={newInstance:fe.newInstance(PY,"vtkOutlineContextRepresentation"),extend:PY};function EY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EY(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DY(e,t){t.classHierarchy.push("vtkPolyLineRepresentation");var n=TY({},e);function r(n){var r=n;if(e.getScaleInPixels()){var o=Xr.getCenter(t.internalPolyData.getBounds());r*=e.getPixelWorldHeightAtCoord(o)}t.tubes.setRadius(r)}t.internalPolyData=Vc.newInstance({mtime:0}),t.cells=[],t.mapper=Uv.newInstance(),t.actor=dv.newInstance(),t.tubes=Rd.newInstance({radius:t.lineThickness,numberOfSides:12,capping:!1}),t.tubes.setInputConnection(e.getOutputPort()),t.mapper.setInputConnection(t.tubes.getOutputPort()),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.requestData=function(n,o){var i=n[0],a=e.getRepresentationStates(i).reduce((function(e,t){var n=t.getOrigin&&t.getOrigin().length?t.getOrigin():null,r=e.length&&e[e.length-1].getOrigin();return!n||r&&Ot(n,r)||e.push(t),e}),[]),s=a.length;if(s>1){var u=a[a.length-1],c=st(u.getOrigin(),a[a.length-2].getOrigin())>t.threshold?0:1;c||!u.isVisible||u.isVisible()||c++,s-=c}var l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e<2)t.internalPolyData.getPoints().setData(new Float32Array([0,0,0])),t.internalPolyData.getLines().setData(new Uint8Array(0));else if(!t.points||t.points.length!==3*e){t.points=new Float32Array(3*e),t.cells=new Uint8Array(e+1+(n?1:0)),t.cells[0]=t.cells.length-1;for(var r=1;r<t.cells.length;r++)t.cells[r]=r-1;n&&(t.cells[t.cells.length-1]=0,console.log("closePolyLine",n,t.cells)),t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getLines().setData(t.cells)}return t.points}(s,t.closePolyLine&&s>2);if(l)for(var f=0;f<s;f++){var d=a[f].getOrigin();l[3*f]=d[0],l[3*f+1]=d[1],l[3*f+2]=d[2]}t.internalPolyData.modified(),r((i.getLineThickness?i.getLineThickness():null)||t.lineThickness),o[0]=t.internalPolyData},e.getSelectedState=function(e,n){return t.inputData[0]},e.updateActorVisibility=function(e,o,i,a){var s=t.inputData[0],u=s.getLineThickness?s.getLineThickness():null;u=u||t.lineThickness,e===SA.PICKING_BUFFER&&(u=Math.max(4,u)),r(u);var c=t.points&&t.points.length>3;return n.updateActorVisibility(e,o&&c,i&&c,a&&c)}}var IY={threshold:Number.EPSILON,closePolyLine:!1,lineThickness:2,scaleInPixels:!0};function kY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=TY(TY({},IY),n);mK.extend(e,t,r),fe.setGet(e,t,["threshold","closePolyLine","lineThickness"]),DY(e,t)}var MY={newInstance:fe.newInstance(kY,"vtkPolyLineRepresentation"),extend:kY};function NY(e,t){function n(n){if(t.displayCallback){for(var r=[],o=e.getRepresentationStates(),i=0;i<o.length;i++)o[i].getActive()&&r.push(n[i]);if(r.length)return void t.displayCallback(r)}t.displayCallback()}t.classHierarchy.push("vtkSphereHandleRepresentation"),t.internalPolyData=Vc.newInstance({mtime:0}),t.internalArrays={points:t.internalPolyData.getPoints(),scale:Fn.newInstance({name:"scale",numberOfComponents:1,empty:!0}),color:Fn.newInstance({name:"color",numberOfComponents:1,empty:!0})},t.internalPolyData.getPointData().addArray(t.internalArrays.scale),t.internalPolyData.getPointData().addArray(t.internalArrays.color),t.displayMapper=Zw.newInstance(),t.displayActor=dv.newInstance(),t.displayActor.setMapper(t.displayMapper),t.displayMapper.setInputConnection(e.getOutputPort()),e.addActor(t.displayActor),t.alwaysVisibleActors=[t.displayActor],t.mapper=GR.newInstance({scaleArray:"scale",colorByArrayName:"color",scalarMode:is.USE_POINT_FIELD_DATA}),t.actor=dv.newInstance(),t.glyph=Jp.newInstance({phiResolution:t.glyphResolution,thetaResolution:t.glyphResolution}),t.mapper.setInputConnection(e.getOutputPort(),0),t.mapper.setInputConnection(t.glyph.getOutputPort(),1),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.setGlyphResolution=fe.chain(e.setGlyphResolution,(function(e){return t.glyph.setPhiResolution(e)&&t.glyph.setThetaResolution(e)})),e.setDisplayCallback=function(e){t.displayCallback=e,t.displayMapper.setCallback(e?n:null)},e.requestData=function(n,r){var o=t.internalArrays,i=o.points,a=o.scale,s=o.color,u=e.getRepresentationStates(n[0]),c=u.length;s.getNumberOfValues()!==c&&(i.setData(new Float32Array(3*c),3),a.setData(new Float32Array(c)),s.setData(new Float32Array(c)));for(var l={points:i.getData(),scale:a.getData(),color:s.getData()},f=0;f<u.length;f++){var d=u[f],p=d.getActive(),h=p?t.activeScaleFactor:1,m=d.getOrigin();l.points[3*f+0]=m[0],l.points[3*f+1]=m[1],l.points[3*f+2]=m[2],l.scale[f]=h*(!d.isVisible||d.isVisible()?1:0)*(d.getScale1?d.getScale1():t.defaultScale),e.getScaleInPixels()&&(l.scale[f]*=e.getPixelWorldHeightAtCoord(m)),l.color[f]=t.useActiveColor&&p?t.activeColor:d.getColor()}t.internalPolyData.modified(),r[0]=t.internalPolyData}}var RY={glyphResolution:8,defaultScale:1};function BY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,RY,n),JX.extend(e,t,n),fe.get(e,t,["glyph","mapper","actor"]),NY(e,t)}var LY={newInstance:fe.newInstance(BY,"vtkSphereHandleRepresentation"),extend:BY},FY={vtkCircleContextRepresentation:tY,vtkContextRepresentation:aY,vtkConvexFaceContextRepresentation:lY,vtkCubeHandleRepresentation:hY,vtkHandleRepresentation:JX,vtkImplicitPlaneRepresentation:SY,vtkOutlineContextRepresentation:OY,vtkPolyLineRepresentation:MY,vtkSphereHandleRepresentation:LY,vtkWidgetRepresentation:mK};function jY(e,t){t.classHierarchy.push("vtkAngleWidgetProp");var n=null,r=ry.newInstance();function o(e){return e.altKey||e.controlKey||e.shiftKey}r.setPickFromList(1),e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.handleLeftButtonPress=function(i){if(!t.activeState||!t.activeState.getActive()||!t.pickable||o(i))return fe.VOID;if(r.initializePickList(),r.setPickList(e.getNestedProps()),t.activeState===t.widgetState.getMoveHandle()&&t.widgetState.getHandleList().length<3){var a=t.widgetState.getMoveHandle(),s=t.widgetState.addHandle();s.setOrigin.apply(s,y(a.getOrigin())),s.setColor(a.getColor()),s.setScale1(a.getScale1())}else n=!0,t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e);return e.invokeStartInteractionEvent(),fe.EVENT_ABORT},e.handleMouseMove=function(r){if(t.pickable&&t.dragable&&t.manipulator&&t.activeState&&t.activeState.getActive()&&!o(r)){t.manipulator.setOrigin(t.activeState.getOrigin()),t.manipulator.setNormal(t.camera.getDirectionOfProjection());var i=t.manipulator.handleEvent(r,t.apiSpecificRenderWindow);if(i.length&&(t.activeState===t.widgetState.getMoveHandle()||n))return t.activeState.setOrigin(i),e.invokeInteractionEvent(),fe.EVENT_ABORT}return t.hasFocus&&t.widgetManager.disablePicking(),fe.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable?(t.apiSpecificRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()):t.activeState!==t.widgetState.getMoveHandle()&&t.widgetState.deactivate(),(t.hasFocus&&!t.activeState||t.activeState&&!t.activeState.getActive())&&(e.invokeEndInteractionEvent(),t.widgetManager.enablePicking(),t.interactor.render()),3===t.widgetState.getHandleList().length&&e.loseFocus(),n=!1},e.grabFocus=function(){!t.hasFocus&&t.widgetState.getHandleList().length<3&&(t.activeState=t.widgetState.getMoveHandle(),t.activeState.activate(),t.activeState.setVisible(!0),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.widgetState.getMoveHandle().setVisible(!1),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}function VY(e,t){t.classHierarchy.push("vtkAngleWidget"),t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","glyphResolution","defaultScale"],t.behavior=jY,t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:.1,origin:[-1,-1,-1],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:.1,origin:[-1,-1,-1]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["handles"]},{builder:LY,labels:["moveHandle"]},{builder:MY,labels:["handles","moveHandle"]}]}},e.getAngle=function(){var e=t.widgetState.getHandleList();if(3!==e.length)return 0;var n=[0,0,0],r=[0,0,0];return Ke(e[0].getOrigin(),e[1].getOrigin(),n),Ke(e[2].getOrigin(),e[1].getOrigin(),r),ut(n,r)},t.widgetState.onBoundsChange((function(e){var n=[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])];t.widgetState.getMoveHandle().setOrigin(n)})),t.manipulator=VX.newInstance()}var UY={};function zY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,UY,n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator"]),VY(e,t)}var GY={newInstance:fe.newInstance(zY,"vtkAngleWidget"),extend:zY};function WY(e,t){t.classHierarchy.push("vtkDistanceWidgetProp");var n=null;function r(e){return e.altKey||e.controlKey||e.shiftKey}e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.handleLeftButtonPress=function(o){if(!t.activeState||!t.activeState.getActive()||!t.pickable||r(o))return fe.VOID;if(t.activeState===t.widgetState.getMoveHandle()&&t.widgetState.getHandleList().length<2){var i=t.widgetState.getMoveHandle(),a=t.widgetState.addHandle();a.setOrigin.apply(a,y(i.getOrigin())),a.setColor(i.getColor()),a.setScale1(i.getScale1())}else n=!0,t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e);return e.invokeStartInteractionEvent(),fe.EVENT_ABORT},e.handleMouseMove=function(o){if(t.hasFocus&&2===t.widgetState.getHandleList().length)return e.loseFocus(),fe.VOID;if(t.pickable&&t.dragable&&t.manipulator&&t.activeState&&t.activeState.getActive()&&!r(o)){var i=t.manipulator.handleEvent(o,t.apiSpecificRenderWindow);if(i.length&&(t.activeState===t.widgetState.getMoveHandle()||n))return t.activeState.setOrigin(i),e.invokeInteractionEvent(),fe.EVENT_ABORT}return fe.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable?(t.apiSpecificRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()):t.activeState!==t.widgetState.getMoveHandle()&&t.widgetState.deactivate(),(t.hasFocus&&!t.activeState||t.activeState&&!t.activeState.getActive())&&(e.invokeEndInteractionEvent(),t.widgetManager.enablePicking(),t.interactor.render()),n=!1},e.grabFocus=function(){!t.hasFocus&&t.widgetState.getHandleList().length<2&&(t.activeState=t.widgetState.getMoveHandle(),t.activeState.activate(),t.activeState.setVisible(!0),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.widgetState.getMoveHandle().setVisible(!1),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}function HY(e,t){t.classHierarchy.push("vtkDistanceWidget"),t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","glyphResolution","defaultScale"],t.behavior=WY,t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:.1,origin:[-1,-1,-1],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:.1,origin:[-1,-1,-1]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["handles"]},{builder:LY,labels:["moveHandle"]},{builder:MY,labels:["handles","moveHandle"]}]}},e.getDistance=function(){var e=t.widgetState.getHandleList();return 2!==e.length?0:Math.sqrt(st(e[0].getOrigin(),e[1].getOrigin()))},t.widgetState.onBoundsChange((function(e){var n=[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])];t.widgetState.getMoveHandle().setOrigin(n)})),t.manipulator=VX.newInstance()}var qY={};function KY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qY,n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator"]),HY(e,t)}var XY,YY={newInstance:fe.newInstance(KY,"vtkDistanceWidget"),extend:KY},ZY="POINTS",JY="PLACEMENT",$Y="RATIO",QY=(p(XY={},ZY,{CORNER_TO_CORNER:0,CENTER_TO_CORNER:1,RADIUS:2,DIAMETER:3}),p(XY,JY,{CLICK:0,DRAG:1,CLICK_AND_DRAG:2}),p(XY,$Y,{FIXED:0,FREE:1}),XY);function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tZ,nZ=fe.vtkErrorMacro,rZ=1e-6;function oZ(e,t){t.classHierarchy.push("vtkShapeWidgetProp");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.setModifierBehavior=function(e){Object.assign(t.modifierBehavior,e)},e.isBehaviorActive=function(e,n){return Object.keys(t.keysDown).some((function(r){return t.keysDown[r]&&t.modifierBehavior[r]&&t.modifierBehavior[r][e]===n}))},e.isOppositeBehaviorActive=function(t,n){return Object.values(QY[t]).some((function(r){return n!==r&&e.isBehaviorActive(t,r)}))},e.getActiveBehaviorFromCategory=function(n){return Object.values(QY[n]).find((function(r){return e.isBehaviorActive(n,r)||!e.isOppositeBehaviorActive(n,r)&&t.modifierBehavior.None[n]===r}))},e.isRatioFixed=function(){return e.getActiveBehaviorFromCategory($Y)===QY.RATIO.FIXED},e.isDraggingEnabled=function(){var t=e.getActiveBehaviorFromCategory(JY);return t===QY.PLACEMENT.DRAG||t===QY.PLACEMENT.CLICK_AND_DRAG},e.isDraggingForced=function(){return e.isBehaviorActive(JY,QY.PLACEMENT.DRAG)||t.modifierBehavior.None.PLACEMENT===QY.PLACEMENT.DRAG},e.setVisibleOnFocus=function(e){t.visibleOnFocus=e},e.setLabelTextCallback=function(e){t.labelTextCallback=e},e.setResetAfterPointPlacement=function(e){t.resetAfterPointPlacement=e},e.getPoint1=function(){return t.point1},e.getPoint2=function(){return t.point2},e.setPoints=function(n,r){t.point1=n,t.point2=r,t.point1Handle.setOrigin(t.point1),t.point2Handle.setOrigin(t.point2),e.updateShapeBounds()},e.placePoint1=function(n){t.hasFocus&&(e.setPoints(n,n),t.point1Handle.deactivate(),t.point2Handle.activate(),t.activeState=t.point2Handle,t.useHandles&&t.point2Handle.setVisible(!0),e.updateShapeBounds(),t.visibleOnFocus&&t.shapeHandle.setVisible(!0))},e.placePoint2=function(n){t.hasFocus&&(t.point2=n,t.point2Handle.setOrigin(t.point2),e.updateShapeBounds(),t.resetAfterPointPlacement?e.reset():e.loseFocus())},e.setPixelScale=function(n){t.pixelScale=n,e.updateHandlesSize()},e.updateHandlesSize=function(){if(null!==t.pixelScale){var e=t.pixelScale*Ko(t.apiSpecificRenderWindow.displayToWorld(0,0,0,t.renderer),t.apiSpecificRenderWindow.displayToWorld(1,0,0,t.renderer));t.point1Handle.setScale1(e),t.point2Handle.setScale1(e)}},e.setVisibility=function(e){var r=!1;return r=t.useHandles?n.setVisibility(e)||r:t.shapeHandle.setVisible(e)||r,t.label&&(r=e?t.label.setContainer(t.interactor.getContainer())||r:t.label.setContainer(null)||r),r},e.getLabel=function(){return t.label},e.makeSquareFromPoints=function(e,n){var r=[0,0,0];Lo(r,n,e);var o=t.shapeHandle.getDirection(),i=t.shapeHandle.getRight(),a=t.shapeHandle.getUp(),s=Qo(r,o),u=Qo(r,i),c=Qo(r,a),l=Math.abs(u),f=Math.abs(c);return l<rZ?u=c:f<rZ?c=u:l>f?c=c/f*l:u=u/l*f,[e[0]+u*i[0]+c*a[0]+s*o[0],e[1]+u*i[1]+c*a[1]+s*o[1],e[2]+u*i[2]+c*a[2]+s*o[2]]};var r=function(e,n){var r=Ko(e,n),o=t.shapeHandle.getUp(),i=t.shapeHandle.getRight();return{point1:[e[0]+(o[0]-i[0])*r,e[1]+(o[1]-i[1])*r,e[2]+(o[2]-i[2])*r],point2:[e[0]+(i[0]-o[0])*r,e[1]+(i[1]-o[1])*r,e[2]+(i[2]-o[2])*r]}};e.setCorners=function(e,n){if(t.label&&t.labelTextCallback){var r,o,i=function(e,t){return[Math.min(e[0],t[0]),Math.max(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[1],t[1]),Math.min(e[2],t[2]),Math.max(e[2],t[2])]}(e,n),a=(r=t.apiSpecificRenderWindow).worldToDisplay.apply(r,y(e).concat([t.renderer])),s=(o=t.apiSpecificRenderWindow).worldToDisplay.apply(o,y(n).concat([t.renderer])),u=[Math.min(a[0],s[0]),Math.max(a[0],s[0]),Math.min(a[1],s[1]),Math.max(a[1],s[1]),Math.min(a[2],s[2]),Math.max(a[2],s[2])];t.labelTextCallback(i,u,t.label)}},e.updateShapeBounds=function(){if(t.point1&&t.point2){var n=y(t.point1),o=y(t.point2);switch(e.isRatioFixed()&&(o=e.makeSquareFromPoints(n,o)),e.getActiveBehaviorFromCategory(ZY)){case QY.POINTS.CORNER_TO_CORNER:e.setCorners(n,o);break;case QY.POINTS.CENTER_TO_CORNER:var i=[0,0,0];Lo(i,n,o),Bo(n,n,i),e.setCorners(n,o);break;case QY.POINTS.RADIUS:var a=r(n,o);e.setCorners(a.point1,a.point2);break;case QY.POINTS.DIAMETER:var s=function(e,t){var n=[.5*(e[0]+t[0]),.5*(e[1]+t[1]),.5*(e[2]+t[2])];return r(n,e)}(n,o);e.setCorners(s.point1,s.point2);break;default:nZ("vtk internal error")}}},e.reset=function(){t.hasFocus||t.point1Handle.setVisible(!1),t.shapeHandle.setVisible(!1),t.point1=null,t.point2=null,t.label&&t.label.setLabelText(""),t.point1Handle.setOrigin(t.point2Handle.getOrigin()),t.point2Handle.setVisible(!1),t.point2Handle.deactivate(),t.hasFocus?(t.point1Handle.activate(),t.activeState=t.point1Handle):(t.point1Handle.deactivate(),t.activeState=null),e.updateShapeBounds()},e.handleMouseMove=function(n){if(!(t.activeState&&t.activeState.getActive()&&t.pickable&&t.dragable&&t.manipulator))return fe.VOID;if(!t.point2){var r=t.camera.getDirectionOfProjection(),o=t.camera.getViewUp(),i=[];ei(i,o,r),t.shapeHandle.setUp(o),t.shapeHandle.setRight(i),t.shapeHandle.setDirection(r),t.manipulator.setNormal(r)}var a=t.manipulator.handleEvent(n,t.apiSpecificRenderWindow);return a.length?(t.hasFocus?t.point1?(t.point2Handle.setOrigin(a),t.point2=a,e.updateShapeBounds()):t.point1Handle.setOrigin(a):t.useHandles&&t.isDragging&&(t.activeState===t.point1Handle?(t.point1Handle.setOrigin(a),t.point1=a):(t.point2Handle.setOrigin(a),t.point2=a),e.updateShapeBounds(),e.invokeInteractionEvent()),t.hasFocus?fe.EVENT_ABORT:fe.VOID):fe.VOID},e.handleLeftButtonPress=function(n){return t.activeState&&t.activeState.getActive()&&t.pickable?t.hasFocus?(t.point1?(e.placePoint2(t.point2Handle.getOrigin()),e.invokeInteractionEvent(),e.invokeEndInteractionEvent()):(e.placePoint1(t.point1Handle.getOrigin()),e.invokeStartInteractionEvent()),fe.EVENT_ABORT):!t.point1||t.activeState!==t.point1Handle&&t.activeState!==t.point2Handle?fe.VOID:(t.isDragging=!0,t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.handleLeftButtonRelease=function(n){if(t.isDragging)return t.isDragging=!1,t.apiSpecificRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent(),fe.EVENT_ABORT;if(!t.hasFocus||!t.pickable)return fe.VOID;var r=t.apiSpecificRenderWindow.getSize();return n.position.x<0||n.position.x>r[0]-1||n.position.y<0||n.position.y>r[1]-1?fe.VOID:(t.point1&&(t.point2=t.point2Handle.getOrigin(),e.updateShapeBounds(),e.isDraggingEnabled())&&(Xo(t.point1,t.point2)>100||e.isDraggingForced())&&(e.invokeInteractionEvent(),e.invokeEndInteractionEvent(),t.resetAfterPointPlacement?e.reset():e.loseFocus()),fe.EVENT_ABORT)},e.handleKeyDown=function(n){var r=n.key;"Escape"===r?t.hasFocus&&(e.invokeEndInteractionEvent(),e.reset(),e.loseFocus()):t.keysDown[r]=!0,t.hasFocus&&t.point1&&(t.point2=t.point2Handle.getOrigin(),e.updateShapeBounds())},e.handleKeyUp=function(n){var r=n.key;t.keysDown[r]=!1,t.hasFocus&&t.point1&&(t.point2=t.point2Handle.getOrigin(),e.updateShapeBounds())},e.grabFocus=function(){t.hasFocus||(e.reset(),t.label||(t.label=Mx.newInstance()),t.label.setRenderer(t.renderer),t.label.buildRepresentation(),t.renderer.addViewProp(t.label),t.label.setContainer(t.interactor.getContainer()),t.point1Handle.activate(),t.activeState=t.point1Handle,t.useHandles&&t.point1Handle.setVisible(!0),t.shapeHandle.setVisible(!1),t.interactor.requestAnimation(e)),e.updateHandlesSize(),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.visibleOnFocus&&!t.useHandles&&t.shapeHandle.setVisible(!1),t.interactor.cancelAnimation(e)),t.label&&!t.useHandles&&t.label.setContainer(null),t.useHandles&&t.point1||(t.point1Handle.setVisible(!1),t.point2Handle.setVisible(!1)),t.widgetState.deactivate(),t.point1Handle.deactivate(),t.point2Handle.deactivate(),t.activeState=null,t.interactor.render(),t.widgetManager.enablePicking(),t.hasFocus=!1}}function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aZ(e,t){oZ(e,t);var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);t.classHierarchy.push("vtkEllipseWidgetProp"),e.setCorners=function(e,r){n.setCorners&&n.setCorners(e,r);var o=[.5*(e[0]+r[0]),.5*(e[1]+r[1]),.5*(e[2]+r[2])],i=[0,0,0];Lo(i,r,o);var a=t.shapeHandle.getRight(),s=t.shapeHandle.getUp(),u=t.shapeHandle.getDirection(),c=Qo(i,a),l=Qo(i,s),f=Qo(i,u);t.shapeHandle.setOrigin(o),t.shapeHandle.setScale3([c,l,f])}}var sZ,uZ={DEFAULT_VALUES:{manipulator:null,visibleOnFocus:!0,modifierBehavior:{None:(tZ={},p(tZ,JY,QY.PLACEMENT.CLICK_AND_DRAG),p(tZ,ZY,QY.POINTS.CORNER_TO_CORNER),p(tZ,$Y,QY.RATIO.FREE),tZ)},keysDown:{},resetAfterPointPlacement:!0,useHandles:!1,pixelScale:10}};function cZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fZ(e,t){t.classHierarchy.push("vtkEllipseWidget"),t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","glyphResolution","defaultScale","drawBorder","drawFace","opacity"],t.behavior=aZ,e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["moveHandle"]},{builder:tY,labels:["ellipseHandle"]}]}},t.manipulator=VX.newInstance(),t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible","manipulator"],name:"point1Handle",initialValues:{scale1:10,origin:[0,0,0],visible:!1}}).addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible","manipulator"],name:"point2Handle",initialValues:{scale1:10,origin:[0,0,0],visible:!1}}).addStateFromMixin({labels:["ellipseHandle"],mixins:["origin","color","scale3","visible","orientation"],name:"ellipseHandle",initialValues:{visible:!1,scale3:[1,1,1]}}).build(),t.shapeHandle=t.widgetState.getEllipseHandle(),t.point1Handle=t.widgetState.getPoint1Handle(),t.point2Handle=t.widgetState.getPoint2Handle(),t.point1Handle.setManipulator(t.manipulator),t.point2Handle.setManipulator(t.manipulator)}var dZ={modifierBehavior:{None:(sZ={},p(sZ,JY,QY.PLACEMENT.CLICK_AND_DRAG),p(sZ,ZY,QY.POINTS.CENTER_TO_CORNER),p(sZ,$Y,QY.RATIO.FREE),sZ),Shift:p({},$Y,QY.RATIO.FIXED),Control:p({},ZY,QY.POINTS.CORNER_TO_CORNER)}};function pZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lZ(lZ({},uZ.DEFAULT_VALUES),dZ),n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator","widgetState"]),fZ(e,t)}var hZ={newInstance:fe.newInstance(pZ,"vtkEllipseWidget"),extend:pZ},mZ=fe.vtkErrorMacro,gZ=[2,0,1,2,0,2,2,0,4,2,1,3,2,1,5,2,2,3,2,2,6,2,3,7,2,4,5,2,4,6,2,5,7,2,6,7];function vZ(e,t){var n;t.classHierarchy.push("vtkCroppingOutlineRepresentation"),t.internalPolyData=Vc.newInstance({mtime:0}),t.points=new Float32Array(24),t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getLines().setData(Uint16Array.from(gZ)),t.mapper=Uv.newInstance({scalarVisibility:!1}),t.actor=dv.newInstance(),(n=t.actor.getProperty()).setEdgeColor.apply(n,y(t.edgeColor)),t.mapper.setInputConnection(e.getOutputPort()),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.requestData=function(n,r){var o=e.getRepresentationStates(n[0]);if(8===o.length){for(var i=0,a=0;a<o.length;a++){var s=o[a].getOrigin();t.points[i++]=s[0],t.points[i++]=s[1],t.points[i++]=s[2]}t.internalPolyData.getPoints().modified(),t.internalPolyData.modified(),r[0]=t.internalPolyData}else mZ("CroppingOutlineRepresentation did not get 8 states")}}var yZ={edgeColor:[1,1,1]};function bZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,yZ,n),aY.extend(e,t,n),fe.setGetArray(e,t,["edgeColor"],3),fe.get(e,t,["mapper","actor"]),vZ(e,t)}var wZ={newInstance:fe.newInstance(bZ,"vtkCroppingOutlineRepresentation"),extend:bZ},xZ=["-","=","+"];function CZ(e,t){var n=new Float64Array(3);return ii(n,e,t),n}function SZ(e){var t=g(e.split("").map((function(e){return xZ.indexOf(e)-1})),3),n=t[0],r=t[1],o=t[2];return n*r*o!=0?"corners":n*r!=0||r*o!=0||o*n!=0?"edges":"faces"}function AZ(e,t){var n=null;e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.handleLeftButtonPress=function(){return t.activeState&&t.activeState.getActive()&&t.pickable?(n=!0,t.interactor.requestAnimation(e),fe.EVENT_ABORT):fe.VOID},e.handleMouseMove=function(r){return n&&t.pickable&&t.dragable?e.handleEvent(r):fe.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable&&(n=!1,t.interactor.cancelAnimation(e),t.widgetState.deactivate())},e.handleEvent=function(e){if(t.pickable&&t.activeState&&t.activeState.getActive()){var n=t.activeState.getManipulator();if(n){var r=t.activeState.getName(),o=SZ(r),i=r.split("").map((function(e){return xZ.indexOf(e)})),a=t.widgetState.getCroppingPlanes().getPlanes(),s=t.widgetState.getIndexToWorldT(),u=[];if("corners"===o&&(n.setNormal(t.camera.getDirectionOfProjection()),u=n.handleEvent(e,t.apiSpecificRenderWindow)),"faces"===o){var c=[1-i[0],1-i[1],1-i[2]],l=[(a[0]+a[1])/2,(a[2]+a[3])/2,(a[4]+a[5])/2];n.setOrigin(CZ(l,s)),n.setNormal(CZ(c,s)),u=n.handleEvent(e,t.apiSpecificRenderWindow)}if("edges"===o){var f=i.map((function(e){return 1===e?e:0}));n.setNormal(CZ(f,s)),u=n.handleEvent(e,t.apiSpecificRenderWindow)}if(u.length){for(var d,p,h=CZ(u,t.widgetState.getWorldToIndexT()),m=0;m<3;m++)0===i[m]?a[2*m]=h[m]:2===i[m]&&(a[2*m+1]=h[m]);return(d=t.activeState).setOrigin.apply(d,y(u)),(p=t.widgetState.getCroppingPlanes()).setPlanes.apply(p,y(a)),fe.EVENT_ABORT}}}return fe.VOID},t.camera=t.renderer.getActiveCamera(),t.classHierarchy.push("vtkImageCroppingWidgetProp")}var _Z=TX.createBuilder();_Z.addField({name:"indexToWorldT",initialValue:Array(16).fill(0)}).addField({name:"worldToIndexT",initialValue:Array(16).fill(0)});var PZ=TX.createBuilder().addField({name:"planes",initialValue:[0,1,0,1,0,1]}).build();_Z.addStateFromInstance({labels:["croppingPlanes"],name:"croppingPlanes",instance:PZ});for(var OZ=-1;OZ<2;OZ++)for(var EZ=-1;EZ<2;EZ++)for(var TZ=-1;TZ<2;TZ++)if(0!==OZ||0!==EZ||0!==TZ){var DZ=xZ[OZ+1]+xZ[EZ+1]+xZ[TZ+1],IZ=SZ(DZ);_Z.addStateFromMixin({labels:["handles",DZ,IZ],mixins:["name","origin","color","scale1","visible","manipulator"],name:DZ,initialValues:{scale1:10,origin:[OZ,EZ,TZ],visible:!0,name:DZ}})}function kZ(e,t){t.classHierarchy.push("vtkImageCroppingWidget");var n=null;function r(e,n){t.widgetState.getStatesWithLabel(e).forEach((function(e){e.setVisible(n)}))}e.setFaceHandlesEnabled=function(e){return r("faces",e)},e.setEdgeHandlesEnabled=function(e){return r("edges",e)},e.setCornerHandlesEnabled=function(e){return r("corners",e)},e.copyImageDataDescription=function(n){var r,o;(r=t.widgetState).setIndexToWorldT.apply(r,y(n.getIndexToWorld())),(o=t.widgetState).setWorldToIndexT.apply(o,y(n.getWorldToIndex()));var i=n.getDimensions();t.widgetState.getCroppingPlanes().setPlanes([0,i[0],0,i[1],0,i[2]]),e.modified()},e.updateHandles=function(){for(var e=t.widgetState.getCroppingPlanes().getPlanes(),n=[(e[0]+e[1])/2,(e[2]+e[3])/2,(e[4]+e[5])/2],r=[e[0],n[0],e[1]],o=[e[2],n[1],e[3]],i=[e[4],n[2],e[5]],a=t.widgetState.getIndexToWorldT(),s=function(e){return xZ[e]},u=0;u<3;u++)for(var c=0;c<3;c++)for(var l=0;l<3;l++)if(1!==u||1!==c||1!==l){var f=[u,c,l].map(s).join(""),d=CZ([r[u],o[c],i[l]],a),p=g(t.widgetState.getStatesWithLabel(f),1)[0];p.setOrigin.apply(p,y(d))}},e.delete=fe.chain(e.delete,(function(){n&&n.unsubscribe()})),t.behavior=AZ,t.widgetState=_Z.build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["handles"]},{builder:wZ,labels:["corners"]}]}},n=t.widgetState.getCroppingPlanes().onModified(e.updateHandles);var o=VX.newInstance(),i=RX.newInstance();t.widgetState.getStatesWithLabel("corners").forEach((function(e){return e.setManipulator(o)})),t.widgetState.getStatesWithLabel("edges").forEach((function(e){return e.setManipulator(o)})),t.widgetState.getStatesWithLabel("faces").forEach((function(e){return e.setManipulator(i)}))}var MZ={};function NZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MZ,n),VK.extend(e,t,n),kZ(e,t)}var RZ={newInstance:fe.newInstance(NZ,"vtkImageCroppingWidget"),extend:NZ};function BZ(e,t){t.classHierarchy.push("vtkPlaneWidget");var n=null;e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.updateCursor=function(){switch(t.activeState.getUpdateMethodName()){case"updateFromOrigin":t.apiSpecificRenderWindow.setCursor("crosshair");break;case"updateFromPlane":t.apiSpecificRenderWindow.setCursor("move");break;case"updateFromNormal":t.apiSpecificRenderWindow.setCursor("alias");break;default:t.apiSpecificRenderWindow.setCursor("grabbing")}},e.handleLeftButtonPress=function(r){return t.activeState&&t.activeState.getActive()&&t.pickable?(n=!0,t.lineManipulator.setOrigin(t.widgetState.getOrigin()),t.planeManipulator.setOrigin(t.widgetState.getOrigin()),t.trackballManipulator.reset(r),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.handleMouseMove=function(r){return n&&t.pickable?e.handleEvent(r):fe.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable&&(e.invokeEndInteractionEvent(),t.interactor.cancelAnimation(e)),n=!1,t.widgetState.deactivate()},e.handleEvent=function(n){return t.pickable&&t.activeState&&t.activeState.getActive()?(e[t.activeState.getUpdateMethodName()](n),e.invokeInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.updateFromOrigin=function(e){t.planeManipulator.setNormal(t.widgetState.getNormal());var n=t.planeManipulator.handleEvent(e,t.apiSpecificRenderWindow);t.widgetState.containsPoint(n)&&t.activeState.setOrigin(n)},e.updateFromPlane=function(e){var n;t.lineManipulator.setNormal(t.activeState.getNormal());var r=t.lineManipulator.handleEvent(e,t.apiSpecificRenderWindow);(n=t.widgetState).containsPoint.apply(n,y(r))&&t.activeState.setOrigin(r)},e.updateFromNormal=function(e){t.trackballManipulator.setNormal(t.activeState.getNormal());var n=t.trackballManipulator.handleEvent(e,t.apiSpecificRenderWindow);t.activeState.setNormal(n)},t.lineManipulator=RX.newInstance(),t.planeManipulator=VX.newInstance(),t.trackballManipulator=HX.newInstance()}function LZ(e,t){t.classHierarchy.push("vtkPlaneWidget"),t.widgetState=SY.generateState(),t.behavior=BZ,t.methodsToLink=["representationStyle","sphereResolution","handleSizeRatio","axisScale","normalVisible","originVisible","planeVisible","outlineVisible"],e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:SY}]}}}var FZ={};function jZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,FZ,n),VK.extend(e,t,n),LZ(e,t)}var VZ={newInstance:fe.newInstance(jZ,"vtkImplicitPlaneWidget"),extend:jZ};function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GZ(e,t){t.classHierarchy.push("vtkInteractiveOrientationWidgetProp"),fe.event(e,t,"OrientationChange"),e.handleRightButtonPress=function(n){return t.activeState&&t.activeState.getActive()&&t.pickable?(e.invokeOrientationChange(zZ({action:"rightPress",event:n},t.activeState.get("up","right","direction"))),fe.EVENT_ABORT):fe.VOID},e.handleLeftButtonPress=function(n){return t.activeState&&t.activeState.getActive()&&t.pickable?(e.invokeOrientationChange(zZ({action:"leftPress",event:n},t.activeState.get("up","right","direction"))),fe.EVENT_ABORT):fe.VOID}}var WZ=[[-1,-1,-1],[-1,1,-1],[1,-1,-1],[1,1,-1],[-1,-1,1],[-1,1,1],[1,-1,1],[1,1,1]];function HZ(e,t){t.classHierarchy.push("vtkInteractiveOrientationWidget"),t.methodsToLink=["closePolyLine","activeScaleFactor","activeColor","useActiveColor","glyphResolution","defaultScale"],t.behavior=GZ,t.widgetState=TX.createBuilder().addStateFromMixin({labels:["handles","---"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[0]}}).addStateFromMixin({labels:["handles","-+-"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[1]}}).addStateFromMixin({labels:["handles","+--"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[2]}}).addStateFromMixin({labels:["handles","++-"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[3]}}).addStateFromMixin({labels:["handles","--+"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[4]}}).addStateFromMixin({labels:["handles","-++"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[5]}}).addStateFromMixin({labels:["handles","+-+"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[6]}}).addStateFromMixin({labels:["handles","+++"],mixins:["origin"],name:"handle",initialValues:{origin:WZ[7]}}).build("orientation","name"),e.setBounds=function(e){for(var n=t.widgetState.getStatesWithLabel("handles"),r=0;r<n.length;r++){var o=WZ[r],i=o[0]>0?e[1]:e[0],a=o[1]>0?e[3]:e[2],s=o[2]>0?e[5]:e[4];n[r].setOrigin(i,a,s)}},e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:lY,labels:["---","--+","-++","-+-"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 1"}},{builder:lY,labels:["---","+--","+-+","--+"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 2"}},{builder:lY,labels:["+--","++-","+++","+-+"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 3"}},{builder:lY,labels:["++-","-+-","-++","+++"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 4"}},{builder:lY,labels:["-++","--+","+-+","+++"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 5"}},{builder:lY,labels:["-+-","++-","+--","---"],initialValues:{behavior:uK,pickable:!0,activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,name:"Face 6"}}]}}}var qZ={};function KZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qZ,n),VK.extend(e,t,n),HZ(e,t)}var XZ={newInstance:fe.newInstance(KZ,"vtkInteractiveOrientationWidget"),extend:KZ},YZ=TX.createBuilder().addField({name:"posOnLine",initialValue:.5}).build();function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var JZ="triangle",$Z="star",QZ="arrow4points",eJ="arrow6points";function tJ(e,t){var n=Vc.newInstance(),r=fe.newTypedArray(t.pointType,30),o=new Uint32Array(11);o[0]=10;for(var i=0;i<10;i++){var a=i%2==1?t.height:.4*t.height;r[3*i+0]=a*Math.cos((2*i-1)*Math.PI/10),r[3*i+1]=a*Math.sin((2*i-1)*Math.PI/10),r[3*i+2]=0,o[1+i]=i}return n.getPoints().setData(r,3),n.getPolys().setData(o,1),n}function nJ(e,t){var n=Vc.newInstance(),r=fe.newTypedArray(t.pointType,18),o=.5*t.height*t.thickness,i=.5*t.height-o,a=(.9*t.height+o-i-(.5*t.height-o-i))*(1-t.base);r[0]=t.width/2*-1-o,r[1]=t.height/4-i-a,r[2]=0,r[3]=0,r[4]=.9*t.height+o-i-a,r[5]=0,r[6]=t.width/2+o,r[7]=t.height/4-i-a,r[8]=0,r[9]=t.width/3,r[10]=.1*t.height-o-i-a,r[11]=0,r[12]=0,r[13]=.5*t.height-o-i-a,r[14]=0,r[15]=t.width/3*-1,r[16]=.1*t.height-o-i-a,r[17]=0;var s=Uint8Array.from([3,0,1,5,3,1,4,5,3,1,4,3,3,1,2,3]);return n.getPoints().setData(r,3),n.getPolys().setData(s,1),n}function rJ(e,t){var n=Vc.newInstance(),r=fe.newTypedArray(t.pointType,12),o=t.height/3*t.thickness,i=t.height/3-o,a=(t.height-i-(t.height/3-o-i))*(1-t.base);r[0]=t.width/2*-1,r[1]=0-i-a,r[2]=0,r[3]=0,r[4]=t.height-i-a,r[5]=0,r[6]=t.width/2,r[7]=0-i-a,r[8]=0,r[9]=0,r[10]=t.height/3-o-i-a,r[11]=0;var s=Uint8Array.from([3,0,1,3,3,1,2,3]);return n.getPoints().setData(r,3),n.getPolys().setData(s,1),n}function oJ(e,t){var n=Vc.newInstance(),r=fe.newTypedArray(t.pointType,9),o=t.height*(1-t.base);r[0]=t.width/2*-1,r[1]=0-o,r[2]=0,r[3]=0,r[4]=t.height-o,r[5]=0,r[6]=t.width/2,r[7]=0-o,r[8]=0;var i=Uint8Array.from([3,0,1,2]);return n.getPoints().setData(r,3),n.getPolys().setData(i,1),n}function iJ(e,t){var n,r=(p(n={},JZ,oJ),p(n,$Z,tJ),p(n,QZ,rJ),p(n,eJ,nJ),n);e.requestData=function(n,o){var i;o[0]=r[t.shape](e,t),(i=Es.buildFromRadian()).translate.apply(i,y(t.center)).rotateFromDirections([1,0,0],t.direction).apply(o[0].getPoints().getData())}}function aJ(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({base:0,center:[0,0,0],height:1,direction:[1,0,0],pointType:"Float32Array",thickness:0,width:1},e)}function sJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,aJ(n)),fe.obj(e,t),fe.setGet(e,t,["height","width","thickness","base"]),fe.setGetArray(e,t,["center","direction"],3),fe.algo(e,t,0,1),iJ(e,t)}var uJ={newInstance:fe.newInstance(sJ,"vtkArrow2DSource"),extend:sJ};function cJ(e,t){e.requestData=function(e,n){var r,o=Vc.newInstance(),i=fe.newTypedArray(t.pointType,48);i[0]=t.radius,i[1]=t.radius/t.width,i[2]=0,i[3]=t.radius+t.spacing,i[4]=t.radius/t.width,i[5]=0,i[6]=t.radius,i[7]=t.radius/t.width*-1,i[8]=0,i[9]=t.radius+t.spacing,i[10]=t.radius/t.width*-1,i[11]=0,i[12]=-1*t.radius,i[13]=t.radius/t.width,i[14]=0,i[15]=-1*(t.radius+t.spacing),i[16]=t.radius/t.width,i[17]=0,i[18]=-1*t.radius,i[19]=t.radius/t.width*-1,i[20]=0,i[21]=-1*(t.radius+t.spacing),i[22]=t.radius/t.width*-1,i[23]=0,i[24]=t.radius/t.width,i[25]=t.radius,i[26]=0,i[27]=t.radius/t.width,i[28]=t.radius+t.spacing,i[29]=0,i[30]=t.radius/t.width*-1,i[31]=t.radius,i[32]=0,i[33]=t.radius/t.width*-1,i[34]=t.radius+t.spacing,i[35]=0,i[36]=t.radius/t.width,i[37]=-1*t.radius,i[38]=0,i[39]=t.radius/t.width,i[40]=-1*(t.radius+t.spacing),i[41]=0,i[42]=t.radius/t.width*-1,i[43]=-1*t.radius,i[44]=0,i[45]=t.radius/t.width*-1,i[46]=-1*(t.radius+t.spacing),i[47]=0;var a=Uint8Array.from([3,0,1,2,3,2,1,3,3,4,6,5,3,6,5,7,3,8,11,9,3,8,10,11,3,12,13,15,3,12,15,14]);(r=Es.buildFromRadian()).translate.apply(r,y(t.center)).rotateFromDirections([1,0,0],t.orientation).apply(i),o.getPoints().setData(i,3),o.getPolys().setData(a,1),n[0]=o}}var lJ={radius:1,spacing:2,width:4,pointType:"Float32Array"};function fJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.center=[0,0,0],t.orientation=[1,0,0],Object.assign(t,lJ,n),fe.obj(e,t),fe.setGet(e,t,["radius","spacing","width"]),fe.setGetArray(e,t,["center","orientation"],3),fe.algo(e,t,0,1),cJ(e,t)}var dJ={newInstance:fe.newInstance(fJ,"vtkArrow2DSource"),extend:fJ},pJ={NONE:"voidSphere",SPHERE:"sphere",CUBE:"cube",CONE:"cone",ARROWHEAD3:"triangle",ARROWHEAD4:"4pointsArrowHead",ARROWHEAD6:"6pointsArrowHead",STAR:"star",DISK:"disk",CIRCLE:"circle",VIEWFINDER:"viewFinder"},hJ={ShapeType:pJ,Shapes2D:[pJ.ARROWHEAD3,pJ.ARROWHEAD4,pJ.ARROWHEAD6,pJ.STAR,pJ.DISK,pJ.CIRCLE,pJ.VIEWFINDER],Shapes3D:[pJ.SPHERE,pJ.CUBE,pJ.CONE],ShapesOrientable:[pJ.CONE,pJ.ARROWHEAD3,pJ.ARROWHEAD4,pJ.ARROWHEAD6]};function mJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mJ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vJ=hJ.ShapeType,yJ=hJ.Shapes2D,bJ=hJ.ShapesOrientable;function wJ(e,t){t.classHierarchy.push("vtkArrowHandleRepresentation");var n=gJ({},e);function r(n){if(t.displayCallback){for(var r=[],o=e.getRepresentationStates(),i=0;i<o.length;i++)o[i].getActive()&&r.push(n[i]);if(r.length)return void t.displayCallback(r)}t.displayCallback()}function o(n){var r=!0===t.faceCamera||null==t.faceCamera&&e.is2DShape(),o=new Float64Array(9);ba(o,t.viewMatrix);var i=Aa(new Float64Array(9));r&&Pa(i,o);var a=null;return a=e.isOrientableShape()?function(e){var n=new Float64Array(3);ai(n,t.orientation,e),n[2]=0;var r=Es.buildFromDegree().rotateFromDirections([0,1,0],n).getMatrix(),o=new Float64Array(9);return ba(o,r),o}(i):Aa(new Float64Array(9)),r&&(a=function(e,t,n){var r=new Float64Array(9);return Ta(r,n,t),ai(e,e,r),r}(n,a,o)),a}t.internalPolyData=Vc.newInstance({mtime:0}),t.internalArrays={points:t.internalPolyData.getPoints(),scale:Fn.newInstance({name:"scale",numberOfComponents:1,empty:!0}),color:Fn.newInstance({name:"color",numberOfComponents:1,empty:!0}),direction:Fn.newInstance({name:"direction",numberOfComponents:9,empty:!0})},t.internalPolyData.getPointData().addArray(t.internalArrays.scale),t.internalPolyData.getPointData().addArray(t.internalArrays.color),t.internalPolyData.getPointData().addArray(t.internalArrays.direction),t.displayMapper=Zw.newInstance(),t.displayActor=dv.newInstance(),t.displayActor.setMapper(t.displayMapper),t.displayMapper.setInputConnection(e.getOutputPort()),e.addActor(t.displayActor),t.alwaysVisibleActors=[t.displayActor],t.mapper=GR.newInstance({orientationArray:"direction",scaleArray:"scale",colorByArrayName:"color",scalarMode:is.USE_POINT_FIELD_DATA}),t.mapper.setOrientationModeToMatrix(),t.mapper.setInputConnection(e.getOutputPort()),t.actor=dv.newInstance(),t.actor.setMapper(t.mapper),e.addActor(t.actor),e.setGlyphResolution=fe.chain(e.setGlyphResolution,(function(e){return t.glyph.setPhiResolution(e)&&t.glyph.setThetaResolution(e)})),e.setDisplayCallback=function(e){t.displayCallback=e,t.displayMapper.setCallback(e?r:null)},e.is2DShape=function(){return yJ.includes(t.shape)},e.isOrientableShape=function(){return bJ.includes(t.shape)},e.requestDataInternal=function(n,r){var i=t.internalArrays,a=i.points,s=i.scale,u=i.color,c=i.direction,l=e.getRepresentationStates(n[0]),f=l.length;u.getNumberOfValues()!==f&&(a.setData(new Float32Array(3*f),3),s.setData(new Float32Array(f)),u.setData(new Float32Array(f)),c.setData(new Float32Array(9*f)));for(var d={points:a.getData(),scale:s.getData(),color:u.getData(),direction:c.getData()},p=0;p<l.length;p++){var h=l[p],m=h.getActive(),g=m?t.activeScaleFactor:1,v=h.getOrigin();d.points[3*p+0]=v[0],d.points[3*p+1]=v[1],d.points[3*p+2]=v[2];var y=h.getScale3?h.getScale3():[1,1,1],b=o(y=y.map((function(e){return 0===e?2*t.defaultScale:2*e})));d.direction.set(b,9*p),d.scale[p]=g*(h.getScale1?h.getScale1():t.defaultScale),e.getScaleInPixels()&&(d.scale[p]*=e.getPixelWorldHeightAtCoord(v)),d.color[p]=t.useActiveColor&&m?t.activeColor:h.getColor()}t.internalPolyData.modified(),r[0]=t.internalPolyData},e.requestData=function(n,r){var o=e.getRepresentationStates(n[0])[0].getShape(),i=null==t.glyph;t.shape!==o&&Object.values(vJ).includes(o)&&(t.shape=o,i=!0),i&&(t.glyph=function(e){var t,n=(p(t={},vJ.STAR,{builder:uJ,initialValues:{shape:"star",height:.6}}),p(t,vJ.ARROWHEAD3,{builder:uJ,initialValues:{shape:"triangle"}}),p(t,vJ.ARROWHEAD4,{builder:uJ,initialValues:{shape:"arrow4points"}}),p(t,vJ.ARROWHEAD6,{builder:uJ,initialValues:{shape:"arrow6points"}}),p(t,vJ.CONE,{builder:Zd,initialValues:{direction:[0,1,0]}}),p(t,vJ.SPHERE,{builder:Jp}),p(t,vJ.CUBE,{builder:vp,initialValues:{xLength:.8,yLength:.8,zLength:.8}}),p(t,vJ.DISK,{builder:cp,initialValues:{resolution:30,radius:.5,direction:[0,0,1],lines:!1,face:!0}}),p(t,vJ.CIRCLE,{builder:cp,initialValues:{resolution:30,radius:.5,direction:[0,0,1],lines:!0,face:!1}}),p(t,vJ.VIEWFINDER,{builder:dJ,initialValues:{radius:.1,spacing:.3,width:1.4}}),p(t,vJ.NONE,{builder:Jp}),t)[e];return n.builder.newInstance(n.initialValues)}(t.shape),t.mapper.setInputConnection(t.glyph.getOutputPort(),1)),e.requestDataInternal(n,r)},e.updateActorVisibility=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SA.FRONT_BUFFER,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.getRepresentationStates()[0];n.updateActorVisibility(t,r,o,i&&a.isVisible())}}function xJ(e){return gJ({defaultScale:1,faceCamera:null,orientation:[1,0,0],shape:vJ.SPHERE,viewMatrix:Di(new Float64Array(16))},e)}function CJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xJ(n)),JX.extend(e,t,n),fe.get(e,t,["glyph","mapper","actor"]),fe.setGetArray(e,t,["visibilityFlagArray"],2),fe.setGetArray(e,t,["orientation"],3),fe.setGetArray(e,t,["viewMatrix"],16),fe.setGet(e,t,["faceCamera"]),wJ(e,t)}var SJ={newInstance:fe.newInstance(CJ,"vtkArrowHandleRepresentation"),extend:CJ};function AJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _J=wK;function PJ(e,t){t.classHierarchy.push("vtkSVGLandmarkRepresentation"),e.render=function(){var n=e.getRepresentationStates(),r=n.map((function(e){return e.getOrigin()})),o=n.map((function(e,t){return e.getText?e.getText():"L".concat(t)}));return e.worldPointsToPixelSpace(r).then((function(n){for(var r=n.coords,i=n.windowSize[1],a=_J("g"),s=function(n){var s=r[n];if(Number.isNaN(s[0])||Number.isNaN(s[1]))return"continue";var u=s[0],c=i-s[1];if(!0===t.showCircle){var l=e.createListenableSvgElement("circle",n);Object.keys(t.circleProps||{}).forEach((function(e){return l.setAttribute(e,t.circleProps[e])})),l.setAttribute("cx",u),l.setAttribute("cy",c),a.appendChild(l)}o[n]||(o[n]="");var f=o[n].split("\n"),d=null!=t.fontProperties&&t.fontProperties.fontSize?t.fontProperties.fontSize:15;f.forEach((function(r,o){var i=e.createListenableSvgElement("text",n);Object.keys(t.textProps||{}).forEach((function(e){var n=t.textProps[e];!0===t.offsetText&&"dy"===e&&(n=t.textProps.dy+d*o),i.setAttribute(e,n)})),i.setAttribute("x",u),i.setAttribute("y",c),null!=t.fontProperties&&(i.setAttribute("font-size",t.fontProperties.fontSize),i.setAttribute("font-family",t.fontProperties.fontFamily),i.setAttribute("font-weight",t.fontProperties.fontStyle),i.setAttribute("fill",t.fontProperties.fontColor)),i.textContent=r,a.appendChild(i)}))},u=0;u<r.length;u++)s(u);return a}))}}function OJ(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AJ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({circleProps:{r:5,stroke:"red",fill:"red"},textProps:{fill:"white",dx:12,dy:-12}},e)}function EJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,OJ(n)),bK(e,t,n),fe.setGet(e,t,["circleProps","fontProperties","name","textProps"]),PJ(e,t)}var TJ={extend:EJ,newInstance:fe.newInstance(EJ,"vtkSVGLandmarkRepresentation")};function DJ(e){var t=[0,0,0],n=e.widgetState.getHandle1().getOrigin(),r=e.widgetState.getHandle2().getOrigin(),o=e.widgetState.getPositionOnLine().getPosOnLine();return o=1-o,Ke(n,r,t),Xe(t,o),qe(t,r,t),t}function IJ(e){e.widgetState.getText().setOrigin(DJ(e))}function kJ(e,t){var n=t.getHandle1().getOrigin();if(0===e)return n.length>0;var r=t.getHandle2().getOrigin();return n.length>0&&r.length>0&&!Ot(n,r,0)}function MJ(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||kJ(e,t)?t["getHandle".concat(e+1)]():t.getMoveHandle()).getOrigin();return n.length?n:null}function NJ(e){var t=0;return kJ(0,e)&&(t=1+kJ(1,e)),t}function RJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var BJ=hJ.ShapeType,LJ=["getHandle1","getHandle2","getMoveHandle"];function FJ(e,t){function n(e){return e.altKey||e.controlKey||e.shiftKey}function r(e,t){var n=Ke(e,t,[]);return nt(n),n}function o(n,r){var o=e.computeWorldToDisplay.apply(e,[t.renderer].concat(y(n)));return e.computeDisplayToWorld(t.renderer,r.position.x,r.position.y,o[2])}function i(e){var n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=MJ(e,t.widgetState);return r(i,n?o(i,n):MJ(1-e,t.widgetState))}(Math.min(1,e));t.representations[e].setOrientation(n)}t.classHierarchy.push("vtkLineWidgetProp"),e.getHandle=function(e){return t.widgetState[LJ[e]]()},e.isPlaced=function(){return 2===NJ(t.widgetState)},e.placeText=function(){var n,r,o=(n=e.getHandle(0).getOrigin(),r=e.getHandle(1).getOrigin(),n[0]<=r[0]?n[1]<=r[1]?1:-1:n[1]<=r[1]?-1:1),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RJ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.representations[3].getTextProps());i.dy=o*Math.abs(i.dy),t.representations[3].setTextProps(i),t.interactor.render()},e.setText=function(e){t.widgetState.getText().setText(e),t.interactor.render()},e.updateHandleOrientations=function(){i(0),i(1),i(2)},e.rotateHandlesToFaceCamera=function(){t.representations[0].setViewMatrix(Array.from(t.camera.getViewMatrix())),t.representations[1].setViewMatrix(Array.from(t.camera.getViewMatrix()))},e.setMoveHandleVisibility=function(e){t.representations[2].setVisibilityFlagArray([e,e]),t.widgetState.getMoveHandle().setVisible(e),t.representations[2].updateActorVisibility()},e.updateHandleVisibility=function(n){var r=e.getHandle(n),o=r.getVisible()&&kJ(n,t.widgetState);t.representations[n].setVisibilityFlagArray([o,o&&r.getShape()!==BJ.NONE]),t.representations[n].updateActorVisibility(),t.interactor.render()},e.placeHandle=function(n){var r,o=e.getHandle(n);o.setOrigin.apply(o,y(t.widgetState.getMoveHandle().getOrigin())),e.updateHandleOrientations(),e.rotateHandlesToFaceCamera(),t.widgetState.getText().setOrigin(DJ(t)),e.updateHandleVisibility(n),0===n&&((r=e.getHandle(1)).setOrigin.apply(r,y(t.widgetState.getMoveHandle().getOrigin())),e.updateHandleVisibility(1),t.widgetState.getMoveHandle().setShape(e.getHandle(1).getShape())),1===n&&(e.placeText(),e.setMoveHandleVisibility(!1))},e.handleLeftButtonPress=function(r){return t.activeState&&t.activeState.getActive()&&t.pickable&&!n(r)?(t.activeState===t.widgetState.getMoveHandle()&&0===NJ(t.widgetState)?e.placeHandle(0):t.widgetState.getMoveHandle().getActive()&&1===NJ(t.widgetState)?e.placeHandle(1):t.widgetState.getText().getActive()||(o=r,t.isDragging=!0,t.previousPosition=y(t.manipulator.handleEvent(o,t.apiSpecificRenderWindow)),t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e)),e.invokeStartInteractionEvent(),fe.EVENT_ABORT):fe.VOID;var o},e.handleMouseMove=function(r){if(t.hasFocus&&e.isPlaced()&&!t.isDragging)return e.loseFocus(),fe.VOID;if(t.pickable&&t.dragable&&t.manipulator&&t.activeState&&t.activeState.getActive()&&!n(r)){var o=t.manipulator.handleEvent(r,t.apiSpecificRenderWindow),i=t.previousPosition?Ke(o,t.previousPosition,[]):[0,0,0];if(t.previousPosition=o,t.activeState===t.widgetState.getMoveHandle()||t.isDragging)return t.activeState.setOrigin?t.activeState.setOrigin(o):(e.getHandle(0).setOrigin(qe(e.getHandle(0).getOrigin(),i,[])),e.getHandle(1).setOrigin(qe(e.getHandle(1).getOrigin(),i,[]))),e.updateHandleOrientations(),IJ(t),e.invokeInteractionEvent(),fe.EVENT_ABORT}return fe.VOID},e.handleLeftButtonRelease=function(){if(t.activeState&&t.activeState.getActive()&&(t.isDragging||e.isPlaced())){var n=t.widgetState.getText().getActive();e.placeText(),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.activeState=null,n||t.interactor.cancelAnimation(e),t.apiSpecificRenderWindow.setCursor("pointer"),t.hasFocus=!1,e.invokeEndInteractionEvent(),t.widgetManager.enablePicking(),t.interactor.render()}!1!==t.isDragging||t.activeState&&t.activeState.getActive()||e.rotateHandlesToFaceCamera(),t.isDragging=!1},e.grabFocus=function(){t.hasFocus||e.isPlaced()||(t.activeState=t.widgetState.getMoveHandle(),t.activeState.setShape(e.getHandle(0).getShape()),e.setMoveHandleVisibility(!0),t.activeState.activate(),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}function jJ(e,t){t.classHierarchy.push("vtkLineWidget"),t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible","shape"],name:"moveHandle",initialValues:{scale1:50,origin:[],visible:!0}}).addStateFromMixin({labels:["handle1"],mixins:["origin","color","scale1","visible","manipulator","shape"],name:"handle1",initialValues:{scale1:50,origin:[]}}).addStateFromMixin({labels:["handle2"],mixins:["origin","color","scale1","visible","manipulator","shape"],name:"handle2",initialValues:{scale1:50,origin:[]}}).addStateFromMixin({labels:["SVGtext"],mixins:["origin","color","text","visible"],name:"text",initialValues:{text:"",visible:!1,origin:[0,0,0]}}).addStateFromInstance({name:"positionOnLine",instance:YZ}).addField({name:"lineThickness"}).build(),t.behavior=FJ,t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","glyphResolution","defaultScale"],e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:SJ,labels:["handle1"],initialValues:{scaleInPixels:!0,visibilityFlagArray:[!1,!1],coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1,offset:-1},Polygon:{factor:-3,offset:-3}}}},{builder:SJ,labels:["handle2"],initialValues:{scaleInPixels:!0,visibilityFlagArray:[!1,!1],coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1,offset:-1},Polygon:{factor:-3,offset:-3}}}},{builder:SJ,labels:["moveHandle"],initialValues:{scaleInPixels:!0,visibilityFlagArray:[!1,!1],coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1,offset:-1},Polygon:{factor:-3,offset:-3}}}},{builder:TJ,initialValues:{showCircle:!1,isVisible:!1,offsetText:!0,text:""},labels:["SVGtext"]},{builder:MY,labels:["handle1","handle2","moveHandle"],initialValues:{behavior:uK,pickable:!0}}]}},e.getDistance=function(){var e=MJ(0,t.widgetState),n=MJ(1,t.widgetState);return e&&n?Math.sqrt(st(e,n)):0},t.widgetState.onBoundsChange((function(e){var n=[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])];t.widgetState.getMoveHandle().setOrigin(n)})),t.widgetState.getPositionOnLine().onModified((function(){IJ(t)})),t.manipulator=VX.newInstance()}var VJ={isDragging:!1};function UJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VJ,n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator","isDragging"]),jJ(e,t)}var zJ={newInstance:fe.newInstance(UJ,"vtkLineWidget"),extend:UJ};function GJ(e,t){e.handleLeftButtonPress=function(n){return t.activeState&&t.activeState.getActive()?(t.painting=!0,t.widgetState.addTrail().set(t.activeState.get("origin","up","right","direction","scale1")),e.invokeStartInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.handleMouseMove=function(t){return e.handleEvent(t)},e.handleLeftButtonRelease=function(){t.painting&&(e.invokeEndInteractionEvent(),t.widgetState.clearTrailList()),t.painting=!1},e.handleEvent=function(n){if(t.manipulator&&t.activeState&&t.activeState.getActive()){var r,o,i,a=t.camera.getDirectionOfProjection(),s=t.camera.getViewUp(),u=[];ei(u,s,a),(r=t.activeState).setUp.apply(r,y(s)),(o=t.activeState).setRight.apply(o,u),(i=t.activeState).setDirection.apply(i,y(a)),t.manipulator.setNormal(a);var c,l,f=t.manipulator.handleEvent(n,t.apiSpecificRenderWindow);return f.length&&((c=t.widgetState).setTrueOrigin.apply(c,y(f)),(l=t.activeState).setOrigin.apply(l,y(f)),t.painting&&t.widgetState.addTrail().set(t.activeState.get("origin","up","right","direction","scale1"))),e.invokeInteractionEvent(),fe.EVENT_ABORT}return fe.VOID},e.grabFocus=function(){if(!t.hasFocus){t.activeState=t.widgetState.getHandle(),t.activeState.activate(),t.interactor.requestAnimation(e);var n=t.apiSpecificRenderWindow.getCanvas();n.onmouseenter=function(){t.hasFocus&&t.activeState===t.widgetState.getHandle()&&t.activeState.setVisible(!0)},n.onmouseleave=function(){t.hasFocus&&t.activeState===t.widgetState.getHandle()&&t.activeState.setVisible(!1)}}t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&t.interactor.cancelAnimation(e),t.widgetState.deactivate(),t.widgetState.getHandle().deactivate(),t.activeState=null,t.hasFocus=!1},fe.get(e,t,["painting"])}function WJ(e,t){t.classHierarchy.push("vtkPaintWidget"),t.behavior=GJ,e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:return[{builder:tY,labels:["handle","trail"]}];case CA.VOLUME:default:return[{builder:LY,labels:["handle"]}]}},t.widgetState=TX.createBuilder().addField({name:"trueOrigin",initialValue:[0,0,0]}).addStateFromMixin({labels:["handle"],mixins:["origin","color","scale1","orientation","manipulator","visible"],name:"handle",initialValues:{scale1:2*t.radius,origin:[0,0,0],orientation:[1,0,0,0,1,0,0,0,1],visible:!0}}).addDynamicMixinState({labels:["trail"],mixins:["origin","color","scale1","orientation"],name:"trail",initialValues:{scale1:2*t.radius,origin:[0,0,0],orientation:[1,0,0,0,1,0,0,0,1]}}).build();var n=t.widgetState.getHandle();t.manipulator=VX.newInstance(),n.setManipulator(t.manipulator);var r=e.setRadius;e.setRadius=function(e){r(e)&&n.setScale1(e)}}var HJ={manipulator:null,radius:1,painting:!1,color:[1]};function qJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HJ,n),VK.extend(e,t,n),fe.get(e,t,["painting"]),fe.setGet(e,t,["manipulator","radius","color"]),WJ(e,t)}var KJ={newInstance:fe.newInstance(qJ,"vtkPaintWidget"),extend:qJ};function XJ(e,t){t.classHierarchy.push("vtkPolyLineWidgetProp");var n=null;function r(e){return e.altKey||e.controlKey||e.shiftKey}e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.handleRightButtonPress=function(n){return t.activeState&&t.activeState.getActive()&&t.pickable&&!r(n)?(t.activeState!==t.widgetState.getMoveHandle()&&(t.interactor.requestAnimation(e),t.activeState.deactivate(),t.widgetState.removeHandle(t.activeState),t.activeState=null,t.interactor.cancelAnimation(e)),e.invokeStartInteractionEvent(),e.invokeInteractionEvent(),e.invokeEndInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.handleLeftButtonPress=function(o){if(!t.activeState||!t.activeState.getActive()||!t.pickable||r(o))return fe.VOID;if(t.activeState===t.widgetState.getMoveHandle()){var i=t.widgetState.getMoveHandle(),a=t.widgetState.addHandle();a.setOrigin.apply(a,y(i.getOrigin())),a.setColor(i.getColor()),a.setScale1(i.getScale1())}else n=!0,t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e);return e.invokeStartInteractionEvent(),fe.EVENT_ABORT},e.handleMouseMove=function(o){if(t.pickable&&t.dragable&&t.manipulator&&t.activeState&&t.activeState.getActive()&&!r(o)){t.manipulator.setOrigin(t.activeState.getOrigin()),t.manipulator.setNormal(t.camera.getDirectionOfProjection());var i=t.manipulator.handleEvent(o,t.apiSpecificRenderWindow);if(i.length&&(t.activeState===t.widgetState.getMoveHandle()||n))return t.activeState.setOrigin(i),e.invokeInteractionEvent(),fe.EVENT_ABORT}return t.hasFocus&&t.widgetManager.disablePicking(),fe.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable?(t.apiSpecificRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()):t.activeState!==t.widgetState.getMoveHandle()&&t.widgetState.deactivate(),(t.hasFocus&&!t.activeState||t.activeState&&!t.activeState.getActive())&&(e.invokeEndInteractionEvent(),t.widgetManager.enablePicking(),t.interactor.render()),n=!1},e.handleKeyDown=function(t){"Escape"===t.key&&e.loseFocus()},e.grabFocus=function(){t.hasFocus||(t.activeState=t.widgetState.getMoveHandle(),t.activeState.activate(),t.activeState.setVisible(!0),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.widgetState.getMoveHandle().setVisible(!1),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}function YJ(e,t){t.classHierarchy.push("vtkPolyLineWidget"),t.methodsToLink=["activeColor","activeScaleFactor","closePolyLine","defaultScale","glyphResolution","lineThickness","useActiveColor"],t.behavior=XJ,t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:30,origin:[-1,-1,-1],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:30,origin:[-1,-1,-1]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["handles"],initialValues:{scaleInPixels:!0}},{builder:LY,labels:["moveHandle"],initialValues:{scaleInPixels:!0}},{builder:TJ,labels:["handles"]},{builder:MY,labels:["handles","moveHandle"]}]}},t.widgetState.onBoundsChange((function(e){var n=[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])];t.widgetState.getMoveHandle().setOrigin(n)})),t.manipulator=VX.newInstance()}var ZJ={};function JJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ZJ,n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator"]),YJ(e,t)}var $J={newInstance:fe.newInstance(JJ,"vtkPolyLineWidget"),extend:JJ};function QJ(e,t){t.classHierarchy.push("vtkRectangleContextRepresentation"),t.mapper=Uv.newInstance(),t.actor=dv.newInstance(),t.mapper.setInputConnection(e.getOutputPort()),t.actor.setMapper(t.mapper),t.actor.getProperty().setOpacity(.2),t.actor.getProperty().setColor(0,1,0),e.addActor(t.actor),e.setDrawBorder=function(e){t.drawBorder=e},e.setDrawFace=function(e){t.drawFace=e},e.setOpacity=function(e){t.actor.getProperty().setOpacity(e)},e.requestData=function(n,r){if(!t.deleted){var o=e.getRepresentationStates(n[0])[0],i=Vc.newInstance();if(o.getVisible()){var a=o.getOrigin(),s=o.getCorner(),u=[0,0,0];Lo(u,s,a);var c=o.getUp(),l=Qo(u,c),f=new Float32Array(12);if(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[0]+l*c[0],f[4]=a[1]+l*c[1],f[5]=a[2]+l*c[2],f[6]=s[0],f[7]=s[1],f[8]=s[2],f[9]=s[0]-l*c[0],f[10]=s[1]-l*c[1],f[11]=s[2]-l*c[2],i.getPoints().setData(f,3),t.drawFace){var d=new Uint32Array([4,0,1,2,3]);i.getPolys().setData(d,1)}if(t.drawBorder){var p=new Uint32Array([5,0,1,2,3,0]);i.getLines().setData(p,1)}}else i.getPoints().setData([],0),i.getPolys().setData([],0),i.getLines().setData([],0);r[0]=i}},e.getSelectedState=function(e,n){return t.state}}var e$={drawBorder:!1,drawFace:!0};function t$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,e$,n),JX.extend(e,t,n),fe.setGetArray(e,t,["color"],1),fe.get(e,t,["mapper","actor"]),QJ(e,t)}var n$,r$={newInstance:fe.newInstance(t$,"vtkRectangleContextRepresentation"),extend:t$};function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i$(e,t){oZ(e,t);var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o$(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);t.classHierarchy.push("vtkRectangleWidgetProp"),e.setCorners=function(e,r){n.setCorners&&n.setCorners(e,r),t.shapeHandle.setOrigin(e),t.shapeHandle.setCorner(r)}}function a$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a$(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u$(e,t){t.classHierarchy.push("vtkRectangleWidget"),t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","drawBorder","drawFace","opacity"],t.behavior=i$,e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["moveHandle"]},{builder:r$,labels:["rectangleHandle"]}]}},t.manipulator=VX.newInstance(),t.widgetState=TX.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible","manipulator"],name:"point1Handle",initialValues:{scale1:10,origin:[1,0,0],visible:!1}}).addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible","manipulator"],name:"point2Handle",initialValues:{scale1:10,origin:[1,0,0],visible:!1}}).addStateFromMixin({labels:["rectangleHandle"],mixins:["origin","corner","color","visible","orientation"],name:"rectangleHandle",initialValues:{visible:!1}}).build(),t.shapeHandle=t.widgetState.getRectangleHandle(),t.point1Handle=t.widgetState.getPoint1Handle(),t.point2Handle=t.widgetState.getPoint2Handle(),t.point1Handle.setManipulator(t.manipulator),t.point2Handle.setManipulator(t.manipulator)}var c$={modifierBehavior:{None:(n$={},p(n$,JY,QY.PLACEMENT.CLICK_AND_DRAG),p(n$,ZY,QY.POINTS.CORNER_TO_CORNER),p(n$,$Y,QY.RATIO.FREE),n$),Shift:p({},$Y,QY.RATIO.FIXED),Control:p({},ZY,QY.POINTS.CENTER_TO_CORNER)}};function l$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s$(s$({},uZ.DEFAULT_VALUES),c$),n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator","widgetState"]),u$(e,t)}var f$,d$,p$={newInstance:fe.newInstance(l$,"vtkRectangleWidget"),extend:l$},h$=0,m$=1,g$=2,v$="translateAxis",y$="rotateLine",b$="translateCenter";function w$(e,t){t.classHierarchy.push("vtkResliceCursorContextRepresentation"),t.mapper=Uv.newInstance(),t.actor=dv.newInstance(),t.mapper.setInputConnection(e.getOutputPort()),t.actor.setMapper(t.mapper),e.addActor(t.actor),t.pipelines={},t.pipelines.center={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance()},t.pipelines.axes=[];var n={};n.line={source:ep.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},n.rotation1={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},n.rotation2={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})};var r={};function o(e,t){var n=e.getColor();t.line.actor.getProperty().setColor(n),t.rotation1.actor.getProperty().setColor(n),t.rotation2.actor.getProperty().setColor(n);var r=[0,0,0];Ke(e.getPoint2(),e.getPoint1(),r);var o=[0,0,0];Ze(e.getPoint1(),r,.5,o),t.line.source.setCenter(o);var i=nt(r);t.line.source.setDirection(r),t.line.source.setHeight(i),t.rotation1.source.setCenter(e.getRotationPoint1()),t.rotation2.source.setCenter(e.getRotationPoint2())}r.line={source:ep.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},r.rotation1={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},r.rotation2={source:Jp.newInstance(),mapper:Uv.newInstance(),actor:dv.newInstance({pickable:!0})},t.pipelines.axes.push(n),t.pipelines.axes.push(r),t.pipelines.center.actor.getProperty().setAmbient(1,1,1),t.pipelines.center.actor.getProperty().setDiffuse(0,0,0),t.pipelines.axes[0].line.source.setResolution(4),t.pipelines.axes[1].line.source.setResolution(4),t.pipelines.axes.forEach((function(t){Object.values(t).forEach((function(t){mK.connectPipeline(t);var n=t.actor;n.getProperty().setAmbient(1,1,1),n.getProperty().setDiffuse(0,0,0),e.addActor(n)}))})),mK.connectPipeline(t.pipelines.center),e.addActor(t.pipelines.center.actor),e.setLineThickness=function(n){var r=n;if(e.getScaleInPixels()){var o=t.pipelines.center.source.getCenter();r*=e.getPixelWorldHeightAtCoord(o)}t.pipelines.axes[0].line.source.setRadius(r),t.pipelines.axes[1].line.source.setRadius(r)},e.setSphereRadius=function(n){e.setSphereRadiusOnSphere(n,t.pipelines.center.source),e.setSphereRadiusOnSphere(n,t.pipelines.axes[0].rotation1.source),e.setSphereRadiusOnSphere(n,t.pipelines.axes[0].rotation2.source),e.setSphereRadiusOnSphere(n,t.pipelines.axes[1].rotation1.source),e.setSphereRadiusOnSphere(n,t.pipelines.axes[1].rotation2.source)},e.setSphereRadiusOnSphere=function(t,n){var r=t;if(e.getScaleInPixels()){var o=n.getCenter();r*=e.getPixelWorldHeightAtCoord(o)}n.setRadius(r)},e.setSphereRadius(7),e.getTranslationActors=function(){return[t.pipelines.axes[0].line.actor,t.pipelines.axes[1].line.actor]},e.getRotationActors=function(){return[t.pipelines.axes[0].rotation1.actor,t.pipelines.axes[0].rotation2.actor,t.pipelines.axes[1].rotation1.actor,t.pipelines.axes[1].rotation2.actor]},e.requestData=function(n,r){var i=n[0],a=i.getCenter();t.pipelines.center.source.setCenter(a);var s="get".concat(t.axis1Name),u="get".concat(t.axis2Name),c=i[s](),l=i[u]();o(c,t.pipelines.axes[0]),o(l,t.pipelines.axes[1]),e.setLineThickness(i.getLineThickness()),e.setSphereRadius(i.getSphereRadius()),r[0]=Vc.newInstance()},e.updateActorVisibility=function(n,r,o,i){var a=t.inputData[0],s=n===SA.PICKING_BUFFER?r:r&&i;e.getActors().forEach((function(r){r.getProperty().setOpacity(a.getOpacity());var o=s;e.getRotationActors().includes(r)&&(o=o&&a.getEnableRotation()),a.getShowCenter()||r!==t.pipelines.center.actor||(o=o&&n===SA.PICKING_BUFFER),r.setVisibility(o),e.getTranslationActors().includes(r)&&r.setPickable(a.getEnableTranslation())}));var u=a.getLineThickness();n===SA.PICKING_BUFFER&&(u=Math.max(3,u)),e.setLineThickness(u);var c=a.getSphereRadius();n===SA.PICKING_BUFFER&&(c+=1),e.setSphereRadius(c)},e.getSelectedState=function(e,n){var r=t.inputData[0];r.setActiveViewType(t.viewType);var o="get".concat(t.axis1Name),i="get".concat(t.axis2Name),a=r[o](),s=r[i](),u=null,c="",l="";switch(e){case t.pipelines.axes[0].line.actor:u=a,l=v$;break;case t.pipelines.axes[1].line.actor:u=s,l=v$;break;case t.pipelines.axes[0].rotation1.actor:u=a,c="RotationPoint1",l=y$;break;case t.pipelines.axes[0].rotation2.actor:u=a,c="RotationPoint2",l=y$;break;case t.pipelines.axes[1].rotation1.actor:u=s,c="RotationPoint1",l=y$;break;case t.pipelines.axes[1].rotation2.actor:u=s,c="RotationPoint2",l=y$;break;default:l=b$}return r.setActiveLineState(u),r.setActiveRotationPointName(c),r.setUpdateMethodName(l),r}}p(f$={},CA.YZ_PLANE,[0,0,1]),p(f$,CA.XZ_PLANE,[0,0,1]),p(f$,CA.XY_PLANE,[0,-1,0]),CA.YZ_PLANE,CA.XZ_PLANE,CA.XY_PLANE,p(d$={},CA.YZ_PLANE,0),p(d$,CA.XZ_PLANE,1),p(d$,CA.XY_PLANE,2);var x$={axis1Name:"",axis2Name:"",coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1.5,offset:-1.5},Polygon:{factor:-2,offset:-2}},rotationEnabled:!0,scaleInPixels:!0,viewType:null};function C$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mK.extend(e,t,n),Object.assign(t,x$,n),w$(e,t)}var S$={newInstance:fe.newInstance(C$,"vtkResliceCursorContextRepresentation"),extend:C$};function A$(e,t){var n=null,r=!1;e.resetUpdateMethod=function(){0!==t.representations.length&&t.representations[0].getSelectedState()},e.startScrolling=function(n){n&&(t.previousPosition=n),r=!0,e.resetUpdateMethod(),e.startInteraction()},e.endScrolling=function(){r=!1,e.endInteraction()},e.updateCursor=function(){switch(t.activeState.getUpdateMethodName()){case b$:t.apiSpecificRenderWindow.setCursor("move");break;case y$:t.apiSpecificRenderWindow.setCursor("alias");break;case v$:t.apiSpecificRenderWindow.setCursor("pointer");break;default:t.apiSpecificRenderWindow.setCursor("default")}},e.handleLeftButtonPress=function(r){if(t.activeState&&t.activeState.getActive()){n=!0;var o=t.widgetState.getActiveViewType(),i=t.widgetState.getPlanes()[o].normal;t.planeManipulator.setOrigin(t.widgetState.getCenter()),t.planeManipulator.setNormal(i),e.startInteraction()}else{if(t.widgetState.getScrollingMethod()!==m$)return fe.VOID;e.startScrolling(r.position)}return fe.EVENT_ABORT},e.handleMouseMove=function(o){if(n&&t.pickable&&t.dragable)return e.handleEvent(o);if(r&&t.previousPosition.y!==o.position.y){var i=t.previousPosition.y-o.position.y;e.translateCenterOnCurrentDirection(i,o.pokedRenderer),t.previousPosition=o.position,e.invokeInternalInteractionEvent()}return fe.VOID},e.handleLeftButtonRelease=function(){(n||r)&&e.endScrolling(),n=!1,t.widgetState.deactivate()},e.handleRightButtonPress=function(n){t.widgetState.getScrollingMethod()===g$&&e.startScrolling(n.position)},e.handleRightButtonRelease=function(n){t.widgetState.getScrollingMethod()===g$&&e.endScrolling()},e.handleStartMouseWheel=function(t){e.resetUpdateMethod(),e.startInteraction()},e.handleMouseWheel=function(t){var n=t.spinY;return r=!0,e.translateCenterOnCurrentDirection(n,t.pokedRenderer),e.invokeInternalInteractionEvent(),r=!1,fe.EVENT_ABORT},e.handleEndMouseWheel=function(t){e.endScrolling()},e.handleMiddleButtonPress=function(n){t.widgetState.getScrollingMethod()===h$&&e.startScrolling(n.position)},e.handleMiddleButtonRelease=function(n){t.widgetState.getScrollingMethod()===h$&&e.endScrolling()},e.handleEvent=function(n){return t.activeState.getActive()?(e[t.activeState.getUpdateMethodName()](n),e.invokeInternalInteractionEvent(),fe.EVENT_ABORT):fe.VOID},e.invokeInternalInteractionEvent=function(){var n=t.activeState?t.activeState.getUpdateMethodName():"",r=n!==y$,o=n===y$;e.invokeInteractionEvent({computeFocalPointOffset:r,canUpdateFocalPoint:o})},e.startInteraction=function(){e.invokeStartInteractionEvent(),e.getViewWidgets().forEach((function(t){t.getInteractor().requestAnimation(e)}))},e.endInteraction=function(){e.invokeEndInteractionEvent(),e.getViewWidgets().forEach((function(t){t.getInteractor().cancelAnimation(e)}))},e.translateCenterOnCurrentDirection=function(n,r){var o=r.getRenderWindow().getRenderers()[0].getActiveCamera().getDirectionOfProjection(),i=Xe(o,-1),a=t.widgetState.getCenter(),s=t.widgetState.getImage().getSpacing(),u=o.map((function(e){return Math.abs(e)})),c=u.indexOf(Math.max.apply(Math,y(u))),l=n*(s[c]/o[c]),f=[a[0]+l*i[0],a[1]+l*i[1],a[2]+l*i[2]];f=e.getBoundedCenter(f),t.widgetState.setCenter(f),EA(t.widgetState)},e[v$]=function(n){var r=t.widgetState.getActiveLineState(),o=t.planeManipulator.handleEvent(n,t.apiSpecificRenderWindow),i=r.getPoint1(),a=r.getPoint2(),s=DA(r.getName()),u=t.widgetState["get".concat(s)](),c=Ke(u.getPoint2(),u.getPoint1(),[]);nt(c);var l=c,f=Ke(a,i,[0,0,0]);nt(f);var d=$e(f,c);1!==d&&-1!==d||et(f,t.planeManipulator.getNormal(),l);var p=[];Uu.distanceToLine(o,i,a,p);var h=$e(Ke(o,p,[]),l),m=Ze(t.widgetState.getCenter(),l,h,[0,0,0]);m=e.getBoundedCenter(m),t.widgetState.setCenter(m),EA(t.widgetState)},e.getBoundedCenter=function(e){var n=t.widgetState.getCenter(),r=t.widgetState.getImage().getBounds();return Xr.containsPoint.apply(Xr,[r].concat(y(e)))?e:function(e,t,n){var r=[0,0,0];Ke(t,e,r);var o=[0,0,0];return Xr.intersectBox(n,e,r,o,[0,0,0]),o}(e,n,r)},e[b$]=function(n){var r=t.planeManipulator.handleEvent(n,t.apiSpecificRenderWindow);r=e.getBoundedCenter(r),t.activeState.setCenter(r),EA(t.widgetState)},e[y$]=function(n){var r=t.widgetState.getActiveLineState(),o=t.planeManipulator.getNormal(),i=t.planeManipulator.handleEvent(n,t.apiSpecificRenderWindow),a=t.widgetState.getCenter(),s=[0,0,0];Ke(r["get".concat(t.widgetState.getActiveRotationPointName())](),a,s),nt(s);var u=[0,0,0];Ke(i,a,u),nt(u);var c=ct(s,u,o);e.rotateLineInView(r,c)},e.rotateLineInView=function(n,r){var o=n.getViewType(),i=n.getInViewType(),a=t.widgetState.getPlanes()[i].normal;if(e.rotatePlane(o,r,a),t.widgetState.getKeepOrthogonality()){var s=DA(n.getName()),u=t.widgetState["get".concat(s)]().getViewType();e.rotatePlane(u,r,a)}EA(t.widgetState)},e.rotatePlane=function(e,n,r){var o=t.widgetState.getPlanes()[e],i=o.normal,a=o.viewUp,s=PA(i,r,n),u=PA(a,r,n);t.widgetState.getPlanes()[e]={normal:s,viewUp:u}},t.planeManipulator=VX.newInstance()}var _$=[1,0,0],P$=[0,1,0],O$=[0,0,1],E$=fe.vtkErrorMacro;function T$(e,t){var n;t.classHierarchy.push("vtkResliceCursorWidget"),t.behavior=A$,t.widgetState=TX.createBuilder().addStateFromInstance({labels:["AxisXinY"],name:"AxisXinY",instance:TX.createBuilder().addField({name:"point1",initialValue:[0,0,-1]}).addField({name:"point2",initialValue:[0,0,1]}).addField({name:"rotationPoint1",initialValue:[0,0,-1]}).addField({name:"rotationPoint2",initialValue:[0,0,1]}).addField({name:"color",initialValue:_$}).addField({name:"name",initialValue:"AxisXinY"}).addField({name:"viewType",initialValue:CA.YZ_PLANE}).addField({name:"inViewType",initialValue:CA.XZ_PLANE}).build()}).addStateFromInstance({labels:["AxisXinZ"],name:"AxisXinZ",instance:TX.createBuilder().addField({name:"point1",initialValue:[0,-1,0]}).addField({name:"point2",initialValue:[0,1,0]}).addField({name:"rotationPoint1",initialValue:[0,-1,0]}).addField({name:"rotationPoint2",initialValue:[0,1,0]}).addField({name:"color",initialValue:_$}).addField({name:"name",initialValue:"AxisXinZ"}).addField({name:"viewType",initialValue:CA.YZ_PLANE}).addField({name:"inViewType",initialValue:CA.XY_PLANE}).build()}).addStateFromInstance({labels:["AxisYinX"],name:"AxisYinX",instance:TX.createBuilder().addField({name:"point1",initialValue:[0,0,-1]}).addField({name:"point2",initialValue:[0,0,1]}).addField({name:"rotationPoint1",initialValue:[0,0,-1]}).addField({name:"rotationPoint2",initialValue:[0,0,1]}).addField({name:"color",initialValue:P$}).addField({name:"name",initialValue:"AxisYinX"}).addField({name:"viewType",initialValue:CA.XZ_PLANE}).addField({name:"inViewType",initialValue:CA.YZ_PLANE}).build()}).addStateFromInstance({labels:["AxisYinZ"],name:"AxisYinZ",instance:TX.createBuilder().addField({name:"point1",initialValue:[-1,0,0]}).addField({name:"point2",initialValue:[1,0,0]}).addField({name:"rotationPoint1",initialValue:[-1,0,0]}).addField({name:"rotationPoint2",initialValue:[1,0,0]}).addField({name:"color",initialValue:P$}).addField({name:"name",initialValue:"AxisYinZ"}).addField({name:"viewType",initialValue:CA.XZ_PLANE}).addField({name:"inViewType",initialValue:CA.XY_PLANE}).build()}).addStateFromInstance({labels:["AxisZinX"],name:"AxisZinX",instance:TX.createBuilder().addField({name:"point1",initialValue:[0,-1,0]}).addField({name:"point2",initialValue:[0,1,0]}).addField({name:"rotationPoint1",initialValue:[0,-1,0]}).addField({name:"rotationPoint2",initialValue:[0,1,0]}).addField({name:"color",initialValue:O$}).addField({name:"name",initialValue:"AxisZinX"}).addField({name:"viewType",initialValue:CA.XY_PLANE}).addField({name:"inViewType",initialValue:CA.YZ_PLANE}).build()}).addStateFromInstance({labels:["AxisZinY"],name:"AxisZinY",instance:TX.createBuilder().addField({name:"point1",initialValue:[-1,0,0]}).addField({name:"point2",initialValue:[1,0,0]}).addField({name:"rotationPoint1",initialValue:[-1,0,0]}).addField({name:"rotationPoint2",initialValue:[1,0,0]}).addField({name:"color",initialValue:O$}).addField({name:"name",initialValue:"AxisZinY"}).addField({name:"viewType",initialValue:CA.XY_PLANE}).addField({name:"inViewType",initialValue:CA.XZ_PLANE}).build()}).addField({name:"center",initialValue:[0,0,0]}).addField({name:"opacity",initialValue:1}).addField({name:"activeLineState",initialValue:null}).addField({name:"activeRotationPointName",initialValue:null}).addField({name:"image",initialValue:null}).addField({name:"activeViewType",initialValue:null}).addField({name:"lineThickness",initialValue:2}).addField({name:"sphereRadius",initialValue:5}).addField({name:"showCenter",initialValue:!0}).addField({name:"updateMethodName"}).addField({name:"planes",initialValue:(n={},p(n,CA.YZ_PLANE,{normal:[1,0,0],viewUp:[0,0,1]}),p(n,CA.XZ_PLANE,{normal:[0,-1,0],viewUp:[0,0,1]}),p(n,CA.XY_PLANE,{normal:[0,0,-1],viewUp:[0,-1,0]}),n)}).addField({name:"enableRotation",initialValue:!0}).addField({name:"enableTranslation",initialValue:!0}).addField({name:"keepOrthogonality",initialValue:!1}).addField({name:"scrollingMethod",initialValue:h$}).addField({name:"cameraOffsets",initialValue:{}}).addField({name:"viewUpFromViewType",initialValue:{}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.XY_PLANE:return[{builder:S$,labels:["AxisXinZ","AxisYinZ"],initialValues:{axis1Name:"AxisXinZ",axis2Name:"AxisYinZ",viewType:CA.XY_PLANE,rotationEnabled:t.widgetState.getEnableRotation()}}];case CA.XZ_PLANE:return[{builder:S$,labels:["AxisXinY","AxisZinY"],initialValues:{axis1Name:"AxisXinY",axis2Name:"AxisZinY",viewType:CA.XZ_PLANE,rotationEnabled:t.widgetState.getEnableRotation()}}];case CA.YZ_PLANE:return[{builder:S$,labels:["AxisYinX","AxisZinX"],initialValues:{axis1Name:"AxisYinX",axis2Name:"AxisZinX",viewType:CA.YZ_PLANE,rotationEnabled:t.widgetState.getEnableRotation()}}];case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[]}},e.setImage=function(e){t.widgetState.setImage(e);var n=e.getCenter();t.widgetState.setCenter(n),EA(t.widgetState)},e.setCenter=function(n){t.widgetState.setCenter(n),EA(t.widgetState),e.modified()},e.updateCameraPoints=function(n,r,o,i,a){e.resetCamera(n,r,o,i),a&&function(e,n){var r=n.getActiveCamera().getFocalPoint(),o=t.widgetState.getCenter(),i=n.getRenderWindow().getViews()[0].getViewportSize(n),a=i[0]/i[1],s=Ke(n.worldToNormalizedDisplay.apply(n,y(r).concat([a])),n.worldToNormalizedDisplay.apply(n,y(o).concat([a])),[0,0,0]),u=t.widgetState.getCameraOffsets();u[e]=s,t.widgetState.setCameraOffsets(u)}(r,n)},e.resetCamera=function(n,r,o,i){var a,s,u=t.widgetState.getImage().getCenter(),c=n.getActiveCamera().getFocalPoint(),l=n.getActiveCamera().getPosition(),f=Math.sqrt(st(l,c)),d=e.getPlaneNormalFromViewType(r),p=o?u:c,h=Ze(p,d,f,[0,0,0]);(a=n.getActiveCamera()).setFocalPoint.apply(a,y(p)),(s=n.getActiveCamera()).setPosition.apply(s,y(h)),n.getActiveCamera().setViewUp(t.widgetState.getPlanes()[r].viewUp),function(e,n,r,o,i){var a=e.getActiveCamera().getFocalPoint(),s=e.getActiveCamera().getDistance(),u=Ze(a,n,s,[0,0,0]),c=a;if(o&&(c=dr.intersectWithLine(a,u,t.widgetState.getCenter(),n).x),i){var l=t.widgetState.getCenter(),f=e.getRenderWindow().getViews()[0].getViewportSize(e),d=f[0]/f[1],p=qe(e.worldToNormalizedDisplay.apply(e,y(l).concat([d])),t.widgetState.getCameraOffsets()[r],[0,0,0]),h=e.normalizedDisplayToWorld.apply(e,y(p).concat([d])),m=dr.intersectWithLine(h,u,l,n);c[0]=m.x[0],c[1]=m.x[1],c[2]=m.x[2]}e.getActiveCamera().setFocalPoint(c[0],c[1],c[2]);var g=Ze(c,n,s,[0,0,0]);e.getActiveCamera().setPosition(g[0],g[1],g[2]);var v=t.widgetState.getImage().getBounds();o&&e.resetCamera(v),e.resetCameraClippingRange(v)}(n,d,r,o,i)},e.updateReslicePlane=function(n,r){var o=t.widgetState.getImage().getSpacing(),i=function(n){for(var r=t.widgetState.getImage().getBounds(),o=e.getWidgetState().getCenter(),i=t.widgetState.getImage().getCenter(),a=[],s=0;s<3;s++)a[s]=-Math.abs(o[s]-i[s]),a[s]*=2;var u=Rp.newInstance();return n===CA.XZ_PLANE?(u.setOrigin(r[0]+a[0],o[1],r[4]+a[2]),u.setPoint1(r[1]-a[0],o[1],r[4]+a[2]),u.setPoint2(r[0]+a[0],o[1],r[5]-a[2])):n===CA.XY_PLANE?(u.setOrigin(r[0]+a[0],r[2]+a[1],o[2]),u.setPoint1(r[1]-a[0],r[2]+a[1],o[2]),u.setPoint2(r[0]+a[0],r[3]-a[1],o[2])):n===CA.YZ_PLANE&&(u.setOrigin(o[0],r[2]+a[1],r[4]+a[2]),u.setPoint1(o[0],r[3]-a[1],r[4]+a[2]),u.setPoint2(o[0],r[2]+a[1],r[5]-a[2])),u}(r),a=t.widgetState.getPlanes()[r],s=a.normal,u=a.viewUp;TA(i,t.widgetState.getCenter(),s,u);var c=y(i.getOrigin()),l=y(i.getPoint1()),f=y(i.getPoint2());_A(t.widgetState.getImage().getBounds(),c,l,f),i.setOrigin.apply(i,y(c)),i.setPoint1.apply(i,y(l)),i.setPoint2.apply(i,y(f));var d=i.getOrigin(),p=i.getPoint1(),h=[];Ke(p,d,h);var m=i.getPoint2(),g=[];Ke(m,d,g);for(var v=nt(h),b=nt(g),w=Di(new Float64Array(16)),x=0;x<3;x++)w[4*x+0]=h[x],w[4*x+1]=g[x],w[4*x+2]=s[x];var C=Math.abs(h[0]*o[0])+Math.abs(h[1]*o[1])+Math.abs(h[2]*o[2]),S=Math.abs(g[0]*o[0])+Math.abs(g[1]*o[1])+Math.abs(g[2]*o[2]),A=[],_=[];jh(A,[].concat(y(i.getOrigin()),[1]),w),Ii(w,w),jh(_,A,w),w[12]=_[0],w[13]=_[1],w[14]=_[2];var P=0,O=0,E=0===C?Number.MAX_SAFE_INTEGER:v/C,T=1073741823;if(E>T)E$("Invalid X extent: ",E," on view type : ",r),P=0;else for(P=1;P<E;)P<<=1;var D=0===S?Number.MAX_SAFE_INTEGER:b/S;if(D>T)E$("Invalid Y extent:",D," on view type : ",r),O=0;else for(O=1;O<D;)O<<=1;var I=0===P?1:v/P,k=0===O?1:b/O,M=n.setResliceAxes(w);return M=n.setOutputSpacing([I,k,1])||M,M=n.setOutputOrigin([.5*I,.5*k,0])||M,{modified:M=n.setOutputExtent([0,P-1,0,O-1,0,0])||M,origin:d,point1:p,point2:m}},e.getPlaneSourceFromViewType=function(t){var n=Rp.newInstance(),r=e.getWidgetState().getCenter(),o=e.getPlaneNormalFromViewType(t);return n.setNormal(o),n.setOrigin(r),n},e.getPlaneNormalFromViewType=function(t){return e.getWidgetState().getPlanes()[t].normal},e.getOtherPlaneNormals=function(t){return[CA.YZ_PLANE,CA.XZ_PLANE,CA.XY_PLANE].filter((function(e){return e!==t})).map((function(t){return e.getPlaneNormalFromViewType(t)}))},e.getResliceMatrix=function(){for(var t,n,r=Di(new Float64Array(16)),o=0;o<3;o++)r[4*o+0]=e.getPlaneNormalFromViewType(CA.YZ_PLANE)[o],r[4*o+1]=e.getPlaneNormalFromViewType(CA.XZ_PLANE)[o],r[4*o+2]=e.getPlaneNormalFromViewType(CA.XY_PLANE)[o];var i=e.getWidgetState().getCenter();return(t=(n=Es.buildFromRadian()).translate.apply(n,y(i)).multiply(r)).translate.apply(t,y(Xe(y(i),-1))).getMatrix()}}var D$={};function I$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D$,n),VK.extend(e,t,n),T$(e,t)}var k$={newInstance:fe.newInstance(I$,"vtkResliceCursorWidget"),extend:I$},M$=fe.vtkErrorMacro;function N$(e,t){t.classHierarchy.push("vtkSpline1D"),e.computeCloseCoefficients=function(e,n,r,o){M$("".concat(t.classHierarchy.slice(-1)[0]," should implement computeCloseCoefficients"))},e.computeOpenCoefficients=function(e,n,r,o){M$("".concat(t.classHierarchy.slice(-1)[0]," should implement computeOpenCoefficients"))},e.getValue=function(e,n){M$("".concat(t.classHierarchy.slice(-1)[0]," should implement getValue"))}}var R$={};function B$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,R$,n),fe.obj(e,t),N$(e,t)}var L$={newInstance:fe.newInstance(B$,"vtkSpline1D"),extend:B$},F$=fe.vtkErrorMacro;function j$(e,t){t.classHierarchy.push("vtkCardinalSpline1D"),e.computeCloseCoefficients=function(e,n,r,o){t.coefficients&&t.coefficients.length===4*e||(t.coefficients=new Float32Array(4*e));for(var i=e-1,a=1;a<i;a++){var s=r[a]-r[a-1],u=r[a+1]-r[a];t.coefficients[4*a+0]=u,t.coefficients[4*a+1]=2*(u+s),t.coefficients[4*a+2]=s,n[a]=3*(u*(o[a]-o[a-1])/s+s*(o[a+1]-o[a])/u)}var c=r[i]-r[i-1],l=r[1]-r[0];t.coefficients[4*i+0]=l,t.coefficients[4*i+1]=2*(l+c),t.coefficients[4*i+2]=c,n[i]=3*(l*(o[i]-o[i-1])/c+c*(o[1]-o[0])/l);var f=t.coefficients[4*i+0],d=t.coefficients[4*i+1],p=t.coefficients[4*i+2],h=n[i];t.coefficients[2]=0,n[0]=0,t.coefficients[3]=1;for(var m=1;m<=i;m++)t.coefficients[4*m+1]-=t.coefficients[4*m+0]*t.coefficients[4*(m-1)+2],t.coefficients[4*m+2]=t.coefficients[4*m+2]/t.coefficients[4*m+1],n[m]=(n[m]-t.coefficients[4*m+0]*n[m-1])/t.coefficients[4*m+1],t.coefficients[4*m+3]=-t.coefficients[4*m+0]*t.coefficients[4*(m-1)+3]/t.coefficients[4*m+1];t.coefficients[4*i+0]=1,t.coefficients[4*i+1]=0;for(var g=i-1;g>0;g--)t.coefficients[4*g+0]=t.coefficients[4*g+3]-t.coefficients[4*g+2]*t.coefficients[4*(g+1)+0],t.coefficients[4*g+1]=n[g]-t.coefficients[4*g+2]*t.coefficients[4*(g+1)+1];n[0]=(h-p*t.coefficients[5]-f*t.coefficients[4*(i-1)+1])/(d+p*t.coefficients[4]+f*t.coefficients[4*(i-1)+0]),n[i]=n[0];for(var v=1;v<i;v++)n[v]=t.coefficients[4*v+0]*n[i]+t.coefficients[4*v+1];for(var y=0;y<i;y++){var b=r[y+1]-r[y];t.coefficients[4*y+0]=o[y],t.coefficients[4*y+1]=n[y],t.coefficients[4*y+2]=3*(o[y+1]-o[y])/(b*b)-(n[y+1]+2*n[y])/b,t.coefficients[4*y+3]=2*(o[y]-o[y+1])/(b*b*b)+(n[y+1]+n[y])/(b*b)}t.coefficients[4*i+0]=o[i],t.coefficients[4*i+1]=n[i],t.coefficients[4*i+2]=t.coefficients[2],t.coefficients[4*i+3]=t.coefficients[3]},e.computeOpenCoefficients=function(e,t,n,r){F$("Open splines are not implemented yet!")},e.getValue=function(e,n){var r=n*n,o=n*n*n;return t.coefficients[4*e+3]*o+t.coefficients[4*e+2]*r+t.coefficients[4*e+1]*n+t.coefficients[4*e+0]}}var V$={};function U$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,V$,n),L$.extend(e,t,n),fe.obj(e,t),j$(e,t)}var z$={newInstance:fe.newInstance(U$,"vtkCardinalSpline1D"),extend:U$},G$=fe.vtkErrorMacro;function W$(e,t){t.classHierarchy.push("vtkKochanekSpline1D"),e.computeCloseCoefficients=function(e,n,r,o){t.coefficients&&t.coefficients.length===4*e||(t.coefficients=new Float32Array(4*e));for(var i=e-1,a=1;a<i;a++){var s=o[a]-o[a-1],u=o[a+1]-o[a],c=s*((1-t.tension)*(1-t.continuity)*(1+t.bias))+u*((1-t.tension)*(1+t.continuity)*(1-t.bias)),l=s*((1-t.tension)*(1+t.continuity)*(1+t.bias))+u*((1-t.tension)*(1-t.continuity)*(1-t.bias)),f=r[a+1]-r[a],d=r[a]-r[a-1];c*=d/(d+f),l*=f/(d+f),t.coefficients[4*a+0]=o[a],t.coefficients[4*a+1]=l,t.coefficients[4*a+2]=c}t.coefficients[0]=o[0],t.coefficients[4*i+0]=o[i],t.coefficients[4*i+1]=0,t.coefficients[4*i+2]=0,t.coefficients[4*i+3]=0;var p=o[i]-o[i-1],h=o[1]-o[0],m=p*((1-t.tension)*(1-t.continuity)*(1+t.bias))+h*((1-t.tension)*(1+t.continuity)*(1-t.bias)),g=p*((1-t.tension)*(1+t.continuity)*(1+t.bias))+h*((1-t.tension)*(1-t.continuity)*(1-t.bias)),v=r[1]-r[0],y=r[i]-r[i-1];m*=y/(y+v),g*=v/(y+v),t.coefficients[1]=g,t.coefficients[2]=m,t.coefficients[4*i+1]=g,t.coefficients[4*i+2]=m;for(var b=0;b<i;b++)t.coefficients[4*b+2]=-3*o[b]+3*o[b+1]+-2*t.coefficients[4*b+1]+-1*t.coefficients[4*(b+1)+2],t.coefficients[4*b+3]=2*o[b]+-2*o[b+1]+1*t.coefficients[4*b+1]+1*t.coefficients[4*(b+1)+2]},e.computeOpenCoefficients=function(e,t,n,r){G$("Open splines are not implemented yet!")},e.getValue=function(e,n){var r=n*n,o=n*n*n;return t.coefficients[4*e+3]*o+t.coefficients[4*e+2]*r+t.coefficients[4*e+1]*n+t.coefficients[4*e+0]}}var H$={tension:0,bias:0,continuity:0};function q$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,H$,n),L$.extend(e,t,n),fe.obj(e,t),W$(e,t)}var K$={newInstance:fe.newInstance(q$,"vtkKochanekSpline1D"),extend:q$},X$="CARDINAL_SPLINE",Y$="KOCHANEK_SPLINE",Z$=fe.vtkErrorMacro;function J$(e,t){function n(e,n){0===n.length&&Z$("Splines require at least one points"),1===n.length&&n.push(n[0]);var r=n.length,o=null,i=null;if(t.close){if(o=new Float32Array(r),0===t.intervals.length){i=new Float32Array(r);for(var a=0;a<i.length;a++)i[a]=a}else i=t.intervals;e.computeCloseCoefficients(r,o,i,n)}else Z$("Open splines are not supported yet!")}t.classHierarchy.push("vtkSpline3D"),e.computeCoefficients=function(e){var r=e.map((function(e){return e[0]})),o=e.map((function(e){return e[1]})),i=e.map((function(e){return e[2]}));n(t.splineX,r),n(t.splineY,o),n(t.splineZ,i)},e.getPoint=function(e,n){return[t.splineX.getValue(e,n),t.splineY.getValue(e,n),t.splineZ.getValue(e,n)]},t.kind===Y$?(t.splineX=K$.newInstance({tension:t.tension,continuity:t.continuity,bias:t.bias}),t.splineY=K$.newInstance({tension:t.tension,continuity:t.continuity,bias:t.bias}),t.splineZ=K$.newInstance({tension:t.tension,continuity:t.continuity,bias:t.bias})):t.kind===X$?(t.splineX=z$.newInstance(),t.splineY=z$.newInstance(),t.splineZ=z$.newInstance()):Z$("Unknown spline type ".concat(t.kind))}var $$={close:!1,intervals:[],kind:Y$,tension:0,continuity:0,bias:0};function Q$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$$,n),fe.obj(e,t),fe.setGet(e,t,["close","intervals"]),J$(e,t)}var eQ={newInstance:fe.newInstance(Q$,"vtkSpline3D"),extend:Q$},tQ=fe.vtkWarningMacro;function nQ(e,t){t.classHierarchy.push("vtkTriangleFilter"),e.requestData=function(e,n){var r=e[0],o=r.getPoints().getData(),i=r.getPolys().getData(),a=r.getPolys().getDataType(),s=r.getPoints().getDataType(),u=[],c=[];if(t.errorCount=0,i)for(var l=0,f=!1,d=0;d<i.length;d+=l+1){l=i[d],(f=i[d+1]===i[d+l])&&--l;var p=[];p.length=l;for(var h=0;h<l;h++){var m=i[d+h+1];p[h]=[o[3*m],o[3*m+1],o[3*m+2]]}if(3===l){var g=c.length/3;u.push(3,g,g+1,g+2),c.push.apply(c,y(p[0]).concat(y(p[1]),y(p[2])))}else if(l>3){var v=sd.newInstance();v.setPoints(p),v.triangulate()||(tQ("Triangulation failed at cellOffset ".concat(d)),++t.errorCount);var b=v.getPointArray(),w=Math.floor(b.length/9),x=[];x.length=9;for(var C=0;C<w;C++){for(var S=0;S<9;S++)x[S]=b[9*C+S];var A=c.length/3;u.push(3,A,A+1,A+2),c.push.apply(c,x)}}f&&++l}var _=Vc.newInstance();_.getPoints().setData(fe.newTypedArrayFrom(s,c)),_.getPolys().setData(fe.newTypedArrayFrom(a,u)),n[0]=_}}var rQ={errorCount:0};function oQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,rQ,n),fe.setGet(e,t,[]),fe.get(e,t,["errorCount"]),fe.obj(e,t),fe.algo(e,t,1,1),nQ(e,t)}var iQ={newInstance:fe.newInstance(oQ,"vtkTriangleFilter"),extend:oQ};function aQ(e,t){t.classHierarchy.push("vtkLineFilter"),e.requestData=function(e,t){var n=Vc.newInstance();n.getPoints().setData(e[0].getPoints().getData()),n.getLines().setData(e[0].getLines().getData()),t[0]=n}}var sQ={};function uQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,sQ,n),fe.setGet(e,t,[]),fe.obj(e,t),fe.algo(e,t,1,1),aQ(e,t)}var cQ={newInstance:fe.newInstance(uQ,"vtkLineFilter"),extend:uQ};function lQ(e,t){t.classHierarchy.push("vtkSplineContextRepresentation"),t.pipelines={area:{actor:dv.newInstance(),mapper:Uv.newInstance(),triangleFilter:iQ.newInstance()},border:{actor:dv.newInstance(),mapper:Uv.newInstance(),lineFilter:cQ.newInstance()}},t.pipelines.area.triangleFilter.setInputConnection(e.getOutputPort()),t.pipelines.area.mapper.setInputConnection(t.pipelines.area.triangleFilter.getOutputPort()),t.pipelines.area.actor.setMapper(t.pipelines.area.mapper),t.pipelines.area.actor.getProperty().setOpacity(.2),t.pipelines.area.actor.getProperty().setColor(0,1,0),e.addActor(t.pipelines.area.actor),t.pipelines.border.lineFilter.setInputConnection(e.getOutputPort()),t.pipelines.border.mapper.setInputConnection(t.pipelines.border.lineFilter.getOutputPort()),t.pipelines.border.actor.setMapper(t.pipelines.border.mapper),t.pipelines.border.actor.getProperty().setOpacity(1),t.pipelines.border.actor.getProperty().setColor(.1,1,.1),t.pipelines.border.actor.setVisibility(t.outputBorder),e.addActor(t.pipelines.border.actor),e.requestData=function(n,r){var o;if(!t.deleted){var i=Vc.newInstance(),a=n[0],s=e.getRepresentationStates(a).filter((function(e){return e.getVisible&&e.getVisible()})).map((function(e){return e.getOrigin()}));if(s.length<=1)r[0]=i;else{var u=s.length;t.close&&s.push(s[0]);var c=eQ.newInstance({close:t.close,kind:a.getSplineKind(),tension:a.getSplineTension(),bias:a.getSplineBias(),continuity:a.getSplineContinuity()});c.computeCoefficients(s);var l=new Float32Array(3*u*t.resolution),f=new Uint32Array(u*t.resolution+2);f[0]=u*t.resolution+1,f[u*t.resolution+1]=0;for(var d=0;d<u;d++)for(var p=0;p<t.resolution;p++){var h=p/t.resolution,m=c.getPoint(d,h);l[3*(d*t.resolution+p)+0]=m[0],l[3*(d*t.resolution+p)+1]=m[1],l[3*(d*t.resolution+p)+2]=m[2],f[d*t.resolution+p+1]=d*t.resolution+p}i.getPoints().setData(l),t.fill&&i.getPolys().setData(f),t.outputBorder?(i.getLines().setData(f),t.pipelines.border.actor.setVisibility(!0)):(i.getLines().setData([]),t.pipelines.border.actor.setVisibility(!1)),r[0]=i,t.pipelines.area.triangleFilter.update(),(o=t.pipelines.border.actor.getProperty()).setColor.apply(o,y(s.length<=3||0===t.pipelines.area.triangleFilter.getErrorCount()?t.borderColor:t.errorBorderColor))}}},e.getSelectedState=function(e,n){return t.state}}var fQ={resolution:16,close:!0,fill:!0,outputBorder:!1,borderColor:[.1,1,.1],errorBorderColor:[1,0,0]};function dQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fQ,n),JX.extend(e,t,n),fe.get(e,t,["mapper"]),fe.setGet(e,t,["resolution","close","fill","outputBorder","borderColor","errorBorderColor"]),lQ(e,t)}var pQ={newInstance:fe.newInstance(dQ,"vtkSplineContextRepresentation"),extend:dQ};function hQ(e,t){t.classHierarchy.push("vtkSplineWidgetProp");var n=function(){if(null!==t.handleSizeInPixels){var e=t.handleSizeInPixels*Ko(t.apiSpecificRenderWindow.displayToWorld(0,0,0,t.renderer),t.apiSpecificRenderWindow.displayToWorld(1,0,0,t.renderer));t.moveHandle.setScale1(e),t.widgetState.getHandleList().forEach((function(t){t.setScale1(e)}))}},r=function(){var e;(!t.lastHandle||t.keysDown.Control||!t.freeHand||Xo(t.moveHandle.getOrigin(),t.lastHandle.getOrigin())>t.freehandMinDistance*t.freehandMinDistance)&&(t.lastHandle=t.widgetState.addHandle(),(e=t.lastHandle).setOrigin.apply(e,y(t.moveHandle.getOrigin())),t.lastHandle.setColor(t.moveHandle.getColor()),t.lastHandle.setScale1(t.moveHandle.getScale1()),t.firstHandle||(t.firstHandle=t.lastHandle),t.apiSpecificRenderWindow.setCursor("grabbing"))},o=function(){return t.widgetState.getHandleList().reduce((function(e,n){var r=e.closestHandle,o=e.closestDistance,i=Xo(t.moveHandle.getOrigin(),n.getOrigin());return n!==t.moveHandle?{closestHandle:i<o?n:r,closestDistance:i<o?i:o}:{closestHandle:r,closestDistance:o}}),{closestHandle:null,closestDistance:t.moveHandle.getScale1()*t.moveHandle.getScale1()}).closestHandle};e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},fe.setGet(e,t,["freehandMinDistance","allowFreehand","resolution","defaultCursor","handleSizeInPixels"]);var i=e.setHandleSizeInPixels;e.setHandleSizeInPixels=function(e){i(e),n()},e.setHandleSizeInPixels(t.handleSizeInPixels);var a=e.setResolution;e.setResolution=function(e){a(e),t.representations[1].setResolution(t.resolution)},e.setResolution(t.resolution),e.getPoints=function(){return t.representations[1].getOutputData().getPoints().getData()},e.reset=function(){t.widgetState.clearHandleList(),t.lastHandle=null,t.firstHandle=null},e.handleRightButtonPress=function(n){if(!t.activeState||!t.activeState.getActive()||!t.pickable)return fe.VOID;if(t.activeState!==t.moveHandle)t.interactor.requestAnimation(e),t.activeState.deactivate(),t.widgetState.removeHandle(t.activeState),t.activeState=null,t.interactor.cancelAnimation(e);else{var r=o();if(r)t.widgetState.removeHandle(r);else if(t.lastHandle){t.widgetState.removeHandle(t.lastHandle);var i=t.widgetState.getHandleList();t.lastHandle=i[i.length-1]}}return e.invokeInteractionEvent(),fe.EVENT_ABORT},e.handleLeftButtonPress=function(n){if(!t.activeState||!t.activeState.getActive()||!t.pickable)return fe.VOID;if(t.activeState===t.moveHandle){if(0===t.widgetState.getHandleList().length)e.invokeStartInteractionEvent(),r();else{var i=o();i&&!t.keysDown.Control?(t.moveHandle.deactivate(),t.moveHandle.setVisible(!1),t.activeState=i,i.activate(),t.isDragging=!0,t.lastHandle.setVisible(!0)):r()}t.freeHand=t.allowFreehand&&!t.isDragging}else t.isDragging=!0,t.apiSpecificRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent();return fe.EVENT_ABORT},e.handleLeftButtonRelease=function(n){var r;return t.isDragging?t.hasFocus?((r=t.moveHandle).setOrigin.apply(r,y(t.activeState.getOrigin())),t.activeState.deactivate(),t.moveHandle.activate(),t.activeState=t.moveHandle,t.draggedPoint||(Xo(t.moveHandle.getOrigin(),t.lastHandle.getOrigin())<t.moveHandle.getScale1()*t.moveHandle.getScale1()||Xo(t.moveHandle.getOrigin(),t.firstHandle.getOrigin())<t.moveHandle.getScale1()*t.moveHandle.getScale1())&&(t.lastHandle.setVisible(!0),e.loseFocus()),t.interactor.render()):(t.apiSpecificRenderWindow.setCursor(t.defaultCursor),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()):t.activeState!==t.moveHandle&&t.widgetState.deactivate(),t.freeHand=!1,t.isDragging=!1,t.draggedPoint=!1,t.hasFocus?fe.EVENT_ABORT:fe.VOID},e.handleMouseMove=function(e){if(!(t.activeState&&t.activeState.getActive()&&t.pickable&&t.manipulator))return fe.VOID;t.manipulator.setNormal(t.camera.getDirectionOfProjection());var n=t.manipulator.handleEvent(e,t.apiSpecificRenderWindow),i=o();return i?(t.moveHandle.setVisible(!1),i!==t.firstHandle&&t.apiSpecificRenderWindow.setCursor("grabbing")):!t.isDragging&&t.hasFocus&&(t.moveHandle.setVisible(!0),t.apiSpecificRenderWindow.setCursor(t.defaultCursor)),t.lastHandle&&t.lastHandle.setVisible(!0),n.length&&(t.isDragging||t.activeState===t.moveHandle)&&(t.activeState.setOrigin(n),t.isDragging&&(t.draggedPoint=!0),t.freeHand&&t.activeState===t.moveHandle&&r()),t.hasFocus?fe.EVENT_ABORT:fe.VOID},e.handleKeyDown=function(n){var r=n.key;if(t.keysDown[r]=!0,t.hasFocus)if("Enter"===r)t.widgetState.getHandleList().length>0&&e.loseFocus();else if("Escape"===r)e.reset(),e.loseFocus();else if(("Delete"===r||"Backspace"===r)&&t.lastHandle){t.widgetState.removeHandle(t.lastHandle);var o=t.widgetState.getHandleList();t.lastHandle=o[o.length-1]}},e.handleKeyUp=function(e){var n=e.key;t.keysDown[n]=!1},e.grabFocus=function(){t.hasFocus||(t.activeState=t.moveHandle,t.activeState.activate(),t.activeState.setVisible(!0),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent(),n()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.moveHandle.deactivate(),t.moveHandle.setVisible(!1),t.activeState=null,t.interactor.render(),t.hasFocus=!1}}function mQ(e,t){t.classHierarchy.push("vtkSplineWidget"),t.methodsToLink=["outputBorder","fill","borderColor","errorBorderColor"],t.behavior=hQ,t.widgetState=TX.createBuilder().addField({name:"splineKind",initialValue:Y$}).addField({name:"splineTension",initialValue:0}).addField({name:"splineContinuity",initialValue:0}).addField({name:"splineBias",initialValue:0}).addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:.05,origin:[-1,-1,-1],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1","visible"],name:"handle",initialValues:{scale1:.05,origin:[-1,-1,-1],visible:!1}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case CA.DEFAULT:case CA.GEOMETRY:case CA.SLICE:case CA.VOLUME:default:return[{builder:LY,labels:["handles","moveHandle"]},{builder:pQ,labels:["handles","moveHandle"]}]}},t.moveHandle=t.widgetState.getMoveHandle(),t.manipulator=VX.newInstance()}var gQ={keysDown:{},freehandMinDistance:.1,allowFreehand:!0,resolution:32,defaultCursor:"pointer",handleSizeInPixels:10};function vQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,gQ,n),VK.extend(e,t,n),fe.setGet(e,t,["manipulator","freehandMinDistance","allowFreehand","resolution","defaultCursor","handleSizeInPixels"]),mQ(e,t)}var yQ=fe.newInstance(vQ,"vtkSplineWidget"),bQ={Core:DX,Manipulators:qX,Representations:FY,Widgets3D:{vtkAngleWidget:GY,vtkDistanceWidget:YY,vtkEllipseWidget:hZ,vtkImageCroppingWidget:RZ,vtkImplicitPlaneWidget:VZ,vtkInteractiveOrientationWidget:XZ,vtkLineWidget:zJ,vtkPaintWidget:KJ,vtkPolyLineWidget:$J,vtkRectangleWidget:p$,vtkResliceCursorWidget:k$,vtkShapeWidget:uZ,vtkSplineWidget:{newInstance:yQ,extend:vQ}}};A.Common=yl,A.Filters=uh,A.Imaging=nm,A.Interaction=JA,A.IO=uM,A.Proxy=nK,A.Rendering=xH,A.ThirdParty=rK,A.Widgets=bQ,A.mtime=fe.getCurrentGlobalMTime,A.macro=fe,window.vtk=A},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9560:function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,o,a){return i((s=i(i(t,e),i(r,a)))<<(u=o)|s>>>32-u,n);var s,u}function s(e,t,n,r,o,i,s){return a(t&n|~t&r,e,t,o,i,s)}function u(e,t,n,r,o,i,s){return a(t&r|n&~r,e,t,o,i,s)}function c(e,t,n,r,o,i,s){return a(t^n^r,e,t,o,i,s)}function l(e,t,n,r,o,i,s){return a(n^(t|~r),e,t,o,i,s)}function f(e,t){var n,r,o,a,f;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var d=1732584193,p=-271733879,h=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)r=d,o=p,a=h,f=m,d=s(d,p,h,m,e[n],7,-680876936),m=s(m,d,p,h,e[n+1],12,-389564586),h=s(h,m,d,p,e[n+2],17,606105819),p=s(p,h,m,d,e[n+3],22,-1044525330),d=s(d,p,h,m,e[n+4],7,-176418897),m=s(m,d,p,h,e[n+5],12,1200080426),h=s(h,m,d,p,e[n+6],17,-1473231341),p=s(p,h,m,d,e[n+7],22,-45705983),d=s(d,p,h,m,e[n+8],7,1770035416),m=s(m,d,p,h,e[n+9],12,-1958414417),h=s(h,m,d,p,e[n+10],17,-42063),p=s(p,h,m,d,e[n+11],22,-1990404162),d=s(d,p,h,m,e[n+12],7,1804603682),m=s(m,d,p,h,e[n+13],12,-40341101),h=s(h,m,d,p,e[n+14],17,-1502002290),d=u(d,p=s(p,h,m,d,e[n+15],22,1236535329),h,m,e[n+1],5,-165796510),m=u(m,d,p,h,e[n+6],9,-1069501632),h=u(h,m,d,p,e[n+11],14,643717713),p=u(p,h,m,d,e[n],20,-373897302),d=u(d,p,h,m,e[n+5],5,-701558691),m=u(m,d,p,h,e[n+10],9,38016083),h=u(h,m,d,p,e[n+15],14,-660478335),p=u(p,h,m,d,e[n+4],20,-405537848),d=u(d,p,h,m,e[n+9],5,568446438),m=u(m,d,p,h,e[n+14],9,-1019803690),h=u(h,m,d,p,e[n+3],14,-187363961),p=u(p,h,m,d,e[n+8],20,1163531501),d=u(d,p,h,m,e[n+13],5,-1444681467),m=u(m,d,p,h,e[n+2],9,-51403784),h=u(h,m,d,p,e[n+7],14,1735328473),d=c(d,p=u(p,h,m,d,e[n+12],20,-1926607734),h,m,e[n+5],4,-378558),m=c(m,d,p,h,e[n+8],11,-2022574463),h=c(h,m,d,p,e[n+11],16,1839030562),p=c(p,h,m,d,e[n+14],23,-35309556),d=c(d,p,h,m,e[n+1],4,-1530992060),m=c(m,d,p,h,e[n+4],11,1272893353),h=c(h,m,d,p,e[n+7],16,-155497632),p=c(p,h,m,d,e[n+10],23,-1094730640),d=c(d,p,h,m,e[n+13],4,681279174),m=c(m,d,p,h,e[n],11,-358537222),h=c(h,m,d,p,e[n+3],16,-722521979),p=c(p,h,m,d,e[n+6],23,76029189),d=c(d,p,h,m,e[n+9],4,-640364487),m=c(m,d,p,h,e[n+12],11,-421815835),h=c(h,m,d,p,e[n+15],16,530742520),d=l(d,p=c(p,h,m,d,e[n+2],23,-995338651),h,m,e[n],6,-198630844),m=l(m,d,p,h,e[n+7],10,1126891415),h=l(h,m,d,p,e[n+14],15,-1416354905),p=l(p,h,m,d,e[n+5],21,-57434055),d=l(d,p,h,m,e[n+12],6,1700485571),m=l(m,d,p,h,e[n+3],10,-1894986606),h=l(h,m,d,p,e[n+10],15,-1051523),p=l(p,h,m,d,e[n+1],21,-2054922799),d=l(d,p,h,m,e[n+8],6,1873313359),m=l(m,d,p,h,e[n+15],10,-30611744),h=l(h,m,d,p,e[n+6],15,-1560198380),p=l(p,h,m,d,e[n+13],21,1309151649),d=l(d,p,h,m,e[n+4],6,-145523070),m=l(m,d,p,h,e[n+11],10,-1120210379),h=l(h,m,d,p,e[n+2],15,718787259),p=l(p,h,m,d,e[n+9],21,-343485551),d=i(d,r),p=i(p,o),h=i(h,a),m=i(m,f);return[d,p,h,m]}function d(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function m(e){return unescape(encodeURIComponent(e))}function g(e){return function(e){return d(f(p(e),8*e.length))}(m(e))}function v(e,t){return function(e,t){var n,r,o=p(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=f(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=f(i.concat(p(t)),512+8*t.length),d(f(a.concat(r),640))}(m(e),m(t))}function y(e,t,n){return t?n?v(t,e):h(v(t,e)):n?g(e):h(g(e))}void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}()},8764:function(e,t,n){"use strict";const r=n(9742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const o=function(e){if(u.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function C(e,t,n,r){return X(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return X(K(t),e,n,r)}function A(e,t,n,r){return X(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(i=u));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==l[e]){i=c[e],a=l[e];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function E(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function D(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=J[e[r]];return o}function I(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){z(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function R(e,t,n,r,o){z(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const j={};function V(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function G(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw G(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),V("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),V("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=U(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function $(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},8071:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".CornerAnnotation-module-container_3w3m_ {\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  flex-direction: column;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.CornerAnnotation-module-row_1DzdL {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n\n.CornerAnnotation-module-topRow_3LKDr {\n  align-items: flex-start;\n}\n\n.CornerAnnotation-module-middleRow_1PRjI {\n  align-items: center;\n}\n\n.CornerAnnotation-module-bottomRow_ceeUE {\n  align-items: flex-end;\n}\n\n.CornerAnnotation-module-item_3aIBZ {\n  flex: 1;\n  padding: 5px;\n}\n\n.CornerAnnotation-module-east_15pun {\n  text-align: right;\n}\n\n.CornerAnnotation-module-west_TPlYy {\n  text-align: left;\n}\n\n.CornerAnnotation-module-north_3FgKd {\n  text-align: center;\n}\n\n.CornerAnnotation-module-south_2OkPO {\n  text-align: center;\n}\n\n.CornerAnnotation-module-northEast_2JhtW {\n}\n\n.CornerAnnotation-module-northWest_2Fvhg {\n}\n\n.CornerAnnotation-module-southEast_3EF-2 {\n}\n\n.CornerAnnotation-module-southWest_2rNCm {\n}\n\n","",{version:3,sources:["webpack://./Sources/Interaction/UI/CornerAnnotation/CornerAnnotation.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,oBAAoB;EACpB,8BAA8B;EAC9B,sBAAsB;EACtB,yBAAiB;KAAjB,sBAAiB;MAAjB,qBAAiB;UAAjB,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;AACd;;AAEA;EACE,OAAO;EACP,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EAEE,uBAAuB;AACzB;;AAEA;EAEE,mBAAmB;AACrB;;AAEA;EAEE,qBAAqB;AACvB;;AAEA;EACE,OAAO;EACP,YAAY;AACd;;AAEA;EAEE,iBAAiB;AACnB;;AAEA;EAEE,gBAAgB;AAClB;;AAEA;EAEE,kBAAkB;AACpB;;AAEA;EAEE,kBAAkB;AACpB;;AAEA;AAEA;;AAEA;AAEA;;AAEA;AAEA;;AAEA;AAEA",sourcesContent:[".container {\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  flex-direction: column;\n  user-select: none;\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.row {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n\n.topRow {\n  composes: row;\n  align-items: flex-start;\n}\n\n.middleRow {\n  composes: row;\n  align-items: center;\n}\n\n.bottomRow {\n  composes: row;\n  align-items: flex-end;\n}\n\n.item {\n  flex: 1;\n  padding: 5px;\n}\n\n.east {\n  composes: item;\n  text-align: right;\n}\n\n.west {\n  composes: item;\n  text-align: left;\n}\n\n.north {\n  composes: item;\n  text-align: center;\n}\n\n.south {\n  composes: item;\n  text-align: center;\n}\n\n.northEast {\n  composes: east;\n}\n\n.northWest {\n  composes: west;\n}\n\n.southEast {\n  composes: east;\n}\n\n.southWest {\n  composes: west;\n}\n\n"],sourceRoot:""}]),a.locals={container:"CornerAnnotation-module-container_3w3m_",row:"CornerAnnotation-module-row_1DzdL",topRow:"CornerAnnotation-module-topRow_3LKDr CornerAnnotation-module-row_1DzdL",middleRow:"CornerAnnotation-module-middleRow_1PRjI CornerAnnotation-module-row_1DzdL",bottomRow:"CornerAnnotation-module-bottomRow_ceeUE CornerAnnotation-module-row_1DzdL",item:"CornerAnnotation-module-item_3aIBZ",east:"CornerAnnotation-module-east_15pun CornerAnnotation-module-item_3aIBZ",west:"CornerAnnotation-module-west_TPlYy CornerAnnotation-module-item_3aIBZ",north:"CornerAnnotation-module-north_3FgKd CornerAnnotation-module-item_3aIBZ",south:"CornerAnnotation-module-south_2OkPO CornerAnnotation-module-item_3aIBZ",northEast:"CornerAnnotation-module-northEast_2JhtW CornerAnnotation-module-east_15pun CornerAnnotation-module-item_3aIBZ",northWest:"CornerAnnotation-module-northWest_2Fvhg CornerAnnotation-module-west_TPlYy CornerAnnotation-module-item_3aIBZ",southEast:"CornerAnnotation-module-southEast_3EF-2 CornerAnnotation-module-east_15pun CornerAnnotation-module-item_3aIBZ",southWest:"CornerAnnotation-module-southWest_2rNCm CornerAnnotation-module-west_TPlYy CornerAnnotation-module-item_3aIBZ"},t.Z=a},631:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".FPSMonitor-module-verticalContainer_rT-Uz {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.FPSMonitor-module-horizontalContainer_3VWaQ {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n\n.FPSMonitor-module-leftPane_rrTm6 {\n  flex: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.FPSMonitor-module-rightPane_-XxoH {\n  flex: 1;\n  display: grid;\n  grid-template-columns: auto auto;\n  grid-auto-rows: 1.5em;\n  grid-column-gap: 5px;\n  grid-row-gap: 2px;\n  padding: 10px;\n}\n\n.FPSMonitor-module-title_1rQSo {\n  flex: 1;\n  font-weight: bold;\n  padding: 5px 10px 0 10px;\n}\n\n.FPSMonitor-module-graph_25Ga0 {\n  flex: none;\n  border: solid 1px black;\n  margin: 10px ;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.FPSMonitor-module-label_3wYtB {\n  font-weight: bold;\n  text-transform: capitalize;\n  text-align: right;\n  align-self: center;\n}\n\n.FPSMonitor-module-value_f9FN2 {\n  font-style: italic;\n  text-align: center;\n  align-self: center;\n}\n","",{version:3,sources:["webpack://./Sources/Interaction/UI/FPSMonitor/FPSMonitor.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,2BAA2B;EAC3B,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,UAAU;EACV,aAAa;EACb,sBAAsB;EACtB,2BAA2B;EAC3B,oBAAoB;AACtB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,gCAAgC;EAChC,qBAAqB;EACrB,oBAAoB;EACpB,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,OAAO;EACP,iBAAiB;EACjB,wBAAwB;AAC1B;;AAEA;EACE,UAAU;EACV,uBAAuB;EACvB,aAAa;EACb,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,0BAA0B;EAC1B,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;AACpB",sourcesContent:[".verticalContainer {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.horizontalContainer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n\n.leftPane {\n  flex: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.rightPane {\n  flex: 1;\n  display: grid;\n  grid-template-columns: auto auto;\n  grid-auto-rows: 1.5em;\n  grid-column-gap: 5px;\n  grid-row-gap: 2px;\n  padding: 10px;\n}\n\n.title {\n  flex: 1;\n  font-weight: bold;\n  padding: 5px 10px 0 10px;\n}\n\n.graph {\n  flex: none;\n  border: solid 1px black;\n  margin: 10px ;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.label {\n  font-weight: bold;\n  text-transform: capitalize;\n  text-align: right;\n  align-self: center;\n}\n\n.value {\n  font-style: italic;\n  text-align: center;\n  align-self: center;\n}\n"],sourceRoot:""}]),a.locals={verticalContainer:"FPSMonitor-module-verticalContainer_rT-Uz",horizontalContainer:"FPSMonitor-module-horizontalContainer_3VWaQ",leftPane:"FPSMonitor-module-leftPane_rrTm6",rightPane:"FPSMonitor-module-rightPane_-XxoH",title:"FPSMonitor-module-title_1rQSo",graph:"FPSMonitor-module-graph_25Ga0",label:"FPSMonitor-module-label_3wYtB",value:"FPSMonitor-module-value_f9FN2"},t.Z=a},1995:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".Slider-module-cursor_fckbu {\n  position: absolute;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: move;\n}\n","",{version:3,sources:["webpack://./Sources/Interaction/UI/Slider/Slider.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,YAAY;AACd",sourcesContent:[".cursor {\n  position: absolute;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: move;\n}\n"],sourceRoot:""}]),a.locals={cursor:"Slider-module-cursor_fckbu"},t.Z=a},4734:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".VolumeController-module-container_1gy2O {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  background: rgba(128, 128, 128, 0.5);\n  border-radius: 5px;\n  padding: 2px;\n  border: 0.5px solid black;\n  box-sizing: border-box;\n}\n\n.VolumeController-module-line_Vj-Px {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.VolumeController-module-button_15vFT {\n  cursor: pointer;\n  width: 1rem;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.VolumeController-module-button_15vFT svg {\n  width: 1rem;\n  height: 1rem;\n}\n\n.VolumeController-module-sliderEntry_gZyt8 {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.VolumeController-module-sliderIcon_3hhI0 {\n  height: 1rem;\n}\n\n.VolumeController-module-slider_3OUDs {\n  flex: 1;\n  min-height: 1rem;\n  width: 5px;\n}\n\n.VolumeController-module-piecewiseEditor_2U8eV {\n  flex: 1;\n}\n\n.VolumeController-module-select_1XHcV {\n  flex: 1;\n  border: none;\n  background: transparent;\n  color: white;\n  border: none;\n  -moz-appearance: none;\n  width: 5px;\n}\n\n.VolumeController-module-select_1XHcV select:focus {\n  outline: none;\n  border: none;\n}\n\n.VolumeController-module-presets_2UsJt {\n}\n\n.VolumeController-module-shadow_3kZTD {\n}\n\n.VolumeController-module-buttonDarkBG_1YX9b {\n}\n\n.VolumeController-module-presetsDarkBG_340tN {\n  color: white;\n}\n\n.VolumeController-module-presetsDarkBG_340tN option {\n  color: black;\n}\n\n.VolumeController-module-shadowDarkBG_154Fl {\n  color: white;\n}\n\n.VolumeController-module-shadowDarkBG_154Fl option {\n  color: black;\n}\n\n.VolumeController-module-buttonBrightBG_2CDdp {\n}\n\n.VolumeController-module-presetsBrightBG_2yYG1 {\n  color: black;\n}\n\n.VolumeController-module-presetsBrightBG_2yYG1 option {\n  color: white;\n}\n\n.VolumeController-module-shadowBrightBG_rXD57 {\n  color: black;\n}\n\n.VolumeController-module-shadowBrightBG_rXD57 option {\n  color: white;\n}\n","",{version:3,sources:["webpack://./Sources/Interaction/UI/VolumeController/VolumeController.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,oBAAoB;EACpB,sBAAsB;EACtB,8BAA8B;EAC9B,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,oCAAoC;EACpC,kBAAkB;EAClB,YAAY;EACZ,yBAAyB;EACzB,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,OAAO;EACP,mBAAmB;EACnB,8BAA8B;AAChC;;AAEA;EACE,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,OAAO;EACP,aAAa;EACb,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EAEE,YAAY;AACd;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,UAAU;AACZ;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,OAAO;EACP,YAAY;EACZ,uBAAuB;EACvB,YAAY;EACZ,YAAY;EACZ,qBAAqB;EACrB,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;AAEA;;AAEA;AAEA;;AAEA;AAEA;;AAEA;EAEE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EAEE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;AAEA;;AAEA;EAEE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EAEE,YAAY;AACd;;AAEA;EACE,YAAY;AACd",sourcesContent:[".container {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  background: rgba(128, 128, 128, 0.5);\n  border-radius: 5px;\n  padding: 2px;\n  border: 0.5px solid black;\n  box-sizing: border-box;\n}\n\n.line {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.button {\n  cursor: pointer;\n  width: 1rem;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.button svg {\n  width: 1rem;\n  height: 1rem;\n}\n\n.sliderEntry {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.sliderIcon {\n  composes: button;\n  height: 1rem;\n}\n\n.slider {\n  flex: 1;\n  min-height: 1rem;\n  width: 5px;\n}\n\n.piecewiseEditor {\n  flex: 1;\n}\n\n.select {\n  flex: 1;\n  border: none;\n  background: transparent;\n  color: white;\n  border: none;\n  -moz-appearance: none;\n  width: 5px;\n}\n\n.select select:focus {\n  outline: none;\n  border: none;\n}\n\n.presets {\n  composes: select;\n}\n\n.shadow {\n  composes: select;\n}\n\n.buttonDarkBG {\n  composes: button;\n}\n\n.presetsDarkBG {\n  composes: presets;\n  color: white;\n}\n\n.presetsDarkBG option {\n  color: black;\n}\n\n.shadowDarkBG {\n  composes: shadow;\n  color: white;\n}\n\n.shadowDarkBG option {\n  color: black;\n}\n\n.buttonBrightBG {\n  composes: button;\n}\n\n.presetsBrightBG {\n  composes: presets;\n  color: black;\n}\n\n.presetsBrightBG option {\n  color: white;\n}\n\n.shadowBrightBG {\n  composes: shadow;\n  color: black;\n}\n\n.shadowBrightBG option {\n  color: white;\n}\n"],sourceRoot:""}]),a.locals={container:"VolumeController-module-container_1gy2O",line:"VolumeController-module-line_Vj-Px",button:"VolumeController-module-button_15vFT",sliderEntry:"VolumeController-module-sliderEntry_gZyt8",sliderIcon:"VolumeController-module-sliderIcon_3hhI0 VolumeController-module-button_15vFT",slider:"VolumeController-module-slider_3OUDs",piecewiseEditor:"VolumeController-module-piecewiseEditor_2U8eV",select:"VolumeController-module-select_1XHcV",presets:"VolumeController-module-presets_2UsJt VolumeController-module-select_1XHcV",shadow:"VolumeController-module-shadow_3kZTD VolumeController-module-select_1XHcV",buttonDarkBG:"VolumeController-module-buttonDarkBG_1YX9b VolumeController-module-button_15vFT",presetsDarkBG:"VolumeController-module-presetsDarkBG_340tN VolumeController-module-presets_2UsJt VolumeController-module-select_1XHcV",shadowDarkBG:"VolumeController-module-shadowDarkBG_154Fl VolumeController-module-shadow_3kZTD VolumeController-module-select_1XHcV",buttonBrightBG:"VolumeController-module-buttonBrightBG_2CDdp VolumeController-module-button_15vFT",presetsBrightBG:"VolumeController-module-presetsBrightBG_2yYG1 VolumeController-module-presets_2UsJt VolumeController-module-select_1XHcV",shadowBrightBG:"VolumeController-module-shadowBrightBG_rXD57 VolumeController-module-shadow_3kZTD VolumeController-module-select_1XHcV"},t.Z=a},1406:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".RenderWindowWithControlBar-module-rootContainer_3KuKP {\n  position: relative;\n}\n\n.RenderWindowWithControlBar-module-renderWindow_1eRtq {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.RenderWindowWithControlBar-module-control_2G8qD {\n  z-index: 1;\n  position: absolute;\n}\n","",{version:3,sources:["webpack://./Sources/Rendering/Misc/RenderWindowWithControlBar/RenderWindowWithControlBar.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,UAAU;EACV,kBAAkB;AACpB",sourcesContent:[".rootContainer {\n  position: relative;\n}\n\n.renderWindow {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.control {\n  z-index: 1;\n  position: absolute;\n}\n"],sourceRoot:""}]),a.locals={rootContainer:"RenderWindowWithControlBar-module-rootContainer_3KuKP",renderWindow:"RenderWindowWithControlBar-module-renderWindow_1eRtq",control:"RenderWindowWithControlBar-module-control_2G8qD"},t.Z=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},4015:function(e){"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(u," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([c]).join("\n")}return[i].join("\n")}},7187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},5705:function(e,t,n){"use strict";var r,o,i=n.g.MutationObserver||n.g.WebKitMutationObserver;if(i){var a=0,s=new i(f),u=n.g.document.createTextNode("");s.observe(u,{characterData:!0}),r=function(){u.data=a=++a%2}}else if(n.g.setImmediate||void 0===n.g.MessageChannel)r="document"in n.g&&"onreadystatechange"in n.g.document.createElement("script")?function(){var e=n.g.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},n.g.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var c=new n.g.MessageChannel;c.port1.onmessage=f,r=function(){c.port2.postMessage(0)}}var l=[];function f(){var e,t;o=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}o=!1}e.exports=function(e){1!==l.push(e)||o||r()}},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},8458:function(e,t,n){"use strict";var r=n(8910),o=n(3790),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,o,a,s,u,c,l=[],f=0,d=e.length,p=d,h="string"!==r.getTypeOf(e);f<e.length;)p=d-f,h?(t=e[f++],n=f<d?e[f++]:0,o=f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,o=f<d?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|n>>4,u=p>1?(15&n)<<2|o>>6:64,c=p>2?63&o:64,l.push(i.charAt(a)+i.charAt(s)+i.charAt(u)+i.charAt(c));return l.join("")},t.decode=function(e){var t,n,r,a,s,u,c=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&p--,e.charAt(e.length-2)===i.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=i.indexOf(e.charAt(c++))<<2|(a=i.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(s=i.indexOf(e.charAt(c++)))>>2,r=(3&s)<<6|(u=i.indexOf(e.charAt(c++))),d[l++]=t,64!==s&&(d[l++]=n),64!==u&&(d[l++]=r);return d}},7326:function(e,t,n){"use strict";var r=n(8565),o=n(5301),i=n(5977),a=n(2541);function s(e,t,n,r,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=o}i=n(5977),s.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},e.exports=s},1678:function(e,t,n){"use strict";var r=n(3718);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(1033)},6988:function(e,t,n){"use strict";var r=n(8910),o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=o,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var i=o,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},6032:function(e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},8565:function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:n(3389),e.exports={Promise:r}},1033:function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(337),i=n(8910),a=n(3718),s=r?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",i.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new u("Deflate",e)},t.uncompressWorker=function(){return new u("Inflate",{})}},4979:function(e,t,n){"use strict";var r=n(8910),o=n(3718),i=n(3600),a=n(6988),s=n(1141),u=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},c=function(e,t,n,o,c,l){var f,d,p=e.file,h=e.compression,m=l!==i.utf8encode,g=r.transformTo("string",l(p.name)),v=r.transformTo("string",i.utf8encode(p.name)),y=p.comment,b=r.transformTo("string",l(y)),w=r.transformTo("string",i.utf8encode(y)),x=v.length!==p.name.length,C=w.length!==y.length,S="",A="",_="",P=p.dir,O=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!x&&!C||(T|=2048);var D,I,k=0,M=0;P&&(k|=16),"UNIX"===c?(M=798,k|=(I=D=p.unixPermissions,D||(I=P?16893:33204),(65535&I)<<16)):(M=20,k|=63&(p.dosPermissions||0)),f=O.getUTCHours(),f<<=6,f|=O.getUTCMinutes(),f<<=5,f|=O.getUTCSeconds()/2,d=O.getUTCFullYear()-1980,d<<=4,d|=O.getUTCMonth()+1,d<<=5,d|=O.getUTCDate(),x&&(A=u(1,1)+u(a(g),4)+v,S+="up"+u(A.length,2)+A),C&&(_=u(1,1)+u(a(b),4)+w,S+="uc"+u(_.length,2)+_);var N="";return N+="\n\0",N+=u(T,2),N+=h.magic,N+=u(f,2),N+=u(d,2),N+=u(E.crc32,4),N+=u(E.compressedSize,4),N+=u(E.uncompressedSize,4),N+=u(g.length,2),N+=u(S.length,2),{fileRecord:s.LOCAL_FILE_HEADER+N+g+S,dirRecord:s.CENTRAL_FILE_HEADER+u(M,2)+N+u(b.length,2)+"\0\0\0\0"+u(k,4)+u(o,4)+g+S+b}},l=function(e){return s.DATA_DESCRIPTOR+u(e.crc32,4)+u(e.compressedSize,4)+u(e.uncompressedSize,4)};function f(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(f,o),f.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:l(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,o=function(e,t,n,o,i){var a=r.transformTo("string",i(o));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(e,2)+u(e,2)+u(t,4)+u(n,4)+u(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},f.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},f.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=f},7834:function(e,t,n){"use strict";var r=n(1678),o=n(4979);t.generateWorker=function(e,t,n){var i=new o(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var o=function(e,t){var n=e||t,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},u=n.dir,c=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:e,dir:u,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(e){i.error(e)}return i}},6085:function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=n(7132),r.prototype.loadAsync=n(1062),r.support=n(3790),r.defaults=n(6032),r.version="3.2.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(8565),e.exports=r},1062:function(e,t,n){"use strict";var r=n(8910),o=n(8565),i=n(3600),a=(r=n(8910),n(6624)),s=n(2541),u=n(2182);function c(e){return new o.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(c(r[i]));return o.Promise.all(n)})).then((function(e){for(var r=e.shift(),o=r.files,i=0;i<o.length;i++){var a=o[i];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},660:function(e,t,n){"use strict";var r=n(8910),o=n(3718);function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},1220:function(e,t,n){"use strict";var r=n(749).Readable;function o(e,t,n){r.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),n&&n(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}n(8910).inherits(o,r),o.prototype._read=function(){this._helper.resume()},e.exports=o},2182:function(e){"use strict";e.exports={isNode:void 0!==r,newBufferFrom:function(e,t){if(r.from&&r.from!==Uint8Array.from)return r.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new r(e,t)},allocBuffer:function(e){if(r.alloc)return r.alloc(e);var t=new r(e);return t.fill(0),t},isBuffer:function(e){return r.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},7132:function(e,t,n){"use strict";var r=n(3600),o=n(8910),i=n(3718),a=n(1285),s=n(6032),u=n(7326),c=n(6859),l=n(7834),f=n(2182),d=n(660),p=function(e,t,n){var r,a=o.getTypeOf(t),l=o.extend(n||{},s);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=m(e)),l.createFolders&&(r=h(e))&&g.call(this,r,!0);var p,v="string"===a&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!v),(t instanceof u&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",a="string"),p=t instanceof u||t instanceof i?t:f.isNode&&f.isStream(t)?new d(e,t):o.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var y=new c(e,p,l);this.files[e]=y},h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1===arguments.length){if(v(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=l.generateWorker(this,n,s)}catch(e){(t=new i("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},749:function(e,t,n){e.exports=n(2830)},2370:function(e,t,n){"use strict";var r=n(8542);function o(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(8910).inherits(o,r),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},8542:function(e,t,n){"use strict";var r=n(8910);function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=o},9583:function(e,t,n){"use strict";var r=n(414);function o(e){r.call(this,e)}n(8910).inherits(o,r),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},9226:function(e,t,n){"use strict";var r=n(8542);function o(e){r.call(this,e)}n(8910).inherits(o,r),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},414:function(e,t,n){"use strict";var r=n(2370);function o(e){r.call(this,e)}n(8910).inherits(o,r),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},8435:function(e,t,n){"use strict";var r=n(8910),o=n(3790),i=n(2370),a=n(9226),s=n(9583),u=n(414);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new u(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new a(e)}},1141:function(e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},4293:function(e,t,n){"use strict";var r=n(3718),o=n(8910);function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},e.exports=i},2541:function(e,t,n){"use strict";var r=n(3718),o=n(6988);function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(8910).inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=i},5977:function(e,t,n){"use strict";var r=n(8910),o=n(3718);function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},e.exports=i},5301:function(e,t,n){"use strict";var r=n(8910),o=n(3718);function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},3718:function(e){"use strict";function t(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=t},1285:function(e,t,n){"use strict";var o=n(8910),i=n(4293),a=n(3718),s=n(8458),u=n(3790),c=n(8565),l=null;if(u.nodestream)try{l=n(1220)}catch(e){}function f(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,o.checkSupport(r),this._worker=e.pipe(new i(r)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return t=this,n=e,new c.Promise((function(e,i){var a=[],u=t._internalType,c=t._outputType,l=t._mimeType;t.on("data",(function(e,t){a.push(e),n&&n(t)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return o.newBlob(o.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return o.transformTo(e,t)}}(c,function(e,t){var n,o=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],o),o+=t[n].length;return i;case"nodebuffer":return r.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(u,a),l);e(t)}catch(e){i(e)}a=[]})).resume()}));var t,n},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){o.delay(t,arguments,n)})),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=f},3790:function(e,t,n){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==r,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var o=new ArrayBuffer(0);try{t.blob=0===new Blob([o],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(o),t.blob=0===i.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(749).Readable}catch(e){t.nodestream=!1}},3600:function(e,t,n){"use strict";for(var r=n(8910),o=n(3790),i=n(2182),a=n(3718),s=new Array(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,a,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(u):new Array(u),a=0,i=0;a<u;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){return o.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,o,i,a=e.length,u=new Array(2*a);for(n=0,t=0;t<a;)if((o=e[t++])<128)u[n++]=o;else if((i=s[o])>4)u[n++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&t<a;)o=o<<6|63&e[t++],i--;i>1?u[n++]=65533:o<65536?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(e=r.transformTo(o.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var n=r.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(n),u=n;a!==n.length&&(o.uint8array?(u=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(u=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(u),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,r.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=l},8910:function(e,t,n){"use strict";var r=n(3790),o=n(8458),i=n(2182),a=n(1623),s=n(8565);function u(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],o=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var n=65536,r=t.getTypeOf(e),o=!0;if("uint8array"===r?o=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=l.applyCanBeUsed.nodebuffer),o)for(;n>1;)try{return l.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=f;var p={};p.string={string:u,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,i.allocBuffer(e.length))}},p.array={string:f,array:u,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},p.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:u,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:u,nodebuffer:function(e){return i.newBufferFrom(e)}},p.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:u},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return p[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,i,a,u){return s.Promise.resolve(n).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var l,f=t.getTypeOf(n);return f?("arraybuffer"===f?n=t.transformTo("uint8array",n):"string"===f&&(u?n=o.decode(n):i&&!0!==a&&(n=c(l=n,r.uint8array?new Uint8Array(l.length):new Array(l.length)))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},6624:function(e,t,n){"use strict";var r=n(8435),o=n(8910),i=n(1141),a=n(9392),s=(n(3600),n(3790));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},9392:function(e,t,n){"use strict";var r=n(8435),o=n(8910),i=n(7326),a=n(6988),s=n(3600),u=n(1678),c=n(3790);function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<o;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=l},6859:function(e,t,n){"use strict";var r=n(1285),o=n(5301),i=n(3600),a=n(7326),s=n(3718),u=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(t=t.pipe(new i.Utf8EncodeWorker)),!a&&o&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)u.prototype[c[f]]=l;e.exports=u},337:function(e,t,n){"use strict";var r={};(0,n(3231).assign)(r,n(7202),n(125),n(2203)),e.exports=r},7202:function(e,t,n){"use strict";var r=n(6431),o=n(3231),i=n(3611),a=n(1750),s=n(8495),u=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=l,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},125:function(e,t,n){"use strict";var r=n(1706),o=n(3231),i=n(3611),a=n(2203),s=n(1750),u=n(8495),c=n(9187),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,c,f,d=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=i.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=i.utf8border(d.output,d.next_out),c=d.next_out-u,f=i.buf2string(d.output,u),d.next_out=c,d.avail_out=p-c,c&&o.arraySet(d.output,d.output,u,c,0),this.onData(f)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},3231:function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var o in n)r(n,o)&&(e[o]=n[o])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},3611:function(e,t,n){"use strict";var r=n(3231),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,o,i,a,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,i=0;a<u;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,i,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)c[r++]=o;else if((i=a[o])>4)c[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<s;)o=o<<6|63&e[n++],i--;i>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return u(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},6578:function(e){"use strict";e.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},2203:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},9274:function(e){"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,o){var i=t,a=o+r;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^n[s])];return-1^e}},6431:function(e,t,n){"use strict";var r,o=n(3231),i=n(4286),a=n(6578),s=n(9274),u=n(1750),c=-2,l=258,f=262,d=103,p=113,h=666;function m(e,t){return e.msg=u[t],t}function g(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function C(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,c=e.window,d=e.w_mask,p=e.prev,h=e.strstart+l,m=c[i+a-1],g=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===m&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=l-(h-i),i=h-l,r>a){if(e.match_start=t,a=r,r>=s)break;m=c[i+a-1],g=c[i+a]}}}while((t=p[t&d])>u&&0!=--o);return a<=e.lookahead?a:e.lookahead}function S(e){var t,n,r,i,u,c,l,d,p,h,m=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-f)){o.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);i+=m}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,d=e.strstart+e.lookahead,p=i,h=void 0,(h=c.avail_in)>p&&(h=p),n=0===h?0:(c.avail_in-=h,o.arraySet(l,c.input,c.next_in,h,d),1===c.state.wrap?c.adler=a(c.adler,l,h,d):2===c.state.wrap&&(c.adler=s(c.adler,l,h,d)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function A(e,t){for(var n,r;;){if(e.lookahead<f){if(S(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=C(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function _(e,t){for(var n,r,o;;){if(e.lookahead<f){if(S(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=C(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function P(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):m(e,c)}function T(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function D(e,t,n,r,i,a){if(!e)return c;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return m(e,c);8===r&&(r=9);var u=new O;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new o.Buf8(2*u.w_size),u.head=new o.Buf16(u.hash_size),u.prev=new o.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new o.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,T(e)}r=[new P(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new P(4,4,8,4,A),new P(4,5,16,8,A),new P(4,6,32,32,A),new P(4,4,16,16,_),new P(8,16,32,32,_),new P(8,16,128,128,_),new P(8,32,128,256,_),new P(32,128,258,1024,_),new P(32,258,258,4096,_)],t.deflateInit=function(e,t){return D(e,t,8,15,8,0)},t.deflateInit2=D,t.deflateReset=T,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,o,a,u;if(!e||!e.state||t>5||t<0)return e?m(e,c):c;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===h&&4!==t)return m(e,0===e.avail_out?-5:c);if(o.strm=e,n=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,w(o,31),w(o,139),w(o,8),o.gzhead?(w(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),w(o,255&o.gzhead.time),w(o,o.gzhead.time>>8&255),w(o,o.gzhead.time>>16&255),w(o,o.gzhead.time>>24&255),w(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),w(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(w(o,255&o.gzhead.extra.length),w(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(w(o,0),w(o,0),w(o,0),w(o,0),w(o,0),w(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),w(o,3),o.status=p);else{var f=8+(o.w_bits-8<<4)<<8;f|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=32),f+=31-f%31,o.status=p,x(o,f),0!==o.strstart&&(x(o,e.adler>>>16),x(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),y(e),a=o.pending,o.pending!==o.pending_buf_size));)w(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),y(e),a=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,w(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===u&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),y(e),a=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,w(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===u&&(o.status=d)}else o.status=d;if(o.status===d&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&y(e),o.pending+2<=o.pending_buf_size&&(w(o,255&e.adler),w(o,e.adler>>8&255),e.adler=0,o.status=p)):o.status=p),0!==o.pending){if(y(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(o.status===h&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&o.status!==h){var C=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=l){if(S(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+l;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=l-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):r[o.level].func(o,t);if(3!==C&&4!==C||(o.status=h),1===C||3===C)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===C&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(v(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),y(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(w(o,255&e.adler),w(o,e.adler>>8&255),w(o,e.adler>>16&255),w(o,e.adler>>24&255),w(o,255&e.total_in),w(o,e.total_in>>8&255),w(o,e.total_in>>16&255),w(o,e.total_in>>24&255)):(x(o,e.adler>>>16),x(o,65535&e.adler)),y(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==p&&t!==h?m(e,c):(e.state=null,t===p?m(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,r,i,s,u,l,f,d,p=t.length;if(!e||!e.state)return c;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return c;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},9187:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4508:function(e){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,x,C,S,A,_,P;n=e.state,r=e.next_in,_=e.input,o=r+(e.avail_in-5),i=e.next_out,P=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(p+=_[r++]<<h,h+=8,p+=_[r++]<<h,h+=8),b=m[p&v];t:for(;;){if(p>>>=w=b>>>24,h-=w,0==(w=b>>>16&255))P[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(h<w&&(p+=_[r++]<<h,h+=8),x+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=_[r++]<<h,h+=8,p+=_[r++]<<h,h+=8),b=g[p&y];n:for(;;){if(p>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&b,h<(w&=15)&&(p+=_[r++]<<h,(h+=8)<w&&(p+=_[r++]<<h,h+=8)),(C+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,h-=w,C>(w=i-a)){if((w=C-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,A=d,0===f){if(S+=c-w,w<x){x-=w;do{P[i++]=d[S++]}while(--w);S=i-C,A=P}}else if(f<w){if(S+=c+f-w,(w-=f)<x){x-=w;do{P[i++]=d[S++]}while(--w);if(S=0,f<x){x-=w=f;do{P[i++]=d[S++]}while(--w);S=i-C,A=P}}}else if(S+=f-w,w<x){x-=w;do{P[i++]=d[S++]}while(--w);S=i-C,A=P}for(;x>2;)P[i++]=A[S++],P[i++]=A[S++],P[i++]=A[S++],x-=3;x&&(P[i++]=A[S++],x>1&&(P[i++]=A[S++]))}else{S=i-C;do{P[i++]=P[S++],P[i++]=P[S++],P[i++]=P[S++],x-=3}while(x>2);x&&(P[i++]=P[S++],x>1&&(P[i++]=P[S++]))}break}}break}}while(r<o&&i<s);r-=x=h>>3,p&=(1<<(h-=x<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=p,n.bits=h}},1706:function(e,t,n){"use strict";var r=n(3231),o=n(6578),i=n(9274),a=n(4508),s=n(8464),u=-2,c=12,l=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):u}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):u}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,h(e))):u}function g(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):u}var v,y,b=!0;function w(e){if(b){var t;for(v=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function x(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=h,t.inflateReset2=m,t.inflateResetKeep=p,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,d,p,h,m,g,v,y,b,C,S,A,_,P,O,E,T,D,I,k,M,N,R,B,L=0,F=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(n=e.state).mode===c&&(n.mode=13),m=e.next_out,p=e.output,v=e.avail_out,h=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,C=g,S=v,N=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,F[0]=255&y,F[1]=y>>>8&255,n.check=i(n.check,F,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=l;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=l;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=l;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:c,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=i(n.check,F,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,F[2]=y>>>16&255,F[3]=y>>>24&255,n.check=i(n.check,F,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=i(n.check,F,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=i(n.check,F,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((A=n.length)>g&&(A=g),A&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,h,A,M)),512&n.flags&&(n.check=i(n.check,d,A,h)),g-=A,h+=A,n.length-=A),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;A=0;do{M=d[h+A++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&A<g);if(512&n.flags&&(n.check=i(n.check,d,A,h)),g-=A,h+=A,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;A=0;do{M=d[h+A++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&A<g);if(512&n.flags&&(n.check=i(n.check,d,A,h)),g-=A,h+=A,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=l;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}e.adler=n.check=f(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=l}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(A=n.length){if(A>g&&(A=g),A>v&&(A=v),0===A)break e;r.arraySet(p,d,h,A,m),g-=A,h+=A,v-=A,m+=A,n.length-=A;break}n.mode=c;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.lens[j[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,N){e.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(L=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((O=L>>>24)<=b);){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(T<16)y>>>=O,b-=O,n.lens[n.have++]=T;else{if(16===T){for(B=O+2;b<B;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(y>>>=O,b-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=l;break}M=n.lens[n.have-1],A=3+(3&y),y>>>=2,b-=2}else if(17===T){for(B=O+3;b<B;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}b-=O,M=0,A=3+(7&(y>>>=O)),y>>>=3,b-=3}else{for(B=O+7;b<B;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}b-=O,M=0,A=11+(127&(y>>>=O)),y>>>=7,b-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=l;break}for(;A--;)n.lens[n.have++]=M}}if(n.mode===l)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,R={bits:n.lenbits},N=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,N){e.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},N=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,N){e.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&v>=258){e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,a(e,S),m=e.next_out,p=e.output,v=e.avail_out,h=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;E=(L=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((O=L>>>24)<=b);){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(E&&0==(240&E)){for(D=O,I=E,k=T;E=(L=n.lencode[k+((y&(1<<D+I)-1)>>D)])>>>16&255,T=65535&L,!(D+(O=L>>>24)<=b);){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}y>>>=D,b-=D,n.back+=D}if(y>>>=O,b-=O,n.back+=O,n.length=T,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=c;break}if(64&E){e.msg="invalid literal/length code",n.mode=l;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(B=n.extra;b<B;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(L=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&L,!((O=L>>>24)<=b);){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(0==(240&E)){for(D=O,I=E,k=T;E=(L=n.distcode[k+((y&(1<<D+I)-1)>>D)])>>>16&255,T=65535&L,!(D+(O=L>>>24)<=b);){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}y>>>=D,b-=D,n.back+=D}if(y>>>=O,b-=O,n.back+=O,64&E){e.msg="invalid distance code",n.mode=l;break}n.offset=T,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(B=n.extra;b<B;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===v)break e;if(A=S-v,n.offset>A){if((A=n.offset-A)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=l;break}A>n.wnext?(A-=n.wnext,_=n.wsize-A):_=n.wnext-A,A>n.length&&(A=n.length),P=n.window}else P=p,_=m-n.offset,A=n.length;A>v&&(A=v),v-=A,n.length-=A;do{p[m++]=P[_++]}while(--A);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;p[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=d[h++]<<b,b+=8}if(S-=v,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?i(n.check,p,S,m-S):o(n.check,p,S,m-S)),S=v,(n.flags?y:f(y))!==n.check){e.msg="incorrect data check",n.mode=l;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=d[h++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=l;break}y=0,b=0}n.mode=29;case 29:N=1;break e;case l:N=-3;break e;case 31:return-4;case 32:default:return u}return e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||S!==e.avail_out&&n.mode<l&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(C-=e.avail_in,S-=e.avail_out,e.total_in+=C,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?i(n.check,p,S,e.next_out-S):o(n.check,p,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===C&&0===S||4===t)&&0===N&&(N=-5),N)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?u:(n.head=t,t.done=!1,0):u},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&o(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},t.inflateInfo="pako inflate (from Nodeca project)"},8464:function(e,t,n){"use strict";var r=n(3231),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,l,f,d){var p,h,m,g,v,y,b,w,x,C=d.bits,S=0,A=0,_=0,P=0,O=0,E=0,T=0,D=0,I=0,k=0,M=null,N=0,R=new r.Buf16(16),B=new r.Buf16(16),L=null,F=0;for(S=0;S<=15;S++)R[S]=0;for(A=0;A<u;A++)R[t[n+A]]++;for(O=C,P=15;P>=1&&0===R[P];P--);if(O>P&&(O=P),0===P)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(_=1;_<P&&0===R[_];_++);for(O<_&&(O=_),D=1,S=1;S<=15;S++)if(D<<=1,(D-=R[S])<0)return-1;if(D>0&&(0===e||1!==P))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+R[S];for(A=0;A<u;A++)0!==t[n+A]&&(f[B[t[n+A]]++]=A);if(0===e?(M=L=f,y=19):1===e?(M=o,N-=257,L=i,F-=257,y=256):(M=a,L=s,y=-1),k=0,A=0,S=_,v=l,E=O,T=0,m=-1,g=(I=1<<O)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=S-T,f[A]<y?(w=0,x=f[A]):f[A]>y?(w=L[F+f[A]],x=M[N+f[A]]):(w=96,x=0),p=1<<S-T,_=h=1<<E;do{c[v+(k>>T)+(h-=p)]=b<<24|w<<16|x|0}while(0!==h);for(p=1<<S-1;k&p;)p>>=1;if(0!==p?(k&=p-1,k+=p):k=0,A++,0==--R[S]){if(S===P)break;S=t[n+f[A]]}if(S>O&&(k&g)!==m){for(0===T&&(T=O),v+=_,D=1<<(E=S-T);E+T<P&&!((D-=R[E+T])<=0);)E++,D<<=1;if(I+=1<<E,1===e&&I>852||2===e&&I>592)return 1;c[m=k&g]=O<<24|E<<16|v-l|0}}return 0!==k&&(c[v+k]=S-T<<24|64<<16|0),d.bits=O,0}},1750:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},4286:function(e,t,n){"use strict";var r=n(3231);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);o(c);var l=new Array(60);o(l);var f=new Array(512);o(f);var d=new Array(256);o(d);var p=new Array(29);o(p);var h,m,g,v=new Array(30);function y(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?f[e]:f[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){C(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function _(e,t,n){var r,o,i=new Array(16),a=0;for(r=1;r<=15;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=A(i[s]++,s))}}function P(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function E(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function T(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&E(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!E(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function D(e,t,n){var r,o,s,u,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],o=e.pending_buf[e.l_buf+c],c++,0===r?S(e,o,t):(S(e,(s=d[o])+256+1,t),0!==(u=i[s])&&C(e,o-=p[s],u),S(e,s=w(--r),n),0!==(u=a[s])&&C(e,r-=v[s],u))}while(c<e.last_lit);S(e,256,t)}function I(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)T(e,i,n);o=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],T(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,T(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=u[2*u[2*(r=e.heap[n])+1]+1]+1)>h&&(i=h,m++),u[2*r+1]=i,r>c||(e.bl_count[i]++,a=0,r>=p&&(a=d[r-p]),s=u[2*r],e.opt_len+=s*(i+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(i=h;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>c||(u[2*o+1]!==i&&(e.opt_len+=(i-u[2*o+1])*u[2*o],u[2*o+1]=i),r--)}}(e,t),_(i,c,e.bl_count)}function k(e,t,n){var r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<u&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4))}function M(e,t,n){var r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<u&&o===a)){if(s<c)do{S(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(S(e,o,e.bl_tree),s--),S(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(S(e,17,e.bl_tree),C(e,s-3,3)):(S(e,18,e.bl_tree),C(e,s-11,7));s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4)}}o(v);var N=!1;function R(e,t,n,o){C(e,0+(o?1:0),3),function(e,t,n,o){O(e),x(e,n),x(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){N||(function(){var e,t,n,r,o,u=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<i[r];e++)d[n++]=r;for(d[n-1]=r,o=0,r=0;r<16;r++)for(v[r]=o,e=0;e<1<<a[r];e++)f[o++]=r;for(o>>=7;r<30;r++)for(v[r]=o<<7,e=0;e<1<<a[r]-7;e++)f[256+o++]=r;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,u[8]++;for(;e<=255;)c[2*e+1]=9,e++,u[9]++;for(;e<=279;)c[2*e+1]=7,e++,u[7]++;for(;e<=287;)c[2*e+1]=8,e++,u[8]++;for(_(c,287,u),e=0;e<30;e++)l[2*e+1]=5,l[2*e]=A(e,5);h=new y(c,i,257,286,15),m=new y(l,a,0,30,15),g=new y(new Array(0),s,0,19,7)}(),N=!0),e.l_desc=new b(e.dyn_ltree,h),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,P(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),a=function(e){var t;for(k(e,e.dyn_ltree,e.l_desc.max_code),k(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?R(e,t,n,r):4===e.strategy||i===o?(C(e,2+(r?1:0),3),D(e,c,l)):(C(e,4+(r?1:0),3),function(e,t,n,r){var o;for(C(e,t-257,5),C(e,n-1,5),C(e,r-4,4),o=0;o<r;o++)C(e,e.bl_tree[2*u[o]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),D(e,e.dyn_ltree,e.dyn_dtree)),P(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){C(e,2,3),S(e,256,c),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},8495:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},3389:function(e,t,n){"use strict";var r=n(5705);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=h((function(){t(o,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?f(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=h(d,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(e[u],u);return c;function l(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))}),(function(e){r||(r=!0,i.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(o);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,i.resolve(s,e))}),(function(e){n||(n=!0,i.reject(s,e))}));return s}},4281:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,a,s,u;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(o," ").concat(r(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(9481),a=n(4229);n(5717)(l,i);for(var s=r(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||o.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:function(e,t,n){"use strict";e.exports=o;var r=n(4605);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(5717)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},9481:function(e,t,n){"use strict";var r;e.exports=_,_.ReadableState=A,n(7187).EventEmitter;var i,a=function(e,t){return e.listeners(t).length},s=n(2503),u=n(8764).Buffer,c=n.g.Uint8Array||function(){},l=n(4616);i=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,p,h=n(7327),m=n(1195),g=n(2457).getHighWaterMark,v=n(4281).q,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(_,s);var C=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function A(e,t,o){r=r||n(6753),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",o),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(2553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||n(6753),!(this instanceof _))return new _(e);var t=this instanceof r;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function P(e,t,n,r,o){i("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,s);else if(o||(a=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),a)C(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)s.endEmitted?C(e,new x):O(e,s,t,!0);else if(s.ended)C(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?O(e,s,t,!1):k(e,s)):O(e,s,t,!1)}else r||(s.reading=!1,k(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),k(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),P(this,e,t,!1,n)},_.prototype.unshift=function(e){return P(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){f||(f=n(2553).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var E=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(I,e))}function I(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function k(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){i("readable nexttick read 0"),e.read(0)}function B(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(V,t,e))}function V(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):D(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){C(this,new w("_read()"))},_.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===o.stdout||e===o.stderr?m:u;function u(){i("onend"),e.end()}r.endEmitted?o.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,a){i("onunpipe"),o===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",m),n.removeListener("data",f),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",c);var l=!1;function f(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==U(r.pipes,e))&&!l&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),m(),e.removeListener("error",d),0===a(e,"error")&&C(e,t)}function p(){e.removeListener("finish",h),m()}function h(){i("onfinish"),e.removeListener("close",p),m()}function m(){i("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",h),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?D(this):r.reading||o.nextTick(R,this))),n},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(N,this),n},_.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(N,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(B,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<S.length;a++)e.on(S[a],this.emit.bind(this,S[a]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(5850)),d(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(e,t){return void 0===p&&(p=n(5167)),p(_,e,t)})},4605:function(e,t,n){"use strict";e.exports=l;var r=n(4281).q,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(6753);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(5717)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new o("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=_,_.WritableState=A;var a,s={deprecate:n(4927)},u=n(2503),c=n(8764).Buffer,l=n.g.Uint8Array||function(){},f=n(1195),d=n(2457).getHighWaterMark,p=n(4281).q,h=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,x=p.ERR_UNKNOWN_ENCODING,C=f.errorOrDestroy;function S(){}function A(e,t,a){i=i||n(6753),e=e||{},"boolean"!=typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(I,e,t),e._writableState.errorEmitted=!0,C(e,r)):(i(r),e._writableState.errorEmitted=!0,C(e,r),I(e,t))}(e,n,r,t,i);else{var a=T(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?o.nextTick(O,e,n,a,i):O(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function _(e){var t=this instanceof(i=i||n(6753));if(!t&&!a.call(_,this))return new _(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function P(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var o=t.bufferedRequestCount,i=new Array(o),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,P(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(P(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final((function(n){t.pendingcb--,n&&C(e,n),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(5717)(_,u),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===_&&e&&e._writableState instanceof A}})):a=function(e){return e instanceof this},_.prototype.pipe=function(){C(this,new v)},_.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new w;C(e,n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new b:"string"==typeof n||t.objectMode||(i=new h("chunk",["string","Buffer"],n)),!i||(C(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,s,r,o,i);return u}(this,i,s,e,t,n)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new m("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(e,t){t(e)}},5850:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8610),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var n=e[p].read();null!==n&&(e[f]=null,e[s]=null,e[u]=null,t(h(n,!1)))}}function g(e){o.nextTick(m,e)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[c]?n(e[c]):t(h(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(h(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(h(i,!1));n=new Promise(this[d])}return this[f]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[p].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(y,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[p].read();r?(n[f]=null,n[s]=null,n[u]=null,e(h(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[u]=null,r(h(void 0,!0))),n[l]=!0})),e.on("readable",g.bind(null,n)),n}},7327:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(8764).Buffer,a=n(2361).inspect,s=a&&a.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,i.prototype.copy.call(t,n,r),s+=a.data.length,a=a.next;return o},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0==(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,a),0==(e-=a)){a===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++r}return this.length-=r,t},t[s]=function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},1195:function(e){"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(r,this,e)):o.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?a._writableState?a._writableState.errorEmitted?o.nextTick(n,a):(a._writableState.errorEmitted=!0,o.nextTick(t,a,e)):o.nextTick(t,a,e):i?(o.nextTick(n,a),i(e)):o.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,n){"use strict";var r=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"==typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||i.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||i.call(t)},p=function(e){i.call(t,e)},h=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",h),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",p),t.on("close",h),function(){t.removeListener("complete",l),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",h)}}},5167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:function(e,t,n){"use strict";var r,o=n(4281).q,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(8610)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);s=!0,i()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a=t.map((function(e,n){var i=n<t.length-1;return u(e,i,n>0,(function(e){r||(r=e),e&&a.forEach(c),i||(a.forEach(c),o(r))}))}));return t.reduce(l)}},2457:function(e,t,n){"use strict";var r=n(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},2503:function(e,t,n){e.exports=n(7187).EventEmitter},9509:function(e,t,n){var r=n(8764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},6377:function(e,t,n){var r=n(4832),o=n(8652),i=n(801),a=n(2030),s=n(3618),u=n(9049),c=n(1971);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=a,c.xor4096=s,c.tychei=u,e.exports=c},4832:function(e,t,n){var r;!function(e,o,i){function a(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},9049:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},8652:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},3618:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},2030:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,o))||(o.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},1971:function(e,t,n){var r;!function(o,i,a){var s,u=256,c=a.pow(u,6),l=a.pow(2,52),f=2*l,d=255;function p(e,t,n){var r=[],d=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,v(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(b,d,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<u;)a[o]=o++;for(o=0;o<u;o++)a[o]=a[i=d&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=d&o+1],n=n*u+a[d&(a[o]=a[i=d&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function v(e,t){for(var n,r=e+"",o=0;o<r.length;)t[d&o]=d&(n^=19*t[d&o])+r.charCodeAt(o++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(a.random(),i),e.exports){e.exports=p;try{s=n(5042)}catch(e){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},1623:function(e){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},1158:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the polydata mappers fragment shader\n\nuniform int PrimitiveIDOffset;\n\n// VC position of this fragment\n//VTK::PositionVC::Dec\n\n// optional color passed in from the vertex shader, vertexColor\n//VTK::Color::Dec\n\n// optional surface normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// Depth Peeling Support\n//VTK::DepthPeeling::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// handle coincident offsets\n//VTK::Coincident::Dec\n\n//VTK::ZBuffer::Dec\n\nvoid main()\n{\n  // VC position of this fragment. This should not branch/return/discard.\n  //VTK::PositionVC::Impl\n\n  // Place any calls that require uniform flow (e.g. dFdx) here.\n  //VTK::UniformFlow::Impl\n\n  // Set gl_FragDepth here (gl_FragCoord.z by default)\n  //VTK::Depth::Impl\n\n  // Early depth peeling abort:\n  //VTK::DepthPeeling::PreColor\n\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::Color::Impl\n\n  // Generate the normal if we are not passed in one\n  //VTK::Normal::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::TCoord::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n\n  //VTK::DepthPeeling::Impl\n\n  //VTK::Picking::Impl\n\n  // handle coincident offsets\n  //VTK::Coincident::Impl\n\n  //VTK::ZBuffer::Impl\n}\n"},516:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexMC;\n\n// frag position in VC\n//VTK::PositionVC::Dec\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// picking support\n//VTK::Picking::Dec\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::PrimID::Impl\n\n  //VTK::PositionVC::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::Picking::Impl\n}\n"},4714:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkSphereMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Spheres\n\nattribute vec4 vertexMC;\nattribute vec2 offsetMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying vec3 centerVCVSOutput;\n\nuniform int cameraParallel;\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  // compute the projected vertex position\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = length(offsetMC)*0.5;\n\n  // make the triangle face the camera\n  if (cameraParallel == 0)\n    {\n    vec3 dir = normalize(-vertexVCVSOutput.xyz);\n    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));\n    vec3 base1 = cross(base2,dir);\n    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + offsetMC.x*base1 + offsetMC.y*base2;\n    }\n  else\n    {\n    // add in the offset\n    vertexVCVSOutput.xy = vertexVCVSOutput.xy + offsetMC;\n    }\n\n  gl_Position = VCPCMatrix * vertexVCVSOutput;\n}\n"},5961:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkStickMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Sticks\n\nattribute vec4 vertexMC;\nattribute vec3 orientMC;\nattribute vec4 offsetMC;\nattribute float radiusMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n//VTK::Picking::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying float lengthVCVSOutput;\nvarying vec3 centerVCVSOutput;\nvarying vec3 orientVCVSOutput;\n\nuniform int cameraParallel;\n\nvoid main()\n{\n  //VTK::Picking::Impl\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = radiusMC;\n  lengthVCVSOutput = length(orientMC);\n  orientVCVSOutput = normalMatrix * normalize(orientMC);\n\n  // make sure it is pointing out of the screen\n  if (orientVCVSOutput.z < 0.0)\n    {\n    orientVCVSOutput = -orientVCVSOutput;\n    }\n\n  // make the basis\n  vec3 xbase;\n  vec3 ybase;\n  vec3 dir = vec3(0.0,0.0,1.0);\n  if (cameraParallel == 0)\n    {\n    dir = normalize(-vertexVCVSOutput.xyz);\n    }\n  if (abs(dot(dir,orientVCVSOutput)) == 1.0)\n    {\n    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));\n    ybase = cross(xbase,orientVCVSOutput);\n    }\n  else\n    {\n    xbase = normalize(cross(orientVCVSOutput,dir));\n    ybase = cross(orientVCVSOutput,xbase);\n    }\n\n  vec3 offsets = offsetMC.xyz*2.0-1.0;\n  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +\n    radiusVCVSOutput*offsets.x*xbase +\n    radiusVCVSOutput*offsets.y*ybase +\n    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;\n\n  gl_Position = VCPCMatrix * vertexVCVSOutput;\n}\n"},9115:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkVolumeFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the volume mappers fragment shader\n\n// the output of this shader\n//VTK::Output::Dec\n\nvarying vec3 vertexVCVSOutput;\n\n// first declare the settings from the mapper\n// that impact the code paths in here\n\n// always set vtkNumComponents 1,2,3,4\n//VTK::NumComponents\n\n// possibly define vtkUseTriliear\n//VTK::TrilinearOn\n\n// possibly define vtkIndependentComponents\n//VTK::IndependentComponentsOn\n\n// possibly define any \"proportional\" components\n//VTK::vtkProportionalComponents\n\n// Define the blend mode to use\n#define vtkBlendMode //VTK::BlendMode\n\n// Possibly define vtkImageLabelOutlineOn\n//VTK::ImageLabelOutlineOn\n\n#ifdef vtkImageLabelOutlineOn\nuniform int outlineThickness;\nuniform float vpWidth;\nuniform float vpHeight;\nuniform mat4 PCWCMatrix;\nuniform mat4 vWCtoIDX;\n#endif\n\n// define vtkLightComplexity\n//VTK::LightComplexity\n#if vtkLightComplexity > 0\nuniform float vSpecularPower;\nuniform float vAmbient;\nuniform float vDiffuse;\nuniform float vSpecular;\n//VTK::Light::Dec\n#endif\n\n// possibly define vtkGradientOpacityOn\n//VTK::GradientOpacityOn\n#ifdef vtkGradientOpacityOn\nuniform float goscale0;\nuniform float goshift0;\nuniform float gomin0;\nuniform float gomax0;\n#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\nuniform float goscale1;\nuniform float goshift1;\nuniform float gomin1;\nuniform float gomax1;\n#if vtkNumComponents >= 3\nuniform float goscale2;\nuniform float goshift2;\nuniform float gomin2;\nuniform float gomax2;\n#endif\n#if vtkNumComponents >= 4\nuniform float goscale3;\nuniform float goshift3;\nuniform float gomin3;\nuniform float gomax3;\n#endif\n#endif\n#endif\n\n// if you want to see the raw tiled\n// data in webgl1 uncomment the following line\n// #define debugtile\n\n// camera values\nuniform float camThick;\nuniform float camNear;\nuniform float camFar;\nuniform int cameraParallel;\n\n// values describing the volume geometry\nuniform vec3 vOriginVC;\nuniform vec3 vSpacing;\nuniform ivec3 volumeDimensions; // 3d texture dimensions\nuniform vec3 vPlaneNormal0;\nuniform float vPlaneDistance0;\nuniform vec3 vPlaneNormal1;\nuniform float vPlaneDistance1;\nuniform vec3 vPlaneNormal2;\nuniform float vPlaneDistance2;\nuniform vec3 vPlaneNormal3;\nuniform float vPlaneDistance3;\nuniform vec3 vPlaneNormal4;\nuniform float vPlaneDistance4;\nuniform vec3 vPlaneNormal5;\nuniform float vPlaneDistance5;\n\n//VTK::ClipPlane::Dec\n\n// opacity and color textures\nuniform sampler2D otexture;\nuniform float oshift0;\nuniform float oscale0;\nuniform sampler2D ctexture;\nuniform float cshift0;\nuniform float cscale0;\n\n// jitter texture\nuniform sampler2D jtexture;\n\n// some 3D texture values\nuniform float sampleDistance;\nuniform vec3 vVCToIJK;\n\n// the heights defined below are the locations\n// for the up to four components of the tfuns\n// the tfuns have a height of 2XnumComps pixels so the\n// values are computed to hit the middle of the two rows\n// for that component\n#ifdef vtkIndependentComponentsOn\n#if vtkNumComponents == 2\nuniform float mix0;\nuniform float mix1;\n#define height0 0.25\n#define height1 0.75\n#endif\n#if vtkNumComponents == 3\nuniform float mix0;\nuniform float mix1;\nuniform float mix2;\n#define height0 0.17\n#define height1 0.5\n#define height2 0.83\n#endif\n#if vtkNumComponents == 4\nuniform float mix0;\nuniform float mix1;\nuniform float mix2;\nuniform float mix3;\n#define height0 0.125\n#define height1 0.375\n#define height2 0.625\n#define height3 0.875\n#endif\n#endif\n\n#if vtkNumComponents >= 2\nuniform float oshift1;\nuniform float oscale1;\nuniform float cshift1;\nuniform float cscale1;\n#endif\n#if vtkNumComponents >= 3\nuniform float oshift2;\nuniform float oscale2;\nuniform float cshift2;\nuniform float cscale2;\n#endif\n#if vtkNumComponents >= 4\nuniform float oshift3;\nuniform float oscale3;\nuniform float cshift3;\nuniform float cscale3;\n#endif\n\n// declaration for intermixed geometry\n//VTK::ZBuffer::Dec\n\n// Lighting values\n//VTK::Light::Dec\n\n//=======================================================================\n// Webgl2 specific version of functions\n#if __VERSION__ == 300\n\nuniform highp sampler3D texture1;\n\nvec4 getTextureValue(vec3 pos)\n{\n  vec4 tmp = texture(texture1, pos);\n#if vtkNumComponents == 1\n  tmp.a = tmp.r;\n#endif\n#if vtkNumComponents == 2\n  tmp.a = tmp.g;\n#endif\n#if vtkNumComponents == 3\n  tmp.a = length(tmp.rgb);\n#endif\n  return tmp;\n}\n\n//=======================================================================\n// WebGL1 specific version of functions\n#else\n\nuniform sampler2D texture1;\n\nuniform float texWidth;\nuniform float texHeight;\nuniform int xreps;\nuniform int xstride;\nuniform int ystride;\n\n// if computing triliear values from multiple z slices\n#ifdef vtkTriliearOn\nvec4 getTextureValue(vec3 ijk)\n{\n  float zoff = 1.0/float(volumeDimensions.z);\n  vec4 val1 = getOneTextureValue(ijk);\n  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));\n\n  float indexZ = float(volumeDimensions)*ijk.z;\n  float zmix =  indexZ - floor(indexZ);\n\n  return mix(val1, val2, zmix);\n}\n\nvec4 getOneTextureValue(vec3 ijk)\n#else // nearest or fast linear\nvec4 getTextureValue(vec3 ijk)\n#endif\n{\n  vec3 tdims = vec3(volumeDimensions);\n\n#ifdef debugtile\n  vec2 tpos = vec2(ijk.x, ijk.y);\n  vec4 tmp = texture2D(texture1, tpos);\n  tmp.a = 1.0;\n\n#else\n  int z = int(ijk.z * tdims.z);\n  int yz = z / xreps;\n  int xz = z - yz*xreps;\n\n  int tileWidth = volumeDimensions.x/xstride;\n  int tileHeight = volumeDimensions.y/ystride;\n\n  xz *= tileWidth;\n  yz *= tileHeight;\n\n  float ni = float(xz) + (ijk.x*float(tileWidth));\n  float nj = float(yz) + (ijk.y*float(tileHeight));\n\n  vec2 tpos = vec2(ni/texWidth, nj/texHeight);\n\n  vec4 tmp = texture2D(texture1, tpos);\n\n#if vtkNumComponents == 1\n  tmp.a = tmp.r;\n#endif\n#if vtkNumComponents == 2\n  tmp.g = tmp.a;\n#endif\n#if vtkNumComponents == 3\n  tmp.a = length(tmp.rgb);\n#endif\n#endif\n\n  return tmp;\n}\n\n// End of Webgl1 specific code\n//=======================================================================\n#endif\n\n//=======================================================================\n// compute the normal and gradient magnitude for a position\nvec4 computeNormal(vec3 pos, float scalar, vec3 tstep)\n{\n  vec4 result;\n\n  result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;\n  result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;\n  result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;\n\n  // divide by spacing\n  result.xyz /= vSpacing;\n\n  result.w = length(result.xyz);\n\n  // rotate to View Coords\n  result.xyz =\n    result.x * vPlaneNormal0 +\n    result.y * vPlaneNormal2 +\n    result.z * vPlaneNormal4;\n\n  if (result.w > 0.0)\n  {\n    result.xyz /= result.w;\n  }\n  return result;\n}\n\n#ifdef vtkImageLabelOutlineOn\nvec3 fragCoordToIndexSpace(vec4 fragCoord) {\n  vec4 pcPos = vec4(\n    (fragCoord.x / vpWidth - 0.5) * 2.0,\n    (fragCoord.y / vpHeight - 0.5) * 2.0,\n    (fragCoord.z - 0.5) * 2.0,\n    1.0);\n\n  vec4 worldCoord = PCWCMatrix * pcPos;\n  vec4 vertex = (worldCoord/worldCoord.w);\n\n  return (vWCtoIDX * vertex).xyz / vec3(volumeDimensions);\n}\n#endif\n\n//=======================================================================\n// compute the normals and gradient magnitudes for a position\n// for independent components\nmat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)\n{\n  mat4 result;\n  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;\n  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;\n  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;\n\n  // divide by spacing\n  distX /= vSpacing.x;\n  distY /= vSpacing.y;\n  distZ /= vSpacing.z;\n\n  mat3 rot;\n  rot[0] = vPlaneNormal0;\n  rot[1] = vPlaneNormal2;\n  rot[2] = vPlaneNormal4;\n\n#if !defined(vtkComponent0Proportional)\n  result[0].xyz = vec3(distX.r, distY.r, distZ.r);\n  result[0].a = length(result[0].xyz);\n  result[0].xyz *= rot;\n  if (result[0].w > 0.0)\n  {\n    result[0].xyz /= result[0].w;\n  }\n#endif\n\n// optionally compute the 2nd component\n#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)\n  result[1].xyz = vec3(distX.g, distY.g, distZ.g);\n  result[1].a = length(result[1].xyz);\n  result[1].xyz *= rot;\n  if (result[1].w > 0.0)\n  {\n    result[1].xyz /= result[1].w;\n  }\n#endif\n\n// optionally compute the 3rd component\n#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)\n  result[2].xyz = vec3(distX.b, distY.b, distZ.b);\n  result[2].a = length(result[2].xyz);\n  result[2].xyz *= rot;\n  if (result[2].w > 0.0)\n  {\n    result[2].xyz /= result[2].w;\n  }\n#endif\n\n// optionally compute the 4th component\n#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)\n  result[3].xyz = vec3(distX.a, distY.a, distZ.a);\n  result[3].a = length(result[3].xyz);\n  result[3].xyz *= rot;\n  if (result[3].w > 0.0)\n  {\n    result[3].xyz /= result[3].w;\n  }\n#endif\n\n  return result;\n}\n\n//=======================================================================\n// Given a normal compute the gradient opacity factors\n//\nfloat computeGradientOpacityFactor(\n  vec4 normal, float goscale, float goshift, float gomin, float gomax)\n{\n#if defined(vtkGradientOpacityOn)\n  return clamp(normal.a*goscale + goshift, gomin, gomax);\n#else\n  return 1.0;\n#endif\n}\n\n#if vtkLightComplexity > 0\nvoid applyLighting(inout vec3 tColor, vec4 normal)\n{\n  vec3 diffuse = vec3(0.0, 0.0, 0.0);\n  vec3 specular = vec3(0.0, 0.0, 0.0);\n  //VTK::Light::Impl\n  tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;\n}\n#endif\n\n//=======================================================================\n// Given a texture value compute the color and opacity\n//\nvec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)\n{\n#ifdef vtkImageLabelOutlineOn\n  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space\n  vec4 centerValue = getTextureValue(centerPosIS);\n  bool pixelOnBorder = false;\n  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));\n\n  // Get alpha of segment from opacity function.\n  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;\n\n  // Only perform outline check on fragments rendering voxels that aren't invisible.\n  // Saves a bunch of needless checks on the background.\n  // TODO define epsilon when building shader?\n  if (float(tColor.a) > 0.01) {\n    for (int i = -outlineThickness; i <= outlineThickness; i++) {\n      for (int j = -outlineThickness; j <= outlineThickness; j++) {\n        if (i == 0 || j == 0) {\n          continue;\n        }\n\n        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),\n          gl_FragCoord.y + float(j),\n          gl_FragCoord.z, gl_FragCoord.w);\n\n        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);\n        vec4 value = getTextureValue(neighborPosIS);\n\n        // If any of my neighbours are not the same value as I\n        // am, this means I am on the border of the segment.\n        // We can break the loops\n        if (any(notEqual(value, centerValue))) {\n          pixelOnBorder = true;\n          break;\n        }\n      }\n\n      if (pixelOnBorder == true) {\n        break;\n      }\n    }\n\n    // If I am on the border, I am displayed at full opacity\n    if (pixelOnBorder == true) {\n      tColor.a = 1.0;\n    }\n  }\n\n#else\n  // compute the normal and gradient magnitude if needed\n  // We compute it as a vec4 if possible otherwise a mat4\n  //\n  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);\n\n  // compute the normal vectors as needed\n  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)\n    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\n      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);\n      #if !defined(vtkComponent0Proportional)\n        vec4 normal0 = normalMat[0];\n      #endif\n      #if !defined(vtkComponent1Proportional)\n        vec4 normal1 = normalMat[1];\n      #endif\n      #if vtkNumComponents > 2\n        #if !defined(vtkComponent2Proportional)\n          vec4 normal2 = normalMat[2];\n        #endif\n        #if vtkNumComponents > 3\n          #if !defined(vtkComponent3Proportional)\n            vec4 normal3 = normalMat[3];\n          #endif\n        #endif\n      #endif\n    #else\n      vec4 normal0 = computeNormal(posIS, tValue.a, tstep);\n    #endif\n  #endif\n\n  // compute gradient opacity factors as needed\n  #if defined(vtkGradientOpacityOn)\n    #if !defined(vtkComponent0Proportional)\n      goFactor.x =\n        computeGradientOpacityFactor(normal0, goscale0, goshift0, gomin0, gomax0);\n    #endif\n    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\n      #if !defined(vtkComponent1Proportional)\n        goFactor.y =\n          computeGradientOpacityFactor(normal1, goscale1, goshift1, gomin1, gomax1);\n      #endif\n      #if vtkNumComponents > 2\n        #if !defined(vtkComponent2Proportional)\n          goFactor.z =\n            computeGradientOpacityFactor(normal2, goscale2, goshift2, gomin2, gomax2);\n        #endif\n        #if vtkNumComponents > 3\n          #if !defined(vtkComponent3Proportional)\n            goFactor.w =\n              computeGradientOpacityFactor(normal3, goscale3, goshift3, gomin3, gomax3);\n          #endif\n        #endif\n      #endif\n    #endif\n  #endif\n\n  // single component is always independent\n  #if vtkNumComponents == 1\n    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;\n  #endif\n\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));\n    #if !defined(vtkComponent0Proportional)\n      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;\n    #else\n      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;\n      tColor *= pwfValue;\n      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));\n    #endif\n\n    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;\n    #if !defined(vtkComponent1Proportional)\n      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;\n    #else\n      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;\n      tColor1 *= pwfValue;\n      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));\n    #endif\n\n    #if vtkNumComponents >= 3\n      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;\n      #if !defined(vtkComponent2Proportional)\n        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;\n      #else\n        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;\n        tColor2 *= pwfValue;\n        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));\n      #endif\n\n      #if vtkNumComponents >= 4\n        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;\n        #if !defined(vtkComponent3Proportional)\n          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;\n        #else\n          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;\n          tColor3 *= pwfValue;\n          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));\n        #endif\n      #endif\n    #endif\n  #else // then not independent\n\n  #if vtkNumComponents == 2\n    float lum = tValue.r * cscale0 + cshift0;\n    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;\n    vec4 tColor = vec4(lum, lum, lum, alpha);\n  #endif\n  #if vtkNumComponents == 3\n    vec4 tColor;\n    tColor.r = tValue.r * cscale0 + cshift0;\n    tColor.g = tValue.g * cscale1 + cshift1;\n    tColor.b = tValue.b * cscale2 + cshift2;\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;\n  #endif\n  #if vtkNumComponents == 4\n    vec4 tColor;\n    tColor.r = tValue.r * cscale0 + cshift0;\n    tColor.g = tValue.g * cscale1 + cshift1;\n    tColor.b = tValue.b * cscale2 + cshift2;\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;\n  #endif\n  #endif // dependent\n\n  // apply lighting if requested as appropriate\n  #if vtkLightComplexity > 0\n    #if !defined(vtkComponent0Proportional)\n      applyLighting(tColor.rgb, normal0);\n    #endif\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n    #if !defined(vtkComponent1Proportional)\n      applyLighting(tColor1, normal1);\n    #endif\n  #if vtkNumComponents >= 3\n    #if !defined(vtkComponent2Proportional)\n      applyLighting(tColor2, normal2);\n    #endif\n  #if vtkNumComponents >= 4\n    #if !defined(vtkComponent3Proportional)\n      applyLighting(tColor3, normal3);\n    #endif\n  #endif\n  #endif\n  #endif\n#endif\n\n// perform final independent blend as needed\n#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n  tColor.rgb += tColor1;\n#if vtkNumComponents >= 3\n  tColor.rgb += tColor2;\n#if vtkNumComponents >= 4\n  tColor.rgb += tColor3;\n#endif\n#endif\n#endif\n\n#endif\n\n\n\n\n\n\n\nreturn tColor;\n}\n\nbool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {\n  bool withinRange = false;\n  #if vtkNumComponents == 1\n    if (val.r >= min.r && val.r <= max.r) {\n      withinRange = true;\n    }\n  #endif\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2\n     if (val.r >= min.r && val.r <= max.r &&\n        val.g >= min.g && val.g <= max.g) {\n      withinRange = true;\n    }\n  #endif\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3\n    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&\n        all(lessThanEqual(val, ipScalarRangeMax))) {\n      withinRange = true;\n    }\n  #endif\n  return withinRange;\n}\n\n//=======================================================================\n// Apply the specified blend mode operation along the ray's path.\n//\nvoid applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)\n{\n  vec3 tstep = 1.0/tdims;\n\n  // start slightly inside and apply some jitter\n  vec3 delta = endIS - posIS;\n  vec3 stepIS = normalize(delta)*sampleDistanceIS;\n  float raySteps = length(delta)/sampleDistanceIS;\n\n  // avoid 0.0 jitter\n  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;\n  float stepsTraveled = jitter;\n\n  // local vars for the loop\n  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\n  vec4 tValue;\n  vec4 tColor;\n\n  // if we have less than one step then pick the middle point\n  // as our value\n  // if (raySteps <= 1.0)\n  // {\n  //   posIS = (posIS + endIS)*0.5;\n  // }\n\n  // Perform initial step at the volume boundary\n  // compute the scalar\n  tValue = getTextureValue(posIS);\n\n  #if vtkBlendMode == 0 // COMPOSITE_BLEND\n    // now map through opacity and color\n    tColor = getColorForValue(tValue, posIS, tstep);\n\n    // handle very thin volumes\n    if (raySteps <= 1.0)\n    {\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);\n      gl_FragData[0] = tColor;\n      return;\n    }\n\n    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);\n    color = vec4(tColor.rgb*tColor.a, tColor.a);\n    posIS += (jitter*stepIS);\n\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // now map through opacity and color\n      tColor = getColorForValue(tValue, posIS, tstep);\n\n      float mix = (1.0 - color.a);\n\n      // this line should not be needed but nvidia seems to not handle\n      // the break correctly on windows/chrome 58 angle\n      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));\n\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\n      stepsTraveled++;\n      posIS += stepIS;\n      if (color.a > 0.99) { color.a = 1.0; break; }\n    }\n\n    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)\n    {\n      posIS = endIS;\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // now map through opacity and color\n      tColor = getColorForValue(tValue, posIS, tstep);\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);\n\n      float mix = (1.0 - color.a);\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\n    }\n\n    gl_FragData[0] = vec4(color.rgb/color.a, color.a);\n  #endif\n  #if vtkBlendMode == 1 || vtkBlendMode == 2\n    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND\n    // Find maximum/minimum intensity along the ray.\n\n    // Define the operation we will use (min or max)\n    #if vtkBlendMode == 1\n    #define OP max\n    #else\n    #define OP min\n    #endif\n\n    // If the clipping range is shorter than the sample distance\n    // we can skip the sampling loop along the ray.\n    if (raySteps <= 1.0)\n    {\n      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);\n      return;\n    }\n\n    vec4 value = tValue;\n    posIS += (jitter*stepIS);\n\n    // Sample along the ray until MaximumSamplesValue,\n    // ending slightly inside the total distance\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      // If we have reached the last step, break\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // Update the maximum value if necessary\n      value = OP(tValue, value);\n\n      // Otherwise, continue along the ray\n      stepsTraveled++;\n      posIS += stepIS;\n    }\n\n    // Perform the last step along the ray using the\n    // residual distance\n    posIS = endIS;\n    tValue = getTextureValue(posIS);\n    value = OP(tValue, value);\n\n    // Now map through opacity and color\n    gl_FragData[0] = getColorForValue(value, posIS, tstep);\n  #endif\n  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND\n    vec4 ipScalarRangeMin = vec4 (\n      //VTK::IPScalarRangeMin,\n      //VTK::IPScalarRangeMin,\n      //VTK::IPScalarRangeMin,\n      //VTK::IPScalarRangeMax);\n    vec4 ipScalarRangeMax = vec4(\n      //VTK::IPScalarRangeMax,\n      //VTK::IPScalarRangeMax,\n      //VTK::IPScalarRangeMax,\n      //VTK::IPScalarRangeMax);\n\n    vec4 sum = vec4(0.);\n\n    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n      sum += tValue;\n    }\n\n    if (raySteps <= 1.0) {\n      gl_FragData[0] = getColorForValue(sum, posIS, tstep);\n      return;\n    }\n\n    posIS += (jitter*stepIS);\n\n    // Sample along the ray until MaximumSamplesValue,\n    // ending slightly inside the total distance\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      // If we have reached the last step, break\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.\n      // Notes:\n      // - We are comparing all values in the texture to see if any of them\n      //   are outside of the scalar range. In the future we might want to allow\n      //   scalar ranges for each component.\n      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n        // Sum the values across each step in the path\n        sum += tValue;\n      }\n      stepsTraveled++;\n      posIS += stepIS;\n    }\n\n    // Perform the last step along the ray using the\n    // residual distance\n    posIS = endIS;\n\n    // compute the scalar\n    tValue = getTextureValue(posIS);\n\n    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation\n    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n      sum += tValue;\n\n      stepsTraveled++;\n    }\n\n    #if vtkBlendMode == 3 // Average\n      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);\n    #endif\n\n    gl_FragData[0] = getColorForValue(sum, posIS, tstep);\n  #endif\n}\n\n//=======================================================================\n// Compute a new start and end point for a given ray based\n// on the provided bounded clipping plane (aka a rectangle)\nvoid getRayPointIntersectionBounds(\n  vec3 rayPos, vec3 rayDir,\n  vec3 planeDir, float planeDist,\n  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,\n  float vSize1, float vSize2)\n{\n  float result = dot(rayDir, planeDir);\n  if (result == 0.0)\n  {\n    return;\n  }\n  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;\n  vec3 xposVC = rayPos + rayDir*result;\n  vec3 vxpos = xposVC - vOriginVC;\n  vec2 vpos = vec2(\n    dot(vxpos, vPlaneX),\n    dot(vxpos, vPlaneY));\n\n  // on some apple nvidia systems this does not work\n  // if (vpos.x < 0.0 || vpos.x > vSize1 ||\n  //     vpos.y < 0.0 || vpos.y > vSize2)\n  // even just\n  // if (vpos.x < 0.0 || vpos.y < 0.0)\n  // fails\n  // so instead we compute a value that represents in and out\n  //and then compute the return using this value\n  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds\n  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out\n\n  tbounds = mix(\n   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value\n   tbounds, // out value\n   check);  // 0 in 1 out\n}\n\n//=======================================================================\n// given a\n// - ray direction (rayDir)\n// - starting point (vertexVCVSOutput)\n// - bounding planes of the volume\n// - optionally depth buffer values\n// - far clipping plane\n// compute the start/end distances of the ray we need to cast\nvec2 computeRayDistances(vec3 rayDir, vec3 tdims)\n{\n  vec2 dists = vec2(100.0*camFar, -1.0);\n\n  vec3 vSize = vSpacing*(tdims - 1.0);\n\n  // all this is in View Coordinates\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,\n    vSize.y, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,\n    vSize.y, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,\n    vSize.x, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,\n    vSize.x, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,\n    vSize.x, vSize.y);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,\n    vSize.x, vSize.y);\n\n  //VTK::ClipPlane::Impl\n\n  // do not go behind front clipping plane\n  dists.x = max(0.0,dists.x);\n\n  // do not go PAST far clipping plane\n  float farDist = -camThick/rayDir.z;\n  dists.y = min(farDist,dists.y);\n\n  // Do not go past the zbuffer value if set\n  // This is used for intermixing opaque geometry\n  //VTK::ZBuffer::Impl\n\n  return dists;\n}\n\n//=======================================================================\n// Compute the index space starting position (pos) and end\n// position\n//\nvoid computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)\n{\n  // compute starting and ending values in volume space\n  pos = vertexVCVSOutput + dists.x*rayDir;\n  pos = pos - vOriginVC;\n  // convert to volume basis and origin\n  pos = vec3(\n    dot(pos, vPlaneNormal0),\n    dot(pos, vPlaneNormal2),\n    dot(pos, vPlaneNormal4));\n\n  endPos = vertexVCVSOutput + dists.y*rayDir;\n  endPos = endPos - vOriginVC;\n  endPos = vec3(\n    dot(endPos, vPlaneNormal0),\n    dot(endPos, vPlaneNormal2),\n    dot(endPos, vPlaneNormal4));\n\n  float delta = length(endPos - pos);\n\n  pos *= vVCToIJK;\n  endPos *= vVCToIJK;\n\n  float delta2 = length(endPos - pos);\n  sampleDistanceIS = sampleDistance*delta2/delta;\n}\n\nvoid main()\n{\n\n  vec3 rayDirVC;\n\n  if (cameraParallel == 1)\n  {\n    // Camera is parallel, so the rayDir is just the direction of the camera.\n    rayDirVC = vec3(0.0, 0.0, -1.0);\n  } else {\n    // camera is at 0,0,0 so rayDir for perspective is just the vc coord\n    rayDirVC = normalize(vertexVCVSOutput);\n  }\n\n  vec3 tdims = vec3(volumeDimensions);\n\n  // compute the start and end points for the ray\n  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);\n\n  // do we need to composite? aka does the ray have any length\n  // If not, bail out early\n  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)\n  {\n    discard;\n  }\n\n  // IS = Index Space\n  vec3 posIS;\n  vec3 endIS;\n  float sampleDistanceIS;\n  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);\n\n  // Perform the blending operation along the ray\n  applyBlend(posIS, endIS, sampleDistanceIS, tdims);\n}\n"},3123:function(e){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexDC;\n\nvarying vec3 vertexVCVSOutput;\nuniform mat4 PCVCMatrix;\n\nuniform float dcxmin;\nuniform float dcxmax;\nuniform float dcymin;\nuniform float dcymax;\n\nvoid main()\n{\n  // dcsmall is the device coords reduced to the\n  // x y area covered by the volume\n  vec4 dcsmall = vec4(\n    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),\n    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),\n    vertexDC.z,\n    vertexDC.w);\n  vec4 vcpos = PCVCMatrix * dcsmall;\n  vertexVCVSOutput = vcpos.xyz/vcpos.w;\n  gl_Position = dcsmall;\n}\n"},2830:function(e,t,n){e.exports=o;var r=n(7187).EventEmitter;function o(){r.call(this)}n(46)(o,r),o.Readable=n(9481),o.Writable=n(4229),o.Duplex=n(6753),o.Transform=n(4605),o.PassThrough=n(2725),o.finished=n(8610),o.pipeline=n(9946),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},46:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2553:function(e,t,n){"use strict";var r=n(9509).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3379:function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],u=t.base?s[0]+t.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:l,updater:m(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function m(e,t){var n,r,o;if(t.singleton){var i=h++;n=p||(p=u(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var u=s(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=u}}}},4927:function(e,t,n){function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},9467:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._messageId=1,n._messages=new Map,n._worker=e,n._worker.onmessage=n._onMessage.bind(n),n._id=Math.ceil(1e7*Math.random()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments[3];return new Promise((function(i,a){var s=n._messageId++;n._messages.set(s,[i,a,o]),n._worker.postMessage([s,t,e],r||[])}))}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise((function(o,i){var a=t._messageId++;t._messages.set(a,[o,i,r]),t._worker.postMessage([a,e],n||[])}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._worker.postMessage({eventName:e,args:n})}},{key:"_onMessage",value:function(e){var n;if(!Array.isArray(e.data)&&e.data.eventName)return(n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e.data.eventName].concat(a(e.data.args)));var r,o=(r=e.data,Array.isArray(r)?r:Array.from(r)),s=o[0],u=o.slice(1);if(1===s)this._onEvent.apply(this,a(u));else{if(0!==s)throw new Error("Wrong message type '"+s+"'");this._onResult.apply(this,a(u))}}},{key:"_onResult",value:function(e,t,n){var o=this._messages.get(e),i=r(o,2),a=i[0],s=i[1];return this._messages.delete(e),1===t?a(n):s(n)}},{key:"_onEvent",value:function(e,t,n){var o=this._messages.get(e),i=r(o,3)[2];i&&i(t,n)}}]),t}(n(7197));e.exports=s},7197:function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return t(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var s,u=this.__listeners[e][Symbol.iterator]();!(o=(s=u.next()).done);o=!0)s.value.apply(void 0,n)}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=n},477:function(e){"use strict";e.exports=function(e,t,n,r){var o=self||window;try{try{var i;try{i=new o.Blob([e])}catch(t){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),i=i.getBlob()}var a=o.URL||o.webkitURL,s=a.createObjectURL(i),u=new o[t](s,n);return a.revokeObjectURL(s),u}catch(r){return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new o[t](r,n)}}},9420:function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=183)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(239)),r(n(250)),r(n(175)),r(n(106)),r(n(29)),r(n(72)),r(n(105)),r(n(30)),r(n(251)),r(n(52)),r(n(96)),r(n(252)),r(n(37)),r(n(51)),r(n(173)),r(n(176)),r(n(172)),r(n(107)),r(n(253)),r(n(254)),r(n(255)),r(n(71)),r(n(177)),r(n(104)),r(n(17)),r(n(256)),r(n(12)),r(n(174))},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(211);t.FixedSizeSet=o.FixedSizeSet;var i=n(212);t.ObjectCache=i.ObjectCache;var a=n(213);t.CompareCache=a.CompareCache;var s=n(214);t.Lazy=s.Lazy;var u=n(215);function c(e,t,n){if(m(e))e.forEach((function(e,r){return t.call(n,r,e)}));else for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function l(e){var t,n;if(f(e))return e;if(p(e)){var o=[];try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value;o.push(l(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}if(d(e)){for(var u in o={},e)if(e.hasOwnProperty(u)){var c=e[u];o[u]=l(c)}return o}return e}function f(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function d(e){var t=typeof e;return!!e&&("function"===t||"object"===t)}function p(e){return Array.isArray(e)}function h(e){return e instanceof Set}function m(e){return e instanceof Map}function g(e){if(d(e)){var t=Object.getPrototypeOf(e),n=t.constructor;return t&&n&&"function"==typeof n&&n instanceof n&&Function.prototype.toString.call(n)===Function.prototype.toString.call(Object)}return!1}t.StringWalker=u.StringWalker,t.applyMixin=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];Object.getOwnPropertyNames(t.prototype).forEach((function(r){if("constructor"!==r){if(-1!==n.indexOf(r)){var o=Object.getOwnPropertyDescriptor(e.prototype,r);o&&Object.defineProperty(e.prototype,"_"+r,o)}var i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&Object.defineProperty(e.prototype,r,i)}}))},t.applyDefaults=function e(t,n,r){void 0===r&&(r=!1);var o=l(t||{});return c(n,(function(t,n){g(n)?o[t]=e(o[t],n,r):(r||void 0===o[t])&&(o[t]=n)})),o},t.forEachArray=function(e,t,n){e.forEach(t,n)},t.forEachObject=c,t.arrayLength=function(e){return h(e)?e.size:e.length},t.objectLength=function(e){return m(e)?e.size:Object.keys(e).length},t.getObjectValue=function(e,t){return m(e)?e.get(t):e[t]},t.removeObjectValue=function(e,t){m(e)?e.delete(t):delete e[t]},t.clone=l,t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isFunction=f,t.isObject=d,t.isArray=p,t.isSet=h,t.isMap=m,t.isEmpty=function(e){if(p(e))return!e.length;if(h(e))return!e.size;if(m(e))return!e.size;if(d(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},t.isPlainObject=g,t.isIterable=function(e){return e&&"function"==typeof e[Symbol.iterator]},t.getValue=function(e){return f(e.valueOf)?e.valueOf():e},t.utf8Encode=function(e){for(var t=new Uint8Array(4*e.length),n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o<128)t[n++]=o;else{if(o<2048)t[n++]=o>>6|192;else{if(o>55295&&o<56320){if(++r>=e.length)throw new Error("Incomplete surrogate pair.");var i=e.charCodeAt(r);if(i<56320||i>57343)throw new Error("Invalid surrogate character.");o=65536+((1023&o)<<10)+(1023&i),t[n++]=o>>18|240,t[n++]=o>>12&63|128}else t[n++]=o>>12|224;t[n++]=o>>6&63|128}t[n++]=63&o|128}}return t.subarray(0,n)},t.utf8Decode=function(e){for(var t="",n=0;n<e.length;){var r=e[n++];if(r>127)if(r>191&&r<224){if(n>=e.length)throw new Error("Incomplete 2-byte sequence.");r=(31&r)<<6|63&e[n++]}else if(r>223&&r<240){if(n+1>=e.length)throw new Error("Incomplete 3-byte sequence.");r=(15&r)<<12|(63&e[n++])<<6|63&e[n++]}else{if(!(r>239&&r<248))throw new Error("Unknown multi-byte start.");if(n+2>=e.length)throw new Error("Incomplete 4-byte sequence.");r=(7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(r<=65535)t+=String.fromCharCode(r);else{if(!(r<=1114111))throw new Error("Code point exceeds UTF-16 limit.");r-=65536,t+=String.fromCharCode(r>>10|55296),t+=String.fromCharCode(1023&r|56320)}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Before=0]="Before",e[e.Equal=1]="Equal",e[e.After=2]="After"}(t.BoundaryPosition||(t.BoundaryPosition={})),function(e){e[e.None=0]="None",e[e.Capturing=1]="Capturing",e[e.AtTarget=2]="AtTarget",e[e.Bubbling=3]="Bubbling"}(t.EventPhase||(t.EventPhase={})),function(e){e[e.Element=1]="Element",e[e.Attribute=2]="Attribute",e[e.Text=3]="Text",e[e.CData=4]="CData",e[e.EntityReference=5]="EntityReference",e[e.Entity=6]="Entity",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment",e[e.Notation=12]="Notation"}(t.NodeType||(t.NodeType={})),function(e){e[e.Disconnected=1]="Disconnected",e[e.Preceding=2]="Preceding",e[e.Following=4]="Following",e[e.Contains=8]="Contains",e[e.ContainedBy=16]="ContainedBy",e[e.ImplementationSpecific=32]="ImplementationSpecific"}(t.Position||(t.Position={})),function(e){e[e.Accept=1]="Accept",e[e.Reject=2]="Reject",e[e.Skip=3]="Skip"}(t.FilterResult||(t.FilterResult={})),function(e){e[e.All=4294967295]="All",e[e.Element=1]="Element",e[e.Attribute=2]="Attribute",e[e.Text=4]="Text",e[e.CDataSection=8]="CDataSection",e[e.EntityReference=16]="EntityReference",e[e.Entity=32]="Entity",e[e.ProcessingInstruction=64]="ProcessingInstruction",e[e.Comment=128]="Comment",e[e.Document=256]="Document",e[e.DocumentType=512]="DocumentType",e[e.DocumentFragment=1024]="DocumentFragment",e[e.Notation=2048]="Notation"}(t.WhatToShow||(t.WhatToShow={})),function(e){e[e.StartToStart=0]="StartToStart",e[e.StartToEnd=1]="StartToEnd",e[e.EndToEnd=2]="EndToEnd",e[e.EndToStart=3]="EndToStart"}(t.HowToCompare||(t.HowToCompare={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240);t.Cast=r.Cast;var o=n(150);t.Guard=o.Guard;var i=n(241);t.EmptySet=i.EmptySet},function(e,t,n){var r=n(11),o=n(55).f,i=n(21),a=n(25),s=n(79),u=n(118),c=n(122);e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!c(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},function(e,t,n){var r=n(11),o=n(80),i=n(14),a=n(58),s=n(85),u=n(123),c=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(29),i=function(){function e(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new r.CompareCache,this._rangeList=new r.FixedSizeSet}return e.prototype.setFeatures=function(e){if(void 0===e&&(e=!0),r.isObject(e))for(var t in e)this._features[t]=e[t]||!1;else for(var t in this._features)this._features[t]=e},Object.defineProperty(e.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return null===this._window&&(this._window=o.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e}();t.dom=i.instance},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(227));t.base64=o;var i=r(n(146));t.byte=i;var a=r(n(147));t.byteSequence=a;var s=r(n(95));t.codePoint=s;var u=r(n(231));t.json=u;var c=r(n(232));t.list=c;var l=r(n(233));t.map=l;var f=r(n(234));t.namespace=f;var d=r(n(235));t.queue=d;var p=r(n(236));t.set=p;var h=r(n(237));t.stack=h;var m=r(n(238));t.string=m},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){void 0===n&&(n="");var r=e.call(this,n)||this;return r.name=t,r}return o(t,e),t}(Error);t.DOMException=i;var a=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"DOMStringSizeError",t)||this}return o(t,e),t}(i);t.DOMStringSizeError=a;var s=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"WrongDocumentError","The object is in the wrong document. "+t)||this}return o(t,e),t}(i);t.WrongDocumentError=s;var u=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NoDataAllowedError",t)||this}return o(t,e),t}(i);t.NoDataAllowedError=u;var c=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NoModificationAllowedError","The object can not be modified. "+t)||this}return o(t,e),t}(i);t.NoModificationAllowedError=c;var l=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NotSupportedError","The operation is not supported. "+t)||this}return o(t,e),t}(i);t.NotSupportedError=l;var f=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InUseAttributeError",t)||this}return o(t,e),t}(i);t.InUseAttributeError=f;var d=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InvalidStateError","The object is in an invalid state. "+t)||this}return o(t,e),t}(i);t.InvalidStateError=d;var p=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InvalidModificationError","The object can not be modified in this way. "+t)||this}return o(t,e),t}(i);t.InvalidModificationError=p;var h=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+t)||this}return o(t,e),t}(i);t.NamespaceError=h;var m=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InvalidAccessError","The object does not support the operation or argument. "+t)||this}return o(t,e),t}(i);t.InvalidAccessError=m;var g=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"ValidationError",t)||this}return o(t,e),t}(i);t.ValidationError=g;var v=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"TypeMismatchError",t)||this}return o(t,e),t}(i);t.TypeMismatchError=v;var y=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"SecurityError","The operation is insecure. "+t)||this}return o(t,e),t}(i);t.SecurityError=y;var b=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NetworkError","A network error occurred. "+t)||this}return o(t,e),t}(i);t.NetworkError=b;var w=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"AbortError","The operation was aborted. "+t)||this}return o(t,e),t}(i);t.AbortError=w;var x=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"URLMismatchError","The given URL does not match another URL. "+t)||this}return o(t,e),t}(i);t.URLMismatchError=x;var C=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"QuotaExceededError","The quota has been exceeded. "+t)||this}return o(t,e),t}(i);t.QuotaExceededError=C;var S=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"TimeoutError","The operation timed out. "+t)||this}return o(t,e),t}(i);t.TimeoutError=S;var A=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+t)||this}return o(t,e),t}(i);t.InvalidNodeTypeError=A;var _=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"DataCloneError","The object can not be cloned. "+t)||this}return o(t,e),t}(i);t.DataCloneError=_;var P=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+t)||this}return o(t,e),t}(i);t.NotImplementedError=P;var O=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+t)||this}return o(t,e),t}(i);t.HierarchyRequestError=O;var E=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"NotFoundError","The object can not be found here. "+t)||this}return o(t,e),t}(i);t.NotFoundError=E;var T=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"IndexSizeError","The index is not in the allowed range. "+t)||this}return o(t,e),t}(i);t.IndexSizeError=T;var D=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"SyntaxError","The string did not match the expected pattern. "+t)||this}return o(t,e),t}(i);t.SyntaxError=D;var I=function(e){function t(t){return void 0===t&&(t=""),e.call(this,"InvalidCharacterError","The string contains invalid characters. "+t)||this}return o(t,e),t}(i);t.InvalidCharacterError=I},function(e,t,n){"use strict";var r=n(53),o=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],i=["scalar","sequence","mapping"];e.exports=function(e,t){var n,a;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===o.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(n=t.styleAliases||null,a={},null!==n&&Object.keys(n).forEach((function(e){n[e].forEach((function(t){a[String(t)]=e}))})),a),-1===i.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(77))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.idl_defineConst=function(e,t,n){Object.defineProperty(e,t,{writable:!1,enumerable:!0,configurable:!1,value:n})}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(16),o=n(114),i=n(18),a=n(56),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(8);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(2);function a(e,t,n){if(void 0===n&&(n=!1),n&&o.Guard.isElementNode(t)&&o.Guard.isShadowRoot(t.shadowRoot)&&t.shadowRoot._firstChild)return t.shadowRoot._firstChild;if(t._firstChild)return t._firstChild;if(t===e)return null;if(t._nextSibling)return t._nextSibling;for(var r=t._parent;r&&r!==e;){if(r._nextSibling)return r._nextSibling;r=r._parent}return null}function s(){var e;return(e={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},e}function u(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);for(var o=t?e:a(e,e,n);o&&r&&!r(o);)o=a(e,o,n);return o}function c(e,t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=a(e,t,r);i&&o&&!o(i);)i=a(e,i,r);return i}function l(e,t,n,r){var o;return void 0===t&&(t=!1),void 0===n&&(n=!1),t||0!==e._children.size?((o={})[Symbol.iterator]=function(){var o=t?e:a(e,e,n);return{next:function(){for(;o&&r&&!r(o);)o=a(e,o,n);if(null===o)return{done:!0,value:null};var t={done:!1,value:o};return o=a(e,o,n),t}}},o):s()}function f(e,t,n){void 0===t&&(t=!1);for(var r=t?e:e._parent;r&&n&&!n(r);)r=r._parent;return r}function d(e,t,n,r){void 0===n&&(n=!1);for(var o=t._parent;o&&r&&!r(o);)o=o._parent;return o}function p(e){return o.Guard.isDocumentTypeNode(e)?0:o.Guard.isCharacterDataNode(e)?e._data.length:e._children.size}function h(e,t){if(void 0===t&&(t=!1),t){var n=h(e,!1);return o.Guard.isShadowRoot(n)?h(n._host,!0):n}return e._parent?h(e._parent):e}function m(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=n?e:r&&o.Guard.isShadowRoot(e)?e._host:e._parent;null!==i;){if(i===t)return!0;i=r&&o.Guard.isShadowRoot(i)?i._host:i._parent}return!1}function g(e){for(var t=h(e),n=0,r=u(t);null!==r;){if(n++,r===e)return n;r=c(t,r)}return-1}t.tree_getFirstDescendantNode=u,t.tree_getNextDescendantNode=c,t.tree_getDescendantNodes=l,t.tree_getDescendantElements=function(e,t,n,r){var i;return void 0===t&&(t=!1),void 0===n&&(n=!1),t||0!==e._children.size?((i={})[Symbol.iterator]=function(){var i=l(e,t,n,(function(e){return o.Guard.isElementNode(e)}))[Symbol.iterator](),a=i.next().value;return{next:function(){for(;a&&r&&!r(a);)a=i.next().value;if(null===a)return{done:!0,value:null};var e={done:!1,value:a};return a=i.next().value,e}}},i):s()},t.tree_getSiblingNodes=function(e,t,n){var r;return void 0===t&&(t=!1),e._parent&&0!==e._parent._children.size?((r={})[Symbol.iterator]=function(){var r=e._parent?e._parent._firstChild:null;return{next:function(){for(;r&&(n&&!n(r)||!t&&r===e);)r=r._nextSibling;if(null===r)return{done:!0,value:null};var o={done:!1,value:r};return r=r._nextSibling,o}}},r):s()},t.tree_getFirstAncestorNode=f,t.tree_getNextAncestorNode=d,t.tree_getAncestorNodes=function(e,t,n){var r;return void 0===t&&(t=!1),t||e._parent?((r={})[Symbol.iterator]=function(){var r=f(e,t,n);return{next:function(){if(null===r)return{done:!0,value:null};var e={done:!1,value:r};return r=d(0,r,t,n),e}}},r):s()},t.tree_getCommonAncestor=function(e,t){if(e===t)return e._parent;for(var n=[],r=[],o=f(e,!0);null!==o;)n.push(o),o=d(0,o,!0);for(var i=f(t,!0);null!==i;)r.push(i),i=d(0,i,!0);for(var a=n.length,s=r.length,u=null,c=Math.min(a,s);c>0;c--){var l=n[--a];if(l!==r[--s])break;u=l}return u},t.tree_getFollowingNode=function(e,t){if(t._firstChild)return t._firstChild;if(t._nextSibling)return t._nextSibling;for(;;){var n=t._parent;if(null===n||n===e)return null;if(n._nextSibling)return n._nextSibling;t=n}},t.tree_getPrecedingNode=function(e,t){return t===e?null:t._previousSibling?(t=t._previousSibling)._lastChild?t._lastChild:t:t._parent},t.tree_isConstrained=function e(t){var n,o,a,s,u,c;switch(t._nodeType){case i.NodeType.Document:var l=!1,f=!1;try{for(var d=r(t._children),p=d.next();!p.done;p=d.next())switch(p.value._nodeType){case i.NodeType.ProcessingInstruction:case i.NodeType.Comment:break;case i.NodeType.DocumentType:if(l||f)return!1;l=!0;break;case i.NodeType.Element:if(f)return!1;f=!0;break;default:return!1}}catch(e){n={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}break;case i.NodeType.DocumentFragment:case i.NodeType.Element:try{for(var h=r(t._children),m=h.next();!m.done;m=h.next())switch(m.value._nodeType){case i.NodeType.Element:case i.NodeType.Text:case i.NodeType.ProcessingInstruction:case i.NodeType.CData:case i.NodeType.Comment:break;default:return!1}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}break;case i.NodeType.DocumentType:case i.NodeType.Text:case i.NodeType.ProcessingInstruction:case i.NodeType.CData:case i.NodeType.Comment:return!t.hasChildNodes()}try{for(var g=r(t._children),v=g.next();!v.done;v=g.next())if(!e(v.value))return!1}catch(e){u={error:e}}finally{try{v&&!v.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}return!0},t.tree_nodeLength=p,t.tree_isEmpty=function(e){return 0===p(e)},t.tree_rootNode=h,t.tree_isDescendantOf=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var o=u(e,n,r);null!==o;){if(o===t)return!0;o=c(e,o,n,r)}return!1},t.tree_isAncestorOf=m,t.tree_isHostIncludingAncestorOf=function e(t,n,r){if(void 0===r&&(r=!1),m(t,n,r))return!0;var i=h(t);return!(!o.Guard.isDocumentFragmentNode(i)||null===i._host||!e(i._host,n,r))},t.tree_isSiblingOf=function(e,t,n){return void 0===n&&(n=!1),e!==t?null!==e._parent&&e._parent===t._parent:!!n},t.tree_isPreceding=function(e,t){var n=g(e),r=g(t);return-1!==n&&-1!==r&&h(e)===h(t)&&r<n},t.tree_isFollowing=function(e,t){var n=g(e),r=g(t);return-1!==n&&-1!==r&&h(e)===h(t)&&r>n},t.tree_isParentOf=function(e,t){return e._parent===t},t.tree_isChildOf=function(e,t){return t._parent===e},t.tree_previousSibling=function(e){return e._previousSibling},t.tree_nextSibling=function(e){return e._nextSibling},t.tree_firstChild=function(e){return e._firstChild},t.tree_lastChild=function(e){return e._lastChild},t.tree_treePosition=g,t.tree_index=function(e){for(var t=0;null!==e._previousSibling;)t++,e=e._previousSibling;return t},t.tree_retarget=function(e,t){for(;;){if(!e||!o.Guard.isNode(e))return e;var n=h(e);if(!o.Guard.isShadowRoot(n))return e;if(t&&o.Guard.isNode(t)&&m(n,t,!0,!0))return e;e=n.host}}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var r=n(24),o=n(129),i=n(49),a=n(43),s=n(87),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(89),o=n(25),i=n(201);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){var r=n(16),o=n(15),i=n(40);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(136).charAt,o=n(43),i=n(87),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(11),o=n(202),i=n(19),a=n(21),s=n(5),u=s("iterator"),c=s("toStringTag"),l=i.values;for(var f in o){var d=r[f],p=d&&d.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(e){p[u]=l}if(p[c]||a(p,c,f),o[f])for(var h in i)if(p[h]!==i[h])try{a(p,h,i[h])}catch(e){p[h]=i[h]}}}},function(e,t,n){var r=n(41),o=n(35);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(11),o=n(21),i=n(14),a=n(79),s=n(116),u=n(43),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){var r=n(47),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(16),o=n(8),i=n(14),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(148),o=n(149),i=n(151),a=n(97),s=n(153),u=n(154),c=n(155),l=n(98),f=n(99),d=n(156),p=n(157),h=n(100),m=n(158),g=n(159),v=n(160),y=n(161),b=n(162),w=n(163),x=n(164),C=n(165),S=n(166),A=n(167),_=n(168),P=n(169),O=n(170);t.create_domImplementation=function(e){return r.DOMImplementationImpl._create(e)},t.create_window=function(){return o.WindowImpl._create()},t.create_xmlDocument=function(){return new i.XMLDocumentImpl},t.create_document=function(){return new a.DocumentImpl},t.create_abortController=function(){return new s.AbortControllerImpl},t.create_abortSignal=function(){return u.AbortSignalImpl._create()},t.create_documentType=function(e,t,n,r){return c.DocumentTypeImpl._create(e,t,n,r)},t.create_element=function(e,t,n,r){return l.ElementImpl._create(e,t,n,r)},t.create_htmlElement=function(e,t,n,r){return l.ElementImpl._create(e,t,n,r)},t.create_htmlUnknownElement=function(e,t,n,r){return l.ElementImpl._create(e,t,n,r)},t.create_documentFragment=function(e){return f.DocumentFragmentImpl._create(e)},t.create_shadowRoot=function(e,t){return d.ShadowRootImpl._create(e,t)},t.create_attr=function(e,t){return p.AttrImpl._create(e,t)},t.create_text=function(e,t){return h.TextImpl._create(e,t)},t.create_cdataSection=function(e,t){return m.CDATASectionImpl._create(e,t)},t.create_comment=function(e,t){return g.CommentImpl._create(e,t)},t.create_processingInstruction=function(e,t,n){return v.ProcessingInstructionImpl._create(e,t,n)},t.create_htmlCollection=function(e,t){return void 0===t&&(t=function(){return!0}),y.HTMLCollectionImpl._create(e,t)},t.create_nodeList=function(e){return b.NodeListImpl._create(e)},t.create_nodeListStatic=function(e,t){return w.NodeListStaticImpl._create(e,t)},t.create_namedNodeMap=function(e){return x.NamedNodeMapImpl._create(e)},t.create_range=function(e,t){return C.RangeImpl._create(e,t)},t.create_nodeIterator=function(e,t,n){return S.NodeIteratorImpl._create(e,t,n)},t.create_treeWalker=function(e,t){return A.TreeWalkerImpl._create(e,t)},t.create_nodeFilter=function(){return _.NodeFilterImpl._create()},t.create_mutationRecord=function(e,t,n,r,o,i,a,s,u){return P.MutationRecordImpl._create(e,t,n,r,o,i,a,s,u)},t.create_domTokenList=function(e,t){return O.DOMTokenListImpl._create(e,t)}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(17),a=n(3),s=n(71),u=new Map;function c(e,t){if(t!==e._root&&i.tree_isAncestorOf(e._reference,t,!0)){if(e._pointerBeforeReference)for(;;){var n=i.tree_getFollowingNode(e._root,t);if(null!==n&&i.tree_isDescendantOf(e._root,n,!0)&&!i.tree_isDescendantOf(t,n,!0))return void(e._reference=n);if(null===n)return void(e._pointerBeforeReference=!1)}if(null===t._previousSibling)null!==t._parent&&(e._reference=t._parent);else{for(var r=t._previousSibling,o=i.tree_getFirstDescendantNode(t._previousSibling,!0,!1);null!==o;)null!==o&&(r=o),o=i.tree_getNextDescendantNode(t._previousSibling,o,!0,!1);e._reference=r}}}function l(e,t,n,r,o){if(a.Guard.isSlot(e)&&"name"===t&&null===o){if(r===n)return;if(null===r&&""===n)return;if(""===r&&null===n)return;e._name=null===r||""===r?"":r,s.shadowTree_assignSlotablesForATree(i.tree_rootNode(e))}}function f(e,t,n,r,o){if(a.Guard.isSlotable(e)&&"slot"===t&&null===o){if(r===n)return;if(null===r&&""===n)return;if(""===r&&null===n)return;e._name=null===r||""===r?"":r,s.shadowTree_isAssigned(e)&&s.shadowTree_assignSlotables(e._assignedSlot),s.shadowTree_assignASlot(e)}}function d(e,t,n,r){"id"===t&&null===r&&(e._uniqueIdentifier=n||void 0)}t.dom_runRemovingSteps=function(e,t){},t.dom_runCloningSteps=function(e,t,n,r){},t.dom_runAdoptingSteps=function(e,t){},t.dom_runAttributeChangeSteps=function(e,t,n,i,a){var s,u;o.dom.features.slots&&(f.call(e,e,t,n,i,a),l.call(e,e,t,n,i,a)),d.call(e,e,t,i,a);try{for(var c=r(e._attributeChangeSteps),p=c.next();!p.done;p=c.next())p.value.call(e,e,t,n,i,a)}catch(e){s={error:e}}finally{try{p&&!p.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},t.dom_runInsertionSteps=function(e){},t.dom_runNodeIteratorPreRemovingSteps=function(e,t){c.call(e,e,t)},t.dom_hasSupportedTokens=function(e){return u.has(e)},t.dom_getSupportedTokens=function(e){return u.get(e)||new Set},t.dom_runEventConstructingSteps=function(e){},t.dom_runChildTextContentChangeSteps=function(e){}},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(46),a=n(44),s=n(16),u=n(85),c=n(123),l=n(8),f=n(14),d=n(59),p=n(13),h=n(18),m=n(27),g=n(24),v=n(56),y=n(40),b=n(60),w=n(61),x=n(81),C=n(189),S=n(84),A=n(55),_=n(15),P=n(78),O=n(21),E=n(25),T=n(80),D=n(57),I=n(45),k=n(58),M=n(5),N=n(124),R=n(125),B=n(62),L=n(43),F=n(36).forEach,j=D("hidden"),V=M("toPrimitive"),U=L.set,z=L.getterFor("Symbol"),G=Object.prototype,W=o.Symbol,H=i("JSON","stringify"),q=A.f,K=_.f,X=C.f,Y=P.f,Z=T("symbols"),J=T("op-symbols"),$=T("string-to-symbol-registry"),Q=T("symbol-to-string-registry"),ee=T("wks"),te=o.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&l((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(G,t);r&&delete G[t],K(e,t,n),r&&e!==G&&K(G,t,r)}:K,oe=function(e,t){var n=Z[e]=b(W.prototype);return U(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ae=function(e,t,n){e===G&&ae(J,t,n),h(e);var r=v(t,!0);return h(n),f(Z,r)?(n.enumerable?(f(e,j)&&e[j][r]&&(e[j][r]=!1),n=b(n,{enumerable:y(0,!1)})):(f(e,j)||K(e,j,y(1,{})),e[j][r]=!0),re(e,r,n)):K(e,r,n)},se=function(e,t){h(e);var n=g(t),r=w(n).concat(fe(n));return F(r,(function(t){s&&!ue.call(n,t)||ae(e,t,n[t])})),e},ue=function(e){var t=v(e,!0),n=Y.call(this,t);return!(this===G&&f(Z,t)&&!f(J,t))&&(!(n||!f(this,t)||!f(Z,t)||f(this,j)&&this[j][t])||n)},ce=function(e,t){var n=g(e),r=v(t,!0);if(n!==G||!f(Z,r)||f(J,r)){var o=q(n,r);return!o||!f(Z,r)||f(n,j)&&n[j][r]||(o.enumerable=!0),o}},le=function(e){var t=X(g(e)),n=[];return F(t,(function(e){f(Z,e)||f(I,e)||n.push(e)})),n},fe=function(e){var t=e===G,n=X(t?J:g(e)),r=[];return F(n,(function(e){!f(Z,e)||t&&!f(G,e)||r.push(Z[e])})),r};u||(E((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),n=function(e){this===G&&n.call(J,e),f(this,j)&&f(this[j],t)&&(this[j][t]=!1),re(this,t,y(1,e))};return s&&ne&&re(G,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return z(this).tag})),E(W,"withoutSetter",(function(e){return oe(k(e),e)})),P.f=ue,_.f=ae,A.f=ce,x.f=C.f=le,S.f=fe,N.f=function(e){return oe(M(e),e)},s&&(K(W.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),a||E(G,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),F(w(ee),(function(e){R(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(f($,t))return $[t];var n=W(t);return $[t]=n,Q[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?b(e):se(b(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),H&&r({target:"JSON",stat:!0,forced:!u||l((function(){var e=W();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!ie(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),o[1]=t,H.apply(null,o)}}),W.prototype[V]||O(W.prototype,V,W.prototype.valueOf),B(W,"Symbol"),I[j]=!0},function(e,t,n){"use strict";var r=n(4),o=n(16),i=n(11),a=n(14),s=n(13),u=n(15).f,c=n(118),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(d,l);var p=d.prototype=l.prototype;p.constructor=d;var h=p.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(125)("iterator")},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(2),u=n(69),c=n(3),l=n(9),f=n(0),d=n(152),p=n(12),h=function(e){function t(){var t=e.call(this)||this;return t._parent=null,t._firstChild=null,t._lastChild=null,t._previousSibling=null,t._nextSibling=null,t}return o(t,e),Object.defineProperty(t.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=f.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||a.dom.window._associatedDocument},set:function(e){this._nodeDocumentOverride=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return c.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:c.Guard.isAttrNode(this)?this._qualifiedName:c.Guard.isExclusiveTextNode(this)?"#text":c.Guard.isCDATASectionNode(this)?"#cdata-section":c.Guard.isProcessingInstructionNode(this)?this._target:c.Guard.isCommentNode(this)?"#comment":c.Guard.isDocumentNode(this)?"#document":c.Guard.isDocumentTypeNode(this)?this._name:c.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseURI",{get:function(){return d.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isConnected",{get:function(){return c.Guard.isElementNode(this)&&f.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this._nodeType===s.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),t.prototype.getRootNode=function(e){return f.tree_rootNode(this,!!e&&e.composed)},Object.defineProperty(t.prototype,"parentNode",{get:function(){return this._nodeType===s.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this._parent&&c.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),t.prototype.hasChildNodes=function(){return null!==this._firstChild},Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){null===e&&(e=""),c.Guard.isAttrNode(this)?f.attr_setAnExistingAttributeValue(this,e):c.Guard.isCharacterDataNode(this)&&f.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?f.text_descendantTextContent(this):c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){null===e&&(e=""),c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?f.node_stringReplaceAll(e,this):c.Guard.isAttrNode(this)?f.attr_setAnExistingAttributeValue(this,e):c.Guard.isCharacterDataNode(this)&&f.characterData_replaceData(this,0,f.tree_nodeLength(this),e)},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){for(var e,t,n,r,o=[],s=f.tree_getFirstDescendantNode(this,!1,!1,(function(e){return c.Guard.isExclusiveTextNode(e)}));null!==s;)o.push(s),s=f.tree_getNextDescendantNode(this,s,!1,!1,(function(e){return c.Guard.isExclusiveTextNode(e)}));for(var u=0;u<o.length;u++){var l=o[u];if(null!==l._parent){var d=f.tree_nodeLength(l);if(0!==d){var p=[],h="";try{for(var m=(e=void 0,i(f.text_contiguousExclusiveTextNodes(l))),g=m.next();!g.done;g=m.next()){var v=g.value;p.push(v),h+=v._data}}catch(t){e={error:t}}finally{try{g&&!g.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}if(f.characterData_replaceData(l,d,0,h),0!==a.dom.rangeList.size)for(var y=l._nextSibling;null!==y&&c.Guard.isExclusiveTextNode(y);){var b=y,w=f.tree_index(b);try{for(var x=(n=void 0,i(a.dom.rangeList)),C=x.next();!C.done;C=x.next()){var S=C.value;S._start[0]===b&&(S._start[0]=l,S._start[1]+=d),S._end[0]===b&&(S._end[0]=l,S._end[1]+=d),S._start[0]===b._parent&&S._start[1]===w&&(S._start[0]=l,S._start[1]=d),S._end[0]===b._parent&&S._end[1]===w&&(S._end[0]=l,S._end[1]=d)}}catch(e){n={error:e}}finally{try{C&&!C.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}d+=f.tree_nodeLength(y),y=y._nextSibling}for(var A=0;A<p.length;A++)null!==(v=p[A])._parent&&f.mutation_remove(v,v._parent)}else f.mutation_remove(l,l._parent)}}},t.prototype.cloneNode=function(e){if(void 0===e&&(e=!1),c.Guard.isShadowRoot(this))throw new l.NotSupportedError;return f.node_clone(this,null,e)},t.prototype.isEqualNode=function(e){return void 0===e&&(e=null),null!==e&&f.node_equals(this,e)},t.prototype.isSameNode=function(e){return void 0===e&&(e=null),this===e},t.prototype.compareDocumentPosition=function(e){if(e===this)return 0;var t=e,n=this,r=null,o=null;if(c.Guard.isAttrNode(t)&&(t=(r=t)._element),c.Guard.isAttrNode(n)&&(n=(o=n)._element,r&&t&&t===n))for(var i=0;i<n._attributeList.length;i++){var u=n._attributeList[i];if(f.node_equals(u,r))return s.Position.ImplementationSpecific|s.Position.Preceding;if(f.node_equals(u,o))return s.Position.ImplementationSpecific|s.Position.Following}return null===t||null===n||f.tree_rootNode(t)!==f.tree_rootNode(n)?s.Position.Disconnected|s.Position.ImplementationSpecific|(a.dom.compareCache.check(this,e)?s.Position.Preceding:s.Position.Following):!r&&f.tree_isAncestorOf(n,t)||o&&t===n?s.Position.Contains|s.Position.Preceding:!o&&f.tree_isDescendantOf(n,t)||r&&t===n?s.Position.ContainedBy|s.Position.Following:f.tree_isPreceding(n,t)?s.Position.Preceding:s.Position.Following},t.prototype.contains=function(e){return null!==e&&f.tree_isDescendantOf(this,e,!0)},t.prototype.lookupPrefix=function(e){return e?c.Guard.isElementNode(this)?f.node_locateANamespacePrefix(this,e):c.Guard.isDocumentNode(this)?null===this.documentElement?null:f.node_locateANamespacePrefix(this.documentElement,e):c.Guard.isDocumentTypeNode(this)||c.Guard.isDocumentFragmentNode(this)?null:c.Guard.isAttrNode(this)?null===this._element?null:f.node_locateANamespacePrefix(this._element,e):null!==this._parent&&c.Guard.isElementNode(this._parent)?f.node_locateANamespacePrefix(this._parent,e):null:null},t.prototype.lookupNamespaceURI=function(e){return f.node_locateANamespace(this,e||null)},t.prototype.isDefaultNamespace=function(e){return e||(e=null),f.node_locateANamespace(this,null)===e},t.prototype.insertBefore=function(e,t){return f.mutation_preInsert(e,this,t)},t.prototype.appendChild=function(e){return f.mutation_append(e,this)},t.prototype.replaceChild=function(e,t){return f.mutation_replace(t,e,this)},t.prototype.removeChild=function(e){return f.mutation_preRemove(e,this)},t.prototype._getTheParent=function(e){return c.Guard.isSlotable(this)&&f.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},t.ELEMENT_NODE=1,t.ATTRIBUTE_NODE=2,t.TEXT_NODE=3,t.CDATA_SECTION_NODE=4,t.ENTITY_REFERENCE_NODE=5,t.ENTITY_NODE=6,t.PROCESSING_INSTRUCTION_NODE=7,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_TYPE_NODE=10,t.DOCUMENT_FRAGMENT_NODE=11,t.NOTATION_NODE=12,t.DOCUMENT_POSITION_DISCONNECTED=1,t.DOCUMENT_POSITION_PRECEDING=2,t.DOCUMENT_POSITION_FOLLOWING=4,t.DOCUMENT_POSITION_CONTAINS=8,t.DOCUMENT_POSITION_CONTAINED_BY=16,t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,t}(u.EventTargetImpl);t.NodeImpl=h,h.prototype._children=new c.EmptySet,p.idl_defineConst(h.prototype,"ELEMENT_NODE",1),p.idl_defineConst(h.prototype,"ATTRIBUTE_NODE",2),p.idl_defineConst(h.prototype,"TEXT_NODE",3),p.idl_defineConst(h.prototype,"CDATA_SECTION_NODE",4),p.idl_defineConst(h.prototype,"ENTITY_REFERENCE_NODE",5),p.idl_defineConst(h.prototype,"ENTITY_NODE",6),p.idl_defineConst(h.prototype,"PROCESSING_INSTRUCTION_NODE",7),p.idl_defineConst(h.prototype,"COMMENT_NODE",8),p.idl_defineConst(h.prototype,"DOCUMENT_NODE",9),p.idl_defineConst(h.prototype,"DOCUMENT_TYPE_NODE",10),p.idl_defineConst(h.prototype,"DOCUMENT_FRAGMENT_NODE",11),p.idl_defineConst(h.prototype,"NOTATION_NODE",12),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_PRECEDING",2),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_FOLLOWING",4),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_CONTAINS",8),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),p.idl_defineConst(h.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(86),o=n(41),i=n(27),a=n(26),s=n(127),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f;return function(p,h,m,g){for(var v,y,b=i(p),w=o(b),x=r(h,m,3),C=a(w.length),S=0,A=g||s,_=t?A(p,C):n?A(p,0):void 0;C>S;S++)if((d||S in w)&&(y=x(v=w[S],S,b),e))if(t)_[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(_,v)}else if(l)return!1;return f?-1:c||l?l:_}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(9),u=n(2),c=n(3),l=n(1),f=n(7),d=n(72),p=n(17),h=n(172),m=n(71),g=n(51),v=n(30),y=n(105);function b(e,t,n){var o,i,a,c,l,f,d,h,m=t._nodeType,g=e._nodeType,v=n?n._nodeType:null;if(m!==u.NodeType.Document&&m!==u.NodeType.DocumentFragment&&m!==u.NodeType.Element)throw new s.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+t.nodeName+".");if(p.tree_isHostIncludingAncestorOf(t,e,!0))throw new s.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+e.nodeName+", parent node is "+t.nodeName+".");if(null!==n&&n._parent!==t)throw new s.NotFoundError("The reference child node cannot be found under parent node. Child node is "+n.nodeName+", parent node is "+t.nodeName+".");if(g!==u.NodeType.DocumentFragment&&g!==u.NodeType.DocumentType&&g!==u.NodeType.Element&&g!==u.NodeType.Text&&g!==u.NodeType.ProcessingInstruction&&g!==u.NodeType.CData&&g!==u.NodeType.Comment)throw new s.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+e.nodeName+".");if(g===u.NodeType.Text&&m===u.NodeType.Document)throw new s.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+e.nodeName+".");if(g===u.NodeType.DocumentType&&m!==u.NodeType.Document)throw new s.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+t.nodeName+".");if(m===u.NodeType.Document)if(g===u.NodeType.DocumentFragment){var y=0;try{for(var b=r(e._children),w=b.next();!w.done;w=b.next()){var x=w.value;if(x._nodeType===u.NodeType.Element)y++;else if(x._nodeType===u.NodeType.Text)throw new s.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+x.nodeName+".")}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}if(y>1)throw new s.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+y+" element nodes.");if(1===y){try{for(var C=r(t._children),S=C.next();!S.done;S=C.next())if(S.value._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError("The document node already has a document element node.")}catch(e){a={error:e}}finally{try{S&&!S.done&&(c=C.return)&&c.call(C)}finally{if(a)throw a.error}}if(n){if(v===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var A=n._nextSibling;A;){if(A._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");A=A._nextSibling}}}}else if(g===u.NodeType.Element){try{for(var _=r(t._children),P=_.next();!P.done;P=_.next())if(P.value._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError("Document already has a document element node. Node is "+e.nodeName+".")}catch(e){l={error:e}}finally{try{P&&!P.done&&(f=_.return)&&f.call(_)}finally{if(l)throw l.error}}if(n){if(v===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+e.nodeName+".");for(A=n._nextSibling;A;){if(A._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+e.nodeName+".");A=A._nextSibling}}}else if(g===u.NodeType.DocumentType){try{for(var O=r(t._children),E=O.next();!E.done;E=O.next())if(E.value._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Document already has a document type node. Node is "+e.nodeName+".")}catch(e){d={error:e}}finally{try{E&&!E.done&&(h=O.return)&&h.call(O)}finally{if(d)throw d.error}}if(n)for(var T=n._previousSibling;T;){if(T._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+e.nodeName+".");T=T._previousSibling}else for(T=t._firstChild;T;){if(T._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+e.nodeName+".");T=T._nextSibling}}}function w(e,t,n){b(e,t,n);var r=n;return r===e&&(r=e._nextSibling),y.document_adopt(e,t._nodeDocument),x(e,t,r),e}function x(e,t,n,o){var s,h;if(null!==n||e._nodeType===u.NodeType.DocumentFragment){var y=e._nodeType===u.NodeType.DocumentFragment?e._children.size:1;if(null!==n&&0!==a.dom.rangeList.size){var b=p.tree_index(n);try{for(var w=r(a.dom.rangeList),x=w.next();!x.done;x=w.next()){var S=x.value;S._start[0]===t&&S._start[1]>b&&(S._start[1]+=y),S._end[0]===t&&S._end[1]>b&&(S._end[1]+=y)}}catch(e){s={error:e}}finally{try{x&&!x.done&&(h=w.return)&&h.call(w)}finally{if(s)throw s.error}}}var A=e._nodeType===u.NodeType.DocumentFragment?new(Array.bind.apply(Array,i([void 0],e._children))):[e];if(e._nodeType===u.NodeType.DocumentFragment)for(;e._firstChild;)C(e._firstChild,e,!0);a.dom.features.mutationObservers&&e._nodeType===u.NodeType.DocumentFragment&&g.observer_queueTreeMutationRecord(e,[],A,null,null);for(var _=n?n._previousSibling:t._lastChild,P=null===n?-1:p.tree_index(n),O=0;O<A.length;O++){var E=A[O];if(c.Guard.isElementNode(E)&&(c.Guard.isDocumentNode(t)&&(t._documentElement=E),E._nodeDocument._hasNamespaces||null===E._namespace&&null===E._namespacePrefix||(E._nodeDocument._hasNamespaces=!0)),E._parent=t,null===n?f.set.append(t._children,E):(f.set.insert(t._children,E,P),P++),null===t._firstChild)E._previousSibling=null,E._nextSibling=null,t._firstChild=E,t._lastChild=E;else{var T=n?n._previousSibling:t._lastChild,D=n||null;E._previousSibling=T,E._nextSibling=D,T&&(T._nextSibling=E),D&&(D._previousSibling=E),T||(t._firstChild=E),D||(t._lastChild=E)}a.dom.features.slots&&null!==t._shadowRoot&&c.Guard.isSlotable(E)&&m.shadowTree_assignASlot(E),a.dom.features.steps&&c.Guard.isTextNode(E)&&v.dom_runChildTextContentChangeSteps(t),a.dom.features.slots&&c.Guard.isShadowRoot(p.tree_rootNode(t))&&c.Guard.isSlot(t)&&l.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t),a.dom.features.slots&&m.shadowTree_assignSlotablesForATree(p.tree_rootNode(E));for(var I=p.tree_getFirstDescendantNode(E,!0,!0);null!==I;)a.dom.features.steps&&v.dom_runInsertionSteps(I),a.dom.features.customElements&&c.Guard.isElementNode(I)&&m.shadowTree_isConnected(I)&&(c.Guard.isCustomElementNode(I)?d.customElement_enqueueACustomElementCallbackReaction(I,"connectedCallback",[]):d.customElement_tryToUpgrade(I)),I=p.tree_getNextDescendantNode(E,I,!0,!0)}a.dom.features.mutationObservers&&(o||g.observer_queueTreeMutationRecord(t,A,[],_,n))}else!function(e,t,n){var r=t._lastChild;if(c.Guard.isElementNode(e)&&(c.Guard.isDocumentNode(t)&&(t._documentElement=e),e._nodeDocument._hasNamespaces||null===e._namespace&&null===e._namespacePrefix||(e._nodeDocument._hasNamespaces=!0)),e._parent=t,t._children.add(e),null===t._firstChild)e._previousSibling=null,e._nextSibling=null,t._firstChild=e,t._lastChild=e;else{var o=t._lastChild;e._previousSibling=o,e._nextSibling=null,o&&(o._nextSibling=e),o||(t._firstChild=e),t._lastChild=e}a.dom.features.slots&&null!==t._shadowRoot&&c.Guard.isSlotable(e)&&m.shadowTree_assignASlot(e),a.dom.features.steps&&c.Guard.isTextNode(e)&&v.dom_runChildTextContentChangeSteps(t),a.dom.features.slots&&c.Guard.isShadowRoot(p.tree_rootNode(t))&&c.Guard.isSlot(t)&&l.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t),a.dom.features.slots&&m.shadowTree_assignSlotablesForATree(p.tree_rootNode(e)),a.dom.features.steps&&v.dom_runInsertionSteps(e),a.dom.features.customElements&&c.Guard.isElementNode(e)&&m.shadowTree_isConnected(e)&&(c.Guard.isCustomElementNode(e)?d.customElement_enqueueACustomElementCallbackReaction(e,"connectedCallback",[]):d.customElement_tryToUpgrade(e)),a.dom.features.mutationObservers&&(n||g.observer_queueTreeMutationRecord(t,[e],[],r,null))}(e,t,o)}function C(e,t,n){var o,i,s,u,f,y,b,w;if(0!==a.dom.rangeList.size){var x=p.tree_index(e);try{for(var C=r(a.dom.rangeList),S=C.next();!S.done;S=C.next()){var A=S.value;p.tree_isDescendantOf(e,A._start[0],!0)&&(A._start=[t,x]),p.tree_isDescendantOf(e,A._end[0],!0)&&(A._end=[t,x]),A._start[0]===t&&A._start[1]>x&&A._start[1]--,A._end[0]===t&&A._end[1]>x&&A._end[1]--}}catch(e){o={error:e}}finally{try{S&&!S.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}try{for(var _=r(a.dom.rangeList),P=_.next();!P.done;P=_.next())(A=P.value)._start[0]===t&&A._start[1]>x&&(A._start[1]-=1),A._end[0]===t&&A._end[1]>x&&(A._end[1]-=1)}catch(e){s={error:e}}finally{try{P&&!P.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}}if(a.dom.features.steps)try{for(var O=r(h.nodeIterator_iteratorList()),E=O.next();!E.done;E=O.next()){var T=E.value;T._root._nodeDocument===e._nodeDocument&&v.dom_runNodeIteratorPreRemovingSteps(T,e)}}catch(e){f={error:e}}finally{try{E&&!E.done&&(y=O.return)&&y.call(O)}finally{if(f)throw f.error}}var D=e._previousSibling,I=e._nextSibling;c.Guard.isDocumentNode(t)&&c.Guard.isElementNode(e)&&(t._documentElement=null),e._parent=null,t._children.delete(e);var k=e._previousSibling,M=e._nextSibling;e._previousSibling=null,e._nextSibling=null,k&&(k._nextSibling=M),M&&(M._previousSibling=k),k||(t._firstChild=M),M||(t._lastChild=k),a.dom.features.slots&&c.Guard.isSlotable(e)&&null!==e._assignedSlot&&m.shadowTree_isAssigned(e)&&m.shadowTree_assignSlotables(e._assignedSlot),a.dom.features.slots&&c.Guard.isShadowRoot(p.tree_rootNode(t))&&c.Guard.isSlot(t)&&l.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t),a.dom.features.slots&&null!==p.tree_getFirstDescendantNode(e,!0,!1,(function(e){return c.Guard.isSlot(e)}))&&(m.shadowTree_assignSlotablesForATree(p.tree_rootNode(t)),m.shadowTree_assignSlotablesForATree(e)),a.dom.features.steps&&v.dom_runRemovingSteps(e,t),a.dom.features.customElements&&c.Guard.isCustomElementNode(e)&&d.customElement_enqueueACustomElementCallbackReaction(e,"disconnectedCallback",[]);for(var N=p.tree_getFirstDescendantNode(e,!1,!0);null!==N;)a.dom.features.steps&&v.dom_runRemovingSteps(N,e),a.dom.features.customElements&&c.Guard.isCustomElementNode(N)&&d.customElement_enqueueACustomElementCallbackReaction(N,"disconnectedCallback",[]),N=p.tree_getNextDescendantNode(e,N,!1,!0);if(a.dom.features.mutationObservers)for(var R=p.tree_getFirstAncestorNode(t,!0);null!==R;){try{for(var B=(b=void 0,r(R._registeredObserverList)),L=B.next();!L.done;L=B.next()){var F=L.value;F.options.subtree&&e._registeredObserverList.push({observer:F.observer,options:F.options,source:F})}}catch(e){b={error:e}}finally{try{L&&!L.done&&(w=B.return)&&w.call(B)}finally{if(b)throw b.error}}R=p.tree_getNextAncestorNode(t,R,!0)}a.dom.features.mutationObservers&&(n||g.observer_queueTreeMutationRecord(t,[],[e],D,I)),a.dom.features.steps&&c.Guard.isTextNode(e)&&v.dom_runChildTextContentChangeSteps(t)}t.mutation_ensurePreInsertionValidity=b,t.mutation_preInsert=w,t.mutation_insert=x,t.mutation_append=function(e,t){return w(e,t,null)},t.mutation_replace=function(e,t,n){var o,i,c,l,f,d,h,m;if(n._nodeType!==u.NodeType.Document&&n._nodeType!==u.NodeType.DocumentFragment&&n._nodeType!==u.NodeType.Element)throw new s.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+n.nodeName+".");if(p.tree_isHostIncludingAncestorOf(n,t,!0))throw new s.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+t.nodeName+", parent node is "+n.nodeName+".");if(e._parent!==n)throw new s.NotFoundError("The reference child node cannot be found under parent node. Child node is "+e.nodeName+", parent node is "+n.nodeName+".");if(t._nodeType!==u.NodeType.DocumentFragment&&t._nodeType!==u.NodeType.DocumentType&&t._nodeType!==u.NodeType.Element&&t._nodeType!==u.NodeType.Text&&t._nodeType!==u.NodeType.ProcessingInstruction&&t._nodeType!==u.NodeType.CData&&t._nodeType!==u.NodeType.Comment)throw new s.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+t.nodeName+".");if(t._nodeType===u.NodeType.Text&&n._nodeType===u.NodeType.Document)throw new s.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+t.nodeName+".");if(t._nodeType===u.NodeType.DocumentType&&n._nodeType!==u.NodeType.Document)throw new s.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+n.nodeName+".");if(n._nodeType===u.NodeType.Document)if(t._nodeType===u.NodeType.DocumentFragment){var v=0;try{for(var b=r(t._children),w=b.next();!w.done;w=b.next()){var S=w.value;if(S._nodeType===u.NodeType.Element)v++;else if(S._nodeType===u.NodeType.Text)throw new s.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+S.nodeName+".")}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}if(v>1)throw new s.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+v+" element nodes.");if(1===v){try{for(var A=r(n._children),_=A.next();!_.done;_=A.next())if((I=_.value)._nodeType===u.NodeType.Element&&I!==e)throw new s.HierarchyRequestError("The document node already has a document element node.")}catch(e){c={error:e}}finally{try{_&&!_.done&&(l=A.return)&&l.call(A)}finally{if(c)throw c.error}}for(var P=e._nextSibling;P;){if(P._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");P=P._nextSibling}}}else if(t._nodeType===u.NodeType.Element){try{for(var O=r(n._children),E=O.next();!E.done;E=O.next())if((I=E.value)._nodeType===u.NodeType.Element&&I!==e)throw new s.HierarchyRequestError("Document already has a document element node. Node is "+t.nodeName+".")}catch(e){f={error:e}}finally{try{E&&!E.done&&(d=O.return)&&d.call(O)}finally{if(f)throw f.error}}for(P=e._nextSibling;P;){if(P._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+t.nodeName+".");P=P._nextSibling}}else if(t._nodeType===u.NodeType.DocumentType){try{for(var T=r(n._children),D=T.next();!D.done;D=T.next()){var I;if((I=D.value)._nodeType===u.NodeType.DocumentType&&I!==e)throw new s.HierarchyRequestError("Document already has a document type node. Node is "+t.nodeName+".")}}catch(e){h={error:e}}finally{try{D&&!D.done&&(m=T.return)&&m.call(T)}finally{if(h)throw h.error}}for(var k=e._previousSibling;k;){if(k._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+t.nodeName+".");k=k._previousSibling}}var M=e._nextSibling;M===t&&(M=t._nextSibling);var N=e._previousSibling;y.document_adopt(t,n._nodeDocument);var R=[];null!==e._parent&&(R.push(e),C(e,e._parent,!0));var B=[];return t._nodeType===u.NodeType.DocumentFragment?B=Array.from(t._children):B.push(t),x(t,n,M,!0),a.dom.features.mutationObservers&&g.observer_queueTreeMutationRecord(n,B,R,N,M),e},t.mutation_replaceAll=function(e,t){var n,o;null!==e&&y.document_adopt(e,t._nodeDocument);var i=Array.from(t._children),s=[];e&&e._nodeType===u.NodeType.DocumentFragment?s=Array.from(e._children):null!==e&&s.push(e);try{for(var c=r(i),l=c.next();!l.done;l=c.next())C(l.value,t,!0)}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}null!==e&&x(e,t,null,!0),a.dom.features.mutationObservers&&g.observer_queueTreeMutationRecord(t,s,i,null,null)},t.mutation_preRemove=function(e,t){if(e._parent!==t)throw new s.NotFoundError("The child node cannot be found under parent node. Child node is "+e.nodeName+", parent node is "+t.nodeName+".");return C(e,t),e},t.mutation_remove=C},function(e,t,n){"use strict";function r(e){return null==e}e.exports.isNothing=r,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:r(e)?[]:[e]},e.exports.repeat=function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var n,r,o,i;if(t)for(n=0,r=(i=Object.keys(t)).length;n<r;n+=1)e[o=i[n]]=t[o];return e}},function(e,t,n){"use strict";var r=n(38),o=n(53),i=n(10);function a(e,t,n){var r=[];return e.include.forEach((function(e){n=a(e,t,n)})),e[t].forEach((function(e){n.forEach((function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)})),n.push(e)})),n.filter((function(e,t){return-1===r.indexOf(t)}))}function s(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var e,t;switch(arguments.length){case 1:e=s.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(e=r.toArray(e),t=r.toArray(t),!e.every((function(e){return e instanceof s})))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof i})))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:e,explicit:t})},e.exports=s},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(8),o=n(42),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r,o,i,a=n(185),s=n(11),u=n(13),c=n(21),l=n(14),f=n(57),d=n(45),p=s.WeakMap;if(a){var h=new p,m=h.get,g=h.has,v=h.set;r=function(e,t){return v.call(h,e,t),t},o=function(e){return m.call(h,e)||{}},i=function(e){return g.call(h,e)}}else{var y=f("state");d[y]=!0,r=function(e,t){return c(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){var r=n(119),o=n(11),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports={}},function(e,t,n){"use strict";n(31),n(32),n(33),n(219),n(64),n(19),n(65),n(20),n(92),n(66),n(91),n(143),n(22),n(144),n(23);var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(68),u=n(94),c=n(7),l=n(0),f=function(){function e(e){this.level=0,this._builderOptions=e}return e.prototype.declaration=function(e,t,n){},e.prototype.docType=function(e,t,n){},e.prototype.comment=function(e){},e.prototype.text=function(e){},e.prototype.instruction=function(e,t){},e.prototype.cdata=function(e){},e.prototype.openTagBegin=function(e){},e.prototype.openTagEnd=function(e,t,n){},e.prototype.closeTag=function(e){},e.prototype.attributes=function(e){var t,n;try{for(var o=r(e),i=o.next();!i.done;i=o.next()){var a=i.value;this.attribute(null===a[1]?a[2]:a[1]+":"+a[2],a[3])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.attribute=function(e,t){},e.prototype.beginElement=function(e){},e.prototype.endElement=function(e){},e.prototype.serializeNode=function(e,t,n){var r=void 0!==e._nodeDocument&&e._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=e,r){var o=new u.NamespacePrefixMap;o.set("xml",c.namespace.XML),this._serializeNodeNS(e,null,o,{value:1},t,n)}else this._serializeNode(e,t,n)},e.prototype._serializeNodeNS=function(e,t,n,r,o,i){switch(this.currentNode=e,e.nodeType){case a.NodeType.Element:this._serializeElementNS(e,t,n,r,o,i);break;case a.NodeType.Document:this._serializeDocumentNS(e,t,n,r,o,i);break;case a.NodeType.Comment:this._serializeComment(e,o,i);break;case a.NodeType.Text:this._serializeText(e,o,i);break;case a.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(e,t,n,r,o,i);break;case a.NodeType.DocumentType:this._serializeDocumentType(e,o,i);break;case a.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,o,i);break;case a.NodeType.CData:this._serializeCData(e,o,i);break;default:throw new Error("Unknown node type: "+e.nodeType)}},e.prototype._serializeNode=function(e,t,n){switch(this.currentNode=e,e.nodeType){case a.NodeType.Element:this._serializeElement(e,t,n);break;case a.NodeType.Document:this._serializeDocument(e,t,n);break;case a.NodeType.Comment:this._serializeComment(e,t,n);break;case a.NodeType.Text:this._serializeText(e,t,n);break;case a.NodeType.DocumentFragment:this._serializeDocumentFragment(e,t,n);break;case a.NodeType.DocumentType:this._serializeDocumentType(e,t,n);break;case a.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,t,n);break;case a.NodeType.CData:this._serializeCData(e,t,n);break;default:throw new Error("Unknown node type: "+e.nodeType)}},e.prototype._serializeElementNS=function(t,n,o,a,s,u){var f,d,p=[];if(s&&(-1!==t.localName.indexOf(":")||!l.xml_isName(t.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var h="",m=!1,g=!1,v=o.copy(),y={},b=this._recordNamespaceInformation(t,v,y),w=n,x=t.namespaceURI;if(w===x)null!==b&&(g=!0),h=x===c.namespace.XML?"xml:"+t.localName:t.localName,this.beginElement(h),this.openTagBegin(h);else{var C=t.prefix,S=null;if(null===C&&x===b||(S=v.get(C,x)),"xmlns"===C){if(s)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");S=C}null!==S?(h=S+":"+t.localName,null!==b&&b!==c.namespace.XML&&(w=b||null),this.beginElement(h),this.openTagBegin(h)):null!==C?(C in y&&(C=this._generatePrefix(x,v,a)),v.set(C,x),h+=C+":"+t.localName,this.beginElement(h),this.openTagBegin(h),p.push([null,"xmlns",C,this._serializeAttributeValue(x,s,u)]),null!==b&&(w=b||null)):null===b||null!==b&&b!==x?(g=!0,h+=t.localName,w=x,this.beginElement(h),this.openTagBegin(h),p.push([null,null,"xmlns",this._serializeAttributeValue(x,s,u)])):(h+=t.localName,w=x,this.beginElement(h),this.openTagBegin(h))}p.push.apply(p,i(this._serializeAttributesNS(t,v,a,y,g,s,u))),this.attributes(p);var A=x===c.namespace.HTML;if(A&&0===t.childNodes.length&&e._VoidElementNames.has(t.localName)?(this.openTagEnd(h,!0,!0),this.endElement(h),m=!0):A||0!==t.childNodes.length?this.openTagEnd(h,!1,!1):(this.openTagEnd(h,!0,!1),this.endElement(h),m=!0),!m){if(A&&"template"===t.localName);else try{for(var _=r(t.childNodes),P=_.next();!P.done;P=_.next()){var O=P.value;this.level++,this._serializeNodeNS(O,w,v,a,s,u),this.level--}}catch(e){f={error:e}}finally{try{P&&!P.done&&(d=_.return)&&d.call(_)}finally{if(f)throw f.error}}this.closeTag(h),this.endElement(h)}},e.prototype._serializeElement=function(e,t,n){var o,i;if(t&&(-1!==e.localName.indexOf(":")||!l.xml_isName(e.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var a=!1,s=e.localName;this.beginElement(s),this.openTagBegin(s);var u=this._serializeAttributes(e,t,n);if(this.attributes(u),e.hasChildNodes()?this.openTagEnd(s,!1,!1):(this.openTagEnd(s,!0,!1),this.endElement(s),a=!0),!a){try{for(var c=r(e._children),f=c.next();!f.done;f=c.next()){var d=f.value;this.level++,this._serializeNode(d,t,n),this.level--}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}this.closeTag(s),this.endElement(s)}},e.prototype._serializeDocumentNS=function(e,t,n,o,i,a){var s,u;if(i&&null===e.documentElement)throw new Error("Missing document element (well-formed required).");try{for(var c=r(e.childNodes),l=c.next();!l.done;l=c.next()){var f=l.value;this._serializeNodeNS(f,t,n,o,i,a)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},e.prototype._serializeDocument=function(e,t,n){var o,i;if(t&&null===e.documentElement)throw new Error("Missing document element (well-formed required).");try{for(var a=r(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;this._serializeNode(u,t,n)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},e.prototype._serializeComment=function(e,t,n){if(t&&(!l.xml_isLegalChar(e.data)||-1!==e.data.indexOf("--")||e.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(e.data)},e.prototype._serializeText=function(e,t,n){if(t&&!l.xml_isLegalChar(e.data))throw new Error("Text data contains invalid characters (well-formed required).");var r="";if(n)r=e.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");else for(var o=0;o<e.data.length;o++){var i=e.data[o];r+="&"===i?"&amp;":"<"===i?"&lt;":">"===i?"&gt;":i}this.text(r)},e.prototype._serializeDocumentFragmentNS=function(e,t,n,o,i,a){var s,u;try{for(var c=r(e.childNodes),l=c.next();!l.done;l=c.next()){var f=l.value;this._serializeNodeNS(f,t,n,o,i,a)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},e.prototype._serializeDocumentFragment=function(e,t,n){var o,i;try{for(var a=r(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;this._serializeNode(u,t,n)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},e.prototype._serializeDocumentType=function(e,t,n){if(t&&!l.xml_isPubidChar(e.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(t&&(!l.xml_isLegalChar(e.systemId)||-1!==e.systemId.indexOf('"')&&-1!==e.systemId.indexOf("'")))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(e.name,e.publicId,e.systemId)},e.prototype._serializeProcessingInstruction=function(e,t,n){if(t&&(-1!==e.target.indexOf(":")||/^xml$/i.test(e.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(t&&(!l.xml_isLegalChar(e.data)||-1!==e.data.indexOf("?>")))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(e.target,e.data)},e.prototype._serializeCData=function(e,t,n){if(t&&-1!==e.data.indexOf("]]>"))throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(e.data)},e.prototype._serializeAttributesNS=function(e,t,n,o,i,a,u){var f,d,p=[],h=a?new s.LocalNameSet:void 0;try{for(var m=r(e.attributes),g=m.next();!g.done;g=m.next()){var v=g.value;if(a||i||null!==v.namespaceURI){if(a&&h&&h.has(v.namespaceURI,v.localName))throw new Error("Element contains duplicate attributes (well-formed required).");a&&h&&h.set(v.namespaceURI,v.localName);var y=v.namespaceURI,b=null;if(null!==y)if(b=t.get(v.prefix,y),y===c.namespace.XMLNS){if(v.value===c.namespace.XML||null===v.prefix&&i||null!==v.prefix&&(!(v.localName in o)||o[v.localName]!==v.value)&&t.has(v.localName,v.value))continue;if(a&&v.value===c.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(a&&""===v.value)throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");"xmlns"===v.prefix&&(b="xmlns")}else null===b&&(b=null===v.prefix||t.hasPrefix(v.prefix)&&!t.has(v.prefix,y)?this._generatePrefix(y,t,n):v.prefix,p.push([null,"xmlns",b,this._serializeAttributeValue(y,a,u)]));if(a&&(-1!==v.localName.indexOf(":")||!l.xml_isName(v.localName)||"xmlns"===v.localName&&null===y))throw new Error("Attribute local name contains invalid characters (well-formed required).");p.push([y,b,v.localName,this._serializeAttributeValue(v.value,a,u)])}else p.push([null,null,v.localName,this._serializeAttributeValue(v.value,a,u)])}}catch(e){f={error:e}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(f)throw f.error}}return p},e.prototype._serializeAttributes=function(e,t,n){var o,i,a=[],s=t?{}:void 0;try{for(var u=r(e.attributes),c=u.next();!c.done;c=u.next()){var f=c.value;if(t){if(t&&s&&f.localName in s)throw new Error("Element contains duplicate attributes (well-formed required).");if(t&&s&&(s[f.localName]=!0),t&&(-1!==f.localName.indexOf(":")||!l.xml_isName(f.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");a.push([null,null,f.localName,this._serializeAttributeValue(f.value,t,n)])}else a.push([null,null,f.localName,this._serializeAttributeValue(f.value,t,n)])}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return a},e.prototype._recordNamespaceInformation=function(e,t,n){var o,i,a=null;try{for(var s=r(e.attributes),u=s.next();!u.done;u=s.next()){var l=u.value,f=l.namespaceURI,d=l.prefix;if(f===c.namespace.XMLNS){if(null===d){a=l.value;continue}var p=l.localName,h=l.value;if(h===c.namespace.XML)continue;if(""===h&&(h=null),t.has(p,h))continue;t.set(p,h),n[p]=h||""}}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.prototype._generatePrefix=function(e,t,n){var r="ns"+n.value.toString();return n.value++,t.set(r,e),r},e.prototype._serializeAttributeValue=function(e,t,n){if(t&&null!==e&&!l.xml_isLegalChar(e))throw new Error("Invalid characters in attribute value.");if(null===e)return"";if(n)return e.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");for(var r="",o=0;o<e.length;o++){var i=e[o];r+='"'===i?"&quot;":"&"===i?"&amp;":"<"===i?"&lt;":">"===i?"&gt;":i}return r},e._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),e}();t.BaseWriter=f},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(3),s=n(7),u=n(29),c=n(17),l=n(96);function f(){var e=i.dom.window;e._mutationObserverMicrotaskQueued||(e._mutationObserverMicrotaskQueued=!0,Promise.resolve().then((function(){d()})))}function d(){var e,t,n,o,u=i.dom.window;u._mutationObserverMicrotaskQueued=!1;var c=s.set.clone(u._mutationObservers),f=s.set.clone(u._signalSlots);s.set.empty(u._signalSlots);var d=function(e){var t=s.list.clone(e._recordQueue);s.list.empty(e._recordQueue);for(var n=0;n<e._nodeList.length;n++){var r=e._nodeList[n];s.list.remove(r._registeredObserverList,(function(t){return a.Guard.isTransientRegisteredObserver(t)&&t.observer===e}))}if(!s.list.isEmpty(t))try{e._callback.call(e,t,e)}catch(e){}};try{for(var p=r(c),h=p.next();!h.done;h=p.next())d(h.value)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}if(i.dom.features.slots)try{for(var m=r(f),g=m.next();!g.done;g=m.next()){var v=g.value;l.event_fireAnEvent("slotchange",v,void 0,{bubbles:!0})}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}}function p(e,t,n,i,a,s,l,d,p){for(var h,m,g=new Map,v=c.tree_getFirstAncestorNode(t,!0);null!==v;){for(var y=0;y<v._registeredObserverList.length;y++){var b=v._registeredObserverList[y],w=b.options;if((v===t||w.subtree)&&("attributes"!==e||w.attributes)&&("attributes"!==e||!w.attributeFilter||w.attributeFilter.indexOf(n||"")&&null===i)&&("characterData"!==e||w.characterData)&&("childList"!==e||w.childList)){var x=b.observer;g.has(x)||g.set(x,null),("attributes"===e&&w.attributeOldValue||"characterData"===e&&w.characterDataOldValue)&&g.set(x,a)}}v=c.tree_getNextAncestorNode(t,v,!0)}try{for(var C=r(g),S=C.next();!S.done;S=C.next()){var A=o(S.value,2),_=A[0],P=A[1],O=u.create_mutationRecord(e,t,u.create_nodeListStatic(t,s),u.create_nodeListStatic(t,l),d,p,n,i,P);_._recordQueue.push(O)}}catch(e){h={error:e}}finally{try{S&&!S.done&&(m=C.return)&&m.call(C)}finally{if(h)throw h.error}}f()}t.observer_queueAMutationObserverMicrotask=f,t.observer_notifyMutationObservers=d,t.observer_queueMutationRecord=p,t.observer_queueTreeMutationRecord=function(e,t,n,r,o){p("childList",e,null,null,null,t,n,r,o)},t.observer_queueAttributeMutationRecord=function(e,t,n,r){p("attributes",e,t,n,r,[],[],null,null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(7),i=n(3),a=n(9),s=n(29),u=n(72),c=n(51),l=n(30),f=n(37),d=n(105);function p(e,t,n){r.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),r.dom.features.customElements&&i.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,"attributeChangedCallback",[e._localName,e._value,n,e._namespace]),r.dom.features.steps&&l.dom_runAttributeChangeSteps(t,e._localName,e._value,n,e._namespace),e._value=n}function h(e,t){r.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,null),r.dom.features.customElements&&i.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,"attributeChangedCallback",[e._localName,null,e._value,e._namespace]),r.dom.features.steps&&l.dom_runAttributeChangeSteps(t,e._localName,null,e._value,e._namespace),t._attributeList._asArray().push(e),e._element=t,t._nodeDocument._hasNamespaces||null===e._namespace&&null===e._namespacePrefix&&"xmlns"!==e._localName||(t._nodeDocument._hasNamespaces=!0)}function m(e,t){r.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),r.dom.features.customElements&&i.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,"attributeChangedCallback",[e._localName,e._value,null,e._namespace]),r.dom.features.steps&&l.dom_runAttributeChangeSteps(t,e._localName,e._value,null,e._namespace);var n=t._attributeList._asArray().indexOf(e);t._attributeList._asArray().splice(n,1),e._element=null}function g(e,t,n){r.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(n,e._localName,e._namespace,e._value),r.dom.features.customElements&&i.Guard.isCustomElementNode(n)&&u.customElement_enqueueACustomElementCallbackReaction(n,"attributeChangedCallback",[e._localName,e._value,t._value,e._namespace]),r.dom.features.steps&&l.dom_runAttributeChangeSteps(n,e._localName,e._value,t._value,e._namespace);var o=n._attributeList._asArray().indexOf(e);-1!==o&&(n._attributeList._asArray()[o]=t),e._element=null,t._element=n,n._nodeDocument._hasNamespaces||null===t._namespace&&null===t._namespacePrefix&&"xmlns"!==t._localName||(n._nodeDocument._hasNamespaces=!0)}function v(e,t){return t._namespace===o.namespace.HTML&&"html"===t._nodeDocument._type&&(e=e.toLowerCase()),t._attributeList._asArray().find((function(t){return t._qualifiedName===e}))||null}function y(e,t,n){var r=e||null;return n._attributeList._asArray().find((function(e){return e._namespace===r&&e._localName===t}))||null}t.element_has=function(e,t){return-1!==t._attributeList._asArray().indexOf(e)},t.element_change=p,t.element_append=h,t.element_remove=m,t.element_replace=g,t.element_getAnAttributeByName=v,t.element_getAnAttributeByNamespaceAndLocalName=y,t.element_getAnAttributeValue=function(e,t,n){void 0===n&&(n="");var r=y(n,t,e);return null===r?"":r._value},t.element_setAnAttribute=function(e,t){if(null!==e._element&&e._element!==t)throw new a.InUseAttributeError("This attribute already exists in the document: "+e._qualifiedName+" as a child of "+e._element._qualifiedName+".");var n=y(e._namespace||"",e._localName,t);return n===e?e:(null!==n?g(n,e,t):h(e,t),n)},t.element_setAnAttributeValue=function(e,t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=y(o||"",t,e);if(null===i){var a=s.create_attr(e._nodeDocument,t);return a._namespace=o,a._namespacePrefix=r,a._value=n,void h(a,e)}p(i,e,n)},t.element_removeAnAttributeByName=function(e,t){var n=v(e,t);return null!==n&&m(n,t),n},t.element_removeAnAttributeByNamespaceAndLocalName=function(e,t,n){var r=y(e,t,n);return null!==r&&m(r,n),r},t.element_createAnElement=function(e,t,n,i,c,l){void 0===i&&(i=null),void 0===c&&(c=null),void 0===l&&(l=!1);var f=null;if(!r.dom.features.customElements)return(f=s.create_element(e,t,n,i))._customElementState="uncustomized",f._customElementDefinition=null,f._is=c,f;var p=u.customElement_lookUpACustomElementDefinition(e,n,t,c);if(null!==p&&p.name!==p.localName)(f=new(d.document_elementInterface(t,o.namespace.HTML)))._localName=t,f._namespace=o.namespace.HTML,f._namespacePrefix=i,f._customElementState="undefined",f._customElementDefinition=null,f._is=c,f._nodeDocument=e,l?u.customElement_upgrade(p,f):u.customElement_enqueueACustomElementUpgradeReaction(f,p);else if(null!==p)if(l)try{var h=new(0,p.constructor);if(console.assert(void 0!==h._customElementState),console.assert(void 0!==h._customElementDefinition),console.assert(h._namespace===o.namespace.HTML),0!==h._attributeList.length)throw new a.NotSupportedError("Custom element already has attributes.");if(0!==h._children.size)throw new a.NotSupportedError("Custom element already has child nodes.");if(null!==h._parent)throw new a.NotSupportedError("Custom element already has a parent node.");if(h._nodeDocument!==e)throw new a.NotSupportedError("Custom element is already in a document.");if(h._localName!==t)throw new a.NotSupportedError("Custom element has a different local name.");h._namespacePrefix=i,h._is=null}catch(n){(f=s.create_htmlUnknownElement(e,t,o.namespace.HTML,i))._customElementState="failed",f._customElementDefinition=null,f._is=null}else(f=s.create_htmlElement(e,t,o.namespace.HTML,i))._customElementState="undefined",f._customElementDefinition=null,f._is=null,u.customElement_enqueueACustomElementUpgradeReaction(f,p);else(f=new(d.document_elementInterface(t,n)))._localName=t,f._namespace=n,f._namespacePrefix=i,f._customElementState="uncustomized",f._customElementDefinition=null,f._is=c,f._nodeDocument=e,n!==o.namespace.HTML||null===c&&!u.customElement_isValidCustomElementName(t)||(f._customElementState="undefined");if(null===f)throw new Error("Unable to create element.");return f},t.element_insertAdjacent=function(e,t,n){switch(t.toLowerCase()){case"beforebegin":return null===e._parent?null:f.mutation_preInsert(n,e._parent,e);case"afterbegin":return f.mutation_preInsert(n,e,e._firstChild);case"beforeend":return f.mutation_preInsert(n,e,null);case"afterend":return null===e._parent?null:f.mutation_preInsert(n,e._parent,e._nextSibling);default:throw new a.SyntaxError('Invalid \'where\' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected')}}},function(e,t,n){"use strict";function r(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=r},function(e,t,n){"use strict";var r=n(39);e.exports=new r({include:[n(180)],implicit:[n(293),n(294)],explicit:[n(295),n(296),n(297),n(298)]})},function(e,t,n){var r=n(16),o=n(78),i=n(40),a=n(24),s=n(56),u=n(14),c=n(114),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(80),o=n(58),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(42);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r,o=n(18),i=n(187),a=n(83),s=n(45),u=n(188),c=n(115),l=n(57)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[l]=e):n=p(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(120),o=n(83);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(15).f,o=n(14),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(8),o=n(5),i=n(128),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(4),o=n(121).indexOf,i=n(48),a=n(28),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),o=n(15).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(25),o=n(18),i=n(8),a=n(135),s=RegExp.prototype,u=s.toString,c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";n(31),n(32),n(33),n(19),n(137),n(20),n(66),n(22),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=a.applyDefaults(n,{format:"object",wellFormed:!1,noDoubleEncoding:!1,group:!1,verbose:!1}),r}return o(t,e),t.prototype.serialize=function(e){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(e,this._writerOptions.wellFormed,this._writerOptions.noDoubleEncoding),this._process(this._currentList,this._writerOptions)},t.prototype._process=function(e,t){var n,r,o,i,u,c,l;if(0===e.length)return{};for(var f={},d=!1,p=0,h=0,m=0,g=0,v=0;v<e.length;v++){var y=e[v];switch(N=Object.keys(y)[0]){case"@":continue;case"#":p++;break;case"!":h++;break;case"?":m++;break;case"$":g++;break;default:f[N]?d=!0:f[N]=!0}}var b=this._getAttrKey(),w=this._getNodeKey(s.NodeType.Text),x=this._getNodeKey(s.NodeType.Comment),C=this._getNodeKey(s.NodeType.ProcessingInstruction),S=this._getNodeKey(s.NodeType.CData);if(1===p&&1===e.length&&a.isString(e[0]["#"]))return e[0]["#"];if(d){var A={};for(v=0;v<e.length;v++)if(y=e[v],"@"===(N=Object.keys(y)[0])){var _=y["@"];1===(R=Object.keys(_)).length?A[b+R[0]]=_[R[0]]:A[b]=y["@"]}var P=[];for(v=0;v<e.length;v++)switch(y=e[v],N=Object.keys(y)[0]){case"@":break;case"#":P.push(((n={})[w]=y["#"],n));break;case"!":P.push(((r={})[x]=y["!"],r));break;case"?":P.push(((o={})[C]=y["?"],o));break;case"$":P.push(((i={})[S]=y.$,i));break;default:if(0!==(L=y)[N].length&&a.isArray(L[N][0])){for(var O=[],E=L[N],T=0;T<E.length;T++)O.push(this._process(E[T],t));P.push(((u={})[N]=O,u))}else t.verbose?P.push(((c={})[N]=[this._process(L[N],t)],c)):P.push(((l={})[N]=this._process(L[N],t),l))}return A[w]=P,A}var D=1,I=1,k=1,M=1;for(A={},v=0;v<e.length;v++){var N;switch(y=e[v],N=Object.keys(y)[0]){case"@":_=y["@"];var R=Object.keys(_);if(t.group&&1!==R.length)A[b]=_;else for(var B in _)A[b+B]=_[B];break;case"#":D=this._processSpecItem(y["#"],A,t.group,w,p,D);break;case"!":I=this._processSpecItem(y["!"],A,t.group,x,h,I);break;case"?":k=this._processSpecItem(y["?"],A,t.group,C,m,k);break;case"$":M=this._processSpecItem(y.$,A,t.group,S,g,M);break;default:var L;if(0!==(L=y)[N].length&&a.isArray(L[N][0])){O=[],E=L[N];for(var F=0;F<E.length;F++)O.push(this._process(E[F],t));A[N]=O}else t.verbose?A[N]=[this._process(L[N],t)]:A[N]=this._process(L[N],t)}}return A},t.prototype._processSpecItem=function(e,t,n,r,o,s){var u,c;if(!n&&a.isArray(e)&&o+e.length>2)try{for(var l=i(e),f=l.next();!f.done;f=l.next()){var d=f.value;t[r+(s++).toString()]=d}}catch(e){u={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(u)throw u.error}}else t[o>1?r+(s++).toString():r]=e;return s},t.prototype.beginElement=function(e){var t,n,r=[];if(0===this._currentList.length)this._currentList.push(((t={})[e]=r,t));else{var o=this._currentList[this._currentList.length-1];this._isElementNode(o,e)?0!==o[e].length&&a.isArray(o[e][0])?o[e].push(r):o[e]=[o[e],r]:this._currentList.push(((n={})[e]=r,n))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=r:this._listRegister.push(r),this._currentList=r},t.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},t.prototype.attribute=function(e,t){var n,r;if(0===this._currentList.length)this._currentList.push({"@":(n={},n[e]=t,n)});else{var o=this._currentList[this._currentList.length-1];this._isAttrNode(o)?o["@"][e]=t:this._currentList.push({"@":(r={},r[e]=t,r)})}},t.prototype.comment=function(e){if(0===this._currentList.length)this._currentList.push({"!":e});else{var t=this._currentList[this._currentList.length-1];this._isCommentNode(t)?a.isArray(t["!"])?t["!"].push(e):t["!"]=[t["!"],e]:this._currentList.push({"!":e})}},t.prototype.text=function(e){if(0===this._currentList.length)this._currentList.push({"#":e});else{var t=this._currentList[this._currentList.length-1];this._isTextNode(t)?a.isArray(t["#"])?t["#"].push(e):t["#"]=[t["#"],e]:this._currentList.push({"#":e})}},t.prototype.instruction=function(e,t){var n=""===t?e:e+" "+t;if(0===this._currentList.length)this._currentList.push({"?":n});else{var r=this._currentList[this._currentList.length-1];this._isInstructionNode(r)?a.isArray(r["?"])?r["?"].push(n):r["?"]=[r["?"],n]:this._currentList.push({"?":n})}},t.prototype.cdata=function(e){if(0===this._currentList.length)this._currentList.push({$:e});else{var t=this._currentList[this._currentList.length-1];this._isCDATANode(t)?a.isArray(t.$)?t.$.push(e):t.$=[t.$,e]:this._currentList.push({$:e})}},t.prototype._isAttrNode=function(e){return"@"in e},t.prototype._isTextNode=function(e){return"#"in e},t.prototype._isCommentNode=function(e){return"!"in e},t.prototype._isInstructionNode=function(e){return"?"in e},t.prototype._isCDATANode=function(e){return"$"in e},t.prototype._isElementNode=function(e,t){return t in e},t.prototype._getAttrKey=function(){return this._builderOptions.convert.att},t.prototype._getNodeKey=function(e){switch(e){case s.NodeType.Comment:return this._builderOptions.convert.comment;case s.NodeType.Text:return this._builderOptions.convert.text;case s.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case s.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},t}(n(50).BaseWriter);t.ObjectWriter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._items={},this._nullItems={}}return e.prototype.set=function(e,t){null===e?this._nullItems[t]=!0:(this._items[e]||(this._items[e]={}),this._items[e][t]=!0)},e.prototype.has=function(e,t){return null===e?!0===this._nullItems[t]:!!this._items[e]&&!0===this._items[e][t]},e}();t.LocalNameSet=r},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=n(3),a=n(0),s=function(){function e(){}return Object.defineProperty(e.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t,n){void 0===n&&(n={passive:!1,once:!1,capture:!1});var o,s=r(a.eventTarget_flattenMore(n),3),u=s[0],c=s[1],l=s[2];t&&(o=i.Guard.isEventListener(t)?t:{handleEvent:t},a.eventTarget_addEventListener(this,{type:e,callback:o,capture:u,passive:c,once:l,removed:!1}))},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n={capture:!1});var r=a.eventTarget_flatten(n);if(t)for(var o=0;o<this._eventListenerList.length;o++){var s=this._eventListenerList[o];if(s.type===e&&s.capture===r){if(i.Guard.isEventListener(t)&&s.callback===t){a.eventTarget_removeEventListener(this,s,o);break}if(t&&s.callback.handleEvent===t){a.eventTarget_removeEventListener(this,s,o);break}}}},e.prototype.dispatchEvent=function(e){if(e._dispatchFlag||!e._initializedFlag)throw new o.InvalidStateError;return e._isTrusted=!1,a.event_dispatch(e,this)},e.prototype._getTheParent=function(e){return null},e}();t.EventTargetImpl=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),a=n(0),s=function(e){function t(t){var n=e.call(this)||this;return n._data=t,n}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){a.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),t.prototype.substringData=function(e,t){return a.characterData_substringData(this,e,t)},t.prototype.appendData=function(e){return a.characterData_replaceData(this,this._data.length,0,e)},t.prototype.insertData=function(e,t){a.characterData_replaceData(this,e,0,t)},t.prototype.deleteData=function(e,t){a.characterData_replaceData(this,e,t,"")},t.prototype.replaceData=function(e,t,n){a.characterData_replaceData(this,e,t,n)},Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},t}(i.NodeImpl);t.CharacterDataImpl=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(3),u=n(1),c=n(17),l=n(51);function f(e){a.dom.window._signalSlots.add(e),l.observer_queueAMutationObserverMicrotask()}function d(e,t){void 0===t&&(t=!1);var n=s.Cast.asNode(e)._parent;if(null===n)return null;var r=n._shadowRoot||null;if(null===r)return null;if(t&&"open"!==r._mode)return null;for(var o=c.tree_getFirstDescendantNode(r,!1,!0,(function(e){return s.Guard.isSlot(e)}));null!==o;){if(o._name===e._name)return o;o=c.tree_getNextDescendantNode(r,o,!1,!0,(function(e){return s.Guard.isSlot(e)}))}return null}function p(e){var t,n,o=[],i=c.tree_rootNode(e);if(!s.Guard.isShadowRoot(i))return o;var a=i._host;try{for(var u=r(a._children),l=u.next();!l.done;l=u.next()){var f=l.value;s.Guard.isSlotable(f)&&d(f)===e&&o.push(f)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o}function h(e){var t,n,o=p(e);if(o.length===e._assignedNodes.length){for(var i=!0,a=0;a<o.length;a++)if(o[a]!==e._assignedNodes[a]){i=!1;break}i||f(e)}e._assignedNodes=o;try{for(var s=r(o),u=s.next();!u.done;u=s.next())u.value._assignedSlot=e}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}t.shadowTree_signalASlotChange=f,t.shadowTree_isConnected=function(e){return s.Guard.isDocumentNode(c.tree_rootNode(e,!0))},t.shadowTree_isAssigned=function(e){return null!==e._assignedSlot},t.shadowTree_findASlot=d,t.shadowTree_findSlotables=p,t.shadowTree_findFlattenedSlotables=function e(t){var n,o,a,l,f=[],d=c.tree_rootNode(t);if(!s.Guard.isShadowRoot(d))return f;var h=p(t);if(u.isEmpty(h))try{for(var m=r(t._children),g=m.next();!g.done;g=m.next()){var v=g.value;s.Guard.isSlotable(v)&&h.push(v)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}try{for(var y=r(h),b=y.next();!b.done;b=y.next()){var w=b.value;if(s.Guard.isSlot(w)&&s.Guard.isShadowRoot(c.tree_rootNode(w))){var x=e(w);f.push.apply(f,i(x))}else f.push(w)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}return f},t.shadowTree_assignSlotables=h,t.shadowTree_assignSlotablesForATree=function(e){for(var t=c.tree_getFirstDescendantNode(e,!0,!1,(function(e){return s.Guard.isSlot(e)}));null!==t;)h(t),t=c.tree_getNextDescendantNode(e,t,!0,!1,(function(e){return s.Guard.isSlot(e)}))},t.shadowTree_assignASlot=function(e){var t=d(e);null!==t&&h(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),i=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),a=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),s=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);t.customElement_isValidCustomElementName=function(e){return!!r.test(e)&&!o.has(e)},t.customElement_isValidElementName=function(e){return i.has(e)},t.customElement_isVoidElementName=function(e){return a.has(e)},t.customElement_isValidShadowHostName=function(e){return s.has(e)},t.customElement_enqueueACustomElementUpgradeReaction=function(e,t){},t.customElement_enqueueACustomElementCallbackReaction=function(e,t,n){},t.customElement_upgrade=function(e,t){},t.customElement_tryToUpgrade=function(e){},t.customElement_lookUpACustomElementDefinition=function(e,t,n,r){return null}},function(e,t,n){n(4)({target:"String",proto:!0},{repeat:n(258)})},function(e,t,n){"use strict";n(278),Object.defineProperty(t,"__esModule",{value:!0});var r=n(108),o=function(){function e(e){this._builderOptions=e,e.parser&&Object.assign(this,e.parser)}return e.prototype._docType=function(e,t,n,r){return e.dtd({name:t,pubID:n,sysID:r})},e.prototype._comment=function(e,t){return e.com(t)},e.prototype._text=function(e,t){return e.txt(t)},e.prototype._instruction=function(e,t,n){return e.ins(t,n)},e.prototype._cdata=function(e,t){return e.dat(t)},e.prototype._element=function(e,t,n){return void 0===t?e.ele(n):e.ele(t,n)},e.prototype._attribute=function(e,t,n,r){return void 0===t?e.att(n,r):e.att(t,n,r)},e.prototype._sanitize=function(e){return r.sanitizeInput(e,this._builderOptions.invalidCharReplacement)},e.prototype.parse=function(e,t){return this._parse(e,t)},e.prototype.docType=function(e,t,n,r){return this._docType(e,t,n,r)},e.prototype.comment=function(e,t){return this._comment(e,t)},e.prototype.text=function(e,t){return this._text(e,t)},e.prototype.instruction=function(e,t,n){return this._instruction(e,t,n)},e.prototype.cdata=function(e,t){return this._cdata(e,t)},e.prototype.element=function(e,t,n){return this._element(e,t,n)},e.prototype.attribute=function(e,t,n,r){return this._attribute(e,t,n,r)},e.prototype.sanitize=function(e){return this._sanitize(e)},e}();t.BaseReader=o},function(e,t,n){"use strict";var r=n(39);e.exports=r.DEFAULT=new r({include:[n(54)],explicit:[n(299),n(300),n(301)]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184);t.XMLBuilderImpl=r.XMLBuilderImpl;var o=n(304);t.XMLBuilderCBImpl=o.XMLBuilderCBImpl;var i=n(182);t.builder=i.builder,t.create=i.create,t.fragment=i.fragment,t.convert=i.convert;var a=n(309);t.createCB=a.createCB,t.fragmentCB=a.fragmentCB},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(11),o=n(21);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(44),o=n(117);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(120),o=n(83).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(47),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(126);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(4),o=n(194),i=n(131),a=n(132),s=n(62),u=n(21),c=n(25),l=n(5),f=n(44),d=n(49),p=n(130),h=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v=function(){return this};e.exports=function(e,t,n,l,p,y,b){o(n,t,l);var w,x,C,S=function(e){if(e===p&&E)return E;if(!m&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",_=!1,P=e.prototype,O=P[g]||P["@@iterator"]||p&&P[p],E=!m&&O||S(p),T="Array"==t&&P.entries||O;if(T&&(w=i(T.call(new e)),h!==Object.prototype&&w.next&&(f||i(w)===h||(a?a(w,h):"function"!=typeof w[g]&&u(w,g,v)),s(w,A,!0,!0),f&&(d[A]=v))),"values"==p&&O&&"values"!==O.name&&(_=!0,E=function(){return O.call(this)}),f&&!b||P[g]===E||u(P,g,E),d[t]=E,p)if(x={values:S("values"),keys:y?E:S("keys"),entries:S("entries")},b)for(C in x)(m||_||!(C in P))&&c(P,C,x[C]);else r({target:t,proto:!0,forced:m||_},x);return x}},function(e,t,n){"use strict";var r=n(4),o=n(13),i=n(59),a=n(82),s=n(26),u=n(24),c=n(133),l=n(5),f=n(63),d=n(28),p=f("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,r,l,f=u(this),d=s(f.length),p=a(e,d),h=a(void 0===t?d:t,d);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(f,p,h);for(r=new(void 0===n?Array:n)(v(h-p,0)),l=0;p<h;p++,l++)p in f&&c(r,l,f[p]);return r.length=l,r}})},function(e,t,n){var r={};r[n(5)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";n(19),n(137),n(20),n(91),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},t.XMLBuilderOptionKeys=new Set(Object.keys(t.DefaultBuilderOptions)),t.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:"\n",offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(e,t,n){"use strict";var r=n(138),o=n(142);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";var r=n(4),o=n(93);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){"use strict";var r,o,i=n(135),a=n(220),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(l||d||f)&&(c=function(e){var t,n,r,o,a=this,c=f&&a.sticky,p=i.call(a),h=a.source,m=0,g=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,m++),n=new RegExp("^(?:"+h+")",p)),d&&(n=new RegExp("^"+h+"$(?!\\s)",p)),l&&(t=a.lastIndex),r=s.call(c?n:a,g),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._items={},this._nullItems=[]}return e.prototype.copy=function(){var t=new e;for(var n in this._items)t._items[n]=this._items[n].slice(0);return t._nullItems=this._nullItems.slice(0),t},e.prototype.get=function(e,t){var n=null===t?this._nullItems:this._items[t]||null;if(null===n)return null;for(var r=null,o=0;o<n.length;o++)if((r=n[o])===e)return r;return r},e.prototype.has=function(e,t){var n=null===t?this._nullItems:this._items[t]||null;return null!==n&&-1!==n.indexOf(e)},e.prototype.hasPrefix=function(e){if(-1!==this._nullItems.indexOf(e))return!0;for(var t in this._items)if(-1!==this._items[t].indexOf(e))return!0;return!1},e.prototype.set=function(e,t){var n=null===t?this._nullItems:this._items[t]||null;null!==t&&null===n?this._items[t]=[e]:n.push(e)},e}();t.NamespacePrefixMap=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Surrogate=/[\uD800-\uDFFF]/,t.ScalarValue=/[\uD800-\uDFFF]/,t.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,t.ASCIICodePoint=/[\u0000-\u007F]/,t.ASCIITabOrNewLine=/[\t\n\r]/,t.ASCIIWhiteSpace=/[\t\n\f\r ]/,t.C0Control=/[\u0000-\u001F]/,t.C0ControlOrSpace=/[\u0000-\u001F ]/,t.Control=/[\u0000-\u001F\u007F-\u009F]/,t.ASCIIDigit=/[0-9]/,t.ASCIIUpperHexDigit=/[0-9A-F]/,t.ASCIILowerHexDigit=/[0-9a-f]/,t.ASCIIHexDigit=/[0-9A-Fa-f]/,t.ASCIIUpperAlpha=/[A-Z]/,t.ASCIILowerAlpha=/[a-z]/,t.ASCIIAlpha=/[A-Za-z]/,t.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(2),u=n(3),c=n(171),l=n(103),f=n(9),d=n(17),p=n(71),h=n(30);function m(e,t){void 0===t&&(t=void 0),void 0===t&&(t=null);var n=g(e,0,new Date,{});return n._isTrusted=!0,n}function g(e,t,n,r){var o=new e("");return o._initializedFlag=!0,o._timeStamp=n.getTime(),Object.assign(o,r),a.dom.features.steps&&h.dom_runEventConstructingSteps(o),o}function v(e,t,n,o){var i,a,c,l;void 0===n&&(n=!1),void 0===o&&(o={value:!1});var f=!1;e._dispatchFlag=!0;var h=t;if(n){var m=t._associatedDocument;u.Guard.isDocumentNode(m)&&(h=m)}var g=null,v=d.tree_retarget(e._relatedTarget,t);if(t!==v||t===e._relatedTarget){var w=[];try{for(var x=r(e._touchTargetList),C=x.next();!C.done;C=x.next()){var S=C.value;w.push(d.tree_retarget(S,t))}}catch(e){i={error:e}}finally{try{C&&!C.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}y(e,t,h,v,w,!1);var A=u.Guard.isMouseEvent(e)&&"click"===e._type;A&&void 0!==t._activationBehavior&&(g=t);for(var _=u.Guard.isSlotable(t)&&p.shadowTree_isAssigned(t)?t:null,P=!1,O=t._getTheParent(e);null!==O&&u.Guard.isNode(O);){if(null!==_){if(!u.Guard.isSlot(O))throw new Error("Parent node of a slotable should be a slot.");_=null;var E=d.tree_rootNode(O,!0);u.Guard.isShadowRoot(E)&&"closed"===E._mode&&(P=!0)}u.Guard.isSlotable(O)&&p.shadowTree_isAssigned(O)&&(_=O),v=d.tree_retarget(e._relatedTarget,O),w=[];try{for(var T=(c=void 0,r(e._touchTargetList)),D=T.next();!D.done;D=T.next())S=D.value,w.push(d.tree_retarget(S,O))}catch(e){c={error:e}}finally{try{D&&!D.done&&(l=T.return)&&l.call(T)}finally{if(c)throw c.error}}u.Guard.isWindow(O)||u.Guard.isNode(O)&&u.Guard.isNode(t)&&d.tree_isAncestorOf(d.tree_rootNode(t,!0),O,!0,!0)?(A&&e._bubbles&&null===g&&O._activationBehavior&&(g=O),y(e,O,null,v,w,P)):O===v?O=null:(t=O,A&&null===g&&t._activationBehavior&&(g=t),y(e,O,t,v,w,P)),null!==O&&(O=O._getTheParent(e)),P=!1}for(var I=null,k=e._path,M=k.length-1;M>=0;M--)if(null!==(R=k[M]).shadowAdjustedTarget){I=R;break}if(null!==I)if(u.Guard.isNode(I.shadowAdjustedTarget)&&u.Guard.isShadowRoot(d.tree_rootNode(I.shadowAdjustedTarget,!0)))f=!0;else if(u.Guard.isNode(I.relatedTarget)&&u.Guard.isShadowRoot(d.tree_rootNode(I.relatedTarget,!0)))f=!0;else for(var N=0;N<I.touchTargetList.length;N++){var R=I.touchTargetList[N];if(u.Guard.isNode(R)&&u.Guard.isShadowRoot(d.tree_rootNode(R,!0))){f=!0;break}}for(null!==g&&void 0!==g._legacyPreActivationBehavior&&g._legacyPreActivationBehavior(e),M=k.length-1;M>=0;M--)null!==(R=k[M]).shadowAdjustedTarget?e._eventPhase=s.EventPhase.AtTarget:e._eventPhase=s.EventPhase.Capturing,b(R,e,"capturing",o);for(M=0;M<k.length;M++){if(null!==(R=k[M]).shadowAdjustedTarget)e._eventPhase=s.EventPhase.AtTarget;else{if(!e._bubbles)continue;e._eventPhase=s.EventPhase.Bubbling}b(R,e,"bubbling",o)}}return e._eventPhase=s.EventPhase.None,e._currentTarget=null,e._path=[],e._dispatchFlag=!1,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,f&&(e._target=null,e._relatedTarget=null,e._touchTargetList=[]),null!==g&&(e._canceledFlag||void 0===g._activationBehavior?void 0!==g._legacyCanceledActivationBehavior&&g._legacyCanceledActivationBehavior(e):g._activationBehavior(e)),!e._canceledFlag}function y(e,t,n,r,o,i){var a=!1;u.Guard.isNode(t)&&u.Guard.isShadowRoot(d.tree_rootNode(t))&&(a=!0);var s=!1;u.Guard.isShadowRoot(t)&&"closed"===t._mode&&(s=!0),e._path.push({invocationTarget:t,invocationTargetInShadowTree:a,shadowAdjustedTarget:n,relatedTarget:r,touchTargetList:o,rootOfClosedTree:s,slotInClosedTree:i})}function b(e,t,n,r){void 0===r&&(r={value:!1});for(var o=t._path,a=-1,s=0;s<o.length;s++)if(o[s]===e){a=s;break}if(-1!==a){var u=o[a];(null!==u.shadowAdjustedTarget||a>0&&null!==(u=o[a-1]).shadowAdjustedTarget)&&(t._target=u.shadowAdjustedTarget)}if(t._relatedTarget=e.relatedTarget,t._touchTargetList=e.touchTargetList,!t._stopPropagationFlag){t._currentTarget=e.invocationTarget;var c=t._currentTarget._eventListenerList,l=new(Array.bind.apply(Array,i([void 0],c)));if(!w(t,l,n,e,r)&&t._isTrusted){var f=t._type;"animationend"===f?t._type="webkitAnimationEnd":"animationiteration"===f?t._type="webkitAnimationIteration":"animationstart"===f?t._type="webkitAnimationStart":"transitionend"===f&&(t._type="webkitTransitionEnd"),w(t,l,n,e,r),t._type=f}}}function w(e,t,n,r,o){void 0===o&&(o={value:!1});for(var i=!1,a=0;a<t.length;a++){var s=t[a];if(!s.removed){if(e._type!==s.type)continue;if(i=!0,"capturing"===n&&!s.capture)continue;if("bubbling"===n&&s.capture)continue;if(s.once&&null!==e._currentTarget){for(var c=e._currentTarget,l=-1,f=0;f<c._eventListenerList.length;f++)if(c._eventListenerList[f]===s){l=f;break}-1!==l&&c._eventListenerList.splice(l,1)}var d=void 0,p=void 0;u.Guard.isWindow(d)&&(p=d._currentEvent,!1===r.invocationTargetInShadowTree&&(d._currentEvent=e)),s.passive&&(e._inPassiveListenerFlag=!0);try{s.callback.handleEvent.call(e._currentTarget,e)}catch(e){o.value=!0}if(s.passive&&(e._inPassiveListenerFlag=!1),u.Guard.isWindow(d)&&(d._currentEvent=p),e._stopImmediatePropagationFlag)return i}}return i}t.event_setTheCanceledFlag=function(e){e._cancelable&&!e._inPassiveListenerFlag&&(e._canceledFlag=!0)},t.event_initialize=function(e,t,n,r){e._initializedFlag=!0,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,e._canceledFlag=!1,e._isTrusted=!1,e._target=null,e._type=t,e._bubbles=n,e._cancelable=r},t.event_createAnEvent=m,t.event_innerEventCreationSteps=g,t.event_dispatch=v,t.event_appendToAnEventPath=y,t.event_invoke=b,t.event_innerInvoke=w,t.event_fireAnEvent=function(e,t,n,r,o){void 0===n&&(n=l.EventImpl);var i=m(n);if(i._type=e,r)for(var a in r)i[a]=r[a];return v(i,t,o)},t.event_createLegacyEvent=function(e){var t=null;switch(e.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":t=c.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":t=l.EventImpl}if(null===t)throw new f.NotSupportedError("Event constructor not found for interface "+e+".");var n=new t("");return n._type="",n._timeStamp=(new Date).getTime(),n._isTrusted=!1,n._initializedFlag=!1,n},t.event_getterEventHandlerIDLAttribute=function(e,t){return null},t.event_setterEventHandlerIDLAttribute=function(e,t,n){},t.event_determineTheTargetOfAnEventHandler=function(e,t){return null},t.event_getTheCurrentValueOfAnEventHandler=function(e,t){return null},t.event_activateAnEventHandler=function(e,t){},t.event_deactivateAnEventHandler=function(e,t){}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),u=n(2),c=n(9),l=n(34),f=n(3),d=n(1),p=n(7),h=n(152),m=n(0),g=n(12),v=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},t._contentType="application/xml",t._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},t._origin=null,t._type="xml",t._mode="no-quirks",t._documentElement=null,t._hasNamespaces=!1,t._nodeDocumentOverwrite=null,t}return o(t,e),Object.defineProperty(t.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(e){this._nodeDocumentOverwrite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=m.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"URL",{get:function(){return h.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compatMode",{get:function(){return"quirks"===this._mode?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t;try{for(var n=i(this._children),r=n.next();!r.done;r=n.next()){var o=r.value;if(f.Guard.isDocumentTypeNode(o))return o}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),t.prototype.getElementsByTagName=function(e){return m.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return m.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return m.node_listOfElementsWithClassNames(e,this)},t.prototype.createElement=function(e,t){if(!m.xml_isName(e))throw new c.InvalidCharacterError;"html"===this._type&&(e=e.toLowerCase());var n=null;void 0!==t&&(n=d.isString(t)?t:t.is);var r="html"===this._type||"application/xhtml+xml"===this._contentType?p.namespace.HTML:null;return m.element_createAnElement(this,e,r,null,n,!0)},t.prototype.createElementNS=function(e,t,n){return m.document_internalCreateElementNS(this,e,t,n)},t.prototype.createDocumentFragment=function(){return m.create_documentFragment(this)},t.prototype.createTextNode=function(e){return m.create_text(this,e)},t.prototype.createCDATASection=function(e){if("html"===this._type)throw new c.NotSupportedError;if(-1!==e.indexOf("]]>"))throw new c.InvalidCharacterError;return m.create_cdataSection(this,e)},t.prototype.createComment=function(e){return m.create_comment(this,e)},t.prototype.createProcessingInstruction=function(e,t){if(!m.xml_isName(e))throw new c.InvalidCharacterError;if(-1!==t.indexOf("?>"))throw new c.InvalidCharacterError;return m.create_processingInstruction(this,e,t)},t.prototype.importNode=function(e,t){if(void 0===t&&(t=!1),f.Guard.isDocumentNode(e)||f.Guard.isShadowRoot(e))throw new c.NotSupportedError;return m.node_clone(e,this,t)},t.prototype.adoptNode=function(e){if(f.Guard.isDocumentNode(e))throw new c.NotSupportedError;if(f.Guard.isShadowRoot(e))throw new c.HierarchyRequestError;return m.document_adopt(e,this),e},t.prototype.createAttribute=function(e){if(!m.xml_isName(e))throw new c.InvalidCharacterError;return"html"===this._type&&(e=e.toLowerCase()),m.create_attr(this,e)},t.prototype.createAttributeNS=function(e,t){var n=a(m.namespace_validateAndExtract(e,t),3),r=n[0],o=n[1],i=n[2],s=m.create_attr(this,i);return s._namespace=r,s._namespacePrefix=o,s},t.prototype.createEvent=function(e){return m.event_createLegacyEvent(e)},t.prototype.createRange=function(){var e=m.create_range();return e._start=[this,0],e._end=[this,0],e},t.prototype.createNodeIterator=function(e,t,n){void 0===t&&(t=u.WhatToShow.All),void 0===n&&(n=null);var r=m.create_nodeIterator(e,e,!0);return r._whatToShow=t,r._iteratorCollection=m.create_nodeList(e),d.isFunction(n)?(r._filter=m.create_nodeFilter(),r._filter.acceptNode=n):r._filter=n,r},t.prototype.createTreeWalker=function(e,t,n){void 0===t&&(t=u.WhatToShow.All),void 0===n&&(n=null);var r=m.create_treeWalker(e,e);return r._whatToShow=t,d.isFunction(n)?(r._filter=m.create_nodeFilter(),r._filter.acceptNode=n):r._filter=n,r},t.prototype._getTheParent=function(e){return"load"===e._type?null:s.dom.window},t.prototype.getElementById=function(e){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(t.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelector=function(e){throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelectorAll=function(e){throw new Error("Mixin: ParentNode not implemented.")},t}(l.NodeImpl);t.DocumentImpl=v,g.idl_defineConst(v.prototype,"_nodeType",u.NodeType.Document)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=n(34),c=n(9),l=n(7),f=n(0),d=n(12),p=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._namespace=null,t._namespacePrefix=null,t._localName="",t._customElementState="undefined",t._customElementDefinition=null,t._is=null,t._shadowRoot=null,t._attributeList=f.create_namedNodeMap(t),t._attributeChangeSteps=[],t._name="",t._assignedSlot=null,t}return o(t,e),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return f.element_getAnAttributeValue(this,"id")},set:function(e){f.element_setAnAttributeValue(this,"id",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return f.element_getAnAttributeValue(this,"class")},set:function(e){f.element_setAnAttributeValue(this,"class",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classList",{get:function(){var e=f.element_getAnAttributeByName("class",this);return null===e&&(e=f.create_attr(this._nodeDocument,"class")),f.create_domTokenList(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slot",{get:function(){return f.element_getAnAttributeValue(this,"slot")},set:function(e){f.element_setAnAttributeValue(this,"slot",e)},enumerable:!0,configurable:!0}),t.prototype.hasAttributes=function(){return 0!==this._attributeList.length},Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),t.prototype.getAttributeNames=function(){var e,t,n=[];try{for(var r=i(this._attributeList),o=r.next();!o.done;o=r.next()){var a=o.value;n.push(a._qualifiedName)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},t.prototype.getAttribute=function(e){var t=f.element_getAnAttributeByName(e,this);return t?t._value:null},t.prototype.getAttributeNS=function(e,t){var n=f.element_getAnAttributeByNamespaceAndLocalName(e,t,this);return n?n._value:null},t.prototype.setAttribute=function(e,t){if(!f.xml_isName(e))throw new c.InvalidCharacterError;this._namespace===l.namespace.HTML&&"html"===this._nodeDocument._type&&(e=e.toLowerCase());for(var n=null,r=0;r<this._attributeList.length;r++){var o=this._attributeList[r];if(o._qualifiedName===e){n=o;break}}if(null===n)return(n=f.create_attr(this._nodeDocument,e))._value=t,void f.element_append(n,this);f.element_change(n,this,t)},t.prototype.setAttributeNS=function(e,t,n){var r=a(f.namespace_validateAndExtract(e,t),3),o=r[0],i=r[1],s=r[2];f.element_setAnAttributeValue(this,s,n,i,o)},t.prototype.removeAttribute=function(e){f.element_removeAnAttributeByName(e,this)},t.prototype.removeAttributeNS=function(e,t){f.element_removeAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.hasAttribute=function(e){this._namespace===l.namespace.HTML&&"html"===this._nodeDocument._type&&(e=e.toLowerCase());for(var t=0;t<this._attributeList.length;t++)if(this._attributeList[t]._qualifiedName===e)return!0;return!1},t.prototype.toggleAttribute=function(e,t){if(!f.xml_isName(e))throw new c.InvalidCharacterError;this._namespace===l.namespace.HTML&&"html"===this._nodeDocument._type&&(e=e.toLowerCase());for(var n=null,r=0;r<this._attributeList.length;r++){var o=this._attributeList[r];if(o._qualifiedName===e){n=o;break}}return null===n?(void 0===t||!0===t)&&((n=f.create_attr(this._nodeDocument,e))._value="",f.element_append(n,this),!0):void 0!==t&&!1!==t||(f.element_removeAnAttributeByName(e,this),!1)},t.prototype.hasAttributeNS=function(e,t){for(var n=e||null,r=0;r<this._attributeList.length;r++){var o=this._attributeList[r];if(o._namespace===n&&o._localName===t)return!0}return!1},t.prototype.getAttributeNode=function(e){return f.element_getAnAttributeByName(e,this)},t.prototype.getAttributeNodeNS=function(e,t){return f.element_getAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.setAttributeNode=function(e){return f.element_setAnAttribute(e,this)},t.prototype.setAttributeNodeNS=function(e){return f.element_setAnAttribute(e,this)},t.prototype.removeAttributeNode=function(e){for(var t=!1,n=0;n<this._attributeList.length;n++)if(this._attributeList[n]===e){t=!0;break}if(!t)throw new c.NotFoundError;return f.element_remove(e,this),e},t.prototype.attachShadow=function(e){if(this._namespace!==l.namespace.HTML)throw new c.NotSupportedError;if(!f.customElement_isValidCustomElementName(this._localName)&&!f.customElement_isValidShadowHostName(this._localName))throw new c.NotSupportedError;if(f.customElement_isValidCustomElementName(this._localName)||null!==this._is){var t=f.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(null!==t&&!0===t.disableShadow)throw new c.NotSupportedError}if(null!==this._shadowRoot)throw new c.NotSupportedError;var n=f.create_shadowRoot(this._nodeDocument,this);return n._mode=e.mode,this._shadowRoot=n,n},Object.defineProperty(t.prototype,"shadowRoot",{get:function(){var e=this._shadowRoot;return null===e||"closed"===e.mode?null:e},enumerable:!0,configurable:!0}),t.prototype.closest=function(e){throw new c.NotImplementedError},t.prototype.matches=function(e){throw new c.NotImplementedError},t.prototype.webkitMatchesSelector=function(e){return this.matches(e)},t.prototype.getElementsByTagName=function(e){return f.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return f.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return f.node_listOfElementsWithClassNames(e,this)},t.prototype.insertAdjacentElement=function(e,t){return f.element_insertAdjacent(this,e,t)},t.prototype.insertAdjacentText=function(e,t){var n=f.create_text(this._nodeDocument,t);f.element_insertAdjacent(this,e,n)},Object.defineProperty(t.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_htmlUppercasedQualifiedName",{get:function(){var e=this._qualifiedName;return this._namespace===l.namespace.HTML&&"html"===this._nodeDocument._type&&(e=e.toUpperCase()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelector=function(e){throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelectorAll=function(e){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(t.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),t._create=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=new t;return i._localName=n,i._namespace=r,i._namespacePrefix=o,i._nodeDocument=e,i},t}(u.NodeImpl);t.ElementImpl=p,d.idl_defineConst(p.prototype,"_nodeType",s.NodeType.Element)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(34),s=n(12),u=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n._children=new Set,n._host=t,n}return o(t,e),t.prototype.getElementById=function(e){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(t.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelector=function(e){throw new Error("Mixin: ParentNode not implemented.")},t.prototype.querySelectorAll=function(e){throw new Error("Mixin: ParentNode not implemented.")},t._create=function(e,n){void 0===n&&(n=null);var r=new t(n);return r._nodeDocument=e,r},t}(a.NodeImpl);t.DocumentFragmentImpl=u,s.idl_defineConst(u.prototype,"_nodeType",i.NodeType.DocumentFragment)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(70),u=n(0),c=n(12),l=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,t)||this;return n._name="",n._assignedSlot=null,n}return o(t,e),Object.defineProperty(t.prototype,"wholeText",{get:function(){var e,t,n="";try{for(var r=i(u.text_contiguousTextNodes(this,!0)),o=r.next();!o.done;o=r.next())n+=o.value._data}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),t.prototype.splitText=function(e){return u.text_split(this,e)},Object.defineProperty(t.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),t._create=function(e,n){void 0===n&&(n="");var r=new t(n);return r._nodeDocument=e,r},t}(s.CharacterDataImpl);t.TextImpl=l,c.idl_defineConst(l.prototype,"_nodeType",a.NodeType.Text)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),e}();t.AbstractRangeImpl=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(){function e(e){this._activeFlag=!1,this._root=e,this._whatToShow=r.WhatToShow.All,this._filter=null}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),e}();t.TraverserImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0),i=n(12),a=function(){function e(e,t){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=r.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=e,t&&(this._bubbles=t.bubbles||!1,this._cancelable=t.cancelable||!1,this._composedFlag=t.composed||!1),this._initializedFlag=!0,this._timeStamp=(new Date).getTime()}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),e.prototype.composedPath=function(){var e=[],t=this._path;if(0===t.length)return e;var n=this._currentTarget;if(null===n)throw new Error("Event currentTarget is null.");e.push(n);for(var r=0,o=0,i=t.length-1;i>=0;){if(t[i].rootOfClosedTree&&o++,t[i].invocationTarget===n){r=i;break}t[i].slotInClosedTree&&o--,i--}var a=o,s=o;for(i=r-1;i>=0;)t[i].rootOfClosedTree&&a++,a<=s&&e.unshift(t[i].invocationTarget),t[i].slotInClosedTree&&--a<s&&(s=a),i--;for(a=o,s=o,i=r+1;i<t.length;)t[i].slotInClosedTree&&a++,a<=s&&e.push(t[i].invocationTarget),t[i].rootOfClosedTree&&--a<s&&(s=a),i++;return e},Object.defineProperty(e.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(e.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(e){e&&this.stopPropagation()},enumerable:!0,configurable:!0}),e.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(e.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(e){e||o.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){o.event_setTheCanceledFlag(this)},Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),e.prototype.initEvent=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this._dispatchFlag||o.event_initialize(this,e,t,n)},e.NONE=0,e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,e}();t.EventImpl=a,i.idl_defineConst(a.prototype,"NONE",0),i.idl_defineConst(a.prototype,"CAPTURING_PHASE",1),i.idl_defineConst(a.prototype,"AT_TARGET",2),i.idl_defineConst(a.prototype,"BUBBLING_PHASE",3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(9);t.traversal_filter=function(e,t){if(e._activeFlag)throw new o.InvalidStateError;var n=1<<t._nodeType-1;if(0==(e.whatToShow&n))return r.FilterResult.Skip;if(!e.filter)return r.FilterResult.Accept;e._activeFlag=!0;var i=r.FilterResult.Reject;try{i=e.filter.acceptNode(t)}catch(t){throw e._activeFlag=!1,t}return e._activeFlag=!1,i}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(3),s=n(1),u=n(98),c=n(72),l=n(17),f=n(173),d=n(30),p=n(52),h=n(37);t.document_elementInterface=function(e,t){return u.ElementImpl},t.document_internalCreateElementNS=function(e,t,n,o){var i=r(f.namespace_validateAndExtract(t,n),3),a=i[0],u=i[1],c=i[2],l=null;return void 0!==o&&(l=s.isString(o)?o:o.is),p.element_createAnElement(e,c,a,u,l,!0)},t.document_adopt=function(e,t){var n,r;if(e._nodeDocument!==t||null!==e._parent){var s=e._nodeDocument;if(e._parent&&h.mutation_remove(e,e._parent),t!==s)for(var u=l.tree_getFirstDescendantNode(e,!0,!0);null!==u;){if(u._nodeDocument=t,a.Guard.isElementNode(u))try{for(var f=(n=void 0,o(u._attributeList._asArray())),p=f.next();!p.done;p=f.next())p.value._nodeDocument=t}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}i.dom.features.customElements&&a.Guard.isElementNode(u)&&"custom"===u._customElementState&&c.customElement_enqueueACustomElementCallbackReaction(u,"adoptedCallback",[s,t]),i.dom.features.steps&&d.dom_runAdoptingSteps(u,s),u=l.tree_getNextDescendantNode(e,u,!0,!0)}}}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(3),a=n(9),s=n(17),u=n(51),c=n(30);t.characterData_replaceData=function(e,t,n,l){var f,d,p=s.tree_nodeLength(e);if(t>p)throw new a.IndexSizeError("Offset exceeds character data length. Offset: "+t+", Length: "+p+", Node is "+e.nodeName+".");t+n>p&&(n=p-t),o.dom.features.mutationObservers&&u.observer_queueMutationRecord("characterData",e,null,null,e._data,[],[],null,null);var h=e._data.substring(0,t)+l+e._data.substring(t+n);e._data=h;try{for(var m=r(o.dom.rangeList),g=m.next();!g.done;g=m.next()){var v=g.value;v._start[0]===e&&v._start[1]>t&&v._start[1]<=t+n&&(v._start[1]=t),v._end[0]===e&&v._end[1]>t&&v._end[1]<=t+n&&(v._end[1]=t),v._start[0]===e&&v._start[1]>t+n&&(v._start[1]+=l.length-n),v._end[0]===e&&v._end[1]>t+n&&(v._end[1]+=l.length-n)}}catch(e){f={error:e}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(f)throw f.error}}o.dom.features.steps&&i.Guard.isTextNode(e)&&null!==e._parent&&c.dom_runChildTextContentChangeSteps(e._parent)},t.characterData_substringData=function(e,t,n){var r=s.tree_nodeLength(e);if(t>r)throw new a.IndexSizeError("Offset exceeds character data length. Offset: "+t+", Length: "+r+", Node is "+e.nodeName+".");return t+n>r?e._data.substr(t):e._data.substr(t,n)}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);function s(e){var t=a.string.splitAStringOnASCIIWhitespace(e);return new Set(t)}function u(e){return o(e).join(" ")}t.orderedSet_parse=s,t.orderedSet_serialize=u,t.orderedSet_sanitize=function(e){return u(s(e))},t.orderedSet_contains=function(e,t,n){var r,o,a,s;try{for(var u=i(t),c=u.next();!c.done;c=u.next()){var l=c.value,f=!1;try{for(var d=(a=void 0,i(e)),p=d.next();!p.done;p=d.next()){var h=p.value;if(n){if(h===l){f=!0;break}}else if(h.toUpperCase()===l.toUpperCase()){f=!0;break}}}catch(e){a={error:e}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}if(!f)return!1}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return!0}},function(e,t,n){"use strict";n(261),Object.defineProperty(t,"__esModule",{value:!0});var r=n(262),o=n(109),i=n(1);o.dom.setFeatures(!1),t.createDocument=function(){var e=(new r.DOMImplementation).createDocument(null,"root",null);return e.documentElement&&e.removeChild(e.documentElement),e},t.sanitizeInput=function(e,t){if(null==e)return e;if(void 0===t)return e+"";var n="";e+="";for(var r=0;r<e.length;r++){var o=e.charCodeAt(r);if(9===o||10===o||13===o||o>=32&&o<=55295||o>=57344&&o<=65533)n+=e.charAt(r);else if(o>=55296&&o<=56319&&r<e.length-1){var a=e.charCodeAt(r+1);a>=56320&&a<=57343?(o=1024*(o-55296)+a-56320+65536,n+=String.fromCodePoint(o),r++):n+=i.isString(t)?t:t(e.charAt(r),r,e)}else n+=i.isString(t)?t:t(e.charAt(r),r,e)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(153);t.AbortController=o.AbortControllerImpl;var i=n(154);t.AbortSignal=i.AbortSignalImpl;var a=n(101);t.AbstractRange=a.AbstractRangeImpl;var s=n(157);t.Attr=s.AttrImpl;var u=n(158);t.CDATASection=u.CDATASectionImpl;var c=n(70);t.CharacterData=c.CharacterDataImpl;var l=n(263),f=n(159);t.Comment=f.CommentImpl;var d=n(171);t.CustomEvent=d.CustomEventImpl;var p=n(99);t.DocumentFragment=p.DocumentFragmentImpl;var h=n(97);t.Document=h.DocumentImpl;var m=n(264),g=n(155);t.DocumentType=g.DocumentTypeImpl;var v=n(6);t.dom=v.dom;var y=n(148);t.DOMImplementation=y.DOMImplementationImpl;var b=n(170);t.DOMTokenList=b.DOMTokenListImpl;var w=n(98);t.Element=w.ElementImpl;var x=n(103);t.Event=x.EventImpl;var C=n(69);t.EventTarget=C.EventTargetImpl;var S=n(161);t.HTMLCollection=S.HTMLCollectionImpl;var A=n(265);t.MutationObserver=A.MutationObserverImpl;var _=n(169);t.MutationRecord=_.MutationRecordImpl;var P=n(164);t.NamedNodeMap=P.NamedNodeMapImpl;var O=n(168);t.NodeFilter=O.NodeFilterImpl;var E=n(34);t.Node=E.NodeImpl;var T=n(166);t.NodeIterator=T.NodeIteratorImpl;var D=n(162);t.NodeList=D.NodeListImpl;var I=n(163);t.NodeListStatic=I.NodeListStaticImpl;var k=n(266),M=n(267),N=n(268),R=n(160);t.ProcessingInstruction=R.ProcessingInstructionImpl;var B=n(165);t.Range=B.RangeImpl;var L=n(156);t.ShadowRoot=L.ShadowRootImpl;var F=n(269),j=n(270);t.StaticRange=j.StaticRangeImpl;var V=n(100);t.Text=V.TextImpl;var U=n(102);t.Traverser=U.TraverserImpl;var z=n(167);t.TreeWalker=z.TreeWalkerImpl;var G=n(149);t.Window=G.WindowImpl;var W=n(151);t.XMLDocument=W.XMLDocumentImpl,r.applyMixin(w.ElementImpl,l.ChildNodeImpl),r.applyMixin(c.CharacterDataImpl,l.ChildNodeImpl),r.applyMixin(g.DocumentTypeImpl,l.ChildNodeImpl),r.applyMixin(h.DocumentImpl,m.DocumentOrShadowRootImpl),r.applyMixin(L.ShadowRootImpl,m.DocumentOrShadowRootImpl),r.applyMixin(w.ElementImpl,k.NonDocumentTypeChildNodeImpl),r.applyMixin(c.CharacterDataImpl,k.NonDocumentTypeChildNodeImpl),r.applyMixin(h.DocumentImpl,M.NonElementParentNodeImpl),r.applyMixin(p.DocumentFragmentImpl,M.NonElementParentNodeImpl),r.applyMixin(h.DocumentImpl,N.ParentNodeImpl),r.applyMixin(p.DocumentFragmentImpl,N.ParentNodeImpl),r.applyMixin(w.ElementImpl,N.ParentNodeImpl),r.applyMixin(V.TextImpl,F.SlotableImpl),r.applyMixin(w.ElementImpl,F.SlotableImpl)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.EOF=0]="EOF",e[e.Declaration=1]="Declaration",e[e.DocType=2]="DocType",e[e.Element=3]="Element",e[e.Text=4]="Text",e[e.CDATA=5]="CDATA",e[e.PI=6]="PI",e[e.Comment=7]="Comment",e[e.ClosingTag=8]="ClosingTag"}(t.TokenType||(t.TokenType={}))},function(e,t,n){"use strict";n(64),n(20),n(66);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._parse=function(e,t){var n=this,r=this._builderOptions,o=null;return i.isFunction(t)?o=this.parse(e,t.apply(this)):i.isArray(t)||i.isSet(t)?i.forEachArray(t,(function(t){return o=n.parse(e,t)}),this):i.forEachObject(t,(function(t,a){if(i.isFunction(a)&&(a=a.apply(n)),r.ignoreConverters||0!==t.indexOf(r.convert.att))if(r.ignoreConverters||0!==t.indexOf(r.convert.text))if(r.ignoreConverters||0!==t.indexOf(r.convert.cdata))if(r.ignoreConverters||0!==t.indexOf(r.convert.comment))if(r.ignoreConverters||0!==t.indexOf(r.convert.ins)){if((i.isArray(a)||i.isSet(a))&&i.isEmpty(a));else if((i.isMap(a)||i.isObject(a))&&i.isEmpty(a))o=n.element(e,void 0,n.sanitize(t))||o;else if(r.keepNullNodes||null!=a)if(i.isArray(a)||i.isSet(a))i.forEachArray(a,(function(r){var i={};i[t]=r,o=n.parse(e,i)}),n);else if(i.isMap(a)||i.isObject(a))(s=n.element(e,void 0,n.sanitize(t)))&&(o=s,n.parse(s,a));else if(null!=a&&""!==a){var s;(s=n.element(e,void 0,n.sanitize(t)))&&(o=s,n.text(s,n.sanitize(a)))}else o=n.element(e,void 0,n.sanitize(t))||o}else if(i.isString(a)){var u=a.indexOf(" "),c=-1===u?a:a.substr(0,u),l=-1===u?"":a.substr(u+1);o=n.instruction(e,n.sanitize(c),n.sanitize(l))||o}else i.isArray(a)||i.isSet(a)?i.forEachArray(a,(function(t){var r=t.indexOf(" "),i=-1===r?t:t.substr(0,r),a=-1===r?"":t.substr(r+1);o=n.instruction(e,n.sanitize(i),n.sanitize(a))||o}),n):i.forEachObject(a,(function(t,r){return o=n.instruction(e,n.sanitize(t),n.sanitize(r))||o}),n);else i.isArray(a)||i.isSet(a)?i.forEachArray(a,(function(t){return o=n.comment(e,n.sanitize(t))||o}),n):o=n.comment(e,n.sanitize(a))||o;else i.isArray(a)||i.isSet(a)?i.forEachArray(a,(function(t){return o=n.cdata(e,n.sanitize(t))||o}),n):o=n.cdata(e,n.sanitize(a))||o;else o=i.isMap(a)||i.isObject(a)?n.parse(e,a):n.text(e,n.sanitize(a))||o;else if(t===r.convert.att){if(i.isArray(a)||i.isSet(a))throw new Error("Invalid attribute: "+a.toString()+". "+e._debugInfo());i.forEachObject(a,(function(t,r){o=n.attribute(e,void 0,n.sanitize(t),n.sanitize(r))||o}))}else o=n.attribute(e,void 0,n.sanitize(t.substr(r.convert.att.length)),n.sanitize(a))||o}),this),o||e},t}(n(74).BaseReader);t.ObjectReader=a},function(e,t,n){"use strict";var r=n(39);e.exports=new r({explicit:[n(286),n(287),n(288)]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCBWriter=function(e){this.level=0,this._builderOptions=e,this._writerOptions=e}},function(e,t,n){var r=n(16),o=n(8),i=n(115);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),o=n(13),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(117),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),o=n(79),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(14),o=n(186),i=n(55),a=n(15);e.exports=function(e,t){for(var n=o(t),s=a.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(11);e.exports=r},function(e,t,n){var r=n(14),o=n(24),i=n(121).indexOf,a=n(45);e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(24),o=n(26),i=n(82),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(8),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(85);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(5);t.f=r},function(e,t,n){var r=n(119),o=n(14),i=n(124),a=n(15).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(13),o=n(59),i=n(5)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r,o,i=n(11),a=n(192),s=i.process,u=s&&s.versions,c=u&&u.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r=n(5),o=n(60),i=n(15),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){"use strict";var r,o,i,a=n(131),s=n(21),u=n(14),c=n(5),l=n(44),f=c("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):d=!0),null==r&&(r={}),l||u(r,f)||s(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(14),o=n(27),i=n(57),a=n(195),s=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(18),o=n(196);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var r=n(56),o=n(15),i=n(40);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(89),o=n(42),i=n(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r=n(18);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(47),o=n(35),i=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(4),o=n(27),i=n(61);r({target:"Object",stat:!0,forced:n(8)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(122),a=n(25),s=n(139),u=n(140),c=n(141),l=n(13),f=n(8),d=n(207),p=n(62),h=n(208);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=m?"set":"add",y=o[e],b=y&&y.prototype,w=y,x={},C=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof y||!(g||b.forEach&&!f((function(){(new y).entries().next()})))))w=n.getConstructor(t,e,m,v),s.REQUIRED=!0;else if(i(e,!0)){var S=new w,A=S[v](g?{}:-0,1)!=S,_=f((function(){S.has(1)})),P=d((function(e){new y(e)})),O=!g&&f((function(){for(var e=new y,t=5;t--;)e[v](t,t);return!e.has(-0)}));P||((w=t((function(t,n){c(t,w,e);var r=h(new y,t,w);return null!=n&&u(n,r[v],r,m),r}))).prototype=b,b.constructor=w),(_||O)&&(C("delete"),C("has"),m&&C("get")),(O||A)&&C(v),g&&b.clear&&delete b.clear}return x[e]=w,r({global:!0,forced:w!=y},x),p(w,e),g||n.setStrong(w,e,m),w}},function(e,t,n){var r=n(45),o=n(13),i=n(14),a=n(15).f,s=n(58),u=n(203),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},getWeakData:function(e,t){if(!i(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},onFreeze:function(e){return u&&p.REQUIRED&&f(e)&&!i(e,c)&&d(e),e}};r[c]=!0},function(e,t,n){var r=n(18),o=n(204),i=n(26),a=n(86),s=n(205),u=n(206),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,f){var d,p,h,m,g,v,y,b=a(t,n,l?2:1);if(f)d=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(o(p)){for(h=0,m=i(e.length);m>h;h++)if((g=l?b(r(y=e[h])[0],y[1]):b(e[h]))&&g instanceof c)return g;return new c(!1)}d=p.call(e)}for(v=d.next;!(y=v.call(d)).done;)if("object"==typeof(g=u(d,b,y.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r=n(15).f,o=n(60),i=n(209),a=n(86),s=n(141),u=n(140),c=n(87),l=n(210),f=n(16),d=n(139).fastKey,p=n(43),h=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[c],e,n)})),p=m(t),g=function(e,t,n){var r,o,i=p(e),a=v(e,t);return a?a.value=n:(i.last=a={index:o=d(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var n,r=p(e),o=d(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=p(this),n=v(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=p(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=m(t),i=m(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";var r,o=n(4),i=n(55).f,a=n(26),s=n(221),u=n(35),c=n(223),l=n(44),f="".endsWith,d=Math.min,p=c("endsWith");o({target:"String",proto:!0,forced:!(!l&&!p&&(r=i(String.prototype,"endsWith"),r&&!r.writable)||p)},{endsWith:function(e){var t=String(u(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),o=void 0===n?r:d(a(n),r),i=String(e);return f?f.call(t,i,o):t.slice(o-i.length,o)===i}})},function(e,t,n){"use strict";var r=n(224),o=n(18),i=n(27),a=n(26),s=n(47),u=n(35),c=n(225),l=n(226),f=Math.max,d=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(n,r){var o=u(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!g&&v||"string"==typeof r&&-1===r.indexOf(y)){var i=n(t,e,this,r);if(i.done)return i.value}var u=o(e),p=String(this),h="function"==typeof r;h||(r=String(r));var m=u.global;if(m){var w=u.unicode;u.lastIndex=0}for(var x=[];;){var C=l(u,p);if(null===C)break;if(x.push(C),!m)break;""===String(C[0])&&(u.lastIndex=c(p,a(u.lastIndex),w))}for(var S,A="",_=0,P=0;P<x.length;P++){C=x[P];for(var O=String(C[0]),E=f(d(s(C.index),p.length),0),T=[],D=1;D<C.length;D++)T.push(void 0===(S=C[D])?S:String(S));var I=C.groups;if(h){var k=[O].concat(T,E,p);void 0!==I&&k.push(I);var M=String(r.apply(void 0,k))}else M=b(O,p,E,T,I,r);E>=_&&(A+=p.slice(_,E)+M,_=E+O.length)}return A+p.slice(_)}];function b(e,n,r,o,a,s){var u=r+e.length,c=o.length,l=m;return void 0!==a&&(a=i(a),l=h),t.call(s,l,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>c){var f=p(l/10);return 0===f?t:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):t}s=o[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";(function(e){var r=n(228),o=n(229),i=n(230);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return z(V(t,e.length-n),e,n,r)}function x(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return z(U(t),e,n,r)}function A(e,t,n,r){return z(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=j(e[i]);return o}function D(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);k(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);k(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(77))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isASCIIByte=function(e){return e>=0&&e<=127}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.length=function(e){return e.length},t.byteLowercase=function(e){for(var t=0;t<e.length;t++){var n=e[t];n>=65&&n<=90&&(e[t]=n+32)}},t.byteUppercase=function(e){for(var t=0;t<e.length;t++){var n=e[t];n>=97&&n<=122&&(e[t]=n-32)}},t.byteCaseInsensitiveMatch=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r>=65&&r<=90&&(r+=32),o>=65&&o<=90&&(o+=32),r!==o)return!1}return!0},t.startsWith=function(e,t){for(var n=0;;){if(n>=e.length)return!1;if(n>=t.length)return!0;if(e[n]!==t[n])return!1;n++}},t.byteLessThan=function(e,t){for(var n=0;;){if(n>=e.length)return!1;if(n>=t.length)return!0;var r=e[n],o=t[n];if(r<o)return!0;if(r>o)return!1;n++}},t.isomorphicDecode=function(e){return String.fromCodePoint.apply(String,o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(7),i=n(0),a=n(12),s=function(){function e(e){this._associatedDocument=e||r.dom.window.document}return e.prototype.createDocumentType=function(e,t,n){return i.namespace_validate(e),i.create_documentType(this._associatedDocument,e,t,n)},e.prototype.createDocument=function(e,t,n){void 0===n&&(n=null);var r=i.create_xmlDocument(),a=null;return t&&(a=i.document_internalCreateElementNS(r,e,t)),n&&r.appendChild(n),a&&r.appendChild(a),r._origin=this._associatedDocument._origin,e===o.namespace.HTML?r._contentType="application/xhtml+xml":e===o.namespace.SVG?r._contentType="image/svg+xml":r._contentType="application/xml",r},e.prototype.createHTMLDocument=function(e){var t=i.create_document();t._type="html",t._contentType="text/html",t.appendChild(i.create_documentType(t,"html","",""));var n=i.element_createAnElement(t,"html",o.namespace.HTML);t.appendChild(n);var r=i.element_createAnElement(t,"head",o.namespace.HTML);if(n.appendChild(r),void 0!==e){var a=i.element_createAnElement(t,"title",o.namespace.HTML);r.appendChild(a);var s=i.create_text(t,e);a.appendChild(s)}var u=i.element_createAnElement(t,"body",o.namespace.HTML);return n.appendChild(u),t._origin=this._associatedDocument._origin,t},e.prototype.hasFeature=function(){return!0},e._create=function(t){return new e(t)},e}();t.DOMImplementationImpl=s,a.idl_defineConst(s.prototype,"_ID","@oozcitak/dom")},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),a=n(1),s=n(0),u=function(e){function t(){var t=e.call(this)||this;return t._signalSlots=new Set,t._mutationObserverMicrotaskQueued=!1,t._mutationObservers=new Set,t._iteratorList=new a.FixedSizeSet,t._associatedDocument=s.create_document(),t}return o(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(i.EventTargetImpl);t.WindowImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(){function e(){}return e.isNode=function(e){return!!e&&void 0!==e._nodeType},e.isDocumentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Document},e.isDocumentTypeNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.DocumentType},e.isDocumentFragmentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.DocumentFragment},e.isAttrNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Attribute},e.isCharacterDataNode=function(t){if(!e.isNode(t))return!1;var n=t._nodeType;return n===r.NodeType.Text||n===r.NodeType.ProcessingInstruction||n===r.NodeType.Comment||n===r.NodeType.CData},e.isTextNode=function(t){return e.isNode(t)&&(t._nodeType===r.NodeType.Text||t._nodeType===r.NodeType.CData)},e.isExclusiveTextNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Text},e.isCDATASectionNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.CData},e.isCommentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Comment},e.isProcessingInstructionNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.ProcessingInstruction},e.isElementNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Element},e.isCustomElementNode=function(t){return e.isElementNode(t)&&"custom"===t._customElementState},e.isShadowRoot=function(e){return!!e&&void 0!==e.host},e.isMouseEvent=function(e){return!!e&&void 0!==e.screenX&&null!=e.screenY},e.isSlotable=function(t){return!!t&&void 0!==t._name&&void 0!==t._assignedSlot&&(e.isTextNode(t)||e.isElementNode(t))},e.isSlot=function(t){return!!t&&void 0!==t._name&&void 0!==t._assignedNodes&&e.isElementNode(t)},e.isWindow=function(e){return!!e&&void 0!==e.navigator},e.isEventListener=function(e){return!!e&&void 0!==e.handleEvent},e.isRegisteredObserver=function(e){return!!e&&void 0!==e.observer&&void 0!==e.options},e.isTransientRegisteredObserver=function(t){return!!t&&void 0!==t.source&&e.isRegisteredObserver(t)},e}();t.Guard=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this)||this}return o(t,e),t}(n(97).DocumentImpl);t.XMLDocumentImpl=i},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(242),u=n(7),c=n(243),l={ftp:21,file:null,http:80,https:443,ws:80,wss:443},f=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,d=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,g=/[\0\t\f\r #%/:?@\[\\\]]/;function v(e){void 0!==i&&i.call(null,"Validation Error: "+e)}function y(e){return e in l}function b(e){return y(e.scheme)}function w(e){return l[e]||null}function x(e){return""!==e.username||""!==e.password}function C(e,t){var n,o;void 0===t&&(t=!1);var i=e.scheme+":";if(null!==e.host?(i+="//",x(e)&&(i+=e.username,""!==e.password&&(i+=":"+e.password),i+="@"),i+=S(e.host),null!==e.port&&(i+=":"+e.port)):null===e.host&&"file"===e.scheme&&(i+="//"),e._cannotBeABaseURLFlag)i+=e.path[0];else try{for(var a=r(e.path),s=a.next();!s.done;s=a.next())i+="/"+s.value}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return null!==e.query&&(i+="?"+e.query),t||null===e.fragment||(i+="#"+e.fragment),i}function S(e){return a.isNumber(e)?A(e):a.isArray(e)?"["+_(e)+"]":e}function A(e){for(var t="",n=e,r=1;r<=4;r++)t=(n%256).toString()+t,4!==r&&(t="."+t),n=Math.floor(n/256);return t}function _(e){for(var t="",n=null,r=-1,o=0,i=0,a=0;a<8;a++)if(0===e[a]){o=1;for(var s=a+1;s<8&&0===e[s];s++)o++;o>i&&(i=o,r=a)}i>1&&(n=r);for(var u=!1,c=0;c<8;c++)u&&0===e[c]||(u&&(u=!1),n!==c?(t+=e[c].toString(16),7!==c&&(t+=":")):(t+=0===c?"::":":",u=!0));return t}function P(e,t,n,o,i){var c,l,g,C;if(void 0===o){o={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var S=/^[\u0000-\u001F\u0020]+/,A=/[\u0000-\u001F\u0020]+$/;(S.test(e)||A.test(e))&&v("Input string contains leading or trailing control characters or space."),e=(e=e.replace(S,"")).replace(A,"")}var _=/[\u0009\u000A\u000D]/g;_.test(e)&&v("Input string contains tab or newline characters."),e=e.replace(_,"");var P=void 0===i?s.ParserState.SchemeStart:i;void 0===t&&(t=null);for(var N=void 0===n||"replacement"===n||"UTF-16BE"===n||"UTF-16LE"===n?"UTF-8":n,R="",B=!1,L=!1,j=!1,V=new a.StringWalker(e);;){switch(P){case s.ParserState.SchemeStart:if(u.codePoint.ASCIIAlpha.test(V.c()))R+=V.c().toLowerCase(),P=s.ParserState.Scheme;else{if(void 0!==i)return v("Invalid scheme start character."),null;P=s.ParserState.NoScheme,V.pointer--}break;case s.ParserState.Scheme:if(u.codePoint.ASCIIAlphanumeric.test(V.c())||"+"===V.c()||"-"===V.c()||"."===V.c())R+=V.c().toLowerCase();else{if(":"!==V.c()){if(void 0===i){R="",P=s.ParserState.NoScheme,V.pointer=0;continue}return v("Invalid input string."),null}if(void 0!==i){if(y(o.scheme)&&!y(R))return o;if(!y(o.scheme)&&y(R))return o;if((x(o)||null!==o.port)&&"file"===R)return o;if("file"===o.scheme&&(""===o.host||null===o.host))return o}if(o.scheme=R,void 0!==i)return o.port===w(o.scheme)&&(o.port=null),o;R="","file"===o.scheme?(V.remaining().startsWith("//")||v("Invalid file URL scheme, '//' expected."),P=s.ParserState.File):b(o)&&null!==t&&t.scheme===o.scheme?P=s.ParserState.SpecialRelativeOrAuthority:b(o)?P=s.ParserState.SpecialAuthoritySlashes:V.remaining().startsWith("/")?(P=s.ParserState.PathOrAuthority,V.pointer++):(o._cannotBeABaseURLFlag=!0,o.path.push(""),P=s.ParserState.CannotBeABaseURLPath)}break;case s.ParserState.NoScheme:if(null===t||t._cannotBeABaseURLFlag&&"#"!==V.c())return v("Invalid input string."),null;t._cannotBeABaseURLFlag&&"#"===V.c()?(o.scheme=t.scheme,o.path=u.list.clone(t.path),o.query=t.query,o.fragment="",o._cannotBeABaseURLFlag=!0,P=s.ParserState.Fragment):"file"!==t.scheme?(P=s.ParserState.Relative,V.pointer--):(P=s.ParserState.File,V.pointer--);break;case s.ParserState.SpecialRelativeOrAuthority:"/"===V.c()&&V.remaining().startsWith("/")?(P=s.ParserState.SpecialAuthorityIgnoreSlashes,V.pointer++):(v("Invalid input string."),P=s.ParserState.Relative,V.pointer--);break;case s.ParserState.PathOrAuthority:"/"===V.c()?P=s.ParserState.Authority:(P=s.ParserState.Path,V.pointer--);break;case s.ParserState.Relative:if(null===t)throw new Error("Invalid parser state. Base URL is null.");switch(o.scheme=t.scheme,V.c()){case"":o.username=t.username,o.password=t.password,o.host=t.host,o.port=t.port,o.path=u.list.clone(t.path),o.query=t.query;break;case"/":P=s.ParserState.RelativeSlash;break;case"?":o.username=t.username,o.password=t.password,o.host=t.host,o.port=t.port,o.path=u.list.clone(t.path),o.query="",P=s.ParserState.Query;break;case"#":o.username=t.username,o.password=t.password,o.host=t.host,o.port=t.port,o.path=u.list.clone(t.path),o.query=t.query,o.fragment="",P=s.ParserState.Fragment;break;default:b(o)&&"\\"===V.c()?(v("Invalid input string."),P=s.ParserState.RelativeSlash):(o.username=t.username,o.password=t.password,o.host=t.host,o.port=t.port,o.path=u.list.clone(t.path),0!==o.path.length&&o.path.splice(o.path.length-1,1),P=s.ParserState.Path,V.pointer--)}break;case s.ParserState.RelativeSlash:if(!b(o)||"/"!==V.c()&&"\\"!==V.c())if("/"===V.c())P=s.ParserState.Authority;else{if(null===t)throw new Error("Invalid parser state. Base URL is null.");o.username=t.username,o.password=t.password,o.host=t.host,o.port=t.port,P=s.ParserState.Path,V.pointer--}else"\\"===V.c()&&v("Invalid input string."),P=s.ParserState.SpecialAuthorityIgnoreSlashes;break;case s.ParserState.SpecialAuthoritySlashes:"/"===V.c()&&V.remaining().startsWith("/")?(P=s.ParserState.SpecialAuthorityIgnoreSlashes,V.pointer++):(v("Expected '//'."),P=s.ParserState.SpecialAuthorityIgnoreSlashes,V.pointer--);break;case s.ParserState.SpecialAuthorityIgnoreSlashes:"/"!==V.c()&&"\\"!==V.c()?(P=s.ParserState.Authority,V.pointer--):v("Unexpected '/' or '\\'.");break;case s.ParserState.Authority:if("@"===V.c()){v("Unexpected '@'."),B&&(R="%40"+R),B=!0;try{for(var z=(c=void 0,r(R)),G=z.next();!G.done;G=z.next()){var W=G.value;if(":"!==W||j){var H=U(W,h);j?o.password+=H:o.username+=H}else j=!0}}catch(e){c={error:e}}finally{try{G&&!G.done&&(l=z.return)&&l.call(z)}finally{if(c)throw c.error}}R=""}else if(""===V.c()||"/"===V.c()||"?"===V.c()||"#"===V.c()||b(o)&&"\\"===V.c()){if(B&&""===R)return v("Invalid input string."),null;V.pointer-=R.length+1,R="",P=s.ParserState.Host}else R+=V.c();break;case s.ParserState.Host:case s.ParserState.Hostname:if(void 0!==i&&"file"===o.scheme)V.pointer--,P=s.ParserState.FileHost;else if(":"!==V.c()||L)if(""===V.c()||"/"===V.c()||"?"===V.c()||"#"===V.c()||b(o)&&"\\"===V.c()){if(V.pointer--,b(o)&&""===R)return v("Invalid input string."),null;if(void 0!==i&&""===R&&(x(o)||null!==o.port))return v("Invalid input string."),o;if(null===(K=M(R,!b(o))))return null;if(o.host=K,R="",P=s.ParserState.PathStart,void 0!==i)return o}else"["===V.c()&&(L=!0),"]"===V.c()&&(L=!1),R+=V.c();else{if(""===R)return v("Invalid input string."),null;if(null===(K=M(R,!b(o))))return null;if(o.host=K,R="",P=s.ParserState.Port,i===s.ParserState.Hostname)return o}break;case s.ParserState.Port:if(u.codePoint.ASCIIDigit.test(V.c()))R+=V.c();else{if(!(""===V.c()||"/"===V.c()||"?"===V.c()||"#"===V.c()||b(o)&&"\\"===V.c()||i))return v("Invalid input string."),null;if(""!==R&&""!==R){var q=parseInt(R,10);if(q>Math.pow(2,16)-1)return v("Invalid port number."),null;o.port=q===w(o.scheme)?null:q,R=""}if(void 0!==i)return o;P=s.ParserState.PathStart,V.pointer--}break;case s.ParserState.File:if(o.scheme="file","/"===V.c()||"\\"===V.c())"\\"===V.c()&&v("Invalid input string."),P=s.ParserState.FileSlash;else if(null!==t&&"file"===t.scheme)switch(V.c()){case"":o.host=t.host,o.path=u.list.clone(t.path),o.query=t.query;break;case"?":o.host=t.host,o.path=u.list.clone(t.path),o.query="",P=s.ParserState.Query;break;case"#":o.host=t.host,o.path=u.list.clone(t.path),o.query=t.query,o.fragment="",P=s.ParserState.Fragment;break;default:k(V.substring())?v("Unexpected windows drive letter in input string."):(o.host=t.host,o.path=u.list.clone(t.path),T(o)),P=s.ParserState.Path,V.pointer--}else P=s.ParserState.Path,V.pointer--;break;case s.ParserState.FileSlash:"/"===V.c()||"\\"===V.c()?("\\"===V.c()&&v("Invalid input string."),P=s.ParserState.FileHost):(null===t||"file"!==t.scheme||k(V.substring())||(D(t.path[0])?o.path.push(t.path[0]):o.host=t.host),P=s.ParserState.Path,V.pointer--);break;case s.ParserState.FileHost:if(""===V.c()||"/"===V.c()||"\\"===V.c()||"?"===V.c()||"#"===V.c())if(V.pointer--,void 0===i&&I(R))v("Unexpected windows drive letter in input string."),P=s.ParserState.Path;else if(""===R){if(o.host="",void 0!==i)return o;P=s.ParserState.PathStart}else{var K;if(null===(K=M(R,!b(o))))return null;if("localhost"===K&&(K=""),o.host=K,void 0!==i)return o;R="",P=s.ParserState.PathStart}else R+=V.c();break;case s.ParserState.PathStart:b(o)?("\\"===V.c()&&v("Invalid input string."),P=s.ParserState.Path,"/"!==V.c()&&"\\"!==V.c()&&V.pointer--):void 0===i&&"?"===V.c()?(o.query="",P=s.ParserState.Query):void 0===i&&"#"===V.c()?(o.fragment="",P=s.ParserState.Fragment):""!==V.c()&&(P=s.ParserState.Path,"/"!==V.c()&&V.pointer--);break;case s.ParserState.Path:if(""===V.c()||"/"===V.c()||b(o)&&"\\"===V.c()||void 0===i&&("?"===V.c()||"#"===V.c())){if(b(o)&&"\\"===V.c()&&v("Invalid input string."),E(R))T(o),"/"===V.c()||b(o)&&"\\"===V.c()||o.path.push("");else if(!O(R)||"/"===V.c()||b(o)&&"\\"===V.c()){if(!O(R)){if("file"===o.scheme&&0===o.path.length&&I(R)){null!==o.host&&""!==o.host&&(v("Invalid input string."),o.host="");var X=Array.from(R);R=X.slice(0,1)+":"+X.slice(2)}o.path.push(R)}}else o.path.push("");if(R="","file"===o.scheme&&(""===V.c()||"?"===V.c()||"#"===V.c()))for(;o.path.length>1&&""===o.path[0];)v("Invalid input string."),o.path.splice(0,1);"?"===V.c()&&(o.query="",P=s.ParserState.Query),"#"===V.c()&&(o.fragment="",P=s.ParserState.Fragment)}else m.test(V.c())||"%"===V.c()||v("Character is not a URL code point or a percent encoded character."),"%"!==V.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(V.remaining())||v("Percent encoded character must be followed by two hex digits."),R+=U(V.c(),p);break;case s.ParserState.CannotBeABaseURLPath:"?"===V.c()?(o.query="",P=s.ParserState.Query):"#"===V.c()?(o.fragment="",P=s.ParserState.Fragment):(""===V.c()||m.test(V.c())||"%"===V.c()||v("Character is not a URL code point or a percent encoded character."),"%"!==V.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(V.remaining())||v("Percent encoded character must be followed by two hex digits."),""!==V.c()&&(o.path[0]+=U(V.c(),f)));break;case s.ParserState.Query:if("UTF-8"===N||b(o)&&"ws"!==o.scheme&&"wss"!==o.scheme||(N="UTF-8"),void 0===i&&"#"===V.c())o.fragment="",P=s.ParserState.Fragment;else if(""!==V.c()){if(m.test(V.c())||"%"===V.c()||v("Character is not a URL code point or a percent encoded character."),"%"!==V.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(V.remaining())||v("Percent encoded character must be followed by two hex digits."),"UTF-8"!==N.toUpperCase())throw new Error("Only UTF-8 encoding is supported.");var Y=a.utf8Encode(V.c());if(Y.length>=3&&38===Y[0]&&35===Y[1]&&59===Y[Y.length-1])Y=Y.subarray(2,Y.length-1),o.query+="%26%23"+u.byteSequence.isomorphicDecode(Y)+"%3B";else try{for(var Z=(g=void 0,r(Y)),J=Z.next();!J.done;J=Z.next()){var $=J.value;$<33||$>126||34===$||35===$||60===$||62===$||39===$&&b(o)?o.query+=F($):o.query+=String.fromCharCode($)}}catch(e){g={error:e}}finally{try{J&&!J.done&&(C=Z.return)&&C.call(Z)}finally{if(g)throw g.error}}}break;case s.ParserState.Fragment:""===V.c()||("\0"===V.c()?v("NULL character in input string."):(m.test(V.c())||"%"===V.c()||v("Unexpected character in fragment string."),"%"!==V.c()||/^[A-Za-z0-9][A-Za-z0-9]/.test(V.remaining())||v("Unexpected character in fragment string."),o.fragment+=U(V.c(),d)))}if(V.eof)break;V.pointer++}return o}function O(e){return"."===e||"%2e"===e.toLowerCase()}function E(e){var t=e.toLowerCase();return".."===t||".%2e"===t||"%2e."===t||"%2e%2e"===t}function T(e){var t=e.path;0!==t.length&&("file"===e.scheme&&1===t.length&&D(t[0])||e.path.splice(e.path.length-1,1))}function D(e){return e.length>=2&&u.codePoint.ASCIIAlpha.test(e[0])&&":"===e[1]}function I(e){return e.length>=2&&u.codePoint.ASCIIAlpha.test(e[0])&&(":"===e[1]||"|"===e[1])}function k(e){return e.length>=2&&I(e)&&(2===e.length||"/"===e[2]||"\\"===e[2]||"?"===e[2]||"#"===e[2])}function M(e,t){if(void 0===t&&(t=!1),e.startsWith("["))return e.endsWith("]")?B(e.substring(1,e.length-1)):(v("Expected ']' after '['."),null);if(t)return L(e);var n=W(a.utf8Decode(V(e)));if(null===n)return v("Invalid domain."),null;if(g.test(n))return v("Invalid domain."),null;var r=R(n);return null===r||a.isNumber(r)?r:n}function N(e,t){void 0===t&&(t={value:!1});var n=10;return e.startsWith("0x")||e.startsWith("0X")?(t.value=!0,e=e.substr(2),n=16):e.length>=2&&"0"===e[0]&&(t.value=!0,e=e.substr(1),n=8),""===e?0:(10===n?/^[0-9]+$/:16===n?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(e)?parseInt(e,n):null}function R(e){var t,n,o,i,a={value:!1},s=e.split(".");if(""===s[s.length-1]&&(a.value=!0,s.length>1&&s.pop()),s.length>4)return e;var u=[];try{for(var c=r(s),l=c.next();!l.done;l=c.next()){var f=l.value;if(""===f)return e;if(null===(y=N(f,a)))return e;u.push(y)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}a.value&&v("Invalid IP v4 address.");for(var d=0;d<u.length;d++)if(u[d]>255&&(v("Invalid IP v4 address."),d<u.length-1))return null;if(u[u.length-1]>=Math.pow(256,5-u.length))return v("Invalid IP v4 address."),null;var p=u[u.length-1];u.pop();var h=0;try{for(var m=r(u),g=m.next();!g.done;g=m.next()){var y;p+=(y=g.value)*Math.pow(256,3-h),h++}}catch(e){o={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}return p}function B(e){var t,n=[0,0,0,0,0,0,0,0],r=0,i=null,s=new a.StringWalker(e);if(":"===s.c()){if(!s.remaining().startsWith(":"))return v("Invalid IP v6 address."),null;s.pointer+=2,i=r+=1}for(;""!==s.c();){if(8===r)return v("Invalid IP v6 address."),null;if(":"!==s.c()){for(var c=0,l=0;l<4&&u.codePoint.ASCIIHexDigit.test(s.c());)c=16*c+parseInt(s.c(),16),s.pointer++,l++;if("."===s.c()){if(0===l)return v("Invalid IP v6 address."),null;if(s.pointer-=l,r>6)return v("Invalid IP v6 address."),null;for(var f=0;""!==s.c();){var d=null;if(f>0){if(!("."===s.c()&&f<4))return v("Invalid IP v6 address."),null;s.pointer++}if(!u.codePoint.ASCIIDigit.test(s.c()))return v("Invalid IP v6 address."),null;for(;u.codePoint.ASCIIDigit.test(s.c());){var p=parseInt(s.c(),10);if(null===d)d=p;else{if(0===d)return v("Invalid IP v6 address."),null;d=10*d+p}if(d>255)return v("Invalid IP v6 address."),null;s.pointer++}if(null===d)return v("Invalid IP v6 address."),null;n[r]=256*n[r]+d,2!=++f&&4!==f||r++}if(4!==f)return v("Invalid IP v6 address."),null;break}if(":"===s.c()){if(s.pointer++,""===s.c())return v("Invalid IP v6 address."),null}else if(""!==s.c())return v("Invalid IP v6 address."),null;n[r]=c,r++}else{if(null!==i)return v("Invalid IP v6 address."),null;s.pointer++,i=++r}}if(null!==i){var h=r-i;for(r=7;0!==r&&h>0;)t=o([n[i+h-1],n[r]],2),n[r]=t[0],n[i+h-1]=t[1],r--,h--}else if(null===i&&8!==r)return v("Invalid IP v6 address."),null;return n}function L(e){var t,n;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(e))return v("Invalid host string."),null;var o="";try{for(var i=r(e),a=i.next();!a.done;a=i.next())o+=U(a.value,f)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}function F(e){return"%"+("00"+e.toString(16).toUpperCase()).slice(-2)}function j(e){for(var t=function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},n=new Uint8Array(e.length),r=0,o=0;o<e.length;o++){var i=e[o];if(37!==i)n[r]=i,r++;else if(37===i&&o>=e.length-2)n[r]=i,r++;else if(37!==i||t(e[o+1])&&t(e[o+2])){var s=parseInt(a.utf8Decode(Uint8Array.of(e[o+1],e[o+2])),16);n[r]=s,r++,o+=2}else n[r]=i,r++}return n.subarray(0,r)}function V(e){return j(a.utf8Encode(e))}function U(e,t){var n,o;if(!t.test(e))return e;var i=a.utf8Encode(e),s="";try{for(var u=r(i),c=u.next();!c.done;c=u.next())s+=F(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return s}function z(e){var t,n,o,i,s=[],u=[];try{for(var c=r(e),l=c.next();!l.done;l=c.next()){var f=l.value;38===f?(s.push(Uint8Array.from(u)),u=[]):u.push(f)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}0!==u.length&&s.push(Uint8Array.from(u));var d=[];try{for(var p=r(s),h=p.next();!h.done;h=p.next()){var m=h.value;if(0!==m.length){for(var g=m.indexOf(61),v=-1!==g?m.slice(0,g):m,y=-1!==g?m.slice(g+1):new Uint8Array,b=0;b<v.length;b++)43===v[b]&&(v[b]=32);for(b=0;b<y.length;b++)43===y[b]&&(y[b]=32);var w=a.utf8Decode(v),x=a.utf8Decode(y);d.push([w,x])}}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}return d}function G(e){var t,n,o="";try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value;o+=32===s?"+":42===s||45===s||46===s||s>=48&&s<=57||s>=65&&s<=90||95===s||s>=97&&s<=122?String.fromCodePoint(s):F(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}function W(e,t){void 0===t&&(t=!1);var n=c.domainToASCII(e);return""===n?(v("Invalid domain name."),null):n}t.setValidationErrorCallback=function(e){i=e},t.newURL=function(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}},t.isSpecialScheme=y,t.isSpecial=b,t.defaultPort=w,t.includesCredentials=x,t.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e._cannotBeABaseURLFlag||"file"===e.scheme},t.urlSerializer=C,t.hostSerializer=S,t.iPv4Serializer=A,t.iPv6Serializer=_,t.urlParser=function(e,t,n){var r=P(e,t,n);return null===r?null:("blob"!==r.scheme||(r._blobURLEntry=null),r)},t.basicURLParser=P,t.setTheUsername=function(e,t){var n,o,i="";try{for(var a=r(t),s=a.next();!s.done;s=a.next())i+=U(s.value,h)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}e.username=i},t.setThePassword=function(e,t){var n,o,i="";try{for(var a=r(t),s=a.next();!s.done;s=a.next())i+=U(s.value,h)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}e.password=i},t.isSingleDotPathSegment=O,t.isDoubleDotPathSegment=E,t.shorten=T,t.isNormalizedWindowsDriveLetter=D,t.isWindowsDriveLetter=I,t.startsWithAWindowsDriveLetter=k,t.hostParser=M,t.iPv4NumberParser=N,t.iPv4Parser=R,t.iPv6Parser=B,t.opaqueHostParser=L,t.resolveABlobURL=function(e){return null},t.percentEncode=F,t.percentDecode=j,t.stringPercentDecode=V,t.utf8PercentEncode=U,t.hostEquals=function(e,t){return e===t},t.urlEquals=function(e,t,n){return void 0===n&&(n=!1),C(e,n)===C(t,n)},t.urlEncodedStringParser=function(e){return z(a.utf8Encode(e))},t.urlEncodedParser=z,t.urlEncodedByteSerializer=G,t.urlEncodedSerializer=function(e,t){var n,o;if("UTF-8"!==(void 0===t||"replacement"===t||"UTF-16BE"===t||"UTF-16LE"===t?"UTF-8":t).toUpperCase())throw new Error("Only UTF-8 encoding is supported.");var i="";try{for(var s=r(e),u=s.next();!u.done;u=s.next()){var c=u.value,l=G(a.utf8Encode(c[0])),f=c[1];f=G(a.utf8Encode(f)),""!==i&&(i+="&"),i+=l+"="+f}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},t.origin=function e(t){switch(t.scheme){case"blob":t._blobURLEntry;var n=P(t.path[0]);return null===n?s.OpaqueOrigin:e(n);case"ftp":case"http":case"https":case"ws":case"wss":return[t.scheme,null===t.host?"":t.host,t.port,null];case"file":default:return s.OpaqueOrigin}},t.domainToASCII=W,t.domainToUnicode=function(e,t){void 0===t&&(t=!1);var n=c.domainToUnicode(e);return""===n&&v("Invalid domain name."),n},t.asciiSerializationOfAnOrigin=function(e){if(""===e[0]&&""===e[1]&&null===e[2]&&null===e[3])return"null";var t=e[0]+"://"+S(e[1]);return null!==e[2]&&(t+=":"+e[2].toString()),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){this._signal=r.create_abortSignal()}return Object.defineProperty(e.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){r.abort_signalAbort(this._signal)},e}();t.AbortControllerImpl=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),a=n(0),s=function(e){function t(){var t=e.call(this)||this;return t._abortedFlag=!1,t._abortAlgorithms=new Set,t}return o(t,e),Object.defineProperty(t.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onabort",{get:function(){return a.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(e){a.event_setterEventHandlerIDLAttribute(this,"onabort",e)},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(i.EventTargetImpl);t.AbortSignalImpl=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(34),s=n(12),u=function(e){function t(t,n,r){var o=e.call(this)||this;return o._name="",o._publicId="",o._systemId="",o._name=t,o._publicId=n,o._systemId=r,o}return o(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},t._create=function(e,n,r,o){void 0===r&&(r=""),void 0===o&&(o="");var i=new t(n,r,o);return i._nodeDocument=e,i},t}(a.NodeImpl);t.DocumentTypeImpl=u,s.idl_defineConst(u.prototype,"_nodeType",i.NodeType.DocumentType)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),a=n(1),s=n(0),u=function(e){function t(t,n){var r=e.call(this)||this;return r._host=t,r._mode=n,r}return o(t,e),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype._getTheParent=function(e){return e._composedFlag||a.isEmpty(e._path)||s.tree_rootNode(e._path[0].invocationTarget)!==this?this._host:null},t._create=function(e,n){return new t(n,"closed")},t}(i.DocumentFragmentImpl);t.ShadowRootImpl=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(34),s=n(0),u=n(12),c=function(e){function t(t){var n=e.call(this)||this;return n._namespace=null,n._namespacePrefix=null,n._element=null,n._value="",n._localName=t,n}return o(t,e),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){s.attr_setAnExistingAttributeValue(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_qualifiedName",{get:function(){return null!==this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),t._create=function(e,n){var r=new t(n);return r._nodeDocument=e,r},t}(a.NodeImpl);t.AttrImpl=c,u.idl_defineConst(c.prototype,"_nodeType",i.NodeType.Attribute),u.idl_defineConst(c.prototype,"specified",!0)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(100),a=n(2),s=n(12),u=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t._create=function(e,n){void 0===n&&(n="");var r=new t(n);return r._nodeDocument=e,r},t}(i.TextImpl);t.CDATASectionImpl=u,s.idl_defineConst(u.prototype,"_nodeType",a.NodeType.CData)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(70),s=n(12),u=function(e){function t(t){return void 0===t&&(t=""),e.call(this,t)||this}return o(t,e),t._create=function(e,n){void 0===n&&(n="");var r=new t(n);return r._nodeDocument=e,r},t}(a.CharacterDataImpl);t.CommentImpl=u,s.idl_defineConst(u.prototype,"_nodeType",i.NodeType.Comment)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(70),s=n(12),u=function(e){function t(t,n){var r=e.call(this,n)||this;return r._target=t,r}return o(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t._create=function(e,n,r){var o=new t(n,r);return o._nodeDocument=e,o},t}(a.CharacterDataImpl);t.ProcessingInstructionImpl=u,s.idl_defineConst(u.prototype,"_nodeType",i.NodeType.ProcessingInstruction)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(0),i=n(3),a=n(1),s=function(){function e(e,t){return this._live=!0,this._root=e,this._filter=t,new Proxy(this,this)}return Object.defineProperty(e.prototype,"length",{get:function(){for(var e=this,t=0,n=o.tree_getFirstDescendantNode(this._root,!1,!1,(function(t){return i.Guard.isElementNode(t)&&e._filter(t)}));null!==n;)t++,n=o.tree_getNextDescendantNode(this._root,n,!1,!1,(function(t){return i.Guard.isElementNode(t)&&e._filter(t)}));return t},enumerable:!0,configurable:!0}),e.prototype.item=function(e){for(var t=this,n=0,r=o.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t._filter(e)}));null!==r;){if(n===e)return r;n++,r=o.tree_getNextDescendantNode(this._root,r,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype.namedItem=function(e){var t=this;if(""===e)return null;for(var n=o.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t._filter(e)}));null!=n;){if(n._uniqueIdentifier===e)return n;if(n._namespace===r.namespace.HTML)for(var a=0;a<n._attributeList.length;a++){var s=n._attributeList[a];if("name"===s._localName&&null===s._namespace&&null===s._namespacePrefix&&s._value===e)return n}n=o.tree_getNextDescendantNode(this._root,n,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype[Symbol.iterator]=function(){var e=this._root,t=this._filter,n=o.tree_getFirstDescendantNode(e,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t(e)}));return{next:function(){if(null===n)return{done:!0,value:null};var r={done:!1,value:n};return n=o.tree_getNextDescendantNode(e,n,!1,!1,(function(e){return i.Guard.isElementNode(e)&&t(e)})),r}}},e.prototype.get=function(t,n,r){if(!a.isString(n)||-1!==e.reservedNames.indexOf(n))return Reflect.get(t,n,r);var o=Number(n);return isNaN(o)?t.namedItem(n)||void 0:t.item(o)||void 0},e.prototype.set=function(t,n,r,i){if(!a.isString(n)||-1!==e.reservedNames.indexOf(n))return Reflect.set(t,n,r,i);var s=Number(n),u=isNaN(s)?t.namedItem(n)||void 0:t.item(s)||void 0;return!(!u||!u._parent||(o.mutation_replace(u,r,u._parent),0))},e._create=function(t,n){return void 0===n&&(n=function(){return!0}),new e(t,n)},e.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],e}();t.HTMLCollectionImpl=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(1),a=n(0),s=function(){function e(e){return this._live=!0,this._filter=null,this._length=0,this._root=e,new Proxy(this,this)}return Object.defineProperty(e.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){if(e<0||e>this.length-1)return null;if(e<this.length/2){for(var t=0,n=this._root._firstChild;null!==n&&t!==e;)n=n._nextSibling,t++;return n}for(t=this.length-1,n=this._root._lastChild;null!==n&&t!==e;)n=n._previousSibling,t--;return n},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var n=e.next();return n.done?{done:!0,value:null}:{done:!1,value:[t++,n.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},e.prototype.forEach=function(e,t){var n,i;void 0===t&&(t=o.dom.window);var a=0;try{for(var s=r(this._root._children),u=s.next();!u.done;u=s.next()){var c=u.value;e.call(t,c,a++,this)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.get=function(e,t,n){if(!i.isString(t))return Reflect.get(e,t,n);var r=Number(t);return isNaN(r)?Reflect.get(e,t,n):e.item(r)||void 0},e.prototype.set=function(e,t,n,r){if(!i.isString(t))return Reflect.set(e,t,n,r);var o=Number(t);if(isNaN(o))return Reflect.set(e,t,n,r);var s=e.item(o)||void 0;return!!s&&!!s._parent&&(a.mutation_replace(s,n,s._parent),!0)},e._create=function(t){return new e(t)},e}();t.NodeListImpl=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(1),a=function(){function e(e){return this._live=!1,this._items=[],this._length=0,this._root=e,this._items=[],this._filter=function(e){return!0},new Proxy(this,this)}return Object.defineProperty(e.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.item=function(e){return e<0||e>this.length-1?null:this._items[e]},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var n=e.next();return n.done?{done:!0,value:null}:{done:!1,value:[t++,n.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){var e=this._items[Symbol.iterator]();return{next:function(){return e.next()}}},e.prototype.forEach=function(e,t){var n,i;void 0===t&&(t=o.dom.window);var a=0;try{for(var s=r(this._items),u=s.next();!u.done;u=s.next()){var c=u.value;e.call(t,c,a++,this)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.get=function(e,t,n){if(!i.isString(t))return Reflect.get(e,t,n);var r=Number(t);return isNaN(r)?Reflect.get(e,t,n):e._items[r]||void 0},e.prototype.set=function(e,t,n,r){if(!i.isString(t))return Reflect.set(e,t,n,r);var o=Number(t);return isNaN(o)?Reflect.set(e,t,n,r):o>=0&&o<e._items.length&&(e._items[o]=n,!0)},e._create=function(t,n){var r=new e(t);return r._items=n,r},e}();t.NodeListStaticImpl=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(0),s=function(e){function t(n){var r=e.call(this)||this;return r._element=n,Object.setPrototypeOf(r,t.prototype),r}return o(t,e),t.prototype._asArray=function(){return this},t.prototype.item=function(e){return this[e]||null},t.prototype.getNamedItem=function(e){return a.element_getAnAttributeByName(e,this._element)},t.prototype.getNamedItemNS=function(e,t){return a.element_getAnAttributeByNamespaceAndLocalName(e||"",t,this._element)},t.prototype.setNamedItem=function(e){return a.element_setAnAttribute(e,this._element)},t.prototype.setNamedItemNS=function(e){return a.element_setAnAttribute(e,this._element)},t.prototype.removeNamedItem=function(e){var t=a.element_removeAnAttributeByName(e,this._element);if(null===t)throw new i.NotFoundError;return t},t.prototype.removeNamedItemNS=function(e,t){var n=a.element_removeAnAttributeByNamespaceAndLocalName(e||"",t,this._element);if(null===n)throw new i.NotFoundError;return n},t._create=function(e){return new t(e)},t}(Array);t.NamedNodeMapImpl=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(2),u=n(101),c=n(9),l=n(0),f=n(12),d=n(3),p=function(e){function t(){var t=e.call(this)||this,n=a.dom.window._associatedDocument;return t._start=[n,0],t._end=[n,0],a.dom.rangeList.add(t),t}return o(t,e),Object.defineProperty(t.prototype,"commonAncestorContainer",{get:function(){for(var e=this._start[0];!l.tree_isAncestorOf(this._end[0],e,!0);){if(null===e._parent)throw new Error("Parent node  is null.");e=e._parent}return e},enumerable:!0,configurable:!0}),t.prototype.setStart=function(e,t){l.range_setTheStart(this,e,t)},t.prototype.setEnd=function(e,t){l.range_setTheEnd(this,e,t)},t.prototype.setStartBefore=function(e){var t=e._parent;if(null===t)throw new c.InvalidNodeTypeError;l.range_setTheStart(this,t,l.tree_index(e))},t.prototype.setStartAfter=function(e){var t=e._parent;if(null===t)throw new c.InvalidNodeTypeError;l.range_setTheStart(this,t,l.tree_index(e)+1)},t.prototype.setEndBefore=function(e){var t=e._parent;if(null===t)throw new c.InvalidNodeTypeError;l.range_setTheEnd(this,t,l.tree_index(e))},t.prototype.setEndAfter=function(e){var t=e._parent;if(null===t)throw new c.InvalidNodeTypeError;l.range_setTheEnd(this,t,l.tree_index(e)+1)},t.prototype.collapse=function(e){e?this._end=this._start:this._start=this._end},t.prototype.selectNode=function(e){l.range_select(e,this)},t.prototype.selectNodeContents=function(e){if(d.Guard.isDocumentTypeNode(e))throw new c.InvalidNodeTypeError;var t=l.tree_nodeLength(e);this._start=[e,0],this._end=[e,t]},t.prototype.compareBoundaryPoints=function(e,t){if(e!==s.HowToCompare.StartToStart&&e!==s.HowToCompare.StartToEnd&&e!==s.HowToCompare.EndToEnd&&e!==s.HowToCompare.EndToStart)throw new c.NotSupportedError;if(l.range_root(this)!==l.range_root(t))throw new c.WrongDocumentError;var n,r;switch(e){case s.HowToCompare.StartToStart:n=this._start,r=t._start;break;case s.HowToCompare.StartToEnd:n=this._end,r=t._start;break;case s.HowToCompare.EndToEnd:n=this._end,r=t._end;break;case s.HowToCompare.EndToStart:n=this._start,r=t._end;break;default:throw new c.NotSupportedError}var o=l.boundaryPoint_position(n,r);return o===s.BoundaryPosition.Before?-1:o===s.BoundaryPosition.After?1:0},t.prototype.deleteContents=function(){var e,t,n,r;if(!l.range_collapsed(this)){var o=this._startNode,a=this._startOffset,s=this._endNode,u=this._endOffset;if(o===s&&d.Guard.isCharacterDataNode(o))l.characterData_replaceData(o,a,u-a,"");else{var c,f,p=[];try{for(var h=i(l.range_getContainedNodes(this)),m=h.next();!m.done;m=h.next()){var g=(w=m.value)._parent;null!==g&&l.range_isContained(g,this)||p.push(w)}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}if(l.tree_isAncestorOf(s,o,!0))c=o,f=a;else{for(var v=o;null!==v._parent&&!l.tree_isAncestorOf(s,v._parent,!0);)v=v._parent;if(null===v._parent)throw new Error("Parent node is null.");c=v._parent,f=l.tree_index(v)+1}d.Guard.isCharacterDataNode(o)&&l.characterData_replaceData(o,a,l.tree_nodeLength(o)-a,"");try{for(var y=i(p),b=y.next();!b.done;b=y.next()){var w;(w=b.value)._parent&&l.mutation_remove(w,w._parent)}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}d.Guard.isCharacterDataNode(s)&&l.characterData_replaceData(s,0,u,""),this._start=[c,f],this._end=[c,f]}}},t.prototype.extractContents=function(){return l.range_extract(this)},t.prototype.cloneContents=function(){return l.range_cloneTheContents(this)},t.prototype.insertNode=function(e){return l.range_insert(e,this)},t.prototype.surroundContents=function(e){var t,n;try{for(var r=i(l.range_getPartiallyContainedNodes(this)),o=r.next();!o.done;o=r.next()){var a=o.value;if(!d.Guard.isTextNode(a))throw new c.InvalidStateError}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}if(d.Guard.isDocumentNode(e)||d.Guard.isDocumentTypeNode(e)||d.Guard.isDocumentFragmentNode(e))throw new c.InvalidNodeTypeError;var s=l.range_extract(this);0!==e._children.size&&l.mutation_replaceAll(null,e),l.range_insert(e,this),l.mutation_append(s,e),l.range_select(e,this)},t.prototype.cloneRange=function(){return l.create_range(this._start,this._end)},t.prototype.detach=function(){a.dom.rangeList.delete(this)},t.prototype.isPointInRange=function(e,t){if(l.tree_rootNode(e)!==l.range_root(this))return!1;if(d.Guard.isDocumentTypeNode(e))throw new c.InvalidNodeTypeError;if(t>l.tree_nodeLength(e))throw new c.IndexSizeError;var n=[e,t];return l.boundaryPoint_position(n,this._start)!==s.BoundaryPosition.Before&&l.boundaryPoint_position(n,this._end)!==s.BoundaryPosition.After},t.prototype.comparePoint=function(e,t){if(l.tree_rootNode(e)!==l.range_root(this))throw new c.WrongDocumentError;if(d.Guard.isDocumentTypeNode(e))throw new c.InvalidNodeTypeError;if(t>l.tree_nodeLength(e))throw new c.IndexSizeError;var n=[e,t];return l.boundaryPoint_position(n,this._start)===s.BoundaryPosition.Before?-1:l.boundaryPoint_position(n,this._end)===s.BoundaryPosition.After?1:0},t.prototype.intersectsNode=function(e){if(l.tree_rootNode(e)!==l.range_root(this))return!1;var t=e._parent;if(null===t)return!0;var n=l.tree_index(e);return l.boundaryPoint_position([t,n],this._end)===s.BoundaryPosition.Before&&l.boundaryPoint_position([t,n+1],this._start)===s.BoundaryPosition.After},t.prototype.toString=function(){var e,t,n="";if(this._startNode===this._endNode&&d.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);d.Guard.isTextNode(this._startNode)&&(n+=this._startNode._data.substring(this._startOffset));try{for(var r=i(l.range_getContainedNodes(this)),o=r.next();!o.done;o=r.next()){var a=o.value;d.Guard.isTextNode(a)&&(n+=a._data)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return d.Guard.isTextNode(this._endNode)&&(n+=this._endNode._data.substring(0,this._endOffset)),n},t._create=function(e,n){var r=new t;return e&&(r._start=e),n&&(r._end=n),r},t.START_TO_START=0,t.START_TO_END=1,t.END_TO_END=2,t.END_TO_START=3,t}(u.AbstractRangeImpl);t.RangeImpl=p,f.idl_defineConst(p.prototype,"START_TO_START",0),f.idl_defineConst(p.prototype,"START_TO_END",1),f.idl_defineConst(p.prototype,"END_TO_END",2),f.idl_defineConst(p.prototype,"END_TO_START",3)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(102),a=n(0),s=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._iteratorCollection=void 0,o._reference=n,o._pointerBeforeReference=r,a.nodeIterator_iteratorList().add(o),o}return o(t,e),Object.defineProperty(t.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),t.prototype.nextNode=function(){return a.nodeIterator_traverse(this,!0)},t.prototype.previousNode=function(){return a.nodeIterator_traverse(this,!1)},t.prototype.detach=function(){a.nodeIterator_iteratorList().delete(this)},t._create=function(e,n,r){return new t(e,n,r)},t}(i.TraverserImpl);t.NodeIteratorImpl=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(102),s=n(0),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._current=n,r}return o(t,e),Object.defineProperty(t.prototype,"currentNode",{get:function(){return this._current},set:function(e){this._current=e},enumerable:!0,configurable:!0}),t.prototype.parentNode=function(){for(var e=this._current;null!==e&&e!==this._root;)if(null!==(e=e._parent)&&s.traversal_filter(this,e)===i.FilterResult.Accept)return this._current=e,e;return null},t.prototype.firstChild=function(){return s.treeWalker_traverseChildren(this,!0)},t.prototype.lastChild=function(){return s.treeWalker_traverseChildren(this,!1)},t.prototype.nextSibling=function(){return s.treeWalker_traverseSiblings(this,!0)},t.prototype.previousNode=function(){for(var e=this._current;e!==this._root;){for(var t=e._previousSibling;t;){e=t;for(var n=s.traversal_filter(this,e);n!==i.FilterResult.Reject&&e._lastChild;)e=e._lastChild,n=s.traversal_filter(this,e);if(n===i.FilterResult.Accept)return this._current=e,e;t=e._previousSibling}if(e===this._root||null===e._parent)return null;if(e=e._parent,s.traversal_filter(this,e)===i.FilterResult.Accept)return this._current=e,e}return null},t.prototype.previousSibling=function(){return s.treeWalker_traverseSiblings(this,!1)},t.prototype.nextNode=function(){for(var e=this._current,t=i.FilterResult.Accept;;){for(;t!==i.FilterResult.Reject&&e._firstChild;)if(e=e._firstChild,(t=s.traversal_filter(this,e))===i.FilterResult.Accept)return this._current=e,e;for(var n=null,r=e;null!==r;){if(r===this._root)return null;if(null!==(n=r._nextSibling)){e=n;break}r=r._parent}if((t=s.traversal_filter(this,e))===i.FilterResult.Accept)return this._current=e,e}},t._create=function(e,n){return new t(e,n)},t}(a.TraverserImpl);t.TreeWalkerImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(12),i=function(){function e(){}return e.prototype.acceptNode=function(e){return r.FilterResult.Accept},e._create=function(){return new e},e.FILTER_ACCEPT=1,e.FILTER_REJECT=2,e.FILTER_SKIP=3,e.SHOW_ALL=4294967295,e.SHOW_ELEMENT=1,e.SHOW_ATTRIBUTE=2,e.SHOW_TEXT=4,e.SHOW_CDATA_SECTION=8,e.SHOW_ENTITY_REFERENCE=16,e.SHOW_ENTITY=32,e.SHOW_PROCESSING_INSTRUCTION=64,e.SHOW_COMMENT=128,e.SHOW_DOCUMENT=256,e.SHOW_DOCUMENT_TYPE=512,e.SHOW_DOCUMENT_FRAGMENT=1024,e.SHOW_NOTATION=2048,e}();t.NodeFilterImpl=i,o.idl_defineConst(i.prototype,"FILTER_ACCEPT",1),o.idl_defineConst(i.prototype,"FILTER_REJECT",2),o.idl_defineConst(i.prototype,"FILTER_SKIP",3),o.idl_defineConst(i.prototype,"SHOW_ALL",4294967295),o.idl_defineConst(i.prototype,"SHOW_ELEMENT",1),o.idl_defineConst(i.prototype,"SHOW_ATTRIBUTE",2),o.idl_defineConst(i.prototype,"SHOW_TEXT",4),o.idl_defineConst(i.prototype,"SHOW_CDATA_SECTION",8),o.idl_defineConst(i.prototype,"SHOW_ENTITY_REFERENCE",16),o.idl_defineConst(i.prototype,"SHOW_ENTITY",32),o.idl_defineConst(i.prototype,"SHOW_PROCESSING_INSTRUCTION",64),o.idl_defineConst(i.prototype,"SHOW_COMMENT",128),o.idl_defineConst(i.prototype,"SHOW_DOCUMENT",256),o.idl_defineConst(i.prototype,"SHOW_DOCUMENT_TYPE",512),o.idl_defineConst(i.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),o.idl_defineConst(i.prototype,"SHOW_NOTATION",2048)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o,i,a,s,u){this._type=e,this._target=t,this._addedNodes=n,this._removedNodes=r,this._previousSibling=o,this._nextSibling=i,this._attributeName=a,this._attributeNamespace=s,this._oldValue=u}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),e._create=function(t,n,r,o,i,a,s,u,c){return new e(t,n,r,o,i,a,s,u,c)},e}();t.MutationRecordImpl=r},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(9),a=n(7),s=n(0),u=function(){function e(e,t){this._element=e,this._attribute=t,this._tokenSet=new Set;var n=t._localName,r=s.element_getAnAttributeValue(e,n),i=this;this._element._attributeChangeSteps.push((function(e,t,n,r,o){t===i._attribute._localName&&null===o&&(r?i._tokenSet=s.orderedSet_parse(r):i._tokenSet.clear())})),o.dom.features.steps&&s.dom_runAttributeChangeSteps(e,n,r,r,null)}return Object.defineProperty(e.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){var t,n,o=0;try{for(var i=r(this._tokenSet),a=i.next();!a.done;a=i.next()){var s=a.value;if(o===e)return s;o++}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.prototype.contains=function(e){return this._tokenSet.has(e)},e.prototype.add=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var u=r(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l)throw new i.SyntaxError("Cannot add an empty token.");if(a.codePoint.ASCIIWhiteSpace.test(l))throw new i.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.remove=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var u=r(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l)throw new i.SyntaxError("Cannot remove an empty token.");if(a.codePoint.ASCIIWhiteSpace.test(l))throw new i.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.toggle=function(e,t){if(void 0===t&&(t=void 0),""===e)throw new i.SyntaxError("Cannot toggle an empty token.");if(a.codePoint.ASCIIWhiteSpace.test(e))throw new i.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(e)?void 0!==t&&!1!==t||(this._tokenSet.delete(e),s.tokenList_updateSteps(this),!1):(void 0===t||!0===t)&&(this._tokenSet.add(e),s.tokenList_updateSteps(this),!0)},e.prototype.replace=function(e,t){if(""===e||""===t)throw new i.SyntaxError("Cannot replace an empty token.");if(a.codePoint.ASCIIWhiteSpace.test(e)||a.codePoint.ASCIIWhiteSpace.test(t))throw new i.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(e)&&(a.set.replace(this._tokenSet,e,t),s.tokenList_updateSteps(this),!0)},e.prototype.supports=function(e){return s.tokenList_validationSteps(this,e)},Object.defineProperty(e.prototype,"value",{get:function(){return s.tokenList_serializeSteps(this)},set:function(e){s.element_setAnAttributeValue(this._element,this._attribute._localName,e)},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this._tokenSet[Symbol.iterator]();return{next:function(){return e.next()}}},e._create=function(t,n){return new e(t,n)},e}();t.DOMTokenListImpl=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(103),a=n(0),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._detail=null,r._detail=n&&n.detail||null,r}return o(t,e),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),t.prototype.initCustomEvent=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=null),this._dispatchFlag||(a.event_initialize(this,e,t,n),this._detail=r)},t}(i.EventImpl);t.CustomEventImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(2),i=n(104),a=n(17);t.nodeIterator_traverse=function(e,t){for(var n=e._reference,r=e._pointerBeforeReference;;){if(t)if(r)r=!1;else{var s=a.tree_getFollowingNode(e._root,n);if(!s)return null;n=s}else if(r){var u=a.tree_getPrecedingNode(e.root,n);if(!u)return null;n=u}else r=!0;if(i.traversal_filter(e,n)===o.FilterResult.Accept)break}return e._reference=n,e._pointerBeforeReference=r,n},t.nodeIterator_iteratorList=function(){return r.dom.window._iteratorList}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(7),i=n(174);function a(e){if(!i.xml_isName(e))throw new r.InvalidCharacterError("Invalid XML name: "+e);if(!i.xml_isQName(e))throw new r.InvalidCharacterError("Invalid XML qualified name: "+e+".")}t.namespace_validate=a,t.namespace_validateAndExtract=function(e,t){e||(e=null),a(t);var n=t.split(":"),i=2===n.length?n[0]:null,s=2===n.length?n[1]:t;if(i&&null===e)throw new r.NamespaceError("Qualified name includes a prefix but the namespace is null.");if("xml"===i&&e!==o.namespace.XML)throw new r.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(e!==o.namespace.XMLNS&&("xmlns"===i||"xmlns"===t))throw new r.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(e===o.namespace.XMLNS&&"xmlns"!==i&&"xmlns"!==t)throw new r.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[e,i,s]},t.namespace_extractQName=function(e){a(e);var t=e.split(":");return[2===t.length?t[0]:null,2===t.length?t[1]:e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xml_isName=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(n>=97&&n<=122||n>=65&&n<=90||58===n||95===n||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||0!==t&&(45===n||46===n||n>=48&&n<=57||183===n||n>=768&&n<=879||n>=8255&&n<=8256))){if(n>=55296&&n<=56319&&t<e.length-1){var r=e.charCodeAt(t+1);if(r>=56320&&r<=57343&&(t++,(n=1024*(n-55296)+r-56320+65536)>=65536&&n<=983039))continue}return!1}}return!0},t.xml_isQName=function(e){for(var t=!1,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(!(r>=97&&r<=122||r>=65&&r<=90||95===r||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||0!==n&&(45===r||46===r||r>=48&&r<=57||183===r||r>=768&&r<=879||r>=8255&&r<=8256))){if(0===n||58!==r){if(r>=55296&&r<=56319&&n<e.length-1){var o=e.charCodeAt(n+1);if(o>=56320&&o<=57343&&(n++,(r=1024*(r-55296)+o-56320+65536)>=65536&&r<=983039))continue}return!1}if(t)return!1;if(n===e.length-1)return!1;t=!0}}return!0},t.xml_isLegalChar=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(9===n||10===n||13===n||n>=32&&n<=55295||n>=57344&&n<=65533)){if(n>=55296&&n<=56319&&t<e.length-1){var r=e.charCodeAt(t+1);if(r>=56320&&r<=57343&&(t++,(n=1024*(n-55296)+r-56320+65536)>=65536&&n<=1114111))continue}return!1}}return!0},t.xml_isPubidChar=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(n>=97&&n<=122||n>=65&&n<=90||n>=39&&n<=59||32===n||13===n||10===n||n>=35&&n<=37||33===n||61===n||63===n||64===n||95===n))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(17);t.boundaryPoint_position=function e(t,n){var i=t[0],a=t[1],s=n[0],u=n[1];if(console.assert(o.tree_rootNode(i)===o.tree_rootNode(s),"Boundary points must share the same root node."),i===s)return a===u?r.BoundaryPosition.Equal:a<u?r.BoundaryPosition.Before:r.BoundaryPosition.After;if(o.tree_isFollowing(s,i)){var c=e([s,u],[i,a]);if(c===r.BoundaryPosition.Before)return r.BoundaryPosition.After;if(c===r.BoundaryPosition.After)return r.BoundaryPosition.Before}if(o.tree_isAncestorOf(s,i)){for(var l=s;!o.tree_isChildOf(i,l);)null!==l._parent&&(l=l._parent);if(o.tree_index(l)<a)return r.BoundaryPosition.After}return r.BoundaryPosition.Before}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(3),a=n(7),s=n(29),u=n(107),c=n(30),l=n(37),f=n(52);t.node_stringReplaceAll=function(e,t){var n=null;""!==e&&(n=s.create_text(t._nodeDocument,e)),l.mutation_replaceAll(n,t)},t.node_clone=function e(t,n,a){var u,d,p,h,m;if(void 0===n&&(n=null),void 0===a&&(a=!1),null===n&&(n=t._nodeDocument),i.Guard.isElementNode(t)){m=f.element_createAnElement(n,t._localName,t._namespace,t._namespacePrefix,t._is,!1);try{for(var g=r(t._attributeList),v=g.next();!v.done;v=g.next()){var y=e(v.value,n);f.element_append(y,m)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(d=g.return)&&d.call(g)}finally{if(u)throw u.error}}}else if(i.Guard.isDocumentNode(t)){var b=s.create_document();b._encoding=t._encoding,b._contentType=t._contentType,b._URL=t._URL,b._origin=t._origin,b._type=t._type,b._mode=t._mode,m=b}else if(i.Guard.isDocumentTypeNode(t))m=s.create_documentType(n,t._name,t._publicId,t._systemId);else if(i.Guard.isAttrNode(t)){var w=s.create_attr(n,t.localName);w._namespace=t._namespace,w._namespacePrefix=t._namespacePrefix,w._value=t._value,m=w}else m=i.Guard.isExclusiveTextNode(t)?s.create_text(n,t._data):i.Guard.isCDATASectionNode(t)?s.create_cdataSection(n,t._data):i.Guard.isCommentNode(t)?s.create_comment(n,t._data):i.Guard.isProcessingInstructionNode(t)?s.create_processingInstruction(n,t._target,t._data):i.Guard.isDocumentFragmentNode(t)?s.create_documentFragment(n):Object.create(t);if(i.Guard.isDocumentNode(m)?(m._nodeDocument=m,n=m):m._nodeDocument=n,o.dom.features.steps&&c.dom_runCloningSteps(m,t,n,a),a)try{for(var x=r(t._children),C=x.next();!C.done;C=x.next()){var S=e(C.value,n,!0);l.mutation_append(S,m)}}catch(e){p={error:e}}finally{try{C&&!C.done&&(h=x.return)&&h.call(x)}finally{if(p)throw p.error}}return m},t.node_equals=function e(t,n){var o,a,s,u;if(t._nodeType!==n._nodeType)return!1;if(i.Guard.isDocumentTypeNode(t)&&i.Guard.isDocumentTypeNode(n)){if(t._name!==n._name||t._publicId!==n._publicId||t._systemId!==n._systemId)return!1}else if(i.Guard.isElementNode(t)&&i.Guard.isElementNode(n)){if(t._namespace!==n._namespace||t._namespacePrefix!==n._namespacePrefix||t._localName!==n._localName||t._attributeList.length!==n._attributeList.length)return!1}else if(i.Guard.isAttrNode(t)&&i.Guard.isAttrNode(n)){if(t._namespace!==n._namespace||t._localName!==n._localName||t._value!==n._value)return!1}else if(i.Guard.isProcessingInstructionNode(t)&&i.Guard.isProcessingInstructionNode(n)){if(t._target!==n._target||t._data!==n._data)return!1}else if(i.Guard.isCharacterDataNode(t)&&i.Guard.isCharacterDataNode(n)&&t._data!==n._data)return!1;if(i.Guard.isElementNode(t)&&i.Guard.isElementNode(n)){var c={};try{for(var l=r(t._attributeList),f=l.next();!f.done;f=l.next())c[(h=f.value)._localName]=h}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}try{for(var d=r(n._attributeList),p=d.next();!p.done;p=d.next()){var h,m=p.value;if(!(h=c[m._localName]))return!1;if(!e(h,m))return!1}}catch(e){s={error:e}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}}if(t._children.size!==n._children.size)return!1;for(var g=t._children[Symbol.iterator](),v=n._children[Symbol.iterator](),y=g.next(),b=v.next();!y.done&&!b.done;){if(!e(y.value,b.value))return!1;y=g.next(),b=v.next()}return!0},t.node_listOfElementsWithQualifiedName=function(e,t){return"*"===e?s.create_htmlCollection(t):"html"===t._nodeDocument._type?s.create_htmlCollection(t,(function(t){return t._namespace===a.namespace.HTML&&t._qualifiedName===e.toLowerCase()||t._namespace!==a.namespace.HTML&&t._qualifiedName===e})):s.create_htmlCollection(t,(function(t){return t._qualifiedName===e}))},t.node_listOfElementsWithNamespace=function(e,t,n){return""===e&&(e=null),"*"===e&&"*"===t?s.create_htmlCollection(n):"*"===e?s.create_htmlCollection(n,(function(e){return e._localName===t})):"*"===t?s.create_htmlCollection(n,(function(t){return t._namespace===e})):s.create_htmlCollection(n,(function(n){return n._localName===t&&n._namespace===e}))},t.node_listOfElementsWithClassNames=function(e,t){var n=u.orderedSet_parse(e);if(0===n.size)return s.create_htmlCollection(t,(function(){return!1}));var r="quirks"!==t._nodeDocument._mode;return s.create_htmlCollection(t,(function(e){var t=e.classList;return u.orderedSet_contains(t._tokenSet,n,r)}))},t.node_locateANamespacePrefix=function e(t,n){if(t._namespace===n&&null!==t._namespacePrefix)return t._namespacePrefix;for(var r=0;r<t._attributeList.length;r++){var o=t._attributeList[r];if("xmlns"===o._namespacePrefix&&o._value===n)return o._localName}return t._parent&&i.Guard.isElementNode(t._parent)?e(t._parent,n):null},t.node_locateANamespace=function e(t,n){if(i.Guard.isElementNode(t)){if(null!==t._namespace&&t._namespacePrefix===n)return t._namespace;for(var r=0;r<t._attributeList.length;r++){var o=t._attributeList[r];if(o._namespace===a.namespace.XMLNS&&"xmlns"===o._namespacePrefix&&o._localName===n)return o._value||null;if(null===n&&o._namespace===a.namespace.XMLNS&&null===o._namespacePrefix&&"xmlns"===o._localName)return o._value||null}return null===t.parentElement?null:e(t.parentElement,n)}return i.Guard.isDocumentNode(t)?null===t.documentElement?null:e(t.documentElement,n):i.Guard.isDocumentTypeNode(t)||i.Guard.isDocumentFragmentNode(t)?null:i.Guard.isAttrNode(t)?null===t._element?null:e(t._element,n):t._parent&&i.Guard.isElementNode(t._parent)?e(t._parent,n):null}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(3),a=n(9),s=n(29),u=n(17),c=n(106),l=n(37);t.text_contiguousTextNodes=function(e,t){var n;return void 0===t&&(t=!1),(n={})[Symbol.iterator]=function(){for(var n=e;n&&i.Guard.isTextNode(n._previousSibling);)n=n._previousSibling;return{next:function(){if(n&&!t&&n===e&&(n=i.Guard.isTextNode(n._nextSibling)?n._nextSibling:null),null===n)return{done:!0,value:null};var r={done:!1,value:n};return n=i.Guard.isTextNode(n._nextSibling)?n._nextSibling:null,r}}},n},t.text_contiguousExclusiveTextNodes=function(e,t){var n;return void 0===t&&(t=!1),(n={})[Symbol.iterator]=function(){for(var n=e;n&&i.Guard.isExclusiveTextNode(n._previousSibling);)n=n._previousSibling;return{next:function(){if(n&&!t&&n===e&&(n=i.Guard.isExclusiveTextNode(n._nextSibling)?n._nextSibling:null),null===n)return{done:!0,value:null};var r={done:!1,value:n};return n=i.Guard.isExclusiveTextNode(n._nextSibling)?n._nextSibling:null,r}}},n},t.text_descendantTextContent=function(e){for(var t="",n=u.tree_getFirstDescendantNode(e,!1,!1,(function(e){return i.Guard.isTextNode(e)}));null!==n;)t+=n._data,n=u.tree_getNextDescendantNode(e,n,!1,!1,(function(e){return i.Guard.isTextNode(e)}));return t},t.text_split=function(e,t){var n,i,f=e._data.length;if(t>f)throw new a.IndexSizeError;var d=f-t,p=c.characterData_substringData(e,t,d),h=s.create_text(e._nodeDocument,p),m=e._parent;if(null!==m){l.mutation_insert(h,m,e._nextSibling);try{for(var g=r(o.dom.rangeList),v=g.next();!v.done;v=g.next()){var y=v.value;y._start[0]===e&&y._start[1]>t&&(y._start[0]=h,y._start[1]-=t),y._end[0]===e&&y._end[1]>t&&(y._end[0]=h,y._end[1]-=t);var b=u.tree_index(e);y._start[0]===m&&y._start[1]===b+1&&y._start[1]++,y._end[0]===m&&y._end[1]===b+1&&y._end[1]++}}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}return c.characterData_replaceData(e,t,d,""),h}},function(e,t,n){"use strict";var r=n(4),o=n(41),i=n(24),a=n(48),s=[].join,u=o!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(110),i=function(){function e(e,t){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=e,this._index=0,this._length=e.length,t&&(this._options.skipWhitespaceOnlyText=t.skipWhitespaceOnlyText||!1)}return e.prototype.nextToken=function(){if(this.eof())return{type:o.TokenType.EOF};var t=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&t.type===o.TokenType.Text&&e.isWhiteSpaceToken(t)&&(t=this.nextToken()),t},e.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?e.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},e.prototype.declaration=function(){for(var e="",t="",n="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:o.TokenType.Declaration,version:e,encoding:t,standalone:n};var i=r(this.attribute(),2),a=i[0],s=i[1];"version"===a?e=s:"encoding"===a?t=s:"standalone"===a?n=s:this.throwError("Invalid attribute name: "+a)}this.throwError("Missing declaration end symbol `?>`")},e.prototype.doctype=function(){var e="",t="";this.skipSpace();var n=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(e=this.quotedString(),t=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(t=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:o.TokenType.DocType,name:n,pubId:e,sysId:t}},e.prototype.pi=function(){var e=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:o.TokenType.PI,target:e,data:""};var t=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:o.TokenType.PI,target:e,data:t}},e.prototype.text=function(){var e=this.takeUntil("<");return{type:o.TokenType.Text,data:e}},e.prototype.comment=function(){var e=this.takeUntilStartsWith("--\x3e");return this.eof()&&this.throwError("Missing comment end symbol `--\x3e`"),this.seek(3),{type:o.TokenType.Comment,data:e}},e.prototype.cdata=function(){var e=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:o.TokenType.CDATA,data:e}},e.prototype.openTag=function(){this.skipSpace();var e=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:o.TokenType.Element,name:e,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:o.TokenType.Element,name:e,attributes:[],selfClosing:!0};for(var t=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:o.TokenType.Element,name:e,attributes:t,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:o.TokenType.Element,name:e,attributes:t,selfClosing:!0};var n=this.attribute();t.push(n)}this.throwError("Missing opening element tag end symbol `>`")},e.prototype.closeTag=function(){this.skipSpace();var e=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:o.TokenType.ClosingTag,name:e}},e.prototype.attribute=function(){this.skipSpace();var e=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[e,this.quotedString()]},e.prototype.quotedString=function(){this.skipSpace();var t=this.take(1);e.isQuote(t)||this.throwError("Missing start quote character before quoted value");var n=this.takeUntil(t);return this.skipIfStartsWith(t)||this.throwError("Missing end quote character after quoted value"),n},e.prototype.eof=function(){return this._index>=this._length},e.prototype.skipIfStartsWith=function(e){var t=e.length;if(1===t)return this._str[this._index]===e&&(this._index++,!0);for(var n=0;n<t;n++)if(this._str[this._index+n]!==e[n])return!1;return this._index+=t,!0},e.prototype.seek=function(e){this._index+=e,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},e.prototype.skipSpace=function(){for(;!this.eof()&&e.isSpace(this._str[this._index]);)this._index++},e.prototype.take=function(e){if(1===e)return this._str[this._index++];var t=this._index;return this.seek(e),this._str.slice(t,this._index)},e.prototype.takeUntil=function(t,n){void 0===n&&(n=!1);for(var r=this._index;this._index<this._length;){var o=this._str[this._index];if(o===t||n&&e.isSpace(o))break;this._index++}return this._str.slice(r,this._index)},e.prototype.takeUntil2=function(t,n,r){void 0===r&&(r=!1);for(var o=this._index;this._index<this._length;){var i=this._str[this._index];if(i===t||i===n||r&&e.isSpace(i))break;this._index++}return this._str.slice(o,this._index)},e.prototype.takeUntilStartsWith=function(t,n){void 0===n&&(n=!1);for(var r=this._index,o=t.length;this._index<this._length;){for(var i=!0,a=0;a<o;a++){var s=this._str[this._index+a],u=t[a];if(n&&e.isSpace(s))return this._str.slice(r,this._index);if(s!==u){this._index++,i=!1;break}}if(i)return this._str.slice(r,this._index)}return this._index=this._length,this._str.slice(r)},e.prototype.skipUntil=function(e){for(;this._index<this._length&&this._str[this._index]!==e;)this._index++},e.isWhiteSpaceToken=function(e){for(var t=e.data,n=0;n<t.length;n++){var r=t[n];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\f"!==r)return!1}return!0},e.isSpace=function(e){return" "===e||"\n"===e||"\r"===e||"\t"===e},e.isQuote=function(e){return'"'===e||"'"===e},e.prototype.throwError=function(e){for(var t=/\r\n|\r|\n/g,n=null,r=0,o=0,i=this._str.length;null!==(n=t.exec(this._str))&&null!==n;)if(r++,n.index<this._index&&(o=t.lastIndex),n.index>this._index){i=n.index;break}throw this.err={line:r,col:this._index-o,index:this._index,str:this._str.substring(o,i)},new Error(e+"\nIndex: "+this.err.index+"\nLn: "+this.err.line+", Col: "+this.err.col+"\nInput: "+this.err.str)},e.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var e=this.nextToken();return e.type===o.TokenType.EOF?{done:!0,value:null}:{done:!1,value:e}}.bind(this)}},e}();t.XMLStringLexer=i},function(e,t,n){"use strict";var r=n(39);e.exports=new r({include:[n(181)]})},function(e,t,n){"use strict";var r=n(39);e.exports=new r({include:[n(112)],implicit:[n(289),n(290),n(291),n(292)]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),o=n(1),i=n(3),a=n(76),s=n(108);function u(e,t){var n=l(void 0===e||c(e)?e:r.DefaultBuilderOptions),o=c(e)?t:e,i=s.createDocument();f(i,n);var u=new a.XMLBuilderImpl(i);return void 0!==o&&u.ele(o),u}function c(e){if(!o.isPlainObject(e))return!1;for(var t in e)if(e.hasOwnProperty(t)&&!r.XMLBuilderOptionKeys.has(t))return!1;return!0}function l(e){void 0===e&&(e={});var t=o.applyDefaults(e,r.DefaultBuilderOptions);if(0===t.convert.att.length||0===t.convert.ins.length||0===t.convert.text.length||0===t.convert.cdata.length||0===t.convert.comment.length)throw new Error("JS object converter strings cannot be zero length.");return t}function f(e,t,n){var r=e;r._xmlBuilderOptions=t,r._isFragment=n}t.builder=function(e,t){var n=l(c(e)?e:r.DefaultBuilderOptions),s=i.Guard.isNode(e)||o.isArray(e)?e:t;if(void 0===s)throw new Error("Invalid arguments.");if(o.isArray(s)){for(var u=[],f=0;f<s.length;f++){var d=new a.XMLBuilderImpl(s[f]);d.set(n),u.push(d)}return u}var p=new a.XMLBuilderImpl(s);return p.set(n),p},t.create=u,t.fragment=function(e,t){var n=l(void 0===e||c(e)?e:r.DefaultBuilderOptions),o=c(e)?t:e,i=s.createDocument();f(i,n,!0);var u=new a.XMLBuilderImpl(i.createDocumentFragment());return void 0!==o&&u.ele(o),u},t.convert=function(e,t,n){var o,i,a;return c(e)&&void 0!==t?(o=e,i=t,a=n):(o=r.DefaultBuilderOptions,i=e,a=t||void 0),u(o,i).end(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.builder=r.builder,t.create=r.create,t.fragment=r.fragment,t.convert=r.convert,t.createCB=r.createCB,t.fragmentCB=r.fragmentCB},function(e,t,n){"use strict";n(31),n(32),n(33),n(190),n(191),n(193),n(64),n(19),n(197),n(198),n(88),n(200),n(65),n(20),n(66),n(22),n(23);var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),a=n(1),s=n(216),u=n(2),c=n(3),l=n(0),f=n(108),d=n(7),p=n(276),h=function(){function e(e){this._domNode=e}return Object.defineProperty(e.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.set=function(e){return this._options=a.applyDefaults(a.applyDefaults(this._options,e,!0),i.DefaultBuilderOptions),this},e.prototype.ele=function(t,n,o){var i,s,u,c,d,h;if(a.isObject(t))return new p.ObjectReader(this._options).parse(this,t);if(null!==t&&/^\s*</.test(t))return new p.XMLReader(this._options).parse(this,t);if(null!==t&&/^\s*[\{\[]/.test(t))return new p.JSONReader(this._options).parse(this,t);if(null!==t&&/^(\s*|(#.*)|(%.*))*---/.test(t))return new p.YAMLReader(this._options).parse(this,t);if((null===t||a.isString(t))&&a.isString(n))c=(i=r([t,n,o],3))[0],d=i[1],h=i[2];else{if(null===t)throw new Error("Element name cannot be null. "+this._debugInfo());c=(s=r([void 0,t,a.isObject(n)?n:void 0],3))[0],d=s[1],h=s[2]}if(h&&(h=a.getValue(h)),c=(u=r(this._extractNamespace(f.sanitizeInput(c,this._options.invalidCharReplacement),f.sanitizeInput(d,this._options.invalidCharReplacement),!0),2))[0],d=u[1],void 0===c){var m=r(l.namespace_extractQName(d),1)[0];c=this.node.lookupNamespaceURI(m)}var g=null!=c?this._doc.createElementNS(c,d):this._doc.createElement(d);this.node.appendChild(g);var v=new e(g),y=this._doc.doctype;if(g===this._doc.documentElement&&null!==y){var b=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,y.publicId,y.systemId);this._doc.replaceChild(b,y)}return h&&!a.isEmpty(h)&&v.att(h),v},e.prototype.remove=function(){var e=this.up();return e.node.removeChild(this.node),e},e.prototype.att=function(e,t,n){var o,i,s,u,p,h,m=this;if(a.isMap(e)||a.isObject(e))return a.forEachObject(e,(function(e,t){return m.att(e,t)}),this),this;if(null!=e&&(e=a.getValue(e+"")),null!=t&&(t=a.getValue(t+"")),null!=n&&(n=a.getValue(n+"")),null!==e&&!a.isString(e)||!a.isString(t)||null!==n&&!a.isString(n)){if(!a.isString(e)||null!=t&&!a.isString(t))throw new Error("Attribute name and value not specified. "+this._debugInfo());u=(i=r([void 0,e,t],3))[0],p=i[1],h=i[2]}else u=(o=r([e,t,n],3))[0],p=o[1],h=o[2];if(this._options.keepNullAttributes&&null==h)h="";else if(null==h)return this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var g=this.node;u=(s=r(this._extractNamespace(u,p,!1),2))[0],p=s[1],p=f.sanitizeInput(p,this._options.invalidCharReplacement),u=f.sanitizeInput(u,this._options.invalidCharReplacement),h=f.sanitizeInput(h,this._options.invalidCharReplacement);var v=r(l.namespace_extractQName(p),2),y=v[0],b=v[1],w=r(l.namespace_extractQName(g.prefix?g.prefix+":"+g.localName:g.localName),1)[0],x=null;return"xmlns"===y?(u=d.namespace.XMLNS,null===g.namespaceURI&&w===b&&(x=h)):null===y&&"xmlns"===b&&null===w&&(u=d.namespace.XMLNS,x=h),null!==x&&(this._updateNamespace(x),g=this.node),void 0!==u?g.setAttributeNS(u,p,h):g.setAttribute(p,h),this},e.prototype.removeAtt=function(e,t){var n,r,o=this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(e=a.getValue(e),void 0!==t&&(t=a.getValue(t)),null!==e&&void 0===t)r=e;else{if(null!==e&&!a.isString(e)||void 0===t)throw new Error("Attribute namespace must be a string. "+this._debugInfo());n=e,r=t}return a.isArray(r)||a.isSet(r)?a.forEachArray(r,(function(e){return void 0===n?o.removeAtt(e):o.removeAtt(n,e)}),this):void 0!==n?(r=f.sanitizeInput(r,this._options.invalidCharReplacement),n=f.sanitizeInput(n,this._options.invalidCharReplacement),this.node.removeAttributeNS(n,r)):(r=f.sanitizeInput(r,this._options.invalidCharReplacement),this.node.removeAttribute(r)),this},e.prototype.txt=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=""}var t=this._doc.createTextNode(f.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.com=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=""}var t=this._doc.createComment(f.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.dat=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=""}var t=this._doc.createCDATASection(f.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.ins=function(e,t){var n=this;if(void 0===t&&(t=""),null==t){if(!this._options.keepNullNodes)return this;t=""}if(a.isArray(e)||a.isSet(e))a.forEachArray(e,(function(e){var t=(e+="").indexOf(" "),r=-1===t?e:e.substr(0,t),o=-1===t?"":e.substr(t+1);n.ins(r,o)}),this);else if(a.isMap(e)||a.isObject(e))a.forEachObject(e,(function(e,t){return n.ins(e,t)}),this);else{var r=this._doc.createProcessingInstruction(f.sanitizeInput(e,this._options.invalidCharReplacement),f.sanitizeInput(t,this._options.invalidCharReplacement));this.node.appendChild(r)}return this},e.prototype.dec=function(e){return this._options.version=e.version||"1.0",this._options.encoding=e.encoding,this._options.standalone=e.standalone,this},e.prototype.dtd=function(e){var t=f.sanitizeInput(e&&e.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),n=f.sanitizeInput(e&&e.pubID||"",this._options.invalidCharReplacement),r=f.sanitizeInput(e&&e.sysID||"",this._options.invalidCharReplacement);if(null!==this._doc.documentElement&&t!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var o=this._doc.implementation.createDocumentType(t,n,r);return null!==this._doc.doctype?this._doc.replaceChild(o,this._doc.doctype):this._doc.insertBefore(o,this._doc.documentElement),this},e.prototype.import=function(t){var n,i,a=this._domNode,s=this._doc,u=t.node;if(c.Guard.isDocumentNode(u)){var f=u.documentElement;if(null===f)throw new Error("Imported document has no document element node. "+this._debugInfo());var d=s.importNode(f,!0);a.appendChild(d);var p=r(l.namespace_extractQName(d.prefix?d.prefix+":"+d.localName:d.localName),1)[0],h=a.lookupNamespaceURI(p);new e(d)._updateNamespace(h)}else if(c.Guard.isDocumentFragmentNode(u))try{for(var m=o(u.childNodes),g=m.next();!g.done;g=m.next()){var v=g.value;d=s.importNode(v,!0),a.appendChild(d),c.Guard.isElementNode(d)&&(p=r(l.namespace_extractQName(d.prefix?d.prefix+":"+d.localName:d.localName),1)[0],h=a.lookupNamespaceURI(p),new e(d)._updateNamespace(h))}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}else d=s.importNode(u,!0),a.appendChild(d),c.Guard.isElementNode(d)&&(p=r(l.namespace_extractQName(d.prefix?d.prefix+":"+d.localName:d.localName),1)[0],h=a.lookupNamespaceURI(p),new e(d)._updateNamespace(h));return this},e.prototype.doc=function(){if(this._doc._isFragment){for(var t=this.node;t&&t.nodeType!==u.NodeType.DocumentFragment;)t=t.parentNode;if(null===t)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new e(t)}return new e(this._doc)},e.prototype.root=function(){var t=this._doc.documentElement;if(!t)throw new Error("Document root element is null. "+this._debugInfo());return new e(t)},e.prototype.up=function(){var t=this._domNode.parentNode;if(!t)throw new Error("Parent node is null. "+this._debugInfo());return new e(t)},e.prototype.prev=function(){var t=this._domNode.previousSibling;if(!t)throw new Error("Previous sibling node is null. "+this._debugInfo());return new e(t)},e.prototype.next=function(){var t=this._domNode.nextSibling;if(!t)throw new Error("Next sibling node is null. "+this._debugInfo());return new e(t)},e.prototype.first=function(){var t=this._domNode.firstChild;if(!t)throw new Error("First child node is null. "+this._debugInfo());return new e(t)},e.prototype.last=function(){var t=this._domNode.lastChild;if(!t)throw new Error("Last child node is null. "+this._debugInfo());return new e(t)},e.prototype.each=function(t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=this._getFirstDescendantNode(this._domNode,n,r);i[0];){var a=this._getNextDescendantNode(this._domNode,i[0],r,i[1],i[2]);t.call(o,new e(i[0]),i[1],i[2]),i=a}return this},e.prototype.map=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=[];return this.each((function(t,n,i){return o.push(e.call(r,t,n,i))}),t,n),o},e.prototype.reduce=function(e,t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=t;return this.each((function(t,n,r){return i=e.call(o,i,t,n,r)}),n,r),i},e.prototype.find=function(t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=this._getFirstDescendantNode(this._domNode,n,r);i[0];){var a=new e(i[0]);if(t.call(o,a,i[1],i[2]))return a;i=this._getNextDescendantNode(this._domNode,i[0],r,i[1],i[2])}},e.prototype.filter=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=[];return this.each((function(t,n,i){e.call(r,t,n,i)&&o.push(t)}),t,n),o},e.prototype.every=function(t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=this._getFirstDescendantNode(this._domNode,n,r);i[0];){var a=new e(i[0]);if(!t.call(o,a,i[1],i[2]))return!1;i=this._getNextDescendantNode(this._domNode,i[0],r,i[1],i[2])}return!0},e.prototype.some=function(t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=this._getFirstDescendantNode(this._domNode,n,r);i[0];){var a=new e(i[0]);if(t.call(o,a,i[1],i[2]))return!0;i=this._getNextDescendantNode(this._domNode,i[0],r,i[1],i[2])}return!1},e.prototype.toArray=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=[];return this.each((function(e){return n.push(e)}),e,t),n},e.prototype.toString=function(e){return void 0===(e=e||{}).format&&(e.format="xml"),this._serialize(e)},e.prototype.toObject=function(e){return void 0===(e=e||{}).format&&(e.format="object"),this._serialize(e)},e.prototype.end=function(e){return void 0===(e=e||{}).format&&(e.format="xml"),this.doc()._serialize(e)},e.prototype._getFirstDescendantNode=function(e,t,n){return t?[this._domNode,0,0]:n?this._getNextDescendantNode(e,e,n,0,0):[this._domNode.firstChild,0,1]},e.prototype._getNextDescendantNode=function(e,t,n,r,o){if(!n)return e===t?[t.firstChild,0,o+1]:[t.nextSibling,r+1,o];if(t.firstChild)return[t.firstChild,0,o+1];if(t===e)return[null,-1,-1];if(t.nextSibling)return[t.nextSibling,r+1,o];for(var i=t.parentNode;i&&i!==e;){if(i.nextSibling)return[i.nextSibling,l.tree_index(i.nextSibling),o-1];i=i.parentNode,o--}return[null,-1,-1]},e.prototype._serialize=function(e){if("xml"===e.format)return new s.XMLWriter(this._options,e).serialize(this.node);if("map"===e.format)return new s.MapWriter(this._options,e).serialize(this.node);if("object"===e.format)return new s.ObjectWriter(this._options,e).serialize(this.node);if("json"===e.format)return new s.JSONWriter(this._options,e).serialize(this.node);if("yaml"===e.format)return new s.YAMLWriter(this._options,e).serialize(this.node);throw new Error("Invalid writer format: "+e.format+". "+this._debugInfo())},e.prototype._extractNamespace=function(e,t,n){var r=t.indexOf("@");if(r>0&&(void 0===e&&(e=t.slice(r+1)),t=t.slice(0,r)),void 0===e)e=n?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(null!==e&&"@"===e[0]){var o=e.slice(1);if(void 0===(e=this._options.namespaceAlias[o]))throw new Error("Namespace alias `"+o+"` is not defined. "+this._debugInfo())}return[e,t]},e.prototype._updateNamespace=function(t){var n,i,a,s,u=this._domNode;if(c.Guard.isElementNode(u)&&null!==t&&u.namespaceURI!==t){var f=r(l.namespace_extractQName(u.prefix?u.prefix+":"+u.localName:u.localName),2),d=f[0],p=f[1],h=l.create_element(this._doc,p,t,d);try{for(var m=o(u.attributes),g=m.next();!g.done;g=m.next()){var v=g.value,y=v.prefix?v.prefix+":"+v.localName:v.localName,b=r(l.namespace_extractQName(y),1)[0],w=v.namespaceURI;null===w&&null!==b&&(w=u.lookupNamespaceURI(b)),null===w?h.setAttribute(y,v.value):h.setAttributeNS(w,y,v.value)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}var x=u.parentNode;if(null===x)throw new Error("Parent node is null."+this._debugInfo());x.replaceChild(h,u),this._domNode=h;try{for(var C=o(u.childNodes),S=C.next();!S.done;S=C.next()){var A=S.value.cloneNode(!0);if(h.appendChild(A),c.Guard.isElementNode(A)){var _=r(l.namespace_extractQName(A.prefix?A.prefix+":"+A.localName:A.localName),1)[0],P=h.lookupNamespaceURI(_);new e(A)._updateNamespace(P)}}}catch(e){a={error:e}}finally{try{S&&!S.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}}},Object.defineProperty(e.prototype,"_doc",{get:function(){var e=this.node;if(c.Guard.isDocumentNode(e))return e;var t=e.ownerDocument;if(!t)throw new Error("Owner document is null. "+this._debugInfo());return t},enumerable:!0,configurable:!0}),e.prototype._debugInfo=function(e){var t=this.node,n=t.parentNode;e=e||t.nodeName;var r=n?n.nodeName:"";return r?"node: <"+e+">, parent: <"+r+">":"node: <"+e+">"},Object.defineProperty(e.prototype,"_options",{get:function(){var e=this._doc;if(void 0===e._xmlBuilderOptions)throw new Error("Builder options is not set.");return e._xmlBuilderOptions},set:function(e){this._doc._xmlBuilderOptions=e},enumerable:!0,configurable:!0}),e}();t.XMLBuilderImpl=h},function(e,t,n){var r=n(11),o=n(116),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(46),o=n(81),i=n(84),a=n(18);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(16),o=n(15),i=n(18),a=n(61);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,u=0;s>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(46);e.exports=r("document","documentElement")},function(e,t,n){var r=n(24),o=n(81).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var r=n(4),o=n(36).every,i=n(48),a=n(28),s=i("every"),u=a("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(36).filter,i=n(63),a=n(28),s=i("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(46);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(4),o=n(36).find,i=n(129),a=n(28),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){"use strict";var r=n(130).IteratorPrototype,o=n(60),i=n(40),a=n(62),s=n(49),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,n){var r=n(8);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(4),o=n(36).map,i=n(63),a=n(28),s=i("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(199).left,i=n(48),a=n(28),s=i("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(126),o=n(27),i=n(41),a=n(26),s=function(e){return function(t,n,s,u){r(n);var c=o(t),l=i(c),f=a(c.length),d=e?f-1:0,p=e?-1:1;if(s<2)for(;;){if(d in l){u=l[d],d+=p;break}if(d+=p,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=p)d in l&&(u=n(u,l[d],d,c));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(4),o=n(36).some,i=n(48),a=n(28),s=i("some"),u=a("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(89),o=n(134);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(8);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(5),o=n(49),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(134),o=n(49),i=n(5)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(18);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(13),o=n(132);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(46),o=n(15),i=n(5),a=n(16),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){void 0===e&&(e=1e3),this._items=new Set,this._limit=e}return e.prototype.add=function(e){if(this._items.add(e),this._items.size>this._limit){var t=this._items.values().next();t.done||this._items.delete(t.value)}return this},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._items.forEach((function(r){return e.call(t,r,r,n)}))},e.prototype.keys=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),e}();t.FixedSizeSet=i},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){void 0===e&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.get=function(e){return this._items.get(e)},e.prototype.set=function(e,t){if(this._items.set(e,t),this._items.size>this._limit){var n=this._items.keys().next();n.done||this._items.delete(n.value)}},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){this._items.forEach((function(n,r){return e.call(t,r,n)}))},e.prototype.keys=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return r(this,(function(e){switch(e.label){case 0:return[5,o(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),e}();t.ObjectCache=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.check=function(e,t){if(this._items.get(e)===t)return!0;if(this._items.get(t)===e)return!1;var n=Math.random()<.5;if(n?this._items.set(e,t):this._items.set(t,e),this._items.size>this._limit){var r=this._items.keys().next();r.done||this._items.delete(r.value)}return n},e}();t.CompareCache=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._initialized=!1,this._value=void 0,this._initFunc=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),e}();t.Lazy=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._pointer=0,this._chars=Array.from(e),this._length=this._chars.length}return Object.defineProperty(e.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.codePoint=function(){if(void 0===this._codePoint)if(this.eof)this._codePoint=-1;else{var e=this._chars[this._pointer].codePointAt(0);this._codePoint=void 0!==e?e:-1}return this._codePoint},e.prototype.c=function(){return void 0===this._c&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},e.prototype.remaining=function(){return void 0===this._remaining&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},e.prototype.substring=function(){return void 0===this._substring&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(e.prototype,"pointer",{get:function(){return this._pointer},set:function(e){e!==this._pointer&&(this._pointer=e,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),e}();t.StringWalker=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(217);t.MapWriter=r.MapWriter;var o=n(257);t.XMLWriter=o.XMLWriter;var i=n(67);t.ObjectWriter=i.ObjectWriter;var a=n(259);t.JSONWriter=a.JSONWriter;var s=n(260);t.YAMLWriter=s.YAMLWriter},function(e,t,n){"use strict";n(19),n(218),n(20),n(22),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(67),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=i.applyDefaults(n,{format:"map",wellFormed:!1,noDoubleEncoding:!1,group:!1,verbose:!1}),r}return o(t,e),t.prototype.serialize=function(e){var t=i.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,noDoubleEncoding:!1,verbose:!1}),n=new a.ObjectWriter(this._builderOptions,t).serialize(e);return this._convertObject(n)},t.prototype._convertObject=function(e){if(i.isArray(e)){for(var t=0;t<e.length;t++)e[t]=this._convertObject(e[t]);return e}if(i.isObject(e)){var n=new Map;for(var r in e)n.set(r,this._convertObject(e[r]));return n}return e},t}(n(50).BaseWriter);t.MapWriter=s},function(e,t,n){"use strict";var r=n(138),o=n(142);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";var r=n(4),o=n(8),i=n(59),a=n(13),s=n(27),u=n(26),c=n(133),l=n(127),f=n(63),d=n(5),p=n(128),h=d("isConcatSpreadable"),m=p>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,r,o,i,a=s(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(v(i=-1===t?a:arguments[t])){if(d+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&c(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,i)}return f.length=d,f}})},function(e,t,n){"use strict";var r=n(8);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(222);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(13),o=n(42),i=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";n(92);var r=n(25),o=n(8),i=n(5),a=n(93),s=n(21),u=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=i(e),m=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),g=m&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!m||!g||"replace"===e&&(!c||!l||d)||"split"===e&&!p){var v=/./[h],y=n(h,""[e],(function(e,t,n,r,o){return t.exec===a?m&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=y[0],w=y[1];r(String.prototype,e,b),r(RegExp.prototype,h,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},function(e,t,n){"use strict";var r=n(136).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(42),o=n(93);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(95);t.forgivingBase64Encode=function(t){return e.from(t).toString("base64")},t.forgivingBase64Decode=function(t){return""===t?"":((t=t.replace(r.ASCIIWhiteSpace,"")).length%4==0&&(t.endsWith("==")?t=t.substr(0,t.length-2):t.endsWith("=")&&(t=t.substr(0,t.length-1))),t.length%4==1?null:/[0-9A-Za-z+/]/.test(t)?e.from(t,"base64").toString("utf8"):null)}}).call(this,n(145).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function i(e){var t,n;if(null===e||o.isString(e)||o.isNumber(e))return e;if(o.isArray(e)){var a=new Array;try{for(var s=r(e),u=s.next();!u.done;u=s.next()){var c=u.value;a.push(i(c))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}if(o.isObject(e)){for(var l in a=new Map,e)if(e.hasOwnProperty(l)){var f=e[l];a.set(l,i(f))}return a}return e}t.parseJSONFromBytes=function(e){var t=o.utf8Decode(e);return JSON.parse.call(void 0,t)},t.serializeJSONToBytes=function(e){var t=JSON.stringify.call(void 0,e);return o.utf8Encode(t)},t.parseJSONIntoInfraValues=function(e){return i(JSON.parse.call(void 0,e))},t.convertAJSONDerivedJavaScriptValueToAnInfraValue=i},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.append=function(e,t){e.push(t)},t.extend=function(e,t){e.push.apply(e,i(t))},t.prepend=function(e,t){e.unshift(t)},t.replace=function(e,t,n){var r,o,i=0;try{for(var u=a(e),c=u.next();!c.done;c=u.next()){var l=c.value;if(s.isFunction(t))t.call(null,l)&&(e[i]=n);else if(l===t)return void(e[i]=n);i++}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},t.insert=function(e,t,n){e.splice(n,0,t)},t.remove=function(e,t){for(var n=e.length;n--;){var r=e[n];if(s.isFunction(t))t.call(null,r)&&e.splice(n,1);else if(r===t)return void e.splice(n,1)}},t.empty=function(e){e.length=0},t.contains=function(e,t){var n,r;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(s.isFunction(t)){if(t.call(null,u))return!0}else if(u===t)return!0}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.size=function(e,t){var n,r;if(void 0===t)return e.length;var o=0;try{for(var i=a(e),s=i.next();!s.done;s=i.next()){var u=s.value;t.call(null,u)&&o++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.isEmpty=function(e){return 0===e.length},t.forEach=function(e,t){var n,o,i,s,u,c;return r(this,(function(r){switch(r.label){case 0:return void 0!==t?[3,2]:[5,a(e)];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=a(e),o=n.next(),r.label=3;case 3:return o.done?[3,6]:(i=o.value,t.call(null,i)?[4,i]:[3,5]);case 4:r.sent(),r.label=5;case 5:return o=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),u={error:s},[3,9];case 8:try{o&&!o.done&&(c=n.return)&&c.call(n)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new(Array.bind.apply(Array,i([void 0],e)))},t.sortInAscendingOrder=function(e,t){return e.sort((function(e,n){return t.call(null,e,n)?-1:1}))},t.sortInDescendingOrder=function(e,t){return e.sort((function(e,n){return t.call(null,e,n)?1:-1}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.get=function(e,t){return e.get(t)},t.set=function(e,t,n){e.set(t,n)},t.remove=function(e,t){var n,r,i,a;if(s.isFunction(t)){var u=[];try{for(var c=o(e),l=c.next();!l.done;l=c.next()){var f=l.value;t.call(null,f)&&u.push(f[0])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var d=o(u),p=d.next();!p.done;p=d.next()){var h=p.value;e.delete(h)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}else e.delete(t)},t.contains=function(e,t){var n,r;if(s.isFunction(t)){try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var u=a.value;if(t.call(null,u))return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}return e.has(t)},t.keys=function(e){return new Set(e.keys())},t.values=function(e){return a(e.values())},t.size=function(e,t){var n,r;if(void 0===t)return e.size;var i=0;try{for(var a=o(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.call(null,u)&&i++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.isEmpty=function(e){return 0===e.size},t.forEach=function(e,t){var n,i,a,s,u,c;return r(this,(function(r){switch(r.label){case 0:return void 0!==t?[3,2]:[5,o(e)];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=o(e),i=n.next(),r.label=3;case 3:return i.done?[3,6]:(a=i.value,t.call(null,a)?[4,a]:[3,5]);case 4:r.sent(),r.label=5;case 5:return i=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),u={error:s},[3,9];case 8:try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Map(e)},t.sortInAscendingOrder=function(e,t){var n=new(Array.bind.apply(Array,a([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?-1:1})),new Map(n)},t.sortInDescendingOrder=function(e,t){var n=new(Array.bind.apply(Array,a([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?1:-1})),new Map(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML="http://www.w3.org/1999/xhtml",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/",t.MathML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLink="http://www.w3.org/1999/xlink"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enqueue=function(e,t){e.push(t)},t.dequeue=function(e){return e.shift()||null}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);function u(e,t){var n,r;try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(!t.has(s))return!1}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}t.append=function(e,t){e.add(t)},t.extend=function(e,t){t.forEach(e.add,e)},t.prepend=function(e,t){var n=new Set(e);e.clear(),e.add(t),n.forEach(e.add,e)},t.replace=function(e,t,n){var r,i,a=new Set;try{for(var u=o(e),c=u.next();!c.done;c=u.next()){var l=c.value;s.isFunction(t)?t.call(null,l)?a.add(n):a.add(l):l===t?a.add(n):a.add(l)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}e.clear(),a.forEach(e.add,e)},t.insert=function(e,t,n){var r,i,a=new Set,s=0;try{for(var u=o(e),c=u.next();!c.done;c=u.next()){var l=c.value;s===n&&a.add(t),a.add(l),s++}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}e.clear(),a.forEach(e.add,e)},t.remove=function(e,t){var n,r,i,a;if(s.isFunction(t)){var u=[];try{for(var c=o(e),l=c.next();!l.done;l=c.next()){var f=l.value;t.call(null,f)&&u.push(f)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var d=o(u),p=d.next();!p.done;p=d.next()){var h=p.value;e.delete(h)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}else e.delete(t)},t.empty=function(e){e.clear()},t.contains=function(e,t){var n,r;if(!s.isFunction(t))return e.has(t);try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var u=a.value;if(t.call(null,u))return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.size=function(e,t){var n,r;if(void 0===t)return e.size;var i=0;try{for(var a=o(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.call(null,u)&&i++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.isEmpty=function(e){return 0===e.size},t.forEach=function(e,t){var n,i,a,s,u,c;return r(this,(function(r){switch(r.label){case 0:return void 0!==t?[3,2]:[5,o(e)];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=o(e),i=n.next(),r.label=3;case 3:return i.done?[3,6]:(a=i.value,t.call(null,a)?[4,a]:[3,5]);case 4:r.sent(),r.label=5;case 5:return i=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),u={error:s},[3,9];case 8:try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Set(e)},t.sortInAscendingOrder=function(e,t){var n=new(Array.bind.apply(Array,a([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?-1:1})),new Set(n)},t.sortInDescendingOrder=function(e,t){var n=new(Array.bind.apply(Array,a([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?1:-1})),new Set(n)},t.isSubsetOf=u,t.isSupersetOf=function(e,t){return u(t,e)},t.intersection=function(e,t){var n,r,i=new Set;try{for(var a=o(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.has(u)&&i.add(u)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.union=function(e,t){var n=new Set(e);return t.forEach(n.add,n),n},t.range=function(e,t){for(var n=new Set,r=e;r<=t;r++)n.add(r);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.push=function(e,t){e.push(t)},t.pop=function(e){return e.pop()||null}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),i=n(147),a=n(146),s=n(1);function u(e,t){for(var n=0;;){var r=n<e.length?e.charCodeAt(n):null,o=n<t.length?t.charCodeAt(n):null;if(null===r)return!0;if(r!==o)return!1;n++}}function c(e){var t,n,o=Array.from(e),i=new Uint8Array(o.length),a=0;try{for(var s=r(e),u=s.next();!u.done;u=s.next()){var c=u.value.codePointAt(0);console.assert(void 0!==c&&c<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),void 0!==c&&c<=255&&(i[a++]=c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}function l(e){return/^[\u0000-\u007F]*$/.test(e)}function f(e){var t,n,o="";try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.codePointAt(0);o+=void 0!==u&&u>=65&&u<=90?String.fromCodePoint(u+32):s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}function d(e){return e.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function p(e,t,n){if(!s.isArray(t))return p(e,Array.from(t),n);for(var r="";n.position<t.length&&e.call(null,t[n.position]);)r+=t[n.position],n.position++;return r}function h(e,t){p((function(e){return o.ASCIIWhiteSpace.test(e)}),e,t)}t.isCodeUnitPrefix=u,t.isCodeUnitLessThan=function(e,t){if(u(t,e))return!1;if(u(e,t))return!0;for(var n=0;n<Math.min(e.length,t.length);n++){var r=e.charCodeAt(n),o=t.charCodeAt(n);if(r!==o)return r<o}return!1},t.isomorphicEncode=c,t.isASCIIString=l,t.asciiLowercase=f,t.asciiUppercase=function(e){var t,n,o="";try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.codePointAt(0);o+=void 0!==u&&u>=97&&u<=122?String.fromCodePoint(u-32):s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},t.asciiCaseInsensitiveMatch=function(e,t){return f(e)===f(t)},t.asciiEncode=function(e){return console.assert(l(e),"asciiEncode requires an ASCII string."),c(e)},t.asciiDecode=function(e){var t,n;try{for(var o=r(e),s=o.next();!s.done;s=o.next()){var u=s.value;console.assert(a.isASCIIByte(u),"asciiDecode requires an ASCII byte sequence.")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i.isomorphicDecode(e)},t.stripNewlines=function(e){return e.replace(/[\n\r]/g,"")},t.normalizeNewlines=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")},t.stripLeadingAndTrailingASCIIWhitespace=d,t.stripAndCollapseASCIIWhitespace=function(e){return d(e.replace(/[\t\n\f\r ]{2,}/g," "))},t.collectASequenceOfCodePoints=p,t.skipASCIIWhitespace=h,t.strictlySplit=function e(t,n){if(!s.isArray(t))return e(Array.from(t),n);var r={position:0},o=[],i=p((function(e){return n!==e}),t,r);for(o.push(i);r.position<t.length;)console.assert(t[r.position]===n,"strictlySplit found no delimiter in input string."),r.position++,i=p((function(e){return n!==e}),t,r),o.push(i);return o},t.splitAStringOnASCIIWhitespace=function e(t){if(!s.isArray(t))return e(Array.from(t));var n={position:0},r=[];for(h(t,n);n.position<t.length;){var i=p((function(e){return!o.ASCIIWhiteSpace.test(e)}),t,n);r.push(i),h(t,n)}return r},t.splitAStringOnCommas=function e(t){if(!s.isArray(t))return e(Array.from(t));for(var n={position:0},r=[];n.position<t.length;){var o=p((function(e){return","!==e}),t,n);r.push(d(o)),n.position<t.length&&(console.assert(","===t[n.position],"splitAStringOnCommas found no delimiter in input string."),n.position++)}return r},t.concatenate=function(e,t){return void 0===t&&(t=""),0===e.length?"":e.join(t)}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(96);t.abort_add=function(e,t){t._abortedFlag||t._abortAlgorithms.add(e)},t.abort_remove=function(e,t){t._abortAlgorithms.delete(e)},t.abort_signalAbort=function(e){var t,n;if(!e._abortedFlag){e._abortedFlag=!0;try{for(var i=r(e._abortAlgorithms),a=i.next();!a.done;a=i.next())a.value.call(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e._abortAlgorithms.clear(),o.event_fireAnEvent("abort",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),o=function(){function e(){}return e.asNode=function(e){if(r.Guard.isNode(e))return e;throw new Error("Invalid object. Node expected.")},e}();t.Cast=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.add=function(e){throw new Error("Cannot add to an empty set.")},e.prototype.clear=function(){},e.prototype.delete=function(e){return!1},e.prototype.forEach=function(e,t){},e.prototype.has=function(e){return!1},e.prototype[Symbol.iterator]=function(){return new o},e.prototype.entries=function(){return new o},e.prototype.keys=function(){return new o},e.prototype.values=function(){return new o},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),e}();t.EmptySet=r;var o=function(){function e(){}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return{done:!0,value:null}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SchemeStart=0]="SchemeStart",e[e.Scheme=1]="Scheme",e[e.NoScheme=2]="NoScheme",e[e.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",e[e.PathOrAuthority=4]="PathOrAuthority",e[e.Relative=5]="Relative",e[e.RelativeSlash=6]="RelativeSlash",e[e.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",e[e.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",e[e.Authority=9]="Authority",e[e.Host=10]="Host",e[e.Hostname=11]="Hostname",e[e.Port=12]="Port",e[e.File=13]="File",e[e.FileSlash=14]="FileSlash",e[e.FileHost=15]="FileHost",e[e.PathStart=16]="PathStart",e[e.Path=17]="Path",e[e.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",e[e.Query=19]="Query",e[e.Fragment=20]="Fragment"}(t.ParserState||(t.ParserState={})),t.OpaqueOrigin=["","",null,null]},function(e,t,n){"use strict";var r=n(244),o=n(246);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(247);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var C=(x=x[0]).toLowerCase();this.protocol=C,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!v[x])){for(var A,_,P=-1,O=0;O<d.length;O++)-1!==(E=b.indexOf(d[O]))&&(-1===P||E<P)&&(P=E);for(-1!==(_=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(A=b.slice(0,_),b=b.slice(_+1),this.auth=decodeURIComponent(A)),P=-1,O=0;O<f.length;O++){var E;-1!==(E=b.indexOf(f[O]))&&(-1===P||E<P)&&(P=E)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var D=this.hostname.split(/\./),I=(O=0,D.length);O<I;O++){var k=D[O];if(k&&!k.match(p)){for(var M="",N=0,R=k.length;N<R;N++)k.charCodeAt(N)>127?M+="x":M+=k[N];if(!M.match(p)){var B=D.slice(0,O),L=D.slice(O+1),F=k.match(h);F&&(B.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+j,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[C])for(O=0,I=l.length;O<I;O++){var U=l[O];if(-1!==b.indexOf(U)){var z=encodeURIComponent(U);z===U&&(z=escape(U)),b=b.split(U).join(z)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,C=x,S=n.pathname&&n.pathname.split("/")||[],A=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return A&&(n.hostname=n.host=S.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=S.slice(-1)[0],P=(n.host||e.host||S.length>1)&&("."===_||".."===_)||""===_,O=0,E=S.length;E>=0;E--)"."===(_=S[E])?S.splice(E,1):".."===_?(S.splice(E,1),O++):O&&(S.splice(E,1),O--);if(!x&&!C)for(;O--;O)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),P&&"/"!==S.join("/").substr(-1)&&S.push("");var T,D=""===S[0]||S[0]&&"/"===S[0].charAt(0);return A&&(n.hostname=n.host=D?"":S.length?S.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(x=x||n.host&&S.length)&&!D&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function C(e){var t,n,r,o,i,a,s,c,l,f,d,h=[],g=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,a=1,s=36;o>=g&&m("invalid-input"),((c=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||c>p((u-v)/a))&&m("overflow"),v+=c*a,!(c<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>p(u/(f=36-l))&&m("overflow"),a*=f;w=x(v-i,t=h.length+1,0==i),p(v/t)>u-y&&m("overflow"),y+=p(v/t),v%=t,h.splice(v++,0,y)}return b(h)}function S(e){var t,n,r,o,i,a,s,c,l,f,d,g,v,b,C,S=[];for(g=(e=y(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(d=e[a])<128&&S.push(h(d));for(r=o=S.length,o&&S.push("-");r<g;){for(s=u,a=0;a<g;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>p((u-n)/(v=r+1))&&m("overflow"),n+=(s-t)*v,t=s,a=0;a<g;++a)if((d=e[a])<t&&++n>u&&m("overflow"),d==t){for(c=n,l=36;!(c<(f=l<=i?1:l>=i+26?26:l-i));l+=36)C=c-f,b=36-f,S.push(h(w(f+C%b,0))),c=p(C/b);S.push(h(w(c,0))),i=x(n,v,r==o),n=0,++r}++n,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:C,encode:S,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(245)(e),n(77))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(248),t.encode=t.stringify=n(249)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,p,h,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52);t.attr_setAnExistingAttributeValue=function(e,t){null===e._element?e._value=t:r.element_change(e,e._element,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(107),o=n(30),i=n(52);t.tokenList_validationSteps=function(e,t){if(!o.dom_hasSupportedTokens(e._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+e._attribute._localName+"'.");return o.dom_getSupportedTokens(e._attribute._localName).has(t.toLowerCase())},t.tokenList_updateSteps=function(e){(e._element.hasAttribute(e._attribute._localName)||0!==e._tokenSet.size)&&i.element_setAnAttributeValue(e._element,e._attribute._localName,r.orderedSet_serialize(e._tokenSet))},t.tokenList_serializeSteps=function(e){return i.element_getAnAttributeValue(e._element,e._attribute._localName)}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function i(e){return o.isBoolean(e)?e:e.capture||!1}t.eventTarget_flatten=i,t.eventTarget_flattenMore=function(e){var t=i(e),n=!1,r=!1;return o.isBoolean(e)||(n=e.once||!1,r=e.passive||!1),[t,r,n]},t.eventTarget_addEventListener=function(e,t){if(null!==t.callback){for(var n=0;n<e._eventListenerList.length;n++){var r=e._eventListenerList[n];if(r.type===t.type&&r.callback.handleEvent===t.callback.handleEvent&&r.capture===t.capture)return}e._eventListenerList.push(t)}},t.eventTarget_removeEventListener=function(e,t,n){t.removed=!0,e._eventListenerList.splice(n,1)},t.eventTarget_removeAllEventListeners=function(e){var t,n;try{for(var o=r(e._eventListenerList),i=o.next();!i.done;i=o.next())i.value.removed=!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e._eventListenerList.length=0}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(29);t.parentNode_convertNodesIntoANode=function(e,t){for(var n,a,s=null,u=0;u<e.length;u++){var c=e[u];if(o.isString(c)){var l=i.create_text(t,c);e[u]=l}}if(1===e.length)s=e[0];else{var f=s=i.create_documentFragment(t);try{for(var d=r(e),p=d.next();!p.done;p=d.next())c=p.value,f.appendChild(c)}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}}return s}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(9),u=n(3),c=n(29),l=n(17),f=n(175),d=n(106),p=n(176),h=n(37),m=n(177);function g(e){return e._startNode===e._endNode&&e._startOffset===e._endOffset}function v(e){return l.tree_rootNode(e._startNode)}function y(e,t){return l.tree_rootNode(e)===v(t)&&f.boundaryPoint_position([e,0],t._start)===a.BoundaryPosition.After&&f.boundaryPoint_position([e,l.tree_nodeLength(e)],t._end)===a.BoundaryPosition.Before}function b(e,t){var n=l.tree_isAncestorOf(t._startNode,e,!0),r=l.tree_isAncestorOf(t._endNode,e,!0);return n&&!r||!n&&r}function w(e){var t,n,o,a,f,m,v=c.create_documentFragment(e._startNode._nodeDocument);if(g(e))return v;var x=e._startNode,C=e._startOffset,S=e._endNode,A=e._endOffset;if(x===S&&u.Guard.isCharacterDataNode(x))return(j=p.node_clone(x))._data=d.characterData_substringData(x,C,A-C),h.mutation_append(j,v),d.characterData_replaceData(x,C,A-C,""),v;for(var _=x;!l.tree_isAncestorOf(S,_,!0);){if(null===_._parent)throw new Error("Parent node  is null.");_=_._parent}var P=null;if(!l.tree_isAncestorOf(S,x,!0))try{for(var O=r(_._children),E=O.next();!E.done;E=O.next())if(b(k=E.value,e)){P=k;break}}catch(e){t={error:e}}finally{try{E&&!E.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}var T=null;if(!l.tree_isAncestorOf(x,S,!0))for(var D=i(_._children),I=D.length-1;I>0;I--){var k;if(b(k=D[I],e)){T=k;break}}var M,N,R=[];try{for(var B=r(_._children),L=B.next();!L.done;L=B.next())if(y(G=L.value,e)){if(u.Guard.isDocumentTypeNode(G))throw new s.HierarchyRequestError;R.push(G)}}catch(e){o={error:e}}finally{try{L&&!L.done&&(a=B.return)&&a.call(B)}finally{if(o)throw o.error}}if(l.tree_isAncestorOf(S,x,!0))M=x,N=C;else{for(var F=x;null!==F._parent&&!l.tree_isAncestorOf(S,F._parent);)F=F._parent;if(null===F._parent)throw new Error("Parent node is null.");M=F._parent,N=1+l.tree_index(F)}if(u.Guard.isCharacterDataNode(P))(j=p.node_clone(x))._data=d.characterData_substringData(x,C,l.tree_nodeLength(x)-C),h.mutation_append(j,v),d.characterData_replaceData(x,C,l.tree_nodeLength(x)-C,"");else if(null!==P){var j=p.node_clone(P);h.mutation_append(j,v);var V=w(c.create_range([x,C],[P,l.tree_nodeLength(P)]));h.mutation_append(V,j)}try{for(var U=r(R),z=U.next();!z.done;z=U.next()){var G=z.value;h.mutation_append(G,v)}}catch(e){f={error:e}}finally{try{z&&!z.done&&(m=U.return)&&m.call(U)}finally{if(f)throw f.error}}return u.Guard.isCharacterDataNode(T)?((j=p.node_clone(S))._data=d.characterData_substringData(S,0,A),h.mutation_append(j,v),d.characterData_replaceData(S,0,A,"")):null!==T&&(j=p.node_clone(T),h.mutation_append(j,v),V=w(c.create_range([T,0],[S,A])),h.mutation_append(V,j)),e._start=[M,N],e._end=[M,N],v}t.range_collapsed=g,t.range_root=v,t.range_isContained=y,t.range_isPartiallyContained=b,t.range_setTheStart=function(e,t,n){if(u.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(n>l.tree_nodeLength(t))throw new s.IndexSizeError;var r=[t,n];v(e)===l.tree_rootNode(t)&&f.boundaryPoint_position(r,e._end)!==a.BoundaryPosition.After||(e._end=r),e._start=r},t.range_setTheEnd=function(e,t,n){if(u.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(n>l.tree_nodeLength(t))throw new s.IndexSizeError;var r=[t,n];v(e)===l.tree_rootNode(t)&&f.boundaryPoint_position(r,e._start)!==a.BoundaryPosition.Before||(e._start=r),e._end=r},t.range_select=function(e,t){var n=e._parent;if(null===n)throw new s.InvalidNodeTypeError;var r=l.tree_index(e);t._start=[n,r],t._end=[n,r+1]},t.range_extract=w,t.range_cloneTheContents=function e(t){var n,o,a,f,m,v,x=c.create_documentFragment(t._startNode._nodeDocument);if(g(t))return x;var C=t._startNode,S=t._startOffset,A=t._endNode,_=t._endOffset;C===A&&u.Guard.isCharacterDataNode(C)&&((L=p.node_clone(C))._data=d.characterData_substringData(C,S,_-S),h.mutation_append(L,x));for(var P=C;!l.tree_isAncestorOf(A,P,!0);){if(null===P._parent)throw new Error("Parent node  is null.");P=P._parent}var O=null;if(!l.tree_isAncestorOf(A,C,!0))try{for(var E=r(P._children),T=E.next();!T.done;T=E.next())if(b(M=T.value,t)){O=M;break}}catch(e){n={error:e}}finally{try{T&&!T.done&&(o=E.return)&&o.call(E)}finally{if(n)throw n.error}}var D=null;if(!l.tree_isAncestorOf(C,A,!0))for(var I=i(P._children),k=I.length-1;k>0;k--){var M;if(b(M=I[k],t)){D=M;break}}var N=[];try{for(var R=r(P._children),B=R.next();!B.done;B=R.next())if(y(U=B.value,t)){if(u.Guard.isDocumentTypeNode(U))throw new s.HierarchyRequestError;N.push(U)}}catch(e){a={error:e}}finally{try{B&&!B.done&&(f=R.return)&&f.call(R)}finally{if(a)throw a.error}}if(u.Guard.isCharacterDataNode(O))(L=p.node_clone(C))._data=d.characterData_substringData(C,S,l.tree_nodeLength(C)-S),h.mutation_append(L,x);else if(null!==O){var L=p.node_clone(O);h.mutation_append(L,x);var F=e(c.create_range([C,S],[O,l.tree_nodeLength(O)]));h.mutation_append(F,L)}try{for(var j=r(N),V=j.next();!V.done;V=j.next()){var U=V.value;L=p.node_clone(U),h.mutation_append(L,x)}}catch(e){m={error:e}}finally{try{V&&!V.done&&(v=j.return)&&v.call(j)}finally{if(m)throw m.error}}return u.Guard.isCharacterDataNode(D)?((L=p.node_clone(A))._data=d.characterData_substringData(A,0,_),h.mutation_append(L,x)):null!==D&&(L=p.node_clone(D),x.append(L),F=w(c.create_range([D,0],[A,_])),h.mutation_append(F,L)),x},t.range_insert=function(e,t){var n,o;if(u.Guard.isProcessingInstructionNode(t._startNode)||u.Guard.isCommentNode(t._startNode)||u.Guard.isTextNode(t._startNode)&&null===t._startNode._parent||t._startNode===e)throw new s.HierarchyRequestError;var i,a=null;if(u.Guard.isTextNode(t._startNode))a=t._startNode;else{var c=0;try{for(var f=r(t._startNode._children),d=f.next();!d.done;d=f.next()){var p=d.value;if(c===t._startOffset){a=p;break}c++}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}if(null===a)i=t._startNode;else{if(null===a._parent)throw new Error("Parent node is null.");i=a._parent}h.mutation_ensurePreInsertionValidity(e,i,a),u.Guard.isTextNode(t._startNode)&&(a=m.text_split(t._startNode,t._startOffset)),e===a&&(a=e._nextSibling),null!==e._parent&&h.mutation_remove(e,e._parent);var v=null===a?l.tree_nodeLength(i):l.tree_index(a);u.Guard.isDocumentFragmentNode(e)?v+=l.tree_nodeLength(e):v++,h.mutation_preInsert(e,i,a),g(t)&&(t._end=[i,v])},t.range_getContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,n=l.tree_getFirstDescendantNode(t);return{next:function(){for(;n&&!y(n,e);)n=l.tree_getNextDescendantNode(t,n);if(null===n)return{done:!0,value:null};var r={done:!1,value:n};return n=l.tree_getNextDescendantNode(t,n),r}}},t},t.range_getPartiallyContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,n=l.tree_getFirstDescendantNode(t);return{next:function(){for(;n&&!b(n,e);)n=l.tree_getNextDescendantNode(t,n);if(null===n)return{done:!0,value:null};var r={done:!1,value:n};return n=l.tree_getNextDescendantNode(t,n),r}}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.selectors_scopeMatchASelectorsString=function(e,t){throw new r.NotSupportedError}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(104);t.treeWalker_traverseChildren=function(e,t){for(var n=t?e._current._firstChild:e._current._lastChild;null!==n;){var i=o.traversal_filter(e,n);if(i===r.FilterResult.Accept)return e._current=n,n;if(i===r.FilterResult.Skip){var a=t?n._firstChild:n._lastChild;if(null!==a){n=a;continue}}for(;null!==n;){var s=t?n._nextSibling:n._previousSibling;if(null!==s){n=s;break}var u=n._parent;if(null===u||u===e._root||u===e._current)return null;n=u}}return null},t.treeWalker_traverseSiblings=function(e,t){var n=e._current;if(n===e._root)return null;for(;;){for(var i=t?n._nextSibling:n._previousSibling;null!==i;){n=i;var a=o.traversal_filter(e,n);if(a===r.FilterResult.Accept)return e._current=n,n;i=t?n._firstChild:n._lastChild,a!==r.FilterResult.Reject&&null!==i||(i=t?n._nextSibling:n._previousSibling)}if(null===(n=n._parent)||n===e._root)return null;if(o.traversal_filter(e,n)===r.FilterResult.Accept)return null}}},function(e,t,n){"use strict";n(88),n(73);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(50),u=n(3),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._indentation={},r._lengthToLastNewline=0,r._writerOptions=i.applyDefaults(n,{wellFormed:!1,noDoubleEncoding:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:"\n",offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),r}return o(t,e),t.prototype.serialize=function(e){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},e.nodeType!==a.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(e,this._writerOptions.wellFormed,this._writerOptions.noDoubleEncoding),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},t.prototype.declaration=function(e,t,n){this._beginLine(),this._refs.markup+='<?xml version="'+e+'"',void 0!==t&&(this._refs.markup+=' encoding="'+t+'"'),void 0!==n&&(this._refs.markup+=' standalone="'+(n?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},t.prototype.docType=function(e,t,n){this._beginLine(),this._refs.markup+=t&&n?"<!DOCTYPE "+e+' PUBLIC "'+t+'" "'+n+'">':t?"<!DOCTYPE "+e+' PUBLIC "'+t+'">':n?"<!DOCTYPE "+e+' SYSTEM "'+n+'">':"<!DOCTYPE "+e+">",this._endLine()},t.prototype.openTagBegin=function(e){this._beginLine(),this._refs.markup+="<"+e},t.prototype.openTagEnd=function(e,t,n){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!t&&!n){for(var r=!0,o=!0,i=this.currentNode.firstChild,a=0,s=0;i;){if(u.Guard.isExclusiveTextNode(i))s++;else{if(!u.Guard.isCDATASectionNode(i)){r=!1,o=!1;break}a++}""!==i.data&&(o=!1),i=i.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&r&&(a<=1&&0===s||0===a),this._refs.emptyNode=o}(n||t||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+e+">":this._refs.markup+=n?" />":t||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},t.prototype.closeTag=function(e){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+e+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},t.prototype.attribute=function(e,t){var n=e+'="'+t+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+n.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+n):this._refs.markup+=" "+n},t.prototype.text=function(e){""!==e&&(this._beginLine(),this._refs.markup+=e,this._endLine())},t.prototype.cdata=function(e){""!==e&&(this._beginLine(),this._refs.markup+="<![CDATA["+e+"]]>",this._endLine())},t.prototype.comment=function(e){this._beginLine(),this._refs.markup+="\x3c!--"+e+"--\x3e",this._endLine()},t.prototype.instruction=function(e,t){this._beginLine(),this._refs.markup+="<?"+(""===t?e:e+" "+t)+"?>",this._endLine()},t.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},t.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},t.prototype._indent=function(e){if(e<=0)return"";if(void 0!==this._indentation[e])return this._indentation[e];var t=this._writerOptions.indent.repeat(e);return this._indentation[e]=t,t},t}(s.BaseWriter);t.XMLWriter=c},function(e,t,n){"use strict";var r=n(47),o=n(35);e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){"use strict";n(31),n(32),n(33),n(19),n(178),n(20),n(22),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(67),s=n(1),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=s.applyDefaults(n,{wellFormed:!1,noDoubleEncoding:!1,prettyPrint:!1,indent:"  ",newline:"\n",offset:0,group:!1,verbose:!1}),r}return o(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,noDoubleEncoding:!1}),n=new a.ObjectWriter(this._builderOptions,t).serialize(e);return this._beginLine(this._writerOptions,0)+this._convertObject(n,this._writerOptions)},t.prototype._convertObject=function(e,t,n){var r,o,a=this;void 0===n&&(n=0);var u="",c=this._isLeafNode(e);if(s.isArray(e)){u+="[";var l=e.length,f=0;try{for(var d=i(e),p=d.next();!p.done;p=d.next()){var h=p.value;u+=this._endLine(t,n+1)+this._beginLine(t,n+1)+this._convertObject(h,t,n+1),f<l-1&&(u+=","),f++}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}u+=this._endLine(t,n)+this._beginLine(t,n),u+="]"}else if(s.isObject(e)){u+="{";var m=s.objectLength(e),g=0;s.forEachObject(e,(function(e,r){c&&t.prettyPrint?u+=" ":u+=a._endLine(t,n+1)+a._beginLine(t,n+1),u+=a._key(e),t.prettyPrint&&(u+=" "),u+=a._convertObject(r,t,n+1),g<m-1&&(u+=","),g++}),this),c&&t.prettyPrint?u+=" ":u+=this._endLine(t,n)+this._beginLine(t,n),u+="}"}else u+=this._val(e);return u},t.prototype._beginLine=function(e,t){if(!e.prettyPrint)return"";var n=e.offset+t+1;return n>0?new Array(n).join(e.indent):""},t.prototype._endLine=function(e,t){return e.prettyPrint?e.newline:""},t.prototype._key=function(e){return'"'+e+'":'},t.prototype._val=function(e){return JSON.stringify(e)},t.prototype._isLeafNode=function(e){return this._descendantCount(e)<=1},t.prototype._descendantCount=function(e,t){var n=this;return void 0===t&&(t=0),s.isArray(e)?s.forEachArray(e,(function(e){return t+=n._descendantCount(e,t)}),this):s.isObject(e)?s.forEachObject(e,(function(e,r){return t+=n._descendantCount(r,t)}),this):t++,t},t}(n(50).BaseWriter);t.JSONWriter=u},function(e,t,n){"use strict";n(31),n(32),n(33),n(19),n(178),n(88),n(20),n(22),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(67),s=n(1),u=function(e){function t(t,n){var r=e.call(this,t)||this;if(r._writerOptions=s.applyDefaults(n,{wellFormed:!1,noDoubleEncoding:!1,indent:"  ",newline:"\n",offset:0,group:!1,verbose:!1}),r._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(r._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return r}return o(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,noDoubleEncoding:!1}),n=new a.ObjectWriter(this._builderOptions,t).serialize(e),r=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(n,this._writerOptions,0);return r.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(r=r.slice(0,-this._writerOptions.newline.length)),r},t.prototype._convertObject=function(e,t,n,r){var o,a,u=this;void 0===r&&(r=!1);var c="";if(s.isArray(e))try{for(var l=i(e),f=l.next();!f.done;f=l.next()){var d=f.value;c+=this._beginLine(t,n,!0),s.isObject(d)?s.isEmpty(d)?c+='""'+this._endLine(t):c+=this._convertObject(d,t,n,!0):c+=this._val(d)+this._endLine(t)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}else s.forEachObject(e,(function(e,o){r?(c+=u._key(e),r=!1):c+=u._beginLine(t,n)+u._key(e),s.isObject(o)?s.isEmpty(o)?c+=' ""'+u._endLine(t):c+=u._endLine(t)+u._convertObject(o,t,n+1):c+=" "+u._val(o)+u._endLine(t)}),this);return c},t.prototype._beginLine=function(e,t,n){void 0===n&&(n=!1);var r=e.offset+t+1,o=new Array(r).join(e.indent);return n?o.substr(0,o.length-2)+"-"+o.substr(-1,1):o},t.prototype._endLine=function(e){return e.newline},t.prototype._key=function(e){return'"'+e+'":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(50).BaseWriter);t.YAMLWriter=u},function(e,t,n){var r=n(4),o=n(82),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(109).dom.setFeatures(!0);var r=n(109);t.DOMImplementation=r.DOMImplementation;var o=n(271);t.DOMParser=o.DOMParser;var i=n(274);t.XMLSerializer=i.XMLSerializer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=function(){function e(){}return e.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.Cast.asNode(this),i=n._parent;if(null!==i){for(var a=n._previousSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++)if(e[u]===a){a=a._previousSibling,s=!0;break}}var c=o.parentNode_convertNodesIntoANode(e,n._nodeDocument);a=null===a?i._firstChild:a._nextSibling,o.mutation_preInsert(c,i,a)}},e.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.Cast.asNode(this),i=n._parent;if(i){for(var a=n._nextSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++)if(e[u]===a){a=a._nextSibling,s=!0;break}}var c=o.parentNode_convertNodesIntoANode(e,n._nodeDocument);o.mutation_preInsert(c,i,a)}},e.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.Cast.asNode(this),i=n._parent;if(i){for(var a=n._nextSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++)if(e[u]===a){a=a._nextSibling,s=!0;break}}var c=o.parentNode_convertNodesIntoANode(e,n._nodeDocument);n._parent===i?o.mutation_replace(n,c,i):o.mutation_preInsert(c,i,a)}},e.prototype.remove=function(){var e=r.Cast.asNode(this),t=e._parent;t&&o.mutation_remove(e,t)},e}();t.ChildNodeImpl=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOrShadowRootImpl=function(){}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(3),a=n(7),s=function(){function e(e){this._nodeList=[],this._recordQueue=[],this._callback=e;var t=o.dom.window;a.set.append(t._mutationObservers,this)}return e.prototype.observe=function(e,t){var n,o;if(void 0===(t=t||{childList:!1,subtree:!1}).attributeOldValue&&void 0===t.attributeFilter||void 0!==t.attributes||(t.attributes=!0),void 0!==t.characterDataOldValue&&void 0===t.characterData&&(t.characterData=!0),!t.childList&&!t.attributes&&!t.characterData)throw new TypeError;if(t.attributeOldValue&&!t.attributes)throw new TypeError;if(void 0!==t.attributeFilter&&!t.attributes)throw new TypeError;if(t.characterDataOldValue&&!t.characterData)throw new TypeError;var s=!1,u=t,c=function(e){var t,n;if(e.observer===l){s=!0;try{for(var o=(t=void 0,r(l._nodeList)),c=o.next();!c.done;c=o.next()){var f=c.value;a.list.remove(f._registeredObserverList,(function(t){return i.Guard.isTransientRegisteredObserver(t)&&t.source===e}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.options=u}},l=this;try{for(var f=r(e._registeredObserverList),d=f.next();!d.done;d=f.next())c(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}s||(e._registeredObserverList.push({observer:this,options:t}),this._nodeList.push(e))},e.prototype.disconnect=function(){var e,t,n=this;try{for(var o=r(this._nodeList),i=o.next();!i.done;i=o.next()){var s=i.value;a.list.remove(s._registeredObserverList,(function(e){return e.observer===n}))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this._recordQueue=[]},e.prototype.takeRecords=function(){var e=this._recordQueue;return this._recordQueue=[],e},e}();t.MutationObserverImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(){}return Object.defineProperty(e.prototype,"previousElementSibling",{get:function(){for(var e=r.Cast.asNode(this)._previousSibling;e;){if(r.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextElementSibling",{get:function(){for(var e=r.Cast.asNode(this)._nextSibling;e;){if(r.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),e}();t.NonDocumentTypeChildNodeImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=function(){function e(){}return e.prototype.getElementById=function(e){for(var t=o.tree_getFirstDescendantNode(r.Cast.asNode(this),!1,!1,(function(e){return r.Guard.isElementNode(e)}));null!==t;){if(t._uniqueIdentifier===e)return t;t=o.tree_getNextDescendantNode(r.Cast.asNode(this),t,!1,!1,(function(e){return r.Guard.isElementNode(e)}))}return null},e}();t.NonElementParentNodeImpl=i},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(0),a=function(){function e(){}return Object.defineProperty(e.prototype,"children",{get:function(){return i.create_htmlCollection(o.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){for(var e=o.Cast.asNode(this)._firstChild;e;){if(o.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){for(var e=o.Cast.asNode(this)._lastChild;e;){if(o.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){var e,t,n=0;try{for(var i=r(o.Cast.asNode(this)._children),a=i.next();!a.done;a=i.next()){var s=a.value;o.Guard.isElementNode(s)&&n++}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),e.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.Cast.asNode(this),r=i.parentNode_convertNodesIntoANode(e,n._nodeDocument);i.mutation_preInsert(r,n,n._firstChild)},e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.Cast.asNode(this),r=i.parentNode_convertNodesIntoANode(e,n._nodeDocument);i.mutation_append(r,n)},e.prototype.querySelector=function(e){var t=o.Cast.asNode(this),n=i.selectors_scopeMatchASelectorsString(e,t);return 0===n.length?null:n[0]},e.prototype.querySelectorAll=function(e){var t=o.Cast.asNode(this),n=i.selectors_scopeMatchASelectorsString(e,t);return i.create_nodeListStatic(t,n)},e}();t.ParentNodeImpl=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){}return Object.defineProperty(e.prototype,"_name",{get:function(){return this.__name||""},set:function(e){this.__name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(e){this.__assignedSlot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assignedSlot",{get:function(){return r.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),e}();t.SlotableImpl=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(101),a=n(9),s=n(3),u=function(e){function t(t){var n=e.call(this)||this;if(s.Guard.isDocumentTypeNode(t.startContainer)||s.Guard.isAttrNode(t.startContainer)||s.Guard.isDocumentTypeNode(t.endContainer)||s.Guard.isAttrNode(t.endContainer))throw new a.InvalidNodeTypeError;return n._start=[t.startContainer,t.startOffset],n._end=[t.endContainer,t.endOffset],n}return o(t,e),t}(i.AbstractRangeImpl);t.StaticRangeImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(272);t.DOMParser=r.DOMParserImpl},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(273),i=function(){function e(){}return e.prototype.parseFromString=function(e,t){if("text/html"===t)throw new Error("HTML parser not implemented.");try{return(n=(new o.XMLParserImpl).parse(e))._contentType=t,n}catch(e){var n,i="http://www.mozilla.org/newlayout/xml/parsererror.xml",a=(n=r.create_xmlDocument()).createElementNS(i,"parsererror"),s=n.createElementNS(i,"error");return s.setAttribute("message",e.message),a.appendChild(s),n.appendChild(a),n}},e}();t.DOMParserImpl=i},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(179),a=n(110),s=n(7),u=n(0),c=n(68),l=function(){function e(){}return e.prototype.parse=function(e){for(var t,n,l,f,d=new i.XMLStringLexer(e,{skipWhitespaceOnlyText:!0}),p=u.create_document(),h=p,m=d.nextToken();m.type!==a.TokenType.EOF;){switch(m.type){case a.TokenType.Declaration:var g=m;if("1.0"!==g.version)throw new Error("Invalid xml version: "+g.version);break;case a.TokenType.DocType:var v=m;if(!u.xml_isPubidChar(v.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!u.xml_isLegalChar(v.sysId)||-1!==v.sysId.indexOf('"')&&-1!==v.sysId.indexOf("'"))throw new Error("DocType system identifier contains invalid characters.");h.appendChild(p.implementation.createDocumentType(v.name,v.pubId,v.sysId));break;case a.TokenType.CDATA:var y=m;if(!u.xml_isLegalChar(y.data)||-1!==y.data.indexOf("]]>"))throw new Error("CDATA contains invalid characters.");h.appendChild(p.createCDATASection(y.data));break;case a.TokenType.Comment:var b=m;if(!u.xml_isLegalChar(b.data)||-1!==b.data.indexOf("--")||b.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");h.appendChild(p.createComment(b.data));break;case a.TokenType.PI:var w=m;if(-1!==w.target.indexOf(":")||/^xml$/i.test(w.target))throw new Error("Processing instruction target contains invalid characters.");if(!u.xml_isLegalChar(w.data)||-1!==w.data.indexOf("?>"))throw new Error("Processing instruction data contains invalid characters.");h.appendChild(p.createProcessingInstruction(w.target,w.data));break;case a.TokenType.Text:var x=m;if(!u.xml_isLegalChar(x.data))throw new Error("Text data contains invalid characters.");h.appendChild(p.createTextNode(x.data));break;case a.TokenType.Element:var C=m,S=r(u.namespace_extractQName(C.name),2),A=S[0],_=S[1];if(-1!==_.indexOf(":")||!u.xml_isName(_))throw new Error("Node local name contains invalid characters.");if("xmlns"===A)throw new Error("An element cannot have the 'xmlns' prefix.");var P=h.lookupNamespaceURI(A),O={};try{for(var E=(t=void 0,o(C.attributes)),T=E.next();!T.done;T=E.next()){var D=r(T.value,2),I=D[0],k=D[1];if("xmlns"===I)P=k;else{var M=r(u.namespace_extractQName(I),2),N=M[0],R=M[1];"xmlns"===N&&(R===A&&(P=k),O[R]=k)}}}catch(e){t={error:e}}finally{try{T&&!T.done&&(n=E.return)&&n.call(E)}finally{if(t)throw t.error}}var B=null!==P?p.createElementNS(P,C.name):p.createElement(C.name);h.appendChild(B);var L=new c.LocalNameSet;try{for(var F=(l=void 0,o(C.attributes)),j=F.next();!j.done;j=F.next()){var V=r(j.value,2),U=(I=V[0],k=V[1],r(u.namespace_extractQName(I),2)),z=(N=U[0],R=U[1],null);if("xmlns"===N||null===N&&"xmlns"===R?z=s.namespace.XMLNS:null!==(z=B.lookupNamespaceURI(N))&&B.isDefaultNamespace(z)?z=null:null===z&&null!==N&&(z=O[N]||null),L.has(z,R))throw new Error("Element contains duplicate attributes.");if(L.set(z,R),z===s.namespace.XMLNS&&k===s.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(-1!==R.indexOf(":")||!u.xml_isName(R))throw new Error("Attribute local name contains invalid characters.");if("xmlns"===N&&""===k)throw new Error("Empty XML namespace is not allowed.");null!==z?B.setAttributeNS(z,I,k):B.setAttribute(I,k)}}catch(e){l={error:e}}finally{try{j&&!j.done&&(f=F.return)&&f.call(F)}finally{if(l)throw l.error}}C.selfClosing||(h=B);break;case a.TokenType.ClosingTag:if(m.name!==h.nodeName)throw new Error("Closing tag name does not match opening tag name.");h._parent&&(h=h._parent)}m=d.nextToken()}return p},e}();t.XMLParserImpl=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(275);t.XMLSerializer=r.XMLSerializerImpl},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(68),a=n(94),s=n(9),u=n(7),c=n(0),l=function(){function e(){}return e.prototype.serializeToString=function(e){return this._xmlSerialization(e,!1)},e.prototype._xmlSerialization=function(e,t){if(void 0===e._nodeDocument||e._nodeDocument._hasNamespaces){var n=new a.NamespacePrefixMap;n.set("xml",u.namespace.XML);try{return this._serializeNodeNS(e,null,n,{value:1},t)}catch(e){throw new s.InvalidStateError}}else try{return this._serializeNode(e,t)}catch(e){throw new s.InvalidStateError}},e.prototype._serializeNodeNS=function(e,t,n,r,i){switch(e.nodeType){case o.NodeType.Element:return this._serializeElementNS(e,t,n,r,i);case o.NodeType.Document:return this._serializeDocumentNS(e,t,n,r,i);case o.NodeType.Comment:return this._serializeComment(e,i);case o.NodeType.Text:return this._serializeText(e,i);case o.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(e,t,n,r,i);case o.NodeType.DocumentType:return this._serializeDocumentType(e,i);case o.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,i);case o.NodeType.CData:return this._serializeCData(e,i);default:throw new Error("Unknown node type: "+e.nodeType)}},e.prototype._serializeNode=function(e,t){switch(e.nodeType){case o.NodeType.Element:return this._serializeElement(e,t);case o.NodeType.Document:return this._serializeDocument(e,t);case o.NodeType.Comment:return this._serializeComment(e,t);case o.NodeType.Text:return this._serializeText(e,t);case o.NodeType.DocumentFragment:return this._serializeDocumentFragment(e,t);case o.NodeType.DocumentType:return this._serializeDocumentType(e,t);case o.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,t);case o.NodeType.CData:return this._serializeCData(e,t);default:throw new Error("Unknown node type: "+e.nodeType)}},e.prototype._serializeElementNS=function(t,n,o,i,a){var s,l;if(a&&(-1!==t.localName.indexOf(":")||!c.xml_isName(t.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var f="<",d="",p=!1,h=!1,m=o.copy(),g={},v=this._recordNamespaceInformation(t,m,g),y=n,b=t.namespaceURI;if(y===b)null!==v&&(h=!0),f+=d=b===u.namespace.XML?"xml:"+t.localName:t.localName;else{var w=t.prefix,x=null;if(null===w&&b===v||(x=m.get(w,b)),"xmlns"===w){if(a)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");x=w}null!==x?(d=x+":"+t.localName,null!==v&&v!==u.namespace.XML&&(y=v||null),f+=d):null!==w?(w in g&&(w=this._generatePrefix(b,m,i)),m.set(w,b),f+=d+=w+":"+t.localName,f+=" xmlns:"+w+'="'+this._serializeAttributeValue(b,a)+'"',null!==v&&(y=v||null)):null===v||null!==v&&v!==b?(h=!0,y=b,f+=d+=t.localName,f+=' xmlns="'+this._serializeAttributeValue(b,a)+'"'):(y=b,f+=d+=t.localName)}f+=this._serializeAttributesNS(t,m,i,g,h,a);var C=b===u.namespace.HTML;if(C&&0===t.childNodes.length&&e._VoidElementNames.has(t.localName)?(f+=" /",p=!0):C||0!==t.childNodes.length||(f+="/",p=!0),f+=">",p)return f;if(C&&"template"===t.localName);else try{for(var S=r(t._children||t.childNodes),A=S.next();!A.done;A=S.next()){var _=A.value;f+=this._serializeNodeNS(_,y,m,i,a)}}catch(e){s={error:e}}finally{try{A&&!A.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}return f+"</"+d+">"},e.prototype._serializeDocumentNS=function(e,t,n,o,i){var a,s;if(i&&null===e.documentElement)throw new Error("Missing document element (well-formed required).");var u="";try{for(var c=r(e._children||e.childNodes),l=c.next();!l.done;l=c.next()){var f=l.value;u+=this._serializeNodeNS(f,t,n,o,i)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return u},e.prototype._serializeComment=function(e,t){if(t&&(!c.xml_isLegalChar(e.data)||-1!==e.data.indexOf("--")||e.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"\x3c!--"+e.data+"--\x3e"},e.prototype._serializeText=function(e,t){if(t&&!c.xml_isLegalChar(e.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var n="",r=0;r<e.data.length;r++){var o=e.data[r];n+="&"===o?"&amp;":"<"===o?"&lt;":">"===o?"&gt;":o}return n},e.prototype._serializeDocumentFragmentNS=function(e,t,n,o,i){var a,s,u="";try{for(var c=r(e._children||e.childNodes),l=c.next();!l.done;l=c.next()){var f=l.value;u+=this._serializeNodeNS(f,t,n,o,i)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return u},e.prototype._serializeDocumentType=function(e,t){if(t&&!c.xml_isPubidChar(e.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(t&&(!c.xml_isLegalChar(e.systemId)||-1!==e.systemId.indexOf('"')&&-1!==e.systemId.indexOf("'")))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return e.publicId&&e.systemId?"<!DOCTYPE "+e.name+' PUBLIC "'+e.publicId+'" "'+e.systemId+'">':e.publicId?"<!DOCTYPE "+e.name+' PUBLIC "'+e.publicId+'">':e.systemId?"<!DOCTYPE "+e.name+' SYSTEM "'+e.systemId+'">':"<!DOCTYPE "+e.name+">"},e.prototype._serializeProcessingInstruction=function(e,t){if(t&&(-1!==e.target.indexOf(":")||/^xml$/i.test(e.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(t&&(!c.xml_isLegalChar(e.data)||-1!==e.data.indexOf("?>")))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(""===e.data?e.target:e.target+" "+e.data)+"?>"},e.prototype._serializeCData=function(e,t){if(t&&-1!==e.data.indexOf("]]>"))throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+e.data+"]]>"},e.prototype._serializeAttributesNS=function(e,t,n,o,a,s){var l,f,d="",p=s?new i.LocalNameSet:void 0;try{for(var h=r(e.attributes),m=h.next();!m.done;m=h.next()){var g=m.value;if(a||s||null!==g.namespaceURI){if(s&&p&&p.has(g.namespaceURI,g.localName))throw new Error("Element contains duplicate attributes (well-formed required).");s&&p&&p.set(g.namespaceURI,g.localName);var v=g.namespaceURI,y=null;if(null!==v)if(y=t.get(g.prefix,v),v===u.namespace.XMLNS){if(g.value===u.namespace.XML||null===g.prefix&&a||null!==g.prefix&&(!(g.localName in o)||o[g.localName]!==g.value)&&t.has(g.localName,g.value))continue;if(s&&g.value===u.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(s&&""===g.value)throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");"xmlns"===g.prefix&&(y="xmlns")}else null===y&&(d+=" xmlns:"+(y=null===g.prefix||t.hasPrefix(g.prefix)&&!t.has(g.prefix,v)?this._generatePrefix(v,t,n):g.prefix)+'="'+this._serializeAttributeValue(v,s)+'"');if(d+=" ",null!==y&&(d+=y+":"),s&&(-1!==g.localName.indexOf(":")||!c.xml_isName(g.localName)||"xmlns"===g.localName&&null===v))throw new Error("Attribute local name contains invalid characters (well-formed required).");d+=g.localName+'="'+this._serializeAttributeValue(g.value,s)+'"'}else d+=" "+g.localName+'="'+this._serializeAttributeValue(g.value,s)+'"'}}catch(e){l={error:e}}finally{try{m&&!m.done&&(f=h.return)&&f.call(h)}finally{if(l)throw l.error}}return d},e.prototype._recordNamespaceInformation=function(e,t,n){var o,i,a=null;try{for(var s=r(e.attributes),c=s.next();!c.done;c=s.next()){var l=c.value,f=l.namespaceURI,d=l.prefix;if(f===u.namespace.XMLNS){if(null===d){a=l.value;continue}var p=l.localName,h=l.value;if(h===u.namespace.XML)continue;if(""===h&&(h=null),t.has(p,h))continue;t.set(p,h),n[p]=h||""}}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.prototype._generatePrefix=function(e,t,n){var r="ns"+n.value;return n.value++,t.set(r,e),r},e.prototype._serializeAttributeValue=function(e,t){if(t&&null!==e&&!c.xml_isLegalChar(e))throw new Error("Invalid characters in attribute value.");if(null===e)return"";for(var n="",r=0;r<e.length;r++){var o=e[r];n+='"'===o?"&quot;":"&"===o?"&amp;":"<"===o?"&lt;":">"===o?"&gt;":o}return n},e.prototype._serializeElement=function(e,t){var n,o;if(t&&(-1!==e.localName.indexOf(":")||!c.xml_isName(e.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var i=!1,a=e.localName,s="<"+a;if(s+=this._serializeAttributes(e,t),0===e._children.size&&(s+="/",i=!0),s+=">",i)return s;try{for(var u=r(e._children),l=u.next();!l.done;l=u.next()){var f=l.value;s+=this._serializeNode(f,t)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return s+"</"+a+">"},e.prototype._serializeDocument=function(e,t){var n,o;if(t&&null===e.documentElement)throw new Error("Missing document element (well-formed required).");var i="";try{for(var a=r(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;i+=this._serializeNode(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},e.prototype._serializeDocumentFragment=function(e,t){var n,o,i="";try{for(var a=r(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;i+=this._serializeNode(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},e.prototype._serializeAttributes=function(e,t){var n,o,i="",a=t?{}:void 0;try{for(var s=r(e.attributes),u=s.next();!u.done;u=s.next()){var l=u.value;if(t&&a&&l.localName in a)throw new Error("Element contains duplicate attributes (well-formed required).");if(t&&a&&(a[l.localName]=!0),t&&(-1!==l.localName.indexOf(":")||!c.xml_isName(l.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");i+=" "+l.localName+'="'+this._serializeAttributeValue(l.value,t)+'"'}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},e._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),e}();t.XMLSerializerImpl=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(277);t.XMLReader=r.XMLReader;var o=n(111);t.ObjectReader=o.ObjectReader;var i=n(280);t.JSONReader=i.JSONReader;var a=n(281);t.YAMLReader=a.YAMLReader},function(e,t,n){"use strict";n(31),n(32),n(33),n(19),n(65),n(20),n(22),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var s=n(179),u=n(110),c=n(7),l=n(0),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._parse=function(e,t){for(var n,r,o,f,d=new s.XMLStringLexer(t,{skipWhitespaceOnlyText:!0}),p=e,h=d.nextToken();h.type!==u.TokenType.EOF;){switch(h.type){case u.TokenType.Declaration:var m=h,g=this.sanitize(m.version);if("1.0"!==g)throw new Error("Invalid xml version: "+g);var v={version:g};m.encoding&&(v.encoding=this.sanitize(m.encoding)),m.standalone&&(v.standalone="yes"===this.sanitize(m.standalone)),p.set(v);break;case u.TokenType.DocType:var y=h;p=this.docType(p,this.sanitize(y.name),this.sanitize(y.pubId),this.sanitize(y.sysId))||p;break;case u.TokenType.CDATA:var b=h;p=this.cdata(p,this.sanitize(b.data))||p;break;case u.TokenType.Comment:var w=h;p=this.comment(p,this.sanitize(w.data))||p;break;case u.TokenType.PI:var x=h;p=this.instruction(p,this.sanitize(x.target),this.sanitize(x.data))||p;break;case u.TokenType.Text:var C=h;p=this.text(p,this.sanitize(C.data))||p;break;case u.TokenType.Element:var S=h,A=this.sanitize(S.name),_=i(l.namespace_extractQName(A),1)[0],P=p.node.lookupNamespaceURI(_),O={};try{for(var E=(n=void 0,a(S.attributes)),T=E.next();!T.done;T=E.next()){var D=i(T.value,2),I=D[0],k=D[1];if(I=this.sanitize(I),k=this.sanitize(k),"xmlns"===I)P=k;else{var M=i(l.namespace_extractQName(I),2),N=M[0],R=M[1];"xmlns"===N&&(R===_&&(P=k),O[R]=k)}}}catch(e){n={error:e}}finally{try{T&&!T.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}var B=null!==P?this.element(p,P,A):this.element(p,void 0,A);if(void 0===B)break;try{for(var L=(o=void 0,a(S.attributes)),F=L.next();!F.done;F=L.next()){var j=i(F.value,2);I=j[0],k=j[1],I=this.sanitize(I),k=this.sanitize(k);var V=i(l.namespace_extractQName(I),2),U=(N=V[0],R=V[1],null);"xmlns"===N||null===N&&"xmlns"===R?U=c.namespace.XMLNS:null!==(U=B.node.lookupNamespaceURI(N))&&B.node.isDefaultNamespace(U)?U=null:null===U&&null!==N&&(U=O[N]||null),null!==U?this.attribute(B,U,I,k):this.attribute(B,void 0,I,k)}}catch(e){o={error:e}}finally{try{F&&!F.done&&(f=L.return)&&f.call(L)}finally{if(o)throw o.error}}S.selfClosing||(p=B);break;case u.TokenType.ClosingTag:p.node.parentNode&&(p=p.up())}h=d.nextToken()}return p},t}(n(74).BaseReader);t.XMLReader=f},function(e,t,n){var r=n(4),o=n(279);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var r=n(16),o=n(8),i=n(61),a=n(84),s=n(78),u=n(27),c=n(41),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=u(e),o=arguments.length,l=1,f=a.f,d=s.f;o>l;)for(var p,h=c(arguments[l++]),m=f?i(h).concat(f(h)):i(h),g=m.length,v=0;g>v;)p=m[v++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(111),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._parse=function(e,t){return new i.ObjectReader(this._builderOptions).parse(e,JSON.parse(t))},t}(n(74).BaseReader);t.JSONReader=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(111),a=n(74),s=n(282),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._parse=function(e,t){var n=s.safeLoad(t);if(void 0===n)throw new Error("Unable to parse YAML document.");return new i.ObjectReader(this._builderOptions).parse(e,n)},t}(a.BaseReader);t.YAMLReader=u},function(e,t,n){"use strict";var r=n(283);e.exports=r},function(e,t,n){"use strict";var r=n(284),o=n(303);function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=n(10),e.exports.Schema=n(39),e.exports.FAILSAFE_SCHEMA=n(112),e.exports.JSON_SCHEMA=n(181),e.exports.CORE_SCHEMA=n(180),e.exports.DEFAULT_SAFE_SCHEMA=n(54),e.exports.DEFAULT_FULL_SCHEMA=n(75),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=n(53),e.exports.MINIMAL_SCHEMA=n(112),e.exports.SAFE_SCHEMA=n(54),e.exports.DEFAULT_SCHEMA=n(75),e.exports.scan=i("scan"),e.exports.parse=i("parse"),e.exports.compose=i("compose"),e.exports.addConstructor=i("addConstructor")},function(e,t,n){"use strict";var r=n(38),o=n(53),i=n(285),a=n(54),s=n(75),u=Object.prototype.hasOwnProperty,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l=/[\x85\u2028\u2029]/,f=/[,\[\]\{\}]/,d=/^(?:!|!!|![a-z\-]+!)$/i,p=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function h(e){return Object.prototype.toString.call(e)}function m(e){return 10===e||13===e}function g(e){return 9===e||32===e}function v(e){return 9===e||32===e||10===e||13===e}function y(e){return 44===e||91===e||93===e||123===e||125===e}function b(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function w(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function x(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var C=new Array(256),S=new Array(256),A=0;A<256;A++)C[A]=w(A)?1:0,S[A]=w(A);function _(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function P(e,t){return new o(t,new i(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function O(e,t){throw P(e,t)}function E(e,t){e.onWarning&&e.onWarning.call(null,P(e,t))}var T={YAML:function(e,t,n){var r,o,i;null!==e.version&&O(e,"duplication of %YAML directive"),1!==n.length&&O(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&O(e,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),i=parseInt(r[2],10),1!==o&&O(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&E(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,o;2!==n.length&&O(e,"TAG directive accepts exactly two arguments"),r=n[0],o=n[1],d.test(r)||O(e,"ill-formed tag handle (first argument) of the TAG directive"),u.call(e.tagMap,r)&&O(e,'there is a previously declared suffix for "'+r+'" tag handle'),p.test(o)||O(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=o}};function D(e,t,n,r){var o,i,a,s;if(t<n){if(s=e.input.slice(t,n),r)for(o=0,i=s.length;o<i;o+=1)9===(a=s.charCodeAt(o))||32<=a&&a<=1114111||O(e,"expected valid JSON character");else c.test(s)&&O(e,"the stream contains non-printable characters");e.result+=s}}function I(e,t,n,o){var i,a,s,c;for(r.isObject(n)||O(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,c=(i=Object.keys(n)).length;s<c;s+=1)a=i[s],u.call(t,a)||(t[a]=n[a],o[a]=!0)}function k(e,t,n,r,o,i,a,s){var c,l;if(Array.isArray(o))for(c=0,l=(o=Array.prototype.slice.call(o)).length;c<l;c+=1)Array.isArray(o[c])&&O(e,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===h(o[c])&&(o[c]="[object Object]");if("object"==typeof o&&"[object Object]"===h(o)&&(o="[object Object]"),o=String(o),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(c=0,l=i.length;c<l;c+=1)I(e,t,i[c],n);else I(e,t,i,n);else e.json||u.call(n,o)||!u.call(t,o)||(e.line=a||e.line,e.position=s||e.position,O(e,"duplicated mapping key")),t[o]=i,delete n[o];return t}function M(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):O(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function N(e,t,n){for(var r=0,o=e.input.charCodeAt(e.position);0!==o;){for(;g(o);)o=e.input.charCodeAt(++e.position);if(t&&35===o)do{o=e.input.charCodeAt(++e.position)}while(10!==o&&13!==o&&0!==o);if(!m(o))break;for(M(e),o=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&E(e,"deficient indentation"),r}function R(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!v(t)))}function B(e,t){1===t?e.result+=" ":t>1&&(e.result+=r.repeat("\n",t-1))}function L(e,t){var n,r,o=e.tag,i=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),r=e.input.charCodeAt(e.position);0!==r&&45===r&&v(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,N(e,!0,-1)&&e.lineIndent<=t)a.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,V(e,t,3,!1,!0),a.push(e.result),N(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)O(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=o,e.anchor=i,e.kind="sequence",e.result=a,!0)}function F(e){var t,n,r,o,i=!1,a=!1;if(33!==(o=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&O(e,"duplication of a tag property"),60===(o=e.input.charCodeAt(++e.position))?(i=!0,o=e.input.charCodeAt(++e.position)):33===o?(a=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,i){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&62!==o);e.position<e.length?(r=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):O(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!v(o);)33===o&&(a?O(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),d.test(n)||O(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),f.test(r)&&O(e,"tag suffix cannot contain flow indicator characters")}return r&&!p.test(r)&&O(e,"tag name cannot contain such characters: "+r),i?e.tag=r:u.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:O(e,'undeclared tag handle "'+n+'"'),!0}function j(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&O(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!v(n)&&!y(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&O(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function V(e,t,n,o,i){var a,s,c,l,f,d,p,h,w=1,A=!1,_=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=c=4===n||3===n,o&&N(e,!0,-1)&&(A=!0,e.lineIndent>t?w=1:e.lineIndent===t?w=0:e.lineIndent<t&&(w=-1)),1===w)for(;F(e)||j(e);)N(e,!0,-1)?(A=!0,c=a,e.lineIndent>t?w=1:e.lineIndent===t?w=0:e.lineIndent<t&&(w=-1)):c=!1;if(c&&(c=A||i),1!==w&&4!==n||(p=1===n||2===n?t:t+1,h=e.position-e.lineStart,1===w?c&&(L(e,h)||function(e,t,n){var r,o,i,a,s,u=e.tag,c=e.anchor,l={},f={},d=null,p=null,h=null,m=!1,y=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);0!==s;){if(r=e.input.charCodeAt(e.position+1),i=e.line,a=e.position,63!==s&&58!==s||!v(r)){if(!V(e,n,2,!1,!0))break;if(e.line===i){for(s=e.input.charCodeAt(e.position);g(s);)s=e.input.charCodeAt(++e.position);if(58===s)v(s=e.input.charCodeAt(++e.position))||O(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(k(e,l,f,d,p,null),d=p=h=null),y=!0,m=!1,o=!1,d=e.tag,p=e.result;else{if(!y)return e.tag=u,e.anchor=c,!0;O(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=c,!0;O(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(m&&(k(e,l,f,d,p,null),d=p=h=null),y=!0,m=!0,o=!0):m?(m=!1,o=!0):O(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=r;if((e.line===i||e.lineIndent>t)&&(V(e,t,4,!0,o)&&(m?p=e.result:h=e.result),m||(k(e,l,f,d,p,h,i,a),d=p=h=null),N(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)O(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&k(e,l,f,d,p,null),y&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=l),y}(e,h,p))||function(e,t){var n,r,o,i,a,s,u,c,l,f,d=!0,p=e.tag,h=e.anchor,m={};if(91===(f=e.input.charCodeAt(e.position)))o=93,s=!1,r=[];else{if(123!==f)return!1;o=125,s=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),f=e.input.charCodeAt(++e.position);0!==f;){if(N(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=p,e.anchor=h,e.kind=s?"mapping":"sequence",e.result=r,!0;d||O(e,"missed comma between flow collection entries"),l=null,i=a=!1,63===f&&v(e.input.charCodeAt(e.position+1))&&(i=a=!0,e.position++,N(e,!0,t)),n=e.line,V(e,t,1,!1,!0),c=e.tag,u=e.result,N(e,!0,t),f=e.input.charCodeAt(e.position),!a&&e.line!==n||58!==f||(i=!0,f=e.input.charCodeAt(++e.position),N(e,!0,t),V(e,t,1,!1,!0),l=e.result),s?k(e,r,m,c,u,l):i?r.push(k(e,null,m,c,u,l)):r.push(u),N(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(d=!0,f=e.input.charCodeAt(++e.position)):d=!1}O(e,"unexpected end of the stream within a flow collection")}(e,p)?_=!0:(s&&function(e,t){var n,o,i,a,s,u=1,c=!1,l=!1,f=t,d=0,p=!1;if(124===(a=e.input.charCodeAt(e.position)))o=!1;else{if(62!==a)return!1;o=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===u?u=43===a?3:2:O(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=a)&&s<=57?s-48:-1)>=0))break;0===i?O(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?O(e,"repeat of an indentation width identifier"):(f=t+i-1,l=!0)}if(g(a)){do{a=e.input.charCodeAt(++e.position)}while(g(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!m(a)&&0!==a)}for(;0!==a;){for(M(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!l||e.lineIndent<f)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>f&&(f=e.lineIndent),m(a))d++;else{if(e.lineIndent<f){3===u?e.result+=r.repeat("\n",c?1+d:d):1===u&&c&&(e.result+="\n");break}for(o?g(a)?(p=!0,e.result+=r.repeat("\n",c?1+d:d)):p?(p=!1,e.result+=r.repeat("\n",d+1)):0===d?c&&(e.result+=" "):e.result+=r.repeat("\n",d):e.result+=r.repeat("\n",c?1+d:d),c=!0,l=!0,d=0,n=e.position;!m(a)&&0!==a;)a=e.input.charCodeAt(++e.position);D(e,n,e.position,!1)}}return!0}(e,p)||function(e,t){var n,r,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(D(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,o=e.position}else m(n)?(D(e,r,o,!0),B(e,N(e,!1,t)),r=o=e.position):e.position===e.lineStart&&R(e)?O(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);O(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var n,r,o,i,a,s,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return D(e,n,e.position,!0),e.position++,!0;if(92===s){if(D(e,n,e.position,!0),m(s=e.input.charCodeAt(++e.position)))N(e,!1,t);else if(s<256&&C[s])e.result+=S[s],e.position++;else if((a=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(o=a,i=0;o>0;o--)(a=b(s=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+a:O(e,"expected hexadecimal character");e.result+=x(i),e.position++}else O(e,"unknown escape sequence");n=r=e.position}else m(s)?(D(e,n,r,!0),B(e,N(e,!1,t)),n=r=e.position):e.position===e.lineStart&&R(e)?O(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}O(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?_=!0:function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!v(r)&&!y(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&O(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||O(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],N(e,!0,-1),!0}(e)?(_=!0,null===e.tag&&null===e.anchor||O(e,"alias node should not have any properties")):function(e,t,n){var r,o,i,a,s,u,c,l,f=e.kind,d=e.result;if(v(l=e.input.charCodeAt(e.position))||y(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(v(r=e.input.charCodeAt(e.position+1))||n&&y(r)))return!1;for(e.kind="scalar",e.result="",o=i=e.position,a=!1;0!==l;){if(58===l){if(v(r=e.input.charCodeAt(e.position+1))||n&&y(r))break}else if(35===l){if(v(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&R(e)||n&&y(l))break;if(m(l)){if(s=e.line,u=e.lineStart,c=e.lineIndent,N(e,!1,-1),e.lineIndent>=t){a=!0,l=e.input.charCodeAt(e.position);continue}e.position=i,e.line=s,e.lineStart=u,e.lineIndent=c;break}}a&&(D(e,o,i,!1),B(e,e.line-s),o=i=e.position,a=!1),g(l)||(i=e.position+1),l=e.input.charCodeAt(++e.position)}return D(e,o,i,!1),!!e.result||(e.kind=f,e.result=d,!1)}(e,p,1===n)&&(_=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===w&&(_=c&&L(e,h))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&O(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,f=e.implicitTypes.length;l<f;l+=1)if((d=e.implicitTypes[l]).resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else u.call(e.typeMap[e.kind||"fallback"],e.tag)?(d=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&d.kind!==e.kind&&O(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result)?(e.result=d.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):O(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):O(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||_}function U(e){var t,n,r,o,i=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(o=e.input.charCodeAt(e.position))&&(N(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==o));){for(a=!0,o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!v(o);)o=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&O(e,"directive name must not be less than one character in length");0!==o;){for(;g(o);)o=e.input.charCodeAt(++e.position);if(35===o){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&!m(o));break}if(m(o))break;for(t=e.position;0!==o&&!v(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==o&&M(e),u.call(T,n)?T[n](e,n,r):E(e,'unknown document directive "'+n+'"')}N(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,N(e,!0,-1)):a&&O(e,"directives end mark is expected"),V(e,e.lineIndent-1,4,!1,!0),N(e,!0,-1),e.checkLineBreaks&&l.test(e.input.slice(i,e.position))&&E(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&R(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,N(e,!0,-1)):e.position<e.length-1&&O(e,"end of the stream or a document separator is expected")}function z(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new _(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,O(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)U(n);return n.documents}function G(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=z(e,n);if("function"!=typeof t)return r;for(var o=0,i=r.length;o<i;o+=1)t(r[o])}function W(e,t){var n=z(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new o("expected a single document in the stream, but found more")}}e.exports.loadAll=G,e.exports.load=W,e.exports.safeLoadAll=function(e,t,n){return"object"==typeof t&&null!==t&&void 0===n&&(n=t,t=null),G(e,t,r.extend({schema:a},n))},e.exports.safeLoad=function(e,t){return W(e,r.extend({schema:a},t))}},function(e,t,n){"use strict";var r=n(38);function o(e,t,n,r,o){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=o}o.prototype.getSnippet=function(e,t){var n,o,i,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",o=this.position;o>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o-1));)if(o-=1,this.position-o>t/2-1){n=" ... ",o+=5;break}for(i="",a=this.position;a<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>t/2-1){i=" ... ",a-=5;break}return s=this.buffer.slice(o,a),r.repeat(" ",e)+n+s+i+"\n"+r.repeat(" ",e+this.position-o+n.length)+"^"},o.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=o},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(38),o=n(10);function i(e){return 48<=e&&e<=55}function a(e){return 48<=e&&e<=57}e.exports=new o("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,o=0,s=!1;if(!r)return!1;if("-"!==(t=e[o])&&"+"!==t||(t=e[++o]),"0"===t){if(o+1===r)return!0;if("b"===(t=e[++o])){for(o++;o<r;o++)if("_"!==(t=e[o])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(o++;o<r;o++)if("_"!==(t=e[o])){if(!(48<=(n=e.charCodeAt(o))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&"_"!==t}for(;o<r;o++)if("_"!==(t=e[o])){if(!i(e.charCodeAt(o)))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;o<r;o++)if("_"!==(t=e[o])){if(":"===t)break;if(!a(e.charCodeAt(o)))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(o)))},construct:function(e){var t,n,r=e,o=1,i=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(o=-1),t=(r=r.slice(1))[0]),"0"===r?0:"0"===t?"b"===r[1]?o*parseInt(r.slice(2),2):"x"===r[1]?o*parseInt(r,16):o*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach((function(e){i.unshift(parseInt(e,10))})),r=0,n=1,i.forEach((function(e){r+=e*n,n*=60})),o*r):o*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!r.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";var r=n(38),o=n(10),i=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),a=/^[-+]?[0-9]+e/;e.exports=new o("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,r,o;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,o=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){o.unshift(parseFloat(e,10))})),t=0,r=1,o.forEach((function(e){t+=e*r,r*=60})),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||r.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(e))return"-0.0";return n=e.toString(10),a.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(10),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==o.exec(e)||null!==i.exec(e))},construct:function(e){var t,n,r,a,s,u,c,l,f=0,d=null;if(null===(t=o.exec(e))&&(t=i.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(s=+t[4],u=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),l=new Date(Date.UTC(n,r,a,s,u,c,f)),d&&l.setTime(l.getTime()-d),l},instanceOf:Date,represent:function(e){return e.toISOString()}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},function(e,t,n){"use strict";var r;try{r=n(145).Buffer}catch(e){}var o=n(10),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,o=e.length,a=i;for(n=0;n<o;n++)if(!((t=a.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,o=e.replace(/[\r\n=]/g,""),a=o.length,s=i,u=0,c=[];for(t=0;t<a;t++)t%4==0&&t&&(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)),u=u<<6|s.indexOf(o.charAt(t));return 0==(n=a%4*6)?(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)):18===n?(c.push(u>>10&255),c.push(u>>2&255)):12===n&&c.push(u>>4&255),r?r.from?r.from(c):new r(c):c},predicate:function(e){return r&&r.isBuffer(e)},represent:function(e){var t,n,r="",o=0,a=e.length,s=i;for(t=0;t<a;t++)t%3==0&&t&&(r+=s[o>>18&63],r+=s[o>>12&63],r+=s[o>>6&63],r+=s[63&o]),o=(o<<8)+e[t];return 0==(n=a%3)?(r+=s[o>>18&63],r+=s[o>>12&63],r+=s[o>>6&63],r+=s[63&o]):2===n?(r+=s[o>>10&63],r+=s[o>>4&63],r+=s[o<<2&63],r+=s[64]):1===n&&(r+=s[o>>2&63],r+=s[o<<4&63],r+=s[64],r+=s[64]),r}})},function(e,t,n){"use strict";var r=n(10),o=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,a,s,u=[],c=e;for(t=0,n=c.length;t<n;t+=1){if(r=c[t],s=!1,"[object Object]"!==i.call(r))return!1;for(a in r)if(o.call(r,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0},construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(10),o=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==o.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;a[t]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,o,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1)r=a[t],o=Object.keys(r),i[t]=[o[0],r[o[0]]];return i}})},function(e,t,n){"use strict";var r=n(10),o=Object.prototype.hasOwnProperty;e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(o.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},function(e,t,n){"use strict";var r=n(10);e.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},function(e,t,n){"use strict";var r;try{r=n(302)}catch(e){"undefined"!=typeof window&&(r=window.esprima)}var o=n(10);e.exports=new o("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=r.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",o=r.parse(n,{range:!0}),i=[];if("Program"!==o.type||1!==o.body.length||"ExpressionStatement"!==o.body[0].type||"ArrowFunctionExpression"!==o.body[0].expression.type&&"FunctionExpression"!==o.body[0].expression.type)throw new Error("Failed to resolve function");return o.body[0].expression.params.forEach((function(e){i.push(e.name)})),t=o.body[0].expression.body.range,"BlockStatement"===o.body[0].expression.body.type?new Function(i,n.slice(t[0]+1,t[1]-1)):new Function(i,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(3),i=n(8),a=n(15);function s(e,t,n){var a=null,s=function(e,t){n&&n(e,t),a&&a.visit(e,t)},u="function"==typeof n?s:null,c=!1;if(t){c="boolean"==typeof t.comment&&t.comment;var l="boolean"==typeof t.attachComment&&t.attachComment;(c||l)&&((a=new r.CommentHandler).attach=l,t.comment=!0,u=s)}var f,d=!1;t&&"string"==typeof t.sourceType&&(d="module"===t.sourceType),f=t&&"boolean"==typeof t.jsx&&t.jsx?new o.JSXParser(e,t,u):new i.Parser(e,t,u);var p=d?f.parseModule():f.parseScript();return c&&a&&(p.comments=a.comments),f.config.tokens&&(p.tokens=f.tokens),f.config.tolerant&&(p.errors=f.errorHandler.errors),p}t.parse=s,t.parseModule=function(e,t,n){var r=t||{};return r.sourceType="module",s(e,r,n)},t.parseScript=function(e,t,n){var r=t||{};return r.sourceType="script",s(e,r,n)},t.tokenize=function(e,t,n){var r,o=new a.Tokenizer(e,t);r=[];try{for(;;){var i=o.getNextToken();if(!i)break;n&&(i=n(i)),r.push(i)}}catch(e){o.errorHandler.tolerate(e)}return o.errorHandler.tolerant&&(r.errors=o.errors()),r};var u=n(2);t.Syntax=u.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var n=[],o=this.leading.length-1;o>=0;--o){var i=this.leading[o];t.end.offset>=i.start&&(n.unshift(i.comment),this.leading.splice(o,1),this.trailing.splice(o,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}return this.trailing.length=0,t}var o=this.stack[this.stack.length-1];if(o&&o.node.trailingComments){var i=o.node.trailingComments[0];i&&i.range[0]>=e.end.offset&&(t=o.node.trailingComments,delete o.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0&&(i=this.stack[this.stack.length-1])&&i.start>=e.start.offset;)t=i.node,this.stack.pop();if(t){for(var r=(t.leadingComments?t.leadingComments.length:0)-1;r>=0;--r){var o=t.leadingComments[r];o.range[1]<=e.start.offset&&(n.unshift(o),t.leadingComments.splice(r,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(r=this.leading.length-1;r>=0;--r){var i;(i=this.leading[r]).start<=e.start.offset&&(n.unshift(i.comment),this.leading.splice(r,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),o=this.findLeadingComments(t);o.length>0&&(e.leadingComments=o),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var o={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(o.comment.loc=e.loc),e.type=n,this.leading.push(o),this.trailing.push(o)}},e.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(5),s=n(6),u=n(7),c=n(8),l=n(13),f=n(14);function d(e){var t;switch(e.type){case s.JSXSyntax.JSXIdentifier:t=e.name;break;case s.JSXSyntax.JSXNamespacedName:var n=e;t=d(n.namespace)+":"+d(n.name);break;case s.JSXSyntax.JSXMemberExpression:var r=e;t=d(r.object)+"."+d(r.property)}return t}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var p=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return o(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,r=!1,o=!1,a=!1;!this.scanner.eof()&&n&&!r;){var s=this.scanner.source[this.scanner.index];if(s===e)break;if(r=";"===s,t+=s,++this.scanner.index,!r)switch(t.length){case 2:o="#"===s;break;case 3:o&&(n=(a="x"===s)||i.Character.isDecimalDigit(s.charCodeAt(0)),o=o&&!a);break;default:n=(n=n&&!(o&&!i.Character.isDecimalDigit(s.charCodeAt(0))))&&!(a&&!i.Character.isHexDigit(s.charCodeAt(0)))}}if(n&&r&&t.length>2){var u=t.substr(1,t.length-2);o&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):o||a||!f.XHTMLEntities[u]||(t=f.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],r="";!this.scanner.eof()&&(u=this.scanner.source[this.scanner.index++])!==n;)r+="&"===u?this.scanXHTMLEntity(n):u;return{type:8,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var o=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2),s=46===o&&46===a?"...":".";return t=this.scanner.index,this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,i.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new a.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXNamespacedName(n,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var o=t;this.expectJSX(".");var i=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXMemberExpression(o,i))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var o=this.parseJSXIdentifier();e=this.finalize(t,new a.JSXNamespacedName(r,o))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new u.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new a.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new a.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new a.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),o=this.matchJSX("/");return o&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new a.JSXOpeningElement(n,o,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new a.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new a.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),o=this.finalize(t,new a.JSXText(n.value,r));e.push(o)}if("{"!==this.scanner.source[this.scanner.index])break;var i=this.parseJSXExpressionContainer();e.push(i)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===s.JSXSyntax.JSXOpeningElement){var o=r;if(o.selfClosing){var i=this.finalize(n,new a.JSXElement(o,[],null));e.children.push(i)}else t.push(e),e={node:n,opening:o,closing:null,children:[]}}if(r.type===s.JSXSyntax.JSXClosingElement){e.closing=r;var u=d(e.opening.name);if(u!==d(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(t.length>0))break;i=this.finalize(e.node,new a.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(i),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var o=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=o.children,r=o.closing}return this.finalize(e,new a.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(c.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.JSXClosingElement=function(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e},t.JSXElement=function(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n},t.JSXEmptyExpression=function(){this.type=r.JSXSyntax.JSXEmptyExpression},t.JSXExpressionContainer=function(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e},t.JSXIdentifier=function(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e},t.JSXMemberExpression=function(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t},t.JSXAttribute=function(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t},t.JSXNamespacedName=function(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t},t.JSXOpeningElement=function(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n},t.JSXSpreadAttribute=function(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e},t.JSXText=function(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.ArrayExpression=function(e){this.type=r.Syntax.ArrayExpression,this.elements=e},t.ArrayPattern=function(e){this.type=r.Syntax.ArrayPattern,this.elements=e},t.ArrowFunctionExpression=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1},t.AssignmentExpression=function(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n},t.AssignmentPattern=function(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t},t.AsyncArrowFunctionExpression=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0},t.AsyncFunctionDeclaration=function(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0},t.AsyncFunctionExpression=function(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0},t.AwaitExpression=function(e){this.type=r.Syntax.AwaitExpression,this.argument=e},t.BinaryExpression=function(e,t,n){var o="||"===e||"&&"===e;this.type=o?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n},t.BlockStatement=function(e){this.type=r.Syntax.BlockStatement,this.body=e},t.BreakStatement=function(e){this.type=r.Syntax.BreakStatement,this.label=e},t.CallExpression=function(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t},t.CatchClause=function(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t},t.ClassBody=function(e){this.type=r.Syntax.ClassBody,this.body=e},t.ClassDeclaration=function(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n},t.ClassExpression=function(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n},t.ComputedMemberExpression=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t},t.ConditionalExpression=function(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n},t.ContinueStatement=function(e){this.type=r.Syntax.ContinueStatement,this.label=e},t.DebuggerStatement=function(){this.type=r.Syntax.DebuggerStatement},t.Directive=function(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t},t.DoWhileStatement=function(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t},t.EmptyStatement=function(){this.type=r.Syntax.EmptyStatement},t.ExportAllDeclaration=function(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e},t.ExportDefaultDeclaration=function(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e},t.ExportNamedDeclaration=function(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n},t.ExportSpecifier=function(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e},t.ExpressionStatement=function(e){this.type=r.Syntax.ExpressionStatement,this.expression=e},t.ForInStatement=function(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1},t.ForOfStatement=function(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n},t.ForStatement=function(e,t,n,o){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=o},t.FunctionDeclaration=function(e,t,n,o){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=o,this.expression=!1,this.async=!1},t.FunctionExpression=function(e,t,n,o){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=o,this.expression=!1,this.async=!1},t.Identifier=function(e){this.type=r.Syntax.Identifier,this.name=e},t.IfStatement=function(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n},t.ImportDeclaration=function(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t},t.ImportDefaultSpecifier=function(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e},t.ImportNamespaceSpecifier=function(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e},t.ImportSpecifier=function(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t},t.LabeledStatement=function(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t},t.Literal=function(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t},t.MetaProperty=function(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t},t.MethodDefinition=function(e,t,n,o,i){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=o,this.static=i},t.Module=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="module"},t.NewExpression=function(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t},t.ObjectExpression=function(e){this.type=r.Syntax.ObjectExpression,this.properties=e},t.ObjectPattern=function(e){this.type=r.Syntax.ObjectPattern,this.properties=e},t.Property=function(e,t,n,o,i,a){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=o,this.kind=e,this.method=i,this.shorthand=a},t.RegexLiteral=function(e,t,n,o){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:o}},t.RestElement=function(e){this.type=r.Syntax.RestElement,this.argument=e},t.ReturnStatement=function(e){this.type=r.Syntax.ReturnStatement,this.argument=e},t.Script=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="script"},t.SequenceExpression=function(e){this.type=r.Syntax.SequenceExpression,this.expressions=e},t.SpreadElement=function(e){this.type=r.Syntax.SpreadElement,this.argument=e},t.StaticMemberExpression=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t},t.Super=function(){this.type=r.Syntax.Super},t.SwitchCase=function(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t},t.SwitchStatement=function(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t},t.TaggedTemplateExpression=function(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t},t.TemplateElement=function(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t},t.TemplateLiteral=function(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t},t.ThisExpression=function(){this.type=r.Syntax.ThisExpression},t.ThrowStatement=function(e){this.type=r.Syntax.ThrowStatement,this.argument=e},t.TryStatement=function(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n},t.UnaryExpression=function(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0},t.UpdateExpression=function(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n},t.VariableDeclaration=function(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t},t.VariableDeclarator=function(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t},t.WhileStatement=function(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t},t.WithStatement=function(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t},t.YieldExpression=function(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(10),i=n(11),a=n(7),s=n(12),u=n(2),c=n(13),l=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new o.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Array.prototype.slice.call(arguments,1),i=e.replace(/%(\d)/g,(function(e,t){return r.assert(t<o.length,"Message reference must be in range"),o[t]})),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,i)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Array.prototype.slice.call(arguments,1),i=e.replace(/%(\d)/g,(function(e,t){return r.assert(t<o.length,"Message reference must be in range"),o[t]})),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,i)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||i.Messages.UnexpectedToken;if(e?(t||(r=2===e.type?i.Messages.UnexpectedEOS:3===e.type?i.Messages.UnexpectedIdentifier:6===e.type?i.Messages.UnexpectedNumber:8===e.type?i.Messages.UnexpectedString:10===e.type?i.Messages.UnexpectedTemplate:i.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?r=i.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=i.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"==typeof e.lineNumber){var o=e.start,a=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=e.start-s+1;return this.errorHandler.createError(o,a,u,r)}return o=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1,this.errorHandler.createError(o,a,u,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var o={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,o)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:c.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,r=e.flags;t.regex={pattern:n,flags:r}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,r=e.lineNumber;return n<0&&(n+=t,r--),{index:e.start,line:r,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,i.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,o},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,o},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,i.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(r,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(r,new a.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new a.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new a.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),o=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new a.AsyncFunctionExpression(null,r.params,o))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,i.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new a.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new a.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,o=null,s=null,u=!1,c=!1,l=!1,f=!1;if(3===r.type){var d=r.value;this.nextToken(),u=this.match("["),o=(f=!(this.hasLineTerminator||"async"!==d||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(n,new a.Identifier(d))}else this.match("*")?this.nextToken():(u=this.match("["),o=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!f&&"get"===r.value&&p)t="get",u=this.match("["),o=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===r.type&&!f&&"set"===r.value&&p)t="set",u=this.match("["),o=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&p)t="init",u=this.match("["),o=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0;else if(o||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!f)!u&&this.isPropertyKey(o,"__proto__")&&(e.value&&this.tolerateError(i.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))s=f?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0;else if(3===r.type)if(d=this.finalize(n,new a.Identifier(r.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var h=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new a.AssignmentPattern(d,h))}else l=!0,s=d;else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new a.Property(t,o,u,s,c,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new a.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,o=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:o},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new a.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:for(e.type=u.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var o=[];for(this.context.isAssignmentTarget=!1,o.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var i=0;i<o.length;i++)this.reinterpretExpressionAsPattern(o[i]);r=!0,e={type:"ArrowParameterPlaceHolder",params:o,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),o.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,i=0;i<o.length;i++)this.reinterpretExpressionAsPattern(o[i]);r=!0,e={type:"ArrowParameterPlaceHolder",params:o,async:!1}}else o.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new a.SequenceExpression(o)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:"ArrowParameterPlaceHolder",params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(i=0;i<e.expressions.length;i++)this.reinterpretExpressionAsPattern(e.expressions[i]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",params:e.type===u.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new a.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(r.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var o=this.parseIdentifierName();e=new a.MetaProperty(n,o)}else this.throwUnexpectedToken(this.lookahead);else{var i=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match("(")?this.parseArguments():[];e=new a.NewExpression(i,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),r=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var o=this.parseIdentifierName();e=this.finalize(this.startNode(t),new a.StaticMemberExpression(e,o))}else if(this.match("(")){var i=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=i?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new a.CallExpression(e,s)),i&&this.match("=>")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);e={type:"ArrowParameterPlaceHolder",params:s,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),o=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new a.ComputedMemberExpression(e,o));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var c=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new a.TaggedTemplateExpression(e,c))}return this.context.allowIn=r,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new a.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new a.ComputedMemberExpression(t,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),t=this.finalize(e,new a.StaticMemberExpression(t,n));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var o=this.parseTemplateLiteral();t=this.finalize(e,new a.TaggedTemplateExpression(t,o))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(i.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment);var o=!0;e=this.finalize(n,new a.UpdateExpression(r.value,e,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(i.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;o=!1,e=this.finalize(this.startNode(t),new a.UpdateExpression(s,e,o))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new a.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new a.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(i.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new a.BinaryExpression("**",n,r))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var o=[e,this.lookahead],i=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[i,n.value,s],c=[r];!((r=this.binaryPrecedence(this.lookahead))<=0);){for(;u.length>2&&r<=c[c.length-1];){s=u.pop();var l=u.pop();c.pop(),i=u.pop(),o.pop();var f=this.startNode(o[o.length-1]);u.push(this.finalize(f,new a.BinaryExpression(l,i,s)))}u.push(this.nextToken().value),c.push(r),o.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var d=u.length-1;t=u[d];for(var p=o.pop();d>1;){var h=o.pop(),m=p&&p.lineStart;f=this.startNode(h,m),l=u[d-1],t=this.finalize(f,new a.BinaryExpression(l,u[d-2],t)),d-=2,p=h}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var o=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.ConditionalExpression(t,r,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case u.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof a.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case u.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var o=0;o<n.length;++o)(a=n[o]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):r&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,a),n[o]=a;if(this.context.strict||!this.context.allowYield)for(o=0;o<n.length;++o){var a;(a=n[o]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===i.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:"ArrowParameterPlaceHolder",params:[r],async:!0}}if("ArrowParameterPlaceHolder"===e.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var o=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var c=this.context.strict,l=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var f=this.context.allowYield,d=this.context.await;this.context.allowYield=!0,this.context.await=o;var p=this.startNode(t);this.expect("=>");var h=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,h=this.parseFunctionSourceElements(),this.context.allowIn=m}else h=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=h.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=o?this.finalize(p,new a.AsyncArrowFunctionExpression(s.params,h,g)):this.finalize(p,new a.ArrowFunctionExpression(s.params,h,g)),this.context.strict=c,this.context.allowStrictDirective=l,this.context.allowYield=f,this.context.await=d}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var v=e;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(n,i.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var y=(n=this.nextToken()).value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.AssignmentExpression(y,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new a.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,i.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,i.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new a.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=this.parsePattern([],e);this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(i.Messages.StrictVarName);var o=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),o=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(i.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&r.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),o=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new a.VariableDeclarator(r,o))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var o=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(o,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(n,new a.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new a.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,o=this.createNode(),i=!1,s=!1;if(3===this.lookahead.type){var u=this.lookahead;n=this.parseVariableIdentifier();var c=this.finalize(o,new a.Identifier(u.value));if(this.match("=")){e.push(u),s=!0,this.nextToken();var l=this.parseAssignmentExpression();r=this.finalize(this.startNode(u),new a.AssignmentPattern(c,l))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(u),s=!0,r=c)}else i=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(o,new a.Property("init",n,i,r,!1,s))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new a.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,i.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var o=this.context.allowYield;this.context.allowYield=!0;var i=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=o,r=this.finalize(this.startNode(n),new a.AssignmentPattern(r,i))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new a.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(i.Messages.StrictVarName);var r=null;return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new a.VariableDeclarator(n,r))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new a.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(i.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new a.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new a.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new a.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,r=null,o=null,s=null,c=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){r=this.createNode(),this.nextToken();var f=this.context.allowIn;this.context.allowIn=!1;var d=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=f,1===d.length&&this.matchKeyword("in")){var p=d[0];p.init&&(p.id.type===u.Syntax.ArrayPattern||p.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(i.Messages.ForInOfLoopInitializer,"for-in"),r=this.finalize(r,new a.VariableDeclaration(d,"var")),this.nextToken(),e=r,t=this.parseExpression(),r=null}else 1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(d,"var")),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(r=this.finalize(r,new a.VariableDeclaration(d,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){r=this.createNode();var h=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(f=this.context.allowIn,this.context.allowIn=!1,d=this.parseBindingList(h,{inFor:!0}),this.context.allowIn=f,1===d.length&&null===d[0].init&&this.matchKeyword("in")?(r=this.finalize(r,new a.VariableDeclaration(d,h)),this.nextToken(),e=r,t=this.parseExpression(),r=null):1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(d,h)),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(this.consumeSemicolon(),r=this.finalize(r,new a.VariableDeclaration(d,h)))):(r=this.finalize(r,new a.Identifier(h)),this.nextToken(),e=r,t=this.parseExpression(),r=null)}else{var m=this.lookahead;if(f=this.context.allowIn,this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=f,this.matchKeyword("in"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(i.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseExpression(),r=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(i.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseAssignmentExpression(),r=null,c=!1;else{if(this.match(",")){for(var g=[r];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(m),new a.SequenceExpression(g))}this.expect(";")}}if(void 0===e&&(this.match(";")||(o=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(l,new a.ForStatement(r,o,s,n)):c?this.finalize(l,new a.ForInStatement(e,t,n)):this.finalize(l,new a.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(i.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(i.Messages.IllegalContinue),this.finalize(e,new a.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(i.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(i.Messages.IllegalBreak),this.finalize(e,new a.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(i.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(i.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new a.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(t,new a.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],o=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(o&&this.throwError(i.Messages.MultipleDefaultsInSwitch),o=!0),r.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new a.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=n,o="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,o)&&this.throwError(i.Messages.Redeclaration,"Label",r.name),this.context.labelSet[o]=!0;var s=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword("function")){var c=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(c,i.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(c,i.Messages.GeneratorInLegacyContext),s=l}else s=this.parseStatement();delete this.context.labelSet[o],e=new a.LabeledStatement(r,s)}else this.consumeSemicolon(),e=new a.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(i.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),r={},o=0;o<t.length;o++){var s="$"+t[o].value;Object.prototype.hasOwnProperty.call(r,s)&&this.tolerateError(i.Messages.DuplicateBinding,t[o].value),r[s]=!0}this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(i.Messages.StrictCatchVariable),this.expect(")");var c=this.parseBlock();return this.finalize(e,new a.CatchClause(n,c))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(i.Messages.NoCatchOrFinally),this.finalize(e,new a.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new a.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,o=this.context.inSwitch,i=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=o,this.context.inFunctionBody=i,this.finalize(e,new a.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=i.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=i.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=i.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=i.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=i.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(i.Messages.DefaultRestParameter),this.match(")")||this.throwError(i.Messages.ParameterAfterRestParameter),this.finalize(t,new a.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof a.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r,o=!n&&this.match("*");o&&this.nextToken();var s=null,u=null;if(!e||!this.match("(")){var c=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,i.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(u=c,r=i.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(u=c,r=i.Messages.StrictReservedWord)}var l=this.context.await,f=this.context.allowYield;this.context.await=n,this.context.allowYield=!o;var d=this.parseFormalParameters(u),p=d.params,h=d.stricted;u=d.firstRestricted,d.message&&(r=d.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,r),this.context.strict&&h&&this.tolerateUnexpectedToken(h,r),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=l,this.context.allowYield=f,n?this.finalize(t,new a.AsyncFunctionDeclaration(s,p,v)):this.finalize(t,new a.FunctionDeclaration(s,p,v,o))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n,r=!t&&this.match("*");r&&this.nextToken();var o,s=null,u=this.context.await,c=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!r,!this.match("(")){var l=this.lookahead;s=this.context.strict||r||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,i.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(o=l,n=i.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(o=l,n=i.Messages.StrictReservedWord)}var f=this.parseFormalParameters(o),d=f.params,p=f.stricted;o=f.firstRestricted,f.message&&(n=f.message);var h=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&o&&this.throwUnexpectedToken(o,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=h,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=c,t?this.finalize(e,new a.AsyncFunctionExpression(s,d,g)):this.finalize(e,new a.FunctionExpression(s,d,g,r))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new a.Directive(n,r):new a.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective();t.push(r);var o=r.directive;if("string"!=typeof o)break;"use strict"===o?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,i.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,i.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(i.Messages.BadGetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(i.Messages.BadSetterArity):n.params[0]instanceof a.RestElement&&this.tolerateError(i.Messages.BadSetterRestParameter);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new a.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",o=null,s=null,u=!1,c=!1,l=!1,f=!1;if(this.match("*"))this.nextToken();else if(u=this.match("["),"static"===(o=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,u=this.match("["),this.match("*")?this.nextToken():o=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var d=this.lookahead.value;":"!==d&&"("!==d&&"*"!==d&&(f=!0,t=this.lookahead,o=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,i.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(r="get",u=this.match("["),o=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===t.value&&p&&(r="set",u=this.match("["),o=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(r="init",u=this.match("["),o=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0),!r&&o&&this.match("(")&&(r="init",s=f?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),u||(l&&this.isPropertyKey(o,"prototype")&&this.throwUnexpectedToken(t,i.Messages.StaticPrototype),!l&&this.isPropertyKey(o,"constructor")&&(("method"!==r||!c||s&&s.generator)&&this.throwUnexpectedToken(t,i.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,i.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new a.MethodDefinition(o,u,s,r,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new a.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),o=null;this.matchKeyword("extends")&&(this.nextToken(),o=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=n,this.finalize(t,new a.ClassDeclaration(r,o,i))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=t,this.finalize(e,new a.ClassExpression(n,r,o))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(i.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new a.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new a.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new a.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(i.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new a.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(i.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new a.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new a.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(i.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),e=this.finalize(t,new a.ExportDefaultDeclaration(n))):this.matchContextualKeyword("async")?(n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new a.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(i.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new a.ExportDefaultDeclaration(n)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var o=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new a.ExportAllDeclaration(o))}else if(4===this.lookahead.type){switch(n=void 0,this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction())n=this.parseFunctionDeclaration(),e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null));else{var s=[],u=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon()):c?(r=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause,this.throwError(r,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new a.ExportNamedDeclaration(null,s,u))}return e},e}();t.Parser=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var o="Line "+t+": "+r,i=this.constructError(o,n);return i.index=e,i.lineNumber=t,i.description=r,i},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var o=this.createError(e,t,n,r);if(!this.tolerant)throw o;this.recordError(o)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(4),i=n(11);function a(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function s(e){return"01234567".indexOf(e)}var u=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=i.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=i.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(++this.index,o.Character.isLineTerminator(i)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(a)}return 13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},a={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n},r.push(a)),r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(o.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(i)}return n}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},i={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(i)),this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(o.Character.isWhiteSpace(n))++this.index;else if(o.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==n)break;this.index+=2,r=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(r))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,r=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(r))}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,r=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);n>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,r=0;r<t;++r){if(this.eof()||!o.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+a(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],o.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+a(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),o.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!o.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=o.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&o.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),o.Character.isIdentifierPart(t));)n+=e=o.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&o.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=s(e);return!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+s(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+s(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(i.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(o.Character.isIdentifierStart(t)||o.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;for(o.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(o.Character.isIdentifierStart(this.source.charCodeAt(this.index))||o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!o.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];r.assert(o.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&o.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(n+=this.source[this.index++]),o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];r.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,a="";!this.eof();){var s=this.source[this.index++];if(s===t){t="";break}if("\\"===s)if((s=this.source[this.index++])&&o.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,"\r"===s&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case"u":if("{"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(s);null===u&&this.throwUnexpectedToken(),a+=u}break;case"x":var c=this.scanHexEscape(s);null===c&&this.throwUnexpectedToken(i.Messages.InvalidHexEscapeSequence),a+=c;break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;case"8":case"9":a+=s,this.tolerateUnexpectedToken();break;default:if(s&&o.Character.isOctalDigit(s.charCodeAt(0))){var l=this.octalToDecimal(s);n=l.octal||n,a+=String.fromCharCode(l.code)}else a+=s}else{if(o.Character.isLineTerminator(s.charCodeAt(0)))break;a+=s}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:a,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],a=!1,s=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){s=1,a=!0,t=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=u}else if("\\"===u)if(u=this.source[this.index++],o.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var c=this.index,l=this.scanHexEscape(u);null!==l?e+=l:(this.index=c,e+=u)}break;case"x":var f=this.scanHexEscape(u);null===f&&this.throwUnexpectedToken(i.Messages.InvalidHexEscapeSequence),e+=f;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===u?(o.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(i.Messages.TemplateOctalLiteral),e+="\0"):o.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(i.Messages.TemplateOctalLiteral):e+=u}else o.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=u}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:e,head:r,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,r=this;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,n){var o=parseInt(t||n,16);return o>1114111&&r.throwUnexpectedToken(i.Messages.InvalidRegExp),o<=65535?String.fromCharCode(o):""})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(n)}catch(e){this.throwUnexpectedToken(i.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];r.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,a=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],o.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(i.Messages.UnterminatedRegExp),t+=e;else if(o.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(i.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||this.throwUnexpectedToken(i.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!o.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var n=this.index,r=this.scanHexEscape("u");if(null!==r)for(e+=r;n<this.index;++n)this.source[n];else this.index=n,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return o.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?o.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():o.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&o.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(12),i=n(13),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(r=this.values[this.curly-4])&&!this.beforeFunctionExpression(r);else if("function"===this.values[this.curly-4]){var r;t=!(r=this.values[this.curly-5])||!this.beforeFunctionExpression(r)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),s=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new o.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),o={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(o.range=n.range),this.trackLoc&&(o.loc=n.loc),this.buffer.push(o)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var u={type:i.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};if(this.trackRange&&(u.range=[s.start,s.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===s.type){var c=s.pattern,l=s.flags;u.regex={pattern:c,flags:l}}this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=s}])},e.exports=r()},function(e,t,n){"use strict";var r=n(38),o=n(53),i=n(75),a=n(54),s=Object.prototype.toString,u=Object.prototype.hasOwnProperty,c={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},l=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function f(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else{if(!(e<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+r.repeat("0",i-t.length)+t}function d(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=r.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,o,i,a,s,c;if(null===t)return{};for(n={},o=0,i=(r=Object.keys(t)).length;o<i;o+=1)a=r[o],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(c=e.compiledTypeMap.fallback[a])&&u.call(c.styleAliases,s)&&(s=c.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function p(e,t){for(var n,o=r.repeat(" ",t),i=0,a=-1,s="",u=e.length;i<u;)-1===(a=e.indexOf("\n",i))?(n=e.slice(i),i=u):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(s+=o),s+=n;return s}function h(e,t){return"\n"+r.repeat(" ",e.indent*t)}function m(e){return 32===e||9===e}function g(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function v(e,t){return g(e)&&65279!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&58!==e&&(35!==e||t&&function(e){return g(e)&&!m(e)&&65279!==e&&13!==e&&10!==e}(t))}function y(e){return/^\n* /.test(e)}function b(e,t,n,r){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==l.indexOf(t))return"'"+t+"'";var i=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),s=r||e.flowLevel>-1&&n>=e.flowLevel;switch(function(e,t,n,r,o){var i,a,s,u,c=!1,l=!1,f=-1!==r,d=-1,p=g(u=e.charCodeAt(0))&&65279!==u&&!m(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&!m(e.charCodeAt(e.length-1));if(t)for(i=0;i<e.length;i++){if(!g(a=e.charCodeAt(i)))return 5;s=i>0?e.charCodeAt(i-1):null,p=p&&v(a,s)}else{for(i=0;i<e.length;i++){if(10===(a=e.charCodeAt(i)))c=!0,f&&(l=l||i-d-1>r&&" "!==e[d+1],d=i);else if(!g(a))return 5;s=i>0?e.charCodeAt(i-1):null,p=p&&v(a,s)}l=l||f&&i-d-1>r&&" "!==e[d+1]}return c||l?n>9&&y(e)?5:l?4:3:p&&!o(e)?1:2}(t,s,e.indent,a,(function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}))){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+w(t,e.indent)+x(p(t,i));case 4:return">"+w(t,e.indent)+x(p(function(e,t){for(var n,r,o,i=/(\n+)([^\n]*)/g,a=(o=-1!==(o=e.indexOf("\n"))?o:e.length,i.lastIndex=o,C(e.slice(0,o),t)),s="\n"===e[0]||" "===e[0];r=i.exec(e);){var u=r[1],c=r[2];n=" "===c[0],a+=u+(s||n||""===c?"":"\n")+C(c,t),s=n}return a}(t,a),i));case 5:return'"'+function(e){for(var t,n,r,o="",i=0;i<e.length;i++)(t=e.charCodeAt(i))>=55296&&t<=56319&&(n=e.charCodeAt(i+1))>=56320&&n<=57343?(o+=f(1024*(t-55296)+n-56320+65536),i++):o+=!(r=c[t])&&g(t)?e[i]:r||f(t);return o}(t)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function w(e,t){var n=y(e)?String(t):"",r="\n"===e[e.length-1];return n+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function x(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function C(e,t){if(""===e||" "===e[0])return e;for(var n,r,o=/ [^ ]/g,i=0,a=0,s=0,u="";n=o.exec(e);)(s=n.index)-i>t&&(r=a>i?a:s,u+="\n"+e.slice(i,r),i=r+1),a=s;return u+="\n",e.length-i>t&&a>i?u+=e.slice(i,a)+"\n"+e.slice(a+1):u+=e.slice(i),u.slice(1)}function S(e,t,n){var r,i,a,c,l,f;for(a=0,c=(i=n?e.explicitTypes:e.implicitTypes).length;a<c;a+=1)if(((l=i[a]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=n?l.tag:"?",l.represent){if(f=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===s.call(l.represent))r=l.represent(t,f);else{if(!u.call(l.represent,f))throw new o("!<"+l.tag+'> tag resolver accepts not "'+f+'" style');r=l.represent[f](t,f)}e.dump=r}return!0}return!1}function A(e,t,n,r,i,a){e.tag=null,e.dump=n,S(e,n,!1)||S(e,n,!0);var u=s.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var c,l,f="[object Object]"===u||"[object Array]"===u;if(f&&(l=-1!==(c=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||l||2!==e.indent&&t>0)&&(i=!1),l&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(f&&l&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===u)r&&0!==Object.keys(e.dump).length?(function(e,t,n,r){var i,a,s,u,c,l,f="",d=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new o("sortKeys must be a boolean or a function");for(i=0,a=p.length;i<a;i+=1)l="",r&&0===i||(l+=h(e,t)),u=n[s=p[i]],A(e,t+1,s,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=h(e,t)),A(e,t+1,u,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?l+=":":l+=": ",f+=l+=e.dump));e.tag=d,e.dump=f||"{}"}(e,t,e.dump,i),l&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){var r,o,i,a,s,u="",c=e.tag,l=Object.keys(n);for(r=0,o=l.length;r<o;r+=1)s="",0!==r&&(s+=", "),e.condenseFlow&&(s+='"'),a=n[i=l[r]],A(e,t,i,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),A(e,t,a,!1,!1)&&(u+=s+=e.dump));e.tag=c,e.dump="{"+u+"}"}(e,t,e.dump),l&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===u){var d=e.noArrayIndent&&t>0?t-1:t;r&&0!==e.dump.length?(function(e,t,n,r){var o,i,a="",s=e.tag;for(o=0,i=n.length;o<i;o+=1)A(e,t+1,n[o],!0,!0)&&(r&&0===o||(a+=h(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}(e,d,e.dump,i),l&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){var r,o,i="",a=e.tag;for(r=0,o=n.length;r<o;r+=1)A(e,t,n[r],!1,!1)&&(0!==r&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}(e,d,e.dump),l&&(e.dump="&ref_"+c+" "+e.dump))}else{if("[object String]"!==u){if(e.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+u)}"?"!==e.tag&&b(e,e.dump,t,a)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function _(e,t){var n=new d(t=t||{});return n.noRefs||function(e,t){var n,r,o=[],i=[];for(function e(t,n,r){var o,i,a;if(null!==t&&"object"==typeof t)if(-1!==(i=n.indexOf(t)))-1===r.indexOf(i)&&r.push(i);else if(n.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)e(t[i],n,r);else for(i=0,a=(o=Object.keys(t)).length;i<a;i+=1)e(t[o[i]],n,r)}(e,o,i),n=0,r=i.length;n<r;n+=1)t.duplicates.push(o[i[n]]);t.usedDuplicates=new Array(r)}(e,n),A(n,0,e,!0,!0)?n.dump+"\n":""}e.exports.dump=_,e.exports.safeDump=function(e,t){return _(e,r.extend({schema:a},t))}},function(e,t,n){"use strict";n(31),n(32),n(33),n(64),n(19),n(65),n(20),n(92),n(91),n(143),n(22),n(144),n(23);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(90),u=n(1),c=n(182),l=n(0),f=n(7),d=n(94),p=n(68),h=n(3),m=n(305),g=n(306),v=n(307),y=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this)||this;return r._hasDeclaration=!1,r._docTypeName="",r._hasDocumentElement=!1,r._currentElementSerialized=!1,r._openTags=[],r._ended=!1,r._fragment=n,r._options=u.applyDefaults(t||{},s.DefaultXMLBuilderCBOptions),r._builderOptions={defaultNamespace:r._options.defaultNamespace,namespaceAlias:r._options.namespaceAlias},"json"===r._options.format?r._writer=new g.JSONCBWriter(r._options):"yaml"===r._options.format?r._writer=new v.YAMLCBWriter(r._options):r._writer=new m.XMLCBWriter(r._options),void 0!==r._options.data&&r.on("data",r._options.data),void 0!==r._options.end&&r.on("end",r._options.end),void 0!==r._options.error&&r.on("error",r._options.error),r._prefixMap=new d.NamespacePrefixMap,r._prefixMap.set("xml",f.namespace.XML),r._prefixIndex={value:1},r._push(r._writer.frontMatter()),r}return o(t,e),t.prototype.ele=function(e,t,n){var r,o;if(u.isObject(e)||u.isString(e)&&(/^\s*</.test(e)||/^\s*[\{\[]/.test(e)||/^(\s*|(#.*)|(%.*))*---/.test(e))){var a=c.fragment().set(this._options);try{a.ele(e)}catch(e){return this.emit("error",e),this}try{for(var s=i(a.node.childNodes),l=s.next();!l.done;l=s.next()){var f=l.value;this._fromNode(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&0===this._writer.level)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=c.fragment(this._builderOptions).ele(e,t,n)}catch(e){return this.emit("error",e),this}return this._fragment||this._hasDocumentElement||""===this._docTypeName||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},t.prototype.att=function(e,t,n){if(void 0===this._currentElement)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(e,t,n)}catch(e){return this.emit("error",e),this}return this},t.prototype.com=function(e){var t;this._serializeOpenTag(!0);try{t=c.fragment(this._builderOptions).com(e).first().node}catch(e){return this.emit("error",e),this}return!this._options.wellFormed||l.xml_isLegalChar(t.data)&&-1===t.data.indexOf("--")&&!t.data.endsWith("-")?(this._push(this._writer.comment(t.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},t.prototype.txt=function(e){if(!this._fragment&&void 0===this._currentElement)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var t;this._serializeOpenTag(!0);try{t=c.fragment(this._builderOptions).txt(e).first().node}catch(e){return this.emit("error",e),this}if(this._options.wellFormed&&!l.xml_isLegalChar(t.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var n="";if(this._options.noDoubleEncoding)n=t.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");else for(var r=0;r<t.data.length;r++){var o=t.data[r];n+="&"===o?"&amp;":"<"===o?"&lt;":">"===o?"&gt;":o}return this._push(this._writer.text(n)),this},t.prototype.ins=function(e,t){var n;void 0===t&&(t=""),this._serializeOpenTag(!0);try{n=c.fragment(this._builderOptions).ins(e,t).first().node}catch(e){return this.emit("error",e),this}return this._options.wellFormed&&(-1!==n.target.indexOf(":")||/^xml$/i.test(n.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!l.xml_isLegalChar(n.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(n.target,n.data)),this)},t.prototype.dat=function(e){var t;this._serializeOpenTag(!0);try{t=c.fragment(this._builderOptions).dat(e).first().node}catch(e){return this.emit("error",e),this}return this._push(this._writer.cdata(t.data)),this},t.prototype.dec=function(e){return void 0===e&&(e={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(e.version||"1.0",e.encoding,e.standalone)),this._hasDeclaration=!0,this)},t.prototype.dtd=function(e){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(""!==this._docTypeName)return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var t;try{t=c.create().dtd(e).first().node}catch(e){return this.emit("error",e),this}return this._options.wellFormed&&!l.xml_isPubidChar(t.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!l.xml_isLegalChar(t.systemId)||-1!==t.systemId.indexOf('"')&&-1!==t.systemId.indexOf("'"))?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=e.name,this._push(this._writer.docType(e.name,t.publicId,t.systemId)),this)},t.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},t.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},t.prototype._serializeOpenTag=function(e){if(!this._currentElementSerialized&&void 0!==this._currentElement){var n=this._currentElement.node;if(!this._options.wellFormed||-1===n.localName.indexOf(":")&&l.xml_isName(n.localName)){var r="",o=!1,i=this._prefixMap.copy(),a={},s=this._recordNamespaceInformation(n,i,a),u=0===this._openTags.length?null:this._openTags[this._openTags.length-1][1],c=n.namespaceURI;if(null===c&&(c=u),u===c)null!==s&&(o=!0),r=c===f.namespace.XML?"xml:"+n.localName:n.localName,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r));else{var d=n.prefix,p=null;if(null===d&&c===s||(p=i.get(d,c)),"xmlns"===d){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));p=d}null!==p?(r=p+":"+n.localName,null!==s&&s!==f.namespace.XML&&(u=s||null),this._writer.beginElement(r),this._push(this._writer.openTagBegin(r))):null!==d?(d in a&&(d=this._generatePrefix(c,i,this._prefixIndex)),i.set(d,c),r+=d+":"+n.localName,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)),this._push(this._writer.attribute("xmlns:"+d,this._serializeAttributeValue(c,this._options.wellFormed))),null!==s&&(u=s||null)):null===s||null!==s&&s!==c?(o=!0,r+=n.localName,u=c,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(c,this._options.wellFormed)))):(r+=n.localName,u=c,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)))}this._serializeAttributes(n,i,this._prefixIndex,a,o,this._options.wellFormed);var h=c===f.namespace.HTML;h&&!e&&t._VoidElementNames.has(n.localName)?(this._push(this._writer.openTagEnd(r,!0,!0)),this._writer.endElement(r)):h||e?this._push(this._writer.openTagEnd(r,!1,!1)):(this._push(this._writer.openTagEnd(r,!0,!1)),this._writer.endElement(r)),this._currentElementSerialized=!0,this._openTags.push([r,u,this._prefixMap,e]),this._isPrefixMapModified(this._prefixMap,i)&&(this._prefixMap=i),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},t.prototype._serializeCloseTag=function(){this._writer.level--;var e=this._openTags.pop();if(void 0!==e){var t=a(e,4),n=t[0],r=(t[1],t[2]),o=t[3];this._prefixMap=r,o&&(this._push(this._writer.closeTag(n)),this._writer.endElement(n))}else this.emit("error",new Error("Last element is undefined."))},t.prototype._push=function(e){null===e?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):0!==e.length&&(this._writer.hasData=!0,this.emit("data",e,this._writer.level))},t.prototype._fromNode=function(e){var t,n,r,o;if(h.Guard.isElementNode(e)){var a=e.prefix?e.prefix+":"+e.localName:e.localName;null!==e.namespaceURI?this.ele(e.namespaceURI,a):this.ele(a);try{for(var s=i(e.attributes),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.prefix?c.prefix+":"+c.localName:c.localName;null!==c.namespaceURI?this.att(c.namespaceURI,l,c.value):this.att(l,c.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var f=i(e.childNodes),d=f.next();!d.done;d=f.next()){var p=d.value;this._fromNode(p)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}this.up()}else h.Guard.isExclusiveTextNode(e)&&e.data?this.txt(e.data):h.Guard.isCommentNode(e)?this.com(e.data):h.Guard.isCDATASectionNode(e)?this.dat(e.data):h.Guard.isProcessingInstructionNode(e)&&this.ins(e.target,e.data)},t.prototype._serializeAttributes=function(e,t,n,r,o,a){var s,u,c=a?new p.LocalNameSet:void 0;try{for(var d=i(e.attributes),h=d.next();!h.done;h=d.next()){var m=h.value;if(a||o||null!==m.namespaceURI){if(a&&c&&c.has(m.namespaceURI,m.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));a&&c&&c.set(m.namespaceURI,m.localName);var g=m.namespaceURI,v=null;if(null!==g)if(v=t.get(m.prefix,g),g===f.namespace.XMLNS){if(m.value===f.namespace.XML||null===m.prefix&&o||null!==m.prefix&&(!(m.localName in r)||r[m.localName]!==m.value)&&t.has(m.localName,m.value))continue;if(a&&m.value===f.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(a&&""===m.value)return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));"xmlns"===m.prefix&&(v="xmlns")}else null===v&&(v=null===m.prefix||t.hasPrefix(m.prefix)&&!t.has(m.prefix,g)?this._generatePrefix(g,t,n):m.prefix,this._push(this._writer.attribute("xmlns:"+v,this._serializeAttributeValue(g,this._options.wellFormed))));if(a&&(-1!==m.localName.indexOf(":")||!l.xml_isName(m.localName)||"xmlns"===m.localName&&null===g))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((null!==v?v+":":"")+m.localName,this._serializeAttributeValue(m.value,this._options.wellFormed)))}else this._push(this._writer.attribute(m.localName,this._serializeAttributeValue(m.value,this._options.wellFormed)))}}catch(e){s={error:e}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}},t.prototype._serializeAttributeValue=function(e,t){if(t&&null!==e&&!l.xml_isLegalChar(e))return this.emit("error",new Error("Invalid characters in attribute value.")),"";if(null===e)return"";if(this._options.noDoubleEncoding)return e.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");for(var n="",r=0;r<e.length;r++){var o=e[r];n+='"'===o?"&quot;":"&"===o?"&amp;":"<"===o?"&lt;":">"===o?"&gt;":o}return n},t.prototype._recordNamespaceInformation=function(e,t,n){var r,o,a=null;try{for(var s=i(e.attributes),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.namespaceURI,d=c.prefix;if(l===f.namespace.XMLNS){if(null===d){a=c.value;continue}var p=c.localName,h=c.value;if(h===f.namespace.XML)continue;if(""===h&&(h=null),t.has(p,h))continue;t.set(p,h),n[p]=h||""}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},t.prototype._generatePrefix=function(e,t,n){var r="ns"+n.value;return n.value++,t.set(r,e),r},t.prototype._isPrefixMapModified=function(e,t){var n=e._items,r=t._items,o=e._nullItems,i=t._nullItems;for(var a in r){var s=n[a];if(void 0===s)return!0;var u=r[a];if(s.length!==u.length)return!0;for(var c=0;c<s.length;c++)if(s[c]!==u[c])return!0}if(o.length!==i.length)return!0;for(c=0;c<o.length;c++)if(o[c]!==i[c])return!0;return!1},t._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),t}(n(308).EventEmitter);t.XMLBuilderCBImpl=y},function(e,t,n){"use strict";n(73);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n._lineLength=0,n}return o(t,e),t.prototype.frontMatter=function(){return""},t.prototype.declaration=function(e,t,n){var r=this._beginLine()+"<?xml";return r+=' version="'+e+'"',void 0!==t&&(r+=' encoding="'+t+'"'),void 0!==n&&(r+=' standalone="'+(n?"yes":"no")+'"'),r+"?>"},t.prototype.docType=function(e,t,n){return this._beginLine()+(t&&n?"<!DOCTYPE "+e+' PUBLIC "'+t+'" "'+n+'">':t?"<!DOCTYPE "+e+' PUBLIC "'+t+'">':n?"<!DOCTYPE "+e+' SYSTEM "'+n+'">':"<!DOCTYPE "+e+">")},t.prototype.comment=function(e){return this._beginLine()+"\x3c!--"+e+"--\x3e"},t.prototype.text=function(e){return this._beginLine()+e},t.prototype.instruction=function(e,t){return t?this._beginLine()+"<?"+e+" "+t+"?>":this._beginLine()+"<?"+e+"?>"},t.prototype.cdata=function(e){return this._beginLine()+"<![CDATA["+e+"]]>"},t.prototype.openTagBegin=function(e){return this._lineLength+=1+e.length,this._beginLine()+"<"+e},t.prototype.openTagEnd=function(e,t,n){return n?" />":t?this._writerOptions.allowEmptyTags?"></"+e+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},t.prototype.closeTag=function(e){return this._beginLine()+"</"+e+">"},t.prototype.attribute=function(e,t){var n=e+'="'+t+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+n.length>this._writerOptions.width?(n=this._beginLine()+this._indent(1)+n,this._lineLength=n.length,n):(this._lineLength+=1+n.length," "+n)},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var e=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=e.length,e}return""},t.prototype._indent=function(e){return e<=0?"":this._writerOptions.indent.repeat(e)},t}(n(113).BaseCBWriter);t.XMLCBWriter=i},function(e,t,n){"use strict";n(73);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n._hasChildren=[],n._additionalLevel=0,n}return o(t,e),t.prototype.frontMatter=function(){return""},t.prototype.declaration=function(e,t,n){return""},t.prototype.docType=function(e,t,n){return""},t.prototype.comment=function(e){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(e)+this._sep()+"}"},t.prototype.text=function(e){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(e)+this._sep()+"}"},t.prototype.instruction=function(e,t){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(t?e+" "+t:e)+this._sep()+"}"},t.prototype.cdata=function(e){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(e)+this._sep()+"}"},t.prototype.attribute=function(e,t){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+e)+this._sep()+this._val(t)+this._sep()+"}"},t.prototype.openTagBegin=function(e){var t=this._comma()+this._beginLine()+"{"+this._sep()+this._key(e)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,t+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),t},t.prototype.openTagEnd=function(e,t,n){if(t){var r=this._sep()+"]";return this._additionalLevel--,r+(this._beginLine()+"}")+this._sep()+"}"}return""},t.prototype.closeTag=function(e){var t=this._beginLine()+"]";return this._additionalLevel--,t+(this._beginLine()+"}")+this._sep()+"}"},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){this._hasChildren.pop()},t.prototype._beginLine=function(e){return void 0===e&&(e=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+e):""},t.prototype._indent=function(e){return e+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(e+this._additionalLevel)},t.prototype._comma=function(){var e=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),e},t.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},t.prototype._key=function(e){return'"'+e+'":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(113).BaseCBWriter);t.JSONCBWriter=i},function(e,t,n){"use strict";n(73);var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;if(n._rootWritten=!1,n._additionalLevel=0,t.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(t.offset<0)throw new Error("YAML offset should be zero or a positive number.");return n}return o(t,e),t.prototype.frontMatter=function(){return this._beginLine()+"---"},t.prototype.declaration=function(e,t,n){return""},t.prototype.docType=function(e,t,n){return""},t.prototype.comment=function(e){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(e)},t.prototype.text=function(e){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(e)},t.prototype.instruction=function(e,t){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(t?e+" "+t:e)},t.prototype.cdata=function(e){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(e)},t.prototype.attribute=function(e,t){this._additionalLevel++;var n=this._beginLine()+this._key(this._builderOptions.convert.att+e)+" "+this._val(t);return this._additionalLevel--,n},t.prototype.openTagBegin=function(e){var t=this._beginLine()+this._key(e);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,t+(this._beginLine(!0)+this._key(this._builderOptions.convert.text))},t.prototype.openTagEnd=function(e,t,n){return t?" "+this._val(""):""},t.prototype.closeTag=function(e){return this._additionalLevel--,""},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(e){return void 0===e&&(e=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,e)},t.prototype._indent=function(e,t){if(e+this._additionalLevel<=0)return"";var n=this._writerOptions.indent.repeat(e+this._additionalLevel);return!t&&this._rootWritten?n.substr(0,n.length-2)+"-"+n.substr(-1,1):n},t.prototype._key=function(e){return'"'+e+'":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(113).BaseCBWriter);t.YAMLCBWriter=i},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.createCB=function(e){return new r.XMLBuilderCBImpl(e)},t.fragmentCB=function(e){return new r.XMLBuilderCBImpl(e,!0)}}])},2361:function(){},4616:function(){},5042:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n(2637)}()},8186:(e,t,n)=>{n(969),n(7066),n(5460),n(8208)},969:(e,t,n)=>{window._=n(3974),window.axios=n(4559),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},5460:(e,t,n)=>{"use strict";n.r(t);var r=n(5812),o=n.n(r);o().baseURL="/node_modules/tinymce/",(window.activateTinyMCE=function(){o().init({selector:".tinymce",height:300,menubar:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount","image"],toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat | help | image",setup:function(e){e.on("change",(function(t){var n=document.getElementById(e.id);n.value=e.getBody().innerHTML,n.dispatchEvent(new Event("input",{bubbles:!0}))}))}})})(),document.querySelectorAll(".btn-submit-form-has-tinymce").forEach((function(e){e.onclick=function(e){setTimeout((function(){activateTinyMCE()}),1e3)}}))},8208:(e,t,n)=>{"use strict";n.r(t);n(3628);var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function a(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function s(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,x=r*u-o*s,C=r*c-i*s,S=o*c-i*u,A=l*m-f*h,_=l*g-d*h,P=l*v-p*h,O=f*g-d*m,E=f*v-p*m,T=d*v-p*g,D=y*T-b*E+w*O+x*P-C*_+S*A;return D?(D=1/D,e[0]=(s*T-u*E+c*O)*D,e[1]=(o*E-r*T-i*O)*D,e[2]=(m*S-g*C+v*x)*D,e[3]=(d*C-f*S-p*x)*D,e[4]=(u*P-a*T-c*_)*D,e[5]=(n*T-o*P+i*_)*D,e[6]=(g*w-h*S-v*b)*D,e[7]=(l*S-d*w+p*b)*D,e[8]=(a*E-s*P+c*A)*D,e[9]=(r*P-n*E-i*A)*D,e[10]=(h*C-m*w+v*y)*D,e[11]=(f*w-l*C-p*y)*D,e[12]=(s*_-a*O-u*A)*D,e[13]=(n*O-r*_+o*A)*D,e[14]=(m*b-h*x-g*y)*D,e[15]=(l*x-f*b+d*y)*D,e):null}function u(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],h=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],w=n[1],x=n[2],C=n[3];return e[0]=b*r+w*s+x*f+C*m,e[1]=b*o+w*u+x*d+C*g,e[2]=b*i+w*c+x*p+C*v,e[3]=b*a+w*l+x*h+C*y,b=n[4],w=n[5],x=n[6],C=n[7],e[4]=b*r+w*s+x*f+C*m,e[5]=b*o+w*u+x*d+C*g,e[6]=b*i+w*c+x*p+C*v,e[7]=b*a+w*l+x*h+C*y,b=n[8],w=n[9],x=n[10],C=n[11],e[8]=b*r+w*s+x*f+C*m,e[9]=b*o+w*u+x*d+C*g,e[10]=b*i+w*c+x*p+C*v,e[11]=b*a+w*l+x*h+C*y,b=n[12],w=n[13],x=n[14],C=n[15],e[12]=b*r+w*s+x*f+C*m,e[13]=b*o+w*u+x*d+C*g,e[14]=b*i+w*c+x*p+C*v,e[15]=b*a+w*l+x*h+C*y,e}function c(e,t,n){var r,o,i,a,s,u,c,l,f,d,p,h,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],h=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=p,e[11]=h,e[12]=r*m+s*g+f*v+t[12],e[13]=o*m+u*g+d*v+t[13],e[14]=i*m+c*g+p*v+t[14],e[15]=a*m+l*g+h*v+t[15]),e}function l(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t){var n=new o(3);!function(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(i,a,s),e[2]=Math.hypot(u,c,l)}(n,t);var r=1/n[0],i=1/n[1],a=1/n[2],s=t[0]*r,u=t[1]*i,c=t[2]*a,l=t[4]*r,f=t[5]*i,d=t[6]*a,p=t[8]*r,h=t[9]*i,m=t[10]*a,g=s+f+m,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-h)/v,e[1]=(p-c)/v,e[2]=(u-l)/v):s>f&&s>m?(v=2*Math.sqrt(1+s-f-m),e[3]=(d-h)/v,e[0]=.25*v,e[1]=(u+l)/v,e[2]=(p+c)/v):f>m?(v=2*Math.sqrt(1+f-s-m),e[3]=(p-c)/v,e[0]=(u+l)/v,e[1]=.25*v,e[2]=(d+h)/v):(v=2*Math.sqrt(1+m-s-f),e[3]=(u-l)/v,e[0]=(p+c)/v,e[1]=(d+h)/v,e[2]=.25*v),e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function d(){var e=new o(3);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function p(e,t,n){var r=new o(3);return r[0]=e,r[1]=t,r[2]=n,r}function h(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function m(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function g(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function v(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function y(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function b(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function w(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2];return e[0]=o*u-i*s,e[1]=i*a-r*u,e[2]=r*s-o*a,e}function x(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}var C,S=function(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)},A=(C=d(),Math.sqrt(50)),_=Math.sqrt(10),P=Math.sqrt(2);function O(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=A?10:i>=_?5:i>=P?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=A?10:i>=_?5:i>=P?2:1)}function E(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function T(e){let t=e,n=e;function r(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>E(e(t),n)}(e)),{left:r,center:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);const a=r(e,n,o,i-1);return a>o&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}}}const D=T(E),I=D.right,k=(D.left,T((function(e){return null===e?NaN:+e})).center,I);function M(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function N(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function R(){}var B=.7,L=1/B,F="\\s*([+-]?\\d+)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U=/^#([0-9a-f]{3,8})$/,z=new RegExp("^rgb\\("+[F,F,F]+"\\)$"),G=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),W=new RegExp("^rgba\\("+[F,F,F,j]+"\\)$"),H=new RegExp("^rgba\\("+[V,V,V,j]+"\\)$"),q=new RegExp("^hsl\\("+[j,V,V]+"\\)$"),K=new RegExp("^hsla\\("+[j,V,V,j]+"\\)$"),X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Y(){return this.rgb().formatHex()}function Z(){return this.rgb().formatRgb()}function J(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=U.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?$(t):3===n?new ne(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Q(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Q(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=z.exec(e))?new ne(t[1],t[2],t[3],1):(t=G.exec(e))?new ne(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=W.exec(e))?Q(t[1],t[2],t[3],t[4]):(t=H.exec(e))?Q(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=q.exec(e))?ae(t[1],t[2]/100,t[3]/100,1):(t=K.exec(e))?ae(t[1],t[2]/100,t[3]/100,t[4]):X.hasOwnProperty(e)?$(X[e]):"transparent"===e?new ne(NaN,NaN,NaN,0):null}function $(e){return new ne(e>>16&255,e>>8&255,255&e,1)}function Q(e,t,n,r){return r<=0&&(e=t=n=NaN),new ne(e,t,n,r)}function ee(e){return e instanceof R||(e=J(e)),e?new ne((e=e.rgb()).r,e.g,e.b,e.opacity):new ne}function te(e,t,n,r){return 1===arguments.length?ee(e):new ne(e,t,n,null==r?1:r)}function ne(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function re(){return"#"+ie(this.r)+ie(this.g)+ie(this.b)}function oe(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ie(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ae(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ue(e,t,n,r)}function se(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof R||(e=J(e)),!e)return new ue;if(e instanceof ue)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new ue(a,s,u,e.opacity)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ce(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function le(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}M(R,J,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Y,formatHex:Y,formatHsl:function(){return se(this).formatHsl()},formatRgb:Z,toString:Z}),M(ne,te,N(R,{brighter:function(e){return e=null==e?L:Math.pow(L,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?B:Math.pow(B,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:re,formatHex:re,formatRgb:oe,toString:oe})),M(ue,(function(e,t,n,r){return 1===arguments.length?se(e):new ue(e,t,n,null==r?1:r)}),N(R,{brighter:function(e){return e=null==e?L:Math.pow(L,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?B:Math.pow(B,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ne(ce(e>=240?e-240:e+120,o,r),ce(e,o,r),ce(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const fe=e=>()=>e;function de(e,t){return function(n){return e+n*t}}function pe(e){return 1==(e=+e)?he:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):fe(isNaN(t)?n:t)}}function he(e,t){var n=t-e;return n?de(e,n):fe(isNaN(e)?t:e)}const me=function e(t){var n=pe(t);function r(e,t){var r=n((e=te(e)).r,(t=te(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=he(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function ge(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=te(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}ge((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return le((n-r/t)*t,a,o,i,s)}})),ge((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return le((n-r/t)*t,o,i,a,s)}}));function ve(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=_e(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function ye(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function be(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function we(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=_e(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(xe.source,"g");function Se(e,t){var n,r,o,i=xe.lastIndex=Ce.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=xe.exec(e))&&(r=Ce.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:be(n,r)})),i=Ce.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Ae(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function _e(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?fe(t):("number"===o?be:"string"===o?(n=J(t))?(t=n,me):Se:t instanceof J?me:t instanceof Date?ye:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?ve:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?we:be:Ae))(e,t)}function Pe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Oe(e){return+e}var Ee=[0,1];function Te(e){return e}function De(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Ie(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=De(o,r),i=n(a,i)):(r=De(r,o),i=n(i,a)),function(e){return i(r(e))}}function ke(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=De(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=k(e,t,1,r)-1;return i[n](o[n](t))}}function Me(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ne(){var e,t,n,r,o,i,a=Ee,s=Ee,u=_e,c=Te;function l(){var e,t,n,u=Math.min(a.length,s.length);return c!==Te&&(e=a[0],t=a[u-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=u>2?ke:Ie,o=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(s,a.map(e),be)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Oe),l()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=Pe,l()},f.clamp=function(e){return arguments.length?(c=!!e||Te,l()):c!==Te},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function Re(){return Ne()(Te,Te)}function Be(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Le,Fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function je(e){if(!(t=Fe.exec(e)))throw new Error("invalid format: "+e);var t;return new Ve({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ve(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ue(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ze(e){return(e=Ue(Math.abs(e)))?e[1]:NaN}function Ge(e,t){var n=Ue(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}je.prototype=Ve.prototype,Ve.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const We={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ge(100*e,t),r:Ge,s:function(e,t){var n=Ue(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Le=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ue(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function He(e){return e}var qe,Ke,Xe,Ye=Array.prototype.map,Ze=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Je(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?He:(t=Ye.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(e.substring(o-=s,o+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?He:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ye.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=je(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):We[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?i:/[%p]/.test(y)?u:"",x=We[y],C=/[defgprs%]/.test(y);function S(e){var o,i,u,d=b,S=w;if("c"===y)S=x(e)+S,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:x(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),A&&0==+e&&"+"!==f&&(A=!1),d=(A?"("===f?f:c:"-"===f||"("===f?"":f)+d,S=("s"===y?Ze[8+Le/3]:"")+S+(A&&"("===f?")":""),C)for(o=-1,i=e.length;++o<i;)if(48>(u=e.charCodeAt(o))||u>57){S=(46===u?a+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!p&&(e=r(e,1/0));var _=d.length+e.length+S.length,P=_<h?new Array(h-_+1).join(t):"";switch(m&&p&&(e=r(P+e,P.length?h-S.length:1/0),P=""),n){case"<":e=d+e+S+P;break;case"=":e=d+P+e+S;break;case"^":e=P.slice(0,_=P.length>>1)+d+e+S+P.slice(_);break;default:e=P+d+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=je(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ze(t)/3))),o=Math.pow(10,-r),i=Ze[8+r/3];return function(e){return n(o*e)+i}}}}function $e(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=A?o*=10:i>=_?o*=5:i>=P&&(o*=2),t<e?-o:o}(e,t,n);switch((r=je(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ze(t)/3)))-ze(Math.abs(e)))}(i,a))||(r.precision=o),Xe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ze(t)-ze(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-ze(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return Ke(r)}function Qe(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=O(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return $e(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,u=i[a],c=i[s],l=10;for(c<u&&(o=u,u=c,c=o,o=a,a=s,s=o);l-- >0;){if((o=O(u,c,n))===r)return i[a]=u,i[s]=c,t(i);if(o>0)u=Math.floor(u/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;u=Math.ceil(u*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function et(){var e=Re();return e.copy=function(){return Me(e,et())},Be.apply(e,arguments),Qe(e)}qe=Je({thousands:",",grouping:[3],currency:["$",""]}),Ke=qe.format,Xe=qe.formatPrefix;n(600);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot={vtkObject:function(){return null}};function it(e){if(null==e)return e;if(e.isA)return e;if(!e.vtkClass)return n.g.console&&n.g.console.error&&n.g.console.error("Invalid VTK object"),null;var t=ot[e.vtkClass];if(!t)return n.g.console&&n.g.console.error&&n.g.console.error("No vtk class found for Object of type ".concat(e.vtkClass)),null;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);Object.keys(r).forEach((function(e){r[e]&&"object"===tt(r[e])&&r[e].vtkClass&&(r[e]=it(r[e]))}));var o=t(r);return o&&o.modified&&o.modified(),o}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e,t,n){return(ht=mt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&gt(o,n.prototype),o}).apply(null,arguments)}function mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}it.register=function(e,t){ot[e]=t};var vt=0,yt=Symbol("void");var bt={};function wt(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach((function(e){bt[e]=wt})),n.g.console=console.hasOwnProperty("log")?console:bt;var xt={debug:wt,error:n.g.console.error||wt,info:n.g.console.info||wt,log:n.g.console.log||wt,warn:n.g.console.warn||wt};function Ct(){xt.debug.apply(xt,arguments)}function St(){xt.error.apply(xt,arguments)}function At(){xt.warn.apply(xt,arguments)}var _t={};var Pt=Object.create(null);function Ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ht(Pt[e]||Float64Array,n)}function Et(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=Pt[e]||Float64Array).from.apply(t,r)}function Tt(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Dt(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=[].concat(e[t]))}))}function It(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}function kt(e){return e.isA?e.getState():e}function Mt(e){setTimeout(e,0)}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dt(t);var n=[];function r(e){n[e]=null}function o(e){return Object.freeze({unsubscribe:function(){r(e)}})}return Number.isInteger(t.mtime)||(t.mtime=++vt),t.classHierarchy=["vtkObject"],e.isDeleted=function(){return!!t.deleted},e.modified=function(r){t.deleted?St("instance deleted - cannot call any method"):r&&r<e.getMTime()||(t.mtime=++vt,n.forEach((function(t){return t&&t(e)})))},e.onModified=function(e){if(t.deleted)return St("instance deleted - cannot call any method"),null;var r=n.length;return n.push(e),o(r)},e.getMTime=function(){return t.mtime},e.isA=function(e){for(var n=t.classHierarchy.length;n--;)if(t.classHierarchy[n]===e)return!0;return!1},e.getClassName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.classHierarchy[t.classHierarchy.length-1-e]},e.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return Object.keys(n).forEach((function(a){var s=o?null:e["set".concat(Tt(a))];s&&Array.isArray(n[a])&&s.length>1?i=s.apply(void 0,ft(n[a]))||i:s?i=s(n[a])||i:(-1!==["mtime"].indexOf(a)||r||At("Warning: Set value to model directly ".concat(a,", ").concat(n[a])),t[a]=n[a],i=!0)})),i},e.get=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return t;var o={};return n.forEach((function(e){o[e]=t[e]})),o},e.getReferenceByName=function(e){return t[e]},e.delete=function(){Object.keys(t).forEach((function(e){return delete t[e]})),n.forEach((function(e,t){return r(t)})),t.deleted=!0},e.getState=function(){var n=ct(ct({},t),{},{vtkClass:e.getClassName()});Object.keys(n).forEach((function(e){null===n[e]||void 0===n[e]||"_"===e[0]?delete n[e]:n[e].isA?n[e]=n[e].getState():Array.isArray(n[e])&&(n[e]=n[e].map(kt))}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r},e.shallowCopy=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.getClassName()!==e.getClassName())throw new Error("Cannot ShallowCopy ".concat(n.getClassName()," into ").concat(e.getClassName()));var o=n.get(),i=Object.keys(t).sort(),a=Object.keys(o).sort();a.forEach((function(e){var n=i.indexOf(e);-1===n?r&&Ct("add ".concat(e," in shallowCopy")):i.splice(n,1),t[e]=o[e]})),i.length&&r&&Ct("Untouched keys: ".concat(i.join(", "))),e.modified()},e}function Rt(e,t,n){n.forEach((function(n){"object"===st(n)?e["get".concat(Tt(n.name))]=function(){return t[n.name]}:e["get".concat(Tt(n))]=function(){return t[n]}}))}Pt.Float32Array=Float32Array,Pt.Float64Array=Float64Array,Pt.Uint8Array=Uint8Array,Pt.Int8Array=Int8Array,Pt.Uint16Array=Uint16Array,Pt.Int16Array=Int16Array,Pt.Uint32Array=Uint32Array,Pt.Int32Array=Int32Array,Pt.Uint8ClampedArray=Uint8ClampedArray;var Bt={enum:function(e,t,n){return function(r){if("string"==typeof r){if(void 0!==n.enum[r])return t[n.name]!==n.enum[r]&&(t[n.name]=n.enum[r],e.modified(),!0);throw St("Set Enum with invalid argument ".concat(n,", ").concat(r)),new RangeError("Set Enum with invalid string argument")}if("number"==typeof r){if(t[n.name]!==r){if(-1!==Object.keys(n.enum).map((function(e){return n.enum[e]})).indexOf(r))return t[n.name]=r,e.modified(),!0;throw St("Set Enum outside numeric range ".concat(n,", ").concat(r)),new RangeError("Set Enum outside numeric range")}return!1}throw St("Set Enum with invalid argument (String/Number) ".concat(n,", ").concat(r)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function Lt(e){if("object"===st(e)){var t=Bt[e.type];if(t)return function(n,r){return t(n,r,e)};throw St("No setter for field ".concat(e)),new TypeError("No setter for field")}return function(t,n){return function(r){return n.deleted?(St("instance deleted - cannot call any method"),!1):n[e]!==r&&(n[e]=r,t.modified(),!0)}}}function Ft(e,t,n){n.forEach((function(n){"object"===st(n)?e["set".concat(Tt(n.name))]=Lt(n)(e,t):e["set".concat(Tt(n))]=Lt(n)(e,t)}))}function jt(e,t,n){Rt(e,t,n),Ft(e,t,n)}function Vt(e,t,n){n.forEach((function(n){e["get".concat(Tt(n))]=function(){return[].concat(t[n])},e["get".concat(Tt(n),"ByReference")]=function(){return t[n]}}))}function Ut(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach((function(n){e["set".concat(Tt(n))]=function(){if(t.deleted)return St("instance deleted - cannot call any method"),!1;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=a;if(1===u.length&&u[0].length&&(u=u[0]),u.length!==r){if(!(u.length<r&&void 0!==o))throw new RangeError("Invalid number of values for array setter (".concat(n,")"));for(u=Array.from(u);u.length<r;)u.push(o)}var c=t[n].some((function(e,t){return e!==u[t]}));return!(!c&&t[n].length===u.length)&&(t[n]=Array.from(u),e.modified(),!0)},e["set".concat(Tt(n),"From")]=function(e){var r=t[n];e.forEach((function(e,t){r[t]=e}))}}))}var zt=Symbol("Event abort");function Gt(e,t){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={};return e(r,n,t),Object.freeze(r)};return t&&it.register(t,n),n}function Wt(e){return e&&e.isA&&e.isA("vtkObject")}function Ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.keystore=Object.assign(t.keystore||{},n),e.setKey=function(e,n){t.keystore[e]=n},e.getKey=function(e){return t.keystore[e]},e.getAllKeys=function(){return Object.keys(t.keystore)},e.deleteKey=function(e){return delete t.keystore[e]},e.clearKeystore=function(){return e.getAllKeys().forEach((function(e){return delete t.keystore[e]}))}}var qt=1,Kt="__root__";const Xt={algo:function(e,t,n,r){function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.deleted?St("instance deleted - cannot call any method"):r>=t.numberOfInputs?St("algorithm ".concat(e.getClassName()," only has ").concat(t.numberOfInputs," input ports. To add more input ports, use addInputData()")):(t.inputData[r]!==n||t.inputConnection[r])&&(t.inputData[r]=n,t.inputConnection[r]=null,e.modified&&e.modified())}function i(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.deleted)St("instance deleted - cannot call any method");else{if(r>=t.numberOfInputs){var o="algorithm ".concat(e.getClassName()," only has ");return o+="".concat(t.numberOfInputs),void St(o+=" input ports. To add more input ports, use addInputConnection()")}t.inputData[r]=null,t.inputConnection[r]=n}}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.deleted?(St("instance deleted - cannot call any method"),null):(e.shouldUpdate()&&e.update(),t.output[n])}if(t.inputData?t.inputData=t.inputData.map(it):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(it):t.inputConnection=[],t.output?t.output=t.output.map(it):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(it):t.inputArrayToProcess=[],t.numberOfInputs=n,e.shouldUpdate=function(){for(var n=e.getMTime(),o=r,i=1/0;o--;){if(!t.output[o])return!0;var a=t.output[o].getMTime();if(a<n)return!0;a<i&&(i=a)}for(o=t.numberOfInputs;o--;)if(t.inputConnection[o]&&t.inputConnection[o].filter.shouldUpdate())return!0;for(o=t.numberOfInputs;o--;)if(e.getInputData(o)&&e.getInputData(o).getMTime()>i)return!0;return!1},t.numberOfInputs){for(var s=t.numberOfInputs;s--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=o,e.setInputConnection=i,e.addInputData=function(e){t.deleted?St("instance deleted - cannot call any method"):(t.numberOfInputs++,o(e,t.numberOfInputs-1))},e.addInputConnection=function(e){t.deleted?St("instance deleted - cannot call any method"):(t.numberOfInputs++,i(e,t.numberOfInputs-1))},e.getInputData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]},e.getInputConnection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]}}r&&(e.getOutputData=a,e.getOutputPort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(){return a(t)};return n.filter=e,n}),e.update=function(){var n=[];if(t.numberOfInputs)for(var r=0;r<t.numberOfInputs;)n[r]=e.getInputData(r),r++;e.shouldUpdate()&&e.requestData&&e.requestData(n,t.output)},e.getNumberOfInputPorts=function(){return t.numberOfInputs},e.getNumberOfOutputPorts=function(){return r||t.output.length},e.getInputArrayToProcess=function(e){var n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r["get".concat(n.fieldAssociation)]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:o}}},capitalize:Tt,chain:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return!!e})).map((function(e){return e.apply(void 0,n)}))}},debounce:function(e,t,n){var r,o=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=o,c=function(){r=null,n||e.apply(u,a)},l=n&&!r;clearTimeout(r),r=setTimeout(c,t),l&&e.apply(u,a)}},enumToString:function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))},event:function(e,t,n){var r=[],o=e.delete,i=1;function a(e){for(var t=0;t<r.length;++t){if(at(r[t],1)[0]===e)return void r.splice(t,1)}}function s(e){return Object.freeze({unsubscribe:function(){a(e)}})}e["invoke".concat(Tt(n))]=function(){var n=arguments;if(t.deleted)St("instance deleted - cannot call any method");else for(var o=r.slice(),i=function(t){var r=at(o[t],3),i=r[1],a=r[2];if(!i)return"continue";if(a<0)setTimeout((function(){return i.apply(e,n)}),1-a);else if(i.apply(e,n)===zt)return"break"},a=0;a<o.length;++a){var s=i(a);if("continue"!==s&&"break"===s)break}},e["on".concat(Tt(n))]=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.apply)return console.error("Invalid callback for event ".concat(n)),null;if(t.deleted)return St("instance deleted - cannot call any method"),null;var a=i++;return r.push([a,e,o]),r.sort((function(e,t){return t[2]-e[2]})),s(a)},e.delete=function(){o(),r.forEach((function(e){return a(at(e,1)[0])}))}},EVENT_ABORT:zt,formatBytesToProperUnit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=["TB","GB","MB","KB"],o=Number(e),i="B";o>n;)o/=n,i=r.pop();return"".concat(o.toFixed(t)," ").concat(i)},formatNumbersWithThousandSeparator:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=[],r=e;r>1e3;)n.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(t)},get:Rt,getArray:Vt,getCurrentGlobalMTime:function(){return vt},getStateArrayMapFunc:kt,isVtkObject:Wt,keystore:Ht,newInstance:Gt,newTypedArray:Ot,newTypedArrayFrom:Et,normalizeWheel:function(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1===e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}},obj:Nt,proxy:function(e,t){Ht(e,t);var n=e.delete;t.proxyId="".concat(qt++),t.ui=JSON.parse(JSON.stringify(t.ui||[])),Rt(e,t,["proxyId","proxyGroup","proxyName"]),jt(e,t,["proxyManager"]);var r={},o={};function i(e,t){o[t]||(o[t]=[]);for(var n=o[t],a=0;a<e.length;a++)n.push(e[a].name),r[e[a].name]=e[a],e[a].children&&e[a].children.length&&i(e[a].children,e[a].name)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return o[e]}function s(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,r=[],o=t.proxyId,i=a(n)||[],u=0;u<i.length;u++){var c=i[u],l=e["get".concat(Tt(c))],f=l?l():void 0,d={id:o,name:c,value:f},p=s(c);p.length&&(d.children=p),r.push(d)}return r}i(t.ui,Kt),e.updateUI=function(n){t.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach((function(e){return delete r[e]})),Object.keys(o).forEach((function(e){return delete o[e]})),i(t.ui,Kt),e.modified()},e.updateProxyProperty=function(e,t){var n=r[e];n?Object.assign(n,t):r[e]=ct({},t)},e.activate=function(){if(t.proxyManager){var n="setActive".concat(Tt(e.getProxyGroup().slice(0,-1)));t.proxyManager[n]&&t.proxyManager[n](e)}},t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=function(e,n){n in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[n]=[]),t.propertyLinkSubscribers[n].push(e)},e.gcPropertyLinks=function(n){for(var r=t.propertyLinkSubscribers[n]||[];r.length;)r.pop().unbind(e)},t.propertyLinkMap={},e.getPropertyLink=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.propertyLinkMap[e])return t.propertyLinkMap[e];var r=null,o=[],i=0,a=!1;function s(n){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return null;var u=[],c=null;for(i=o.length;i--;){var l=o[i];l.instance===n?c=l:u.push(l)}if(!c)return null;var f=c.instance["get".concat(Tt(c.propertyName))]();if(!It(f,r)||s){for(r=f,a=!0;u.length;){var d=u.pop();d.instance.set(lt({},d.propertyName,r))}a=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=f),f}function u(e,t){var n=[];for(i=o.length;i--;){var r=o[i];r.instance!==e||r.propertyName!==t&&void 0!==t||(r.subscription.unsubscribe(),n.push(i))}for(;n.length;)o.splice(n.pop(),1)}function c(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.onModified(s),c=o[0];return o.push({instance:n,propertyName:r,subscription:a}),i&&(t.propertyLinkMap[e].persistent&&void 0!==t.propertyLinkMap[e].value?n.set(lt({},r,t.propertyLinkMap[e].value)):c&&s(c.instance,!0)),{unsubscribe:function(){return u(n,r)}}}function l(){for(;o.length;)o.pop().subscription.unsubscribe()}var f={bind:c,unbind:u,unsubscribe:l,persistent:n};return t.propertyLinkMap[e]=f,f},e.listPropertyNames=function(){return s().map((function(e){return e.name}))},e.getPropertyByName=function(e){return s().find((function(t){return t.name===e}))},e.getPropertyDomainByName=function(e){return(r[e]||{}).domain},e.getProxySection=function(){return{id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:s()}},e.delete=function(){for(var r=Object.keys(t.propertyLinkMap),o=r.length;o--;)t.propertyLinkMap[r[o]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),n()},Mt((function(){if(t.links)for(var n=0;n<t.links.length;n++){var r=t.links[n],o=r.link,i=r.property,a=r.persistent,s=r.updateOnBind;if("application"===r.type){var u=t.proxyManager.getPropertyLink(o,a);e.registerPropertyLinkForGC(u,"application"),u.bind(e,i,s)}}}))},proxyPropertyMapping:function(e,t,n){for(var r=e.delete,o=[],i=Object.keys(n),a=i.length;a--;){var s=i[a],u=n[s],c=u.modelKey,l=u.property,f=u.modified,d=void 0===f||f,p=Tt(l),h=Tt(s);e["get".concat(h)]=t[c]["get".concat(p)],e["set".concat(h)]=t[c]["set".concat(p)],d&&o.push(t[c].onModified(e.modified))}e.delete=function(){for(;o.length;)o.pop().unsubscribe();r()}},proxyPropertyState:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(e){for(var n=Object.keys(e),r=n.length;r--;){var o=n[r];t[o].set(e[o])}}t.this=e;for(var i=Object.keys(r),a=i.length,s=function(){var s=i[a];t[s]=r[s];var u=n[s];e["set".concat(Tt(s))]=function(n){n!==t[s]&&(t[s]=n,o(u[n]),e.modified())}};a--;)s();i.length&&Rt(e,t,i)},safeArrays:Dt,set:Ft,setArray:Ut,setGet:jt,setGetArray:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;Vt(e,t,n),Ut(e,t,n,r,o)},setImmediate:Mt,setLoggerFunction:function(e,t){xt[e]&&(xt[e]=t||wt)},throttle:function(e,t){var n=!1,r=null;function o(){n=!1,null!==r&&(i.apply(void 0,ft(r)),r=null)}function i(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n?r=a:(n=!0,e.apply(void 0,a),setTimeout(o,t))}return i},traverseInstanceTree:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(Wt(t)){if(o.indexOf(t)>=0)return r;o.push(t);var i=n(t);void 0!==i&&r.push(i);var a=t.get();Object.keys(a).forEach((function(t){var i=a[t];Array.isArray(i)?i.forEach((function(t){e(t,n,r,o)})):e(i,n,r,o)}))}return r},TYPED_ARRAYS:Pt,uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},VOID:yt,vtkDebugMacro:Ct,vtkErrorMacro:St,vtkInfoMacro:function(){xt.info.apply(xt,arguments)},vtkLogMacro:function(){xt.log.apply(xt,arguments)},vtkOnceErrorMacro:function(e){_t[e]||(xt.error(e),_t[e]=!0)},vtkWarningMacro:At};function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt=Xt.vtkErrorMacro,$t=Xt.vtkWarningMacro,Qt=1e-12;function en(e){return function(){return Jt("vtkMath::".concat(e," - NOT IMPLEMENTED"))}}function tn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[];t.length<e;)t.push(0);return t}function nn(e){return e/180*Math.PI}function rn(e){return 180*e/Math.PI}Math.round,Math.floor,Math.ceil,Math.min,Math.max;en("ceilLog2"),en("factorial");function on(e){for(var t=1;t<e;)t*=2;return t}en("gaussian");function an(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function sn(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function un(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cn(e,t,n){var r=e[1]*t[2]-e[2]*t[1],o=e[2]*t[0]-e[0]*t[2],i=e[0]*t[1]-e[1]*t[0];return n[0]=r,n[1]=o,n[2]=i,n}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:for(var n=0,r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}function fn(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function dn(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function pn(e){var t=dn(e);return 0!==t&&(e[0]/=t,e[1]/=t),t}function hn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 2===t.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!"".concat(e).includes("e"))return+"".concat(Math.round("".concat(e,"e+").concat(t)),"e-").concat(t);var n="".concat(e).split("e"),r="";return+n[1]+t>0&&(r="+"),+"".concat(Math.round("".concat(+n[0],"e").concat(r).concat(+n[1]+t)),"e-").concat(t)}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[0]=mn(e[0],n),t[1]=mn(e[1],n),t[2]=mn(e[2],n),t}function vn(e,t,n){var r,o,i,a,s,u,c,l=0,f=tn(n);for(r=0;r<n;r++){for(a=0,o=0;o<n;o++)(c=Math.abs(e[r][o]))>a&&(a=c);if(0===a)return $t("Unable to factor linear system"),0;f[r]=1/a}for(o=0;o<n;o++){for(r=0;r<o;r++){for(s=e[r][o],i=0;i<r;i++)s-=e[r][i]*e[i][o];e[r][o]=s}for(a=0,r=o;r<n;r++){for(s=e[r][o],i=0;i<o;i++)s-=e[r][i]*e[i][o];e[r][o]=s,(u=f[r]*Math.abs(s))>=a&&(a=u,l=r)}if(o!==l){for(i=0;i<n;i++)u=e[l][i],e[l][i]=e[o][i],e[o][i]=u;f[l]=f[o]}if(t[o]=l,Math.abs(e[o][o])<=Qt)return $t("Unable to factor linear system"),0;if(o!==n-1)for(u=1/e[o][o],r=o+1;r<n;r++)e[r][o]*=u}return 1}function yn(e,t,n,r){var o,i,a,s,u;for(a=-1,o=0;o<r;o++){if(u=n[s=t[o]],n[s]=n[o],a>=0)for(i=a;i<=o-1;i++)u-=e[o][i]*n[i];else 0!==u&&(a=o);n[o]=u}for(o=r-1;o>=0;o--){for(u=n[o],i=o+1;i<r;i++)u-=e[o][i]*n[i];n[o]=u/e[o][o]}}function bn(e,t,n){if(2===n){var r=tn(2),o=hn(e[0][0],e[0][1],e[1][0],e[1][1]);return 0===o?0:(r[0]=(e[1][1]*t[0]-e[0][1]*t[1])/o,r[1]=(-e[1][0]*t[0]+e[0][0]*t[1])/o,t[0]=r[0],t[1]=r[1],1)}if(1===n)return 0===e[0][0]?0:(t[0]/=e[0][0],1);var i=tn(n);return 0===vn(e,i,n)?0:(yn(e,i,t,n),1)}function wn(e,t){var n,r,o,i=Yt(e,3),a=i[0],s=i[1],u=i[2],c=1/3,l=1/6,f=2/3,d=5/6;a>l&&a<=c?(r=1,n=(c-a)/l,o=0):a>c&&a<=.5?(r=1,o=(a-c)/l,n=0):a>.5&&a<=f?(o=1,r=(f-a)/l,n=0):a>f&&a<=d?(o=1,n=(a-f)/l,r=0):a>d&&a<=1?(n=1,o=(1-a)/l,r=0):(n=1,r=a/l,o=0),n=s*n+(1-s),r=s*r+(1-s),o=s*o+(1-s),n*=u,r*=u,o*=u,t[0]=n,t[1]=r,t[2]=o}function xn(e){e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1}function Cn(e,t,n){n[0]=Math.min(e[0],t[0]),n[1]=Math.max(e[0],t[0]),n[2]=Math.min(e[1],t[1]),n[3]=Math.max(e[1],t[1]),n[4]=Math.min(e[2],t[2]),n[5]=Math.max(e[2],t[2])}function Sn(e,t,n){return e<t?t:e>n?n:e}function An(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r[0]=Sn(e[0],t[0],n[0]),r[1]=Sn(e[1],t[1],n[1]),r[2]=Sn(e[2],t[2],n[2]),r}en("GetScalarTypeFittingRange"),en("GetAdjustedScalarRange");Number.isFinite;var _n=Number.isNaN,Pn=_n;function On(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=1e-6,In="coincide",kn="disjoint";function Mn(e,t,n){var r=n[0]*(e[0]-t[0])+n[1]*(e[1]-t[1])+n[2]*(e[2]-t[2]);return Math.abs(r)}function Nn(e,t,n,r){var o=[];sn(e,t,o);var i=un(n,o);r[0]=e[0]-i*n[0],r[1]=e[1]-i*n[1],r[2]=e[2]-i*n[2]}function Rn(e,t,n){var r=un(e,t),o=un(t,t);return 0===o&&(o=1),n[0]=e[0]-r*t[0]/o,n[1]=e[1]-r*t[1]/o,n[2]=e[2]-r*t[2]/o,n}function Bn(e,t,n,r){var o=[];sn(e,t,o);var i=un(n,o),a=un(n,n);0!==a?(r[0]=e[0]-i*n[0]/a,r[1]=e[1]-i*n[1]/a,r[2]=e[2]-i*n[2]/a):(r[0]=e[0],r[1]=e[1],r[2]=e[2])}function Ln(e,t,n,r){var o={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],a=[];sn(t,e,i),sn(n,e,a);var s=un(r,a),u=un(r,i);return(u<0?-u:u)<=(s<0?-s*Dn:s*Dn)||(o.t=s/u,o.x[0]=e[0]+o.t*i[0],o.x[1]=e[1]+o.t*i[1],o.x[2]=e[2]+o.t*i[2],o.intersection=!0,o.betweenPoints=o.t>=0&&o.t<=1),o}function Fn(e,t,n,r){var o={intersection:!1,l0:[],l1:[],error:null},i=[];cn(t,r,i);var a,s=i.map((function(e){return Math.abs(e)}));if(s[0]+s[1]+s[2]<Dn){var u=[];return sn(e,n,u),0===un(t,u)?o.error=In:o.error=kn,o}a=s[0]>s[1]&&s[0]>s[2]?"x":s[1]>s[2]?"y":"z";var c=[],l=-un(t,e),f=-un(r,n);switch(a){case"x":c[0]=0,c[1]=(f*t[2]-l*r[2])/i[0],c[2]=(l*r[1]-f*t[1])/i[0];break;case"y":c[0]=(l*r[2]-f*t[2])/i[1],c[1]=0,c[2]=(f*t[0]-l*r[0])/i[1];break;case"z":c[0]=(f*t[1]-l*r[1])/i[2],c[1]=(l*r[0]-f*t[0])/i[2],c[2]=0}return o.l0=c,an(c,i,o.l1),o.intersection=!0,o}var jn={evaluate:function(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])},distanceToPlane:Mn,projectPoint:Nn,projectVector:Rn,generalizedProjectPoint:Bn,intersectWithLine:Ln,intersectWithPlane:Fn,DISJOINT:kn,COINCIDE:In};function Vn(e,t){t.classHierarchy.push("vtkPlane"),e.distanceToPlane=function(e){return Mn(e,t.origin,t.normal)},e.projectPoint=function(e,n){Nn(e,t.origin,t.normal,n)},e.projectVector=function(e,n){return Rn(e,t.normal,n)},e.push=function(e){if(0!==e)for(var n=0;n<3;n++)t.origin[n]+=e*t.normal[n]},e.generalizedProjectPoint=function(e,n){Bn(e,t.origin,t.normal,n)},e.evaluateFunction=function(e,n,r){return Array.isArray(e)?t.normal[0]*(e[0]-t.origin[0])+t.normal[1]*(e[1]-t.origin[1])+t.normal[2]*(e[2]-t.origin[2]):t.normal[0]*(e-t.origin[0])+t.normal[1]*(n-t.origin[1])+t.normal[2]*(r-t.origin[2])},e.evaluateGradient=function(e){return[t.normal[0],t.normal[1],t.normal[2]]},e.intersectWithLine=function(e,n){return Ln(e,n,t.origin,t.normal)},e.intersectWithPlane=function(e,n){return Fn(e,n,t.origin,t.normal)}}var Un={normal:[0,0,1],origin:[0,0,0]};function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Un,n),Xt.obj(e,t),Xt.setGetArray(e,t,["normal","origin"],3),Vn(e,t)}const Gn=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(zn,"vtkPlane"),extend:zn},jn);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e){return function(e){if(Array.isArray(e))return Zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){if(e){if("string"==typeof e)return Zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,t):void 0}}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jn=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function $n(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Qn(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function er(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function tr(e){return er(e,Jn)}function nr(e){var t=Xn(e,6),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5];e[0]=n<(arguments.length<=1?void 0:arguments[1])?n:arguments.length<=1?void 0:arguments[1],e[1]=r>(arguments.length<=1?void 0:arguments[1])?r:arguments.length<=1?void 0:arguments[1],e[2]=o<(arguments.length<=2?void 0:arguments[2])?o:arguments.length<=2?void 0:arguments[2],e[3]=i>(arguments.length<=2?void 0:arguments[2])?i:arguments.length<=2?void 0:arguments[2],e[4]=a<(arguments.length<=3?void 0:arguments[3])?a:arguments.length<=3?void 0:arguments[3],e[5]=s>(arguments.length<=3?void 0:arguments[3])?s:arguments.length<=3?void 0:arguments[3]}function rr(e,t,n,r,o,i,a){var s=Xn(e,6),u=s[0],c=s[1],l=s[2],f=s[3],d=s[4],p=s[5];void 0===a?(e[0]=Math.min(t[0],u),e[1]=Math.max(t[1],c),e[2]=Math.min(t[2],l),e[3]=Math.max(t[3],f),e[4]=Math.min(t[4],d),e[5]=Math.max(t[5],p)):(e[0]=Math.min(t,u),e[1]=Math.max(n,c),e[2]=Math.min(r,l),e[3]=Math.max(o,f),e[4]=Math.min(i,d),e[5]=Math.max(a,p))}function or(e,t,n,r){var o=Xn(e,6),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],l=o[5];return e[0]=t,e[1]=t>a?t:a,e[2]=n,e[3]=n>u?n:u,e[4]=r,e[5]=r>l?r:l,i!==t||s!==n||c!==r}function ir(e,t,n,r){var o=Xn(e,6),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],l=o[5];return e[0]=t<i?t:i,e[1]=t,e[2]=n<s?n:s,e[3]=n,e[4]=r<c?r:c,e[5]=r,a!==t||u!==n||l!==r}function ar(e,t){e[0]-=t,e[1]+=t,e[2]-=t,e[3]+=t,e[4]-=t,e[5]+=t}function sr(e,t,n,r){return!!Qn(e)&&(t>=0?(e[0]*=t,e[1]*=t):(e[0]=t*e[1],e[1]=t*e[0]),n>=0?(e[2]*=n,e[3]*=n):(e[2]=n*e[3],e[3]=n*e[2]),r>=0?(e[4]*=r,e[5]*=r):(e[4]=r*e[5],e[5]=r*e[4]),!0)}function ur(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function cr(e,t){return e[2*t+1]-e[2*t]}function lr(e){return[cr(e,0),cr(e,1),cr(e,2)]}function fr(e){return e.slice(0,2)}function dr(e){return e.slice(2,4)}function pr(e){return e.slice(4,6)}function hr(e){var t=lr(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function mr(e){if(Qn(e)){var t=lr(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function gr(e){return[e[0],e[2],e[4]]}function vr(e){return[e[1],e[3],e[5]]}function yr(e,t){return e<=0&&t>=0||e>=0&&t<=0}function br(e,t){for(var n=0,r=0;r<2;r++)for(var o=2;o<4;o++)for(var i=4;i<6;i++)t[n]=[e[r],e[o],e[i]],n++}function wr(e,t,n){t[0]=e[0],t[1]=e[2],t[2]=e[4],n[0]=e[1],n[1]=e[3],n[2]=e[5]}function xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ur(e);return t[0]=e[1]-n[0],t[1]=e[3]-n[1],t[2]=e[5]-n[2],t}function Cr(e,t,n,r){for(var o=[].concat(Jn),i=e.getData(),a=0;a<i.length;a+=3){var s=[i[a],i[a+1],i[a+2]],u=un(s,t);o[0]=Math.min(u,o[0]),o[1]=Math.max(u,o[1]);var c=un(s,n);o[2]=Math.min(c,o[2]),o[3]=Math.max(c,o[3]);var l=un(s,r);o[4]=Math.min(l,o[4]),o[5]=Math.max(l,o[5])}return o}function Sr(e,t,n,r,o){for(var i=!0,a=[],s=0,u=[],c=[0,0,0],l=0;l<3;l++)t[l]<e[2*l]?(a[l]=1,c[l]=e[2*l],i=!1):t[l]>e[2*l+1]?(a[l]=0,c[l]=e[2*l+1],i=!1):a[l]=2;if(i)return r[0]=t[0],r[1]=t[1],r[2]=t[2],o[0]=0,1;for(var f=0;f<3;f++)2!==a[f]&&0!==n[f]?u[f]=(c[f]-t[f])/n[f]:u[f]=-1;for(var d=0;d<3;d++)u[s]<u[d]&&(s=d);if(u[s]>1||u[s]<0)return 0;o[0]=u[s];for(var p=0;p<3;p++)if(s!==p){if(r[p]=t[p]+u[s]*n[p],r[p]<e[2*p]||r[p]>e[2*p+1])return 0}else r[p]=c[p];return 1}function Ar(e,t,n){for(var r=[],o=0,i=1,a=1,s=4;s<=5;++s){r[2]=e[s];for(var u=2;u<=3;++u){r[1]=e[u];for(var c=0;c<=1;++c)if(r[0]=e[c],o=Gn.evaluate(n,t,r),a&&(i=o>=0?1:-1,a=0),0===o||i>0&&o<0||i<0&&o>0)return 1}}return 0}function _r(e,t){if(!Qn(e)||!Qn(t))return!1;for(var n,r=[0,0,0,0,0,0],o=0;o<3;o++)if(n=!1,t[2*o]>=e[2*o]&&t[2*o]<=e[2*o+1]?(n=!0,r[2*o]=t[2*o]):e[2*o]>=t[2*o]&&e[2*o]<=t[2*o+1]&&(n=!0,r[2*o]=e[2*o]),t[2*o+1]>=e[2*o]&&t[2*o+1]<=e[2*o+1]?(n=!0,r[2*o+1]=t[2*o+1]):e[2*o+1]>=t[2*o]&&e[2*o+1]<=t[2*o+1]&&(n=!0,r[2*o+1]=e[2*o+1]),!n)return!1;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],!0}function Pr(e,t){if(!Qn(e)||!Qn(t))return!1;for(var n=0;n<3;n++)if(!(t[2*n]>=e[2*n]&&t[2*n]<=e[2*n+1]||e[2*n]>=t[2*n]&&e[2*n]<=t[2*n+1]||t[2*n+1]>=e[2*n]&&t[2*n+1]<=e[2*n+1]||e[2*n+1]>=t[2*n]&&e[2*n+1]<=t[2*n+1]))return!1;return!0}function Or(e,t,n,r){return!(t<e[0]||t>e[1])&&(!(n<e[2]||n>e[3])&&!(r<e[4]||r>e[5]))}function Er(e,t,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0],i=0,a=0;a<2;a++)for(var s=2;s<4;s++)for(var u=4;u<6;u++){var c=[e[a],e[s],e[u]];o[i++]=Gn.evaluate(n,t,c)}for(var l=2;l--&&!(yr(o[r[l][0]],o[r[l][4]])&&yr(o[r[l][1]],o[r[l][5]])&&yr(o[r[l][2]],o[r[l][6]])&&yr(o[r[l][3]],o[r[l][7]])););if(l<0)return!1;for(var f=Math.sign(n[l]),d=Math.abs((e[2*l+1]-e[2*l])*n[l]),p=f>0?1:0,h=0;h<4;h++)if(0!==d){var m=Math.abs(o[r[l][h]])/d;f>0&&m<p&&(p=m),f<0&&m>p&&(p=m)}var g=(1-p)*e[2*l]+p*e[2*l+1];return f>0?e[2*l]=g:e[2*l+1]=g,!0}var Tr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bounds=t,this.bounds||(this.bounds=new Float64Array(6),er(this.bounds,Jn))}var t,n,r;return t=e,(n=[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(e){return $n(this.bounds,e)}},{key:"isValid",value:function(){return Qn(this.bounds)}},{key:"setBounds",value:function(e){return er(this.bounds,e)}},{key:"reset",value:function(){return tr(this.bounds)}},{key:"addPoint",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nr(this.bounds,t)}},{key:"addBounds",value:function(e,t,n,r,o,i){return rr(this.bounds,e,t,n,r,o,i)}},{key:"setMinPoint",value:function(e,t,n){return or(this.bounds,e,t,n)}},{key:"setMaxPoint",value:function(e,t,n){return ir(this.bounds,e,t,n)}},{key:"inflate",value:function(e){return ar(this.bounds,e)}},{key:"scale",value:function(e,t,n){return sr(this.bounds,e,t,n)}},{key:"getCenter",value:function(){return ur(this.bounds)}},{key:"getLength",value:function(e){return cr(this.bounds,e)}},{key:"getLengths",value:function(){return lr(this.bounds)}},{key:"getMaxLength",value:function(){return hr(this.bounds)}},{key:"getDiagonalLength",value:function(){return mr(this.bounds)}},{key:"getMinPoint",value:function(){return gr(this.bounds)}},{key:"getMaxPoint",value:function(){return vr(this.bounds)}},{key:"getXRange",value:function(){return fr(this.bounds)}},{key:"getYRange",value:function(){return dr(this.bounds)}},{key:"getZRange",value:function(){return pr(this.bounds)}},{key:"getCorners",value:function(e){return br(this.bounds,e)}},{key:"computeCornerPoints",value:function(e,t){return wr(this.bounds,e,t)}},{key:"computeLocalBounds",value:function(e,t,n){return Cr(this.bounds,e,t,n)}},{key:"computeScale3",value:function(e){return xr(this.bounds,e)}},{key:"cutWithPlane",value:function(e,t){return Er(this.bounds,e,t)}},{key:"intersectBox",value:function(e,t,n,r){return Sr(this.bounds,e,t,n,r)}},{key:"intersectPlane",value:function(e,t){return Ar(this.bounds,e,t)}},{key:"intersect",value:function(e){return _r(this.bounds,e)}},{key:"intersects",value:function(e){return Pr(this.bounds,e)}},{key:"containsPoint",value:function(e,t,n){return Or(this.bounds,e,t,n)}},{key:"contains",value:function(e){return Pr(this.bounds,e)}}])&&qn(t.prototype,n),r&&qn(t,r),e}();const Dr=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:function(e){var t=e&&e.bounds;return new Tr(t)}},{equals:$n,isValid:Qn,setBounds:er,reset:tr,addPoint:nr,addBounds:rr,setMinPoint:or,setMaxPoint:ir,inflate:ar,scale:sr,getCenter:ur,getLength:cr,getLengths:lr,getMaxLength:hr,getDiagonalLength:mr,getMinPoint:gr,getMaxPoint:vr,getXRange:fr,getYRange:dr,getZRange:pr,getCorners:br,computeCornerPoints:wr,computeLocalBounds:Cr,computeScale3:xr,cutWithPlane:Er,intersectBox:Sr,intersectPlane:Ar,intersect:_r,intersects:Pr,containsPoint:Or,contains:function(e,t){return!!Pr(e,t)&&(!!Or.apply(void 0,[e].concat(Kn(gr(t))))&&!!Or.apply(void 0,[e].concat(Kn(vr(t)))))},INIT_BOUNDS:Jn});function Ir(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}!function(){var e,t=(e=new o(4),o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e)}();function kr(){var e=new o(4);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Mr(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Nr(e,t,n,o){var i,a,s,u,c,l=t[0],f=t[1],d=t[2],p=t[3],h=n[0],m=n[1],g=n[2],v=n[3];return(a=l*h+f*m+d*g+p*v)<0&&(a=-a,h=-h,m=-m,g=-g,v=-v),1-a>r?(i=Math.acos(a),s=Math.sin(i),u=Math.sin((1-o)*i)/s,c=Math.sin(o*i)/s):(u=1-o,c=o),e[0]=u*l+c*h,e[1]=u*f+c*m,e[2]=u*d+c*g,e[3]=u*p+c*v,e}var Rr,Br,Lr,Fr,jr,Vr,Ur,zr=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a,e};Rr=d(),Br=p(1,0,0),Lr=p(0,1,0),Fr=kr(),jr=kr(),Vr=new o(9),o!=Float32Array&&(Vr[1]=0,Vr[2]=0,Vr[3]=0,Vr[5]=0,Vr[6]=0,Vr[7]=0),Vr[0]=1,Vr[4]=1,Vr[8]=1,Ur=Vr;function Gr(e){return function(){return Xt.vtkErrorMacro("vtkProp::".concat(e," - NOT IMPLEMENTED"))}}function Wr(e,t){t.classHierarchy.push("vtkProp"),e.getMTime=function(){for(var e=t.mtime,n=0;n<t.textures.length;++n){var r=t.textures[n].getMTime();r>e&&(e=r)}return e},e.getNestedProps=function(){return null},e.getActors=function(){return[]},e.getActors2D=function(){return[]},e.getVolumes=function(){return[]},e.pick=Gr("pick"),e.hasKey=Gr("hasKey"),e.getRedrawMTime=function(){return t.mtime},e.setEstimatedRenderTime=function(e){t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=function(){t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=function(e){t.estimatedRenderTime+=e},e.setAllocatedRenderTime=function(e){t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=function(){return!1},e.getTextures=function(){return t.textures},e.hasTexture=function(e){return-1!==t.textures.indexOf(e)},e.addTexture=function(n){n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n),e.modified())},e.removeTexture=function(n){var r=t.textures.filter((function(e){return e!==n}));t.textures.length!==r.length&&(t.textures=r,e.modified())},e.removeAllTextures=function(){t.textures=[],e.modified()}}var Hr={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Hr,n),Xt.obj(e,t),Xt.get(e,t,["estimatedRenderTime","allocatedRenderTime"]),Xt.setGet(e,t,["visibility","pickable","dragable","useBounds","renderTimeMultiplier"]),Wr(e,t)}const Kr={newInstance:Xt.newInstance(qr,"vtkProp"),extend:qr};function Xr(e,t){t.classHierarchy.push("vtkProp3D"),e.addPosition=function(n){t.position=t.position.map((function(e,t){return e+n[t]})),e.modified()},e.getOrientationWXYZ=function(){var e=kr();f(e,t.rotation);var n=new Float64Array(3);return[rn(function(e,t){var n=2*Math.acos(t[3]),o=Math.sin(n/2);return o>r?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),n}(n,e)),n[0],n[1],n[2]]},e.rotateX=function(n){0!==n&&(!function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+l*r,e[6]=s*o+f*r,e[7]=u*o+d*r,e[8]=c*o-i*r,e[9]=l*o-a*r,e[10]=f*o-s*r,e[11]=d*o-u*r}(t.rotation,t.rotation,nn(n)),e.modified())},e.rotateY=function(n){0!==n&&(!function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-l*r,e[2]=s*o-f*r,e[3]=u*o-d*r,e[8]=i*r+c*o,e[9]=a*r+l*o,e[10]=s*r+f*o,e[11]=u*r+d*o}(t.rotation,t.rotation,nn(n)),e.modified())},e.rotateZ=function(n){0!==n&&(!function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+l*r,e[2]=s*o+f*r,e[3]=u*o+d*r,e[4]=c*o-i*r,e[5]=l*o-a*r,e[6]=f*o-s*r,e[7]=d*o-u*r}(t.rotation,t.rotation,nn(n)),e.modified())},e.rotateWXYZ=function(n,r,o,i){if(0!==n&&(0!==r||0!==o||0!==i)){var a=nn(n),s=kr();Mr(s,[r,o,i],a);var c=new Float64Array(16);!function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,c=n*a,l=r*a,f=r*s,d=o*a,p=o*s,h=o*u,m=i*a,g=i*s,v=i*u;e[0]=1-f-h,e[1]=l+v,e[2]=d-g,e[3]=0,e[4]=l-v,e[5]=1-c-h,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(c,s),u(t.rotation,t.rotation,c),e.modified()}},e.setOrientation=function(n,r,o){return(n!==t.orientation[0]||r!==t.orientation[1]||o!==t.orientation[2])&&(t.orientation=[n,r,o],i(t.rotation),e.rotateZ(o),e.rotateX(n),e.rotateY(r),e.modified(),!0)},e.setUserMatrix=function(n){!function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]}(t.userMatrix,n),e.modified()},e.getMatrix=function(){return e.computeMatrix(),t.matrix},e.computeMatrix=function(){if(e.getMTime()>t.matrixMTime.getMTime()){i(t.matrix),t.userMatrix&&u(t.matrix,t.matrix,t.userMatrix),c(t.matrix,t.matrix,t.origin),c(t.matrix,t.matrix,t.position),u(t.matrix,t.matrix,t.rotation),l(t.matrix,t.matrix,t.scale),c(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),a(t.matrix,t.matrix),t.isIdentity=!0;for(var n=0;n<4;++n)for(var r=0;r<4;++r)(n===r?1:0)!==t.matrix[n+4*r]&&(t.isIdentity=!1);t.matrixMTime.modified()}},e.getCenter=function(){return Dr.getCenter(t.bounds)},e.getLength=function(){return Dr.getLength(t.bounds)},e.getXRange=function(){return Dr.getXRange(t.bounds)},e.getYRange=function(){return Dr.getYRange(t.bounds)},e.getZRange=function(){return Dr.getZRange(t.bounds)},e.getUserMatrix=function(){return t.userMatrix},e.onModified((function(){e.computeMatrix()}))}var Yr={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function Zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Yr,n),Kr.extend(e,t,n),t.matrixMTime={},Xt.obj(t.matrixMTime),Xt.get(e,t,["bounds","isIdentity"]),Xt.getArray(e,t,["orientation"]),Xt.setGetArray(e,t,["origin","position","scale"],3),t.matrix=i(new Float64Array(16)),t.rotation=i(new Float64Array(16)),t.userMatrix=i(new Float64Array(16)),t.transform=null,Xr(e,t)}const Jr={newInstance:Xt.newInstance(Zr,"vtkProp3D"),extend:Zr};var $r={FLAT:0,GOURAUD:1,PHONG:2};const Qr={Shading:$r,Representation:{POINTS:0,WIREFRAME:1,SURFACE:2},Interpolation:$r};function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var no=Qr.Representation,ro=Qr.Interpolation;function oo(e){return function(){return Xt.vtkErrorMacro("vtkProperty::".concat(e," - NOT IMPLEMENTED"))}}function io(e,t){t.classHierarchy.push("vtkProperty"),e.setColor=function(n,r,o){Array.isArray(n)?t.color[0]===n[0]&&t.color[1]===n[1]&&t.color[2]===n[2]||(t.color[0]=n[0],t.color[1]=n[1],t.color[2]=n[2],e.modified()):t.color[0]===n&&t.color[1]===r&&t.color[2]===o||(t.color[0]=n,t.color[1]=r,t.color[2]=o,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)},e.computeCompositeColor=oo("ComputeCompositeColor"),e.getColor=function(){var e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(var n=0;n<3;n++)t.color[n]=e*(t.ambient*t.ambientColor[n]+t.diffuse*t.diffuseColor[n]+t.specular*t.specularColor[n]);return[].concat(t.color)},e.addShaderVariable=oo("AddShaderVariable"),e.setInterpolationToFlat=function(){return e.setInterpolation(ro.FLAT)},e.setInterpolationToGouraud=function(){return e.setInterpolation(ro.GOURAUD)},e.setInterpolationToPhong=function(){return e.setInterpolation(ro.PHONG)},e.getInterpolationAsString=function(){return Xt.enumToString(ro,t.interpolation)},e.setRepresentationToWireframe=function(){return e.setRepresentation(no.WIREFRAME)},e.setRepresentationToSurface=function(){return e.setRepresentation(no.SURFACE)},e.setRepresentationToPoints=function(){return e.setRepresentation(no.POINTS)},e.getRepresentationAsString=function(){return Xt.enumToString(no,t.representation)}}var ao={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:ro.GOURAUD,representation:no.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ao,n),Xt.obj(e,t),Xt.setGet(e,t,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),Xt.setGetArray(e,t,["ambientColor","specularColor","diffuseColor","edgeColor"],3),io(e,t)}const uo=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){to(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(so,"vtkProperty"),extend:so},Qr);function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fo=Xt.vtkDebugMacro;function po(e,t){t.classHierarchy.push("vtkActor");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getActors=function(){return e},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n=(n=n&&(!t.texture||!t.texture.isTranslucent()))&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=uo.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||n[0]!==t.mapperBounds[0]||n[1]!==t.mapperBounds[1]||n[2]!==t.mapperBounds[2]||n[3]!==t.mapperBounds[3]||n[4]!==t.mapperBounds[4]||n[5]!==t.mapperBounds[5]||e.getMTime()>t.boundsMTime.getMTime()){fo("Recomputing bounds..."),t.mapperBounds=n.concat();var r=[];Dr.getCorners(n,r),e.computeMatrix();var o=new Float64Array(16);a(o,t.matrix),r.forEach((function(e){return x(e,e,o)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2==0?r.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):r.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=n.getMTime();if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e}if(null!==t.backfaceProperty){var o=t.backfaceProperty.getMTime();e=o>e?o:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}var ho={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function mo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ho,n),Jr.extend(e,t,n),t.boundsMTime={},Xt.obj(t.boundsMTime),Xt.set(e,t,["property"]),Xt.setGet(e,t,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),po(e,t)}const go={newInstance:Xt.newInstance(mo,"vtkActor"),extend:mo};var vo={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"};const yo={DefaultDataType:vo.FLOAT,DataTypeByteSize:{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},VtkDataTypes:vo};function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=[];function So(){var e=Number.MAX_VALUE,t=-Number.MAX_VALUE,n=0,r=0;return{add:function(o){e>o&&(e=o),t<o&&(t=o),n++,r+=o},get:function(){return{min:e,max:t,count:n,sum:r,mean:r/n}},getRange:function(){return{min:e,max:t}}}}function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=So(),o=e.length,i=0;if(t<0&&n>1){for(var a=0;a<o;a+=n){i=0;for(var s=0;s<n;s++)i+=e[a+s]*e[a+s];i=Math.pow(i,.5),r.add(i)}return r.getRange()}for(var u=t<0?0:t,c=u;c<o;c+=n)r.add(e[c]);return r.getRange()}function _o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||[];n.length<=t;)n.push(null);return n}function Po(e){return Object.prototype.toString.call(e).slice(8,-1)}var Oo={computeRange:Ao,createRangeHelper:So,getDataType:Po,getMaxNorm:function(e){for(var t=e.getNumberOfComponents(),n=0,r=0;r<e.getNumberOfTuples();++r){var o=ln(e.getTuple(r),t);o>n&&(n=o)}return n}};function Eo(e,t){function n(){t.ranges=null,e.modified()}t.classHierarchy.push("vtkDataArray"),e.getElementComponentSize=function(){return t.values.BYTES_PER_ELEMENT},e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(e,r,o){o!==t.values[e*t.numberOfComponents+r]&&(t.values[e*t.numberOfComponents+r]=o,n())},e.getData=function(){return t.values},e.getRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=e<0?t.numberOfComponents:e,r=null;return t.ranges||(t.ranges=_o(t.ranges,t.numberOfComponents)),(r=t.ranges[n])?(t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple):(r=Ao(t.values,e,t.numberOfComponents),t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple)},e.setRange=function(e,n){t.ranges||(t.ranges=_o(t.ranges,t.numberOfComponents));var r={min:e.min,max:e.max};return t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple},e.setTuple=function(e,n){for(var r=e*t.numberOfComponents,o=0;o<t.numberOfComponents;o++)t.values[r+o]=n[o]},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co,r=t.numberOfComponents||1;n.length!==r&&(n.length=r);var o=e*r;if(1===r)n[0]=t.values[o];else if(2===r)n[0]=t.values[o],n[1]=t.values[o+1];else if(3===r)n[0]=t.values[o],n[1]=t.values[o+1],n[2]=t.values[o+2];else if(4===r)n[0]=t.values[o],n[1]=t.values[o+1],n[2]=t.values[o+2],n[3]=t.values[o+3];else for(var i=0;i<r;i++)n[i]=t.values[o+i];return n},e.getTupleLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return Io({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkDataArray".concat(e.getMTime())),t.name},e.setData=function(e,r){t.values=e,t.size=e.length,t.dataType=Po(e),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),n()},e.getState=function(){var n=wo(wo({},t),{},{vtkClass:e.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach((function(e){n[e]||delete n[e]}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r}}var To={name:"",numberOfComponents:1,size:0,dataType:yo.DefaultDataType,rangeTuple:[0,0]};function Do(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,To,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=Et(t.dataType,t.values)):t.values=Ot(t.dataType,t.size),t.values&&(t.size=t.values.length,t.dataType=Po(t.values)),Nt(e,t),Ft(e,t,["name","numberOfComponents"]),Eo(e,t)}var Io=Gt(Do,"vtkDataArray");const ko=wo(wo({newInstance:Io,extend:Do},Oo),yo);function Mo(e,t){e.update=function(){e.getInputData()},e.addClippingPlane=function(e){"vtkPlane"===e.getClassName()&&t.clippingPlanes.push(e)},e.getNumberOfClippingPlanes=function(){return t.clippingPlanes.length},e.removeAllClippingPlanes=function(){t.clippingPlanes.length=0},e.removeClippingPlane=function(e){e<0||e>=6||t.clippingPlanes.splice(e,1)},e.getClippingPlanes=function(){return t.clippingPlanes},e.setClippingPlanes=function(t){if(t)if(Array.isArray(t))for(var n=t.length,r=0;r<n&&r<6;r++)e.addClippingPlane(t[r]);else e.addClippingPlane(t)}}var No={clippingPlanes:[]};const Ro={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,No,n),Xt.obj(e,t),Xt.algo(e,t,1,0),t.clippingPlanes||(t.clippingPlanes=[]),Mo(e,t)}};function Bo(e,t){e.getBounds=function(){return 0},e.getBounds=function(n){e.getBounds();for(var r=0;r<6;r++)n[r]=t.bounds[r]},e.getCenter=function(){e.getBounds();for(var n=0;n<3;n++)t.center[n]=(t.bounds[2*n+1]+t.bounds[2*n])/2;return t.center.slice()},e.getLength=function(){var n=0,r=0;e.getBounds();for(var o=0;o<3;o++)r+=(n=t.bounds[2*o+1]-t.bounds[2*o])*n;return Math.sqrt(r)},e.getClippingPlaneInDataCoords=function(e,n,r){var o=t.clippingPlanes,i=e;if(o){var a=o.length;if(n>=0&&n<a){var s=o[n],u=s.getNormal(),c=s.getOrigin(),l=u[0],f=u[1],d=u[2],p=-(l*c[0]+f*c[1]+d*c[2]);return r[0]=l*i[0]+f*i[4]+d*i[8]+p*i[12],r[1]=l*i[1]+f*i[5]+d*i[9]+p*i[13],r[2]=l*i[2]+f*i[6]+d*i[10]+p*i[14],void(r[3]=l*i[3]+f*i[7]+d*i[11]+p*i[15])}}Xt.vtkErrorMacro("Clipping plane index ".concat(n," is out of range."))}}var Lo={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};const Fo={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Lo,n),Ro.extend(e,t,n),t.bounds||xn(t.bounds),t.center||(t.center=[0,0,0]),Bo(e,t)}};function jo(e,t){t.classHierarchy.push("vtkFieldData");var n=e.getState;t.arrays&&(t.arrays=t.arrays.map((function(e){return{data:it(e.data)}}))),e.initialize=function(){e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=function(){t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=function(n){e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map((function(e){return e})),t.arrays=n.arrays().map((function(e){return{array:e}}))},e.getNumberOfArrays=function(){return t.arrays.length},e.getNumberOfActiveArrays=function(){return t.arrays.length},e.addArray=function(e){return t.arrays=[].concat(t.arrays,{data:e}),t.arrays.length-1},e.removeAllArrays=function(){t.arrays=[]},e.removeArray=function(e){t.arrays=t.arrays.filter((function(t){return e!==t.data.getName()}))},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter((function(t,n){return n!==e}))},e.getArrays=function(){return t.arrays.map((function(e){return e.data}))},e.getArray=function(t){return"number"==typeof t?e.getArrayByIndex(t):e.getArrayByName(t)},e.getArrayByName=function(e){return t.arrays.reduce((function(t,n,r){return n.data.getName()===e?n.data:t}),null)},e.getArrayWithIndex=function(e){return t.arrays.reduce((function(t,n,r){return n.data&&n.data.getName()===e?{array:n.data,index:r}:t}),{array:null,index:-1})},e.getArrayByIndex=function(e){return e>=0&&e<t.arrays.length?t.arrays[e].data:null},e.hasArray=function(t){return e.getArrayWithIndex(t).index>=0},e.getArrayName=function(e){var n=t.arrays[e];return n?n.data.getName():""},e.getCopyFieldFlags=function(){return t.copyFieldFlags},e.getFlag=function(e){return t.copyFieldFlags[e]},e.passData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach((function(n){var i=e.getFlag(n.getName());if(!1!==i&&(!t.doCopyAllOff||!0===i)&&n){var a=e.getArrayByName(n.getName());if(a){if(n.getNumberOfComponents()===a.getNumberOfComponents())if(r>-1&&r<n.getNumberOfTuples()){var s=o>-1?o:r;a.setTuple(s,n.getTuple(r))}else for(var u=0;u<n.getNumberOfTuples();++u)a.setTuple(u,n.getTuple(u))}else if(r<0||r>n.getNumberOfTuples())e.addArray(n);else{var c=n.getNumberOfComponents(),l=n.getNumberOfValues(),f=o>-1?o:r;l<f*c&&(l=(f+1)*c),(a=ko.newInstance({name:n.getName(),dataType:n.getDataType(),numberOfComponents:n.getNumberOfComponents(),size:l})).setTuple(f,n.getTuple(r)),e.addArray(a)}}}))},e.copyFieldOn=function(e){t.copyFieldFlags[e]=!0},e.copyFieldOff=function(e){t.copyFieldFlags[e]=!1},e.copyAllOn=function(){t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=function(){!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=function(){t.copyFieldFlags={}},e.deepCopy=function(e){t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.deepCopy(e),{data:t}}))},e.copyFlags=function(e){return e.getCopyFieldFlags().map((function(e){return e}))},e.reset=function(){return t.arrays.forEach((function(e){return e.data.reset()}))},e.getMTime=function(){return t.arrays.reduce((function(e,t){return t.data.getMTime()>e?t.data.getMTime():e}),t.mtime)},e.getNumberOfComponents=function(){return t.arrays.reduce((function(e,t){return e+t.data.getNumberOfComponents()}),0)},e.getNumberOfTuples=function(){return t.arrays.length>0?t.arrays[0].getNumberOfTuples():0},e.getState=function(){var e=n();return e.arrays=t.arrays.map((function(e){return{data:e.data.getState()}})),e}}var Vo={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function Uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Vo,n),Xt.obj(e,t),jo(e,t)}const zo={newInstance:Xt.newInstance(Uo,"vtkFieldData"),extend:Uo};const Go={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:{DEFAULT:0,SINGLE:1,DOUBLE:2},PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"};function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qo=Go.AttributeTypes,Ko=Go.AttributeCopyOperations,Xo=Xt.vtkWarningMacro;function Yo(e,t){var n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(e){var t=n.find((function(t){return qo[t.toUpperCase()]===e||"number"!=typeof e&&t.toLowerCase()===e.toLowerCase()}));return void 0===t&&(t=null),t}t.classHierarchy.push("vtkDataSetAttributes"),e.checkNumberOfComponents=function(e){return!0},e.setAttribute=function(n,o){var i=r(o);if(n&&"PEDIGREEIDS"===i.toUpperCase()&&!n.isA("vtkDataArray"))return Xo("Cannot set attribute ".concat(i,". The attribute must be a vtkDataArray.")),-1;if(n&&!e.checkNumberOfComponents(n,i))return Xo("Cannot set attribute ".concat(i,". Incorrect number of components.")),-1;var a=t["active".concat(i)];if(a>=0&&a<t.arrays.length){if(t.arrays[a]===n)return a;e.removeArrayByIndex(a)}return n?(a=e.addArray(n),t["active".concat(i)]=a):t["active".concat(i)]=-1,e.modified(),t["active".concat(i)]},e.setActiveAttributeByName=function(t,n){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e.setActiveAttributeByIndex=function(n,o){var i=r(o);if(n>=0&&n<t.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){var a=e.getArrayByIndex(n);if(!a.isA("vtkDataArray"))return Xo("Cannot set attribute ".concat(i,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!e.checkNumberOfComponents(a,i))return Xo("Cannot set attribute ".concat(i,". Incorrect number of components.")),-1}return t["active".concat(i)]=n,e.modified(),n}return-1===n&&(t["active".concat(i)]=n,e.modified()),-1},e.getActiveAttribute=function(t){var n=r(t);return e["get".concat(n)]()},e.removeAllArrays=function(){t.arrays=[],n.forEach((function(e){t["active".concat(e)]=-1}))},e.removeArray=function(e){t.arrays=t.arrays.filter((function(r,o){return e!==r.data.getName()||(n.forEach((function(e){o===t["active".concat(e)]&&(t["active".concat(e)]=-1)})),!1)}))},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter((function(t,n){return n!==e})),n.forEach((function(n){e===t["active".concat(n)]&&(t["active".concat(n)]=-1)}))},n.forEach((function(n){var r="active".concat(n);e["get".concat(n)]=function(){return e.getArrayByIndex(t[r])},e["set".concat(n)]=function(t){return e.setAttribute(t,n)},e["setActive".concat(n)]=function(t){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e["copy".concat(n,"Off")]=function(){var e=n.toUpperCase();t.copyAttributeFlags[Ko.PASSDATA][qo[e]]=!1}})),e.initializeAttributeCopyFlags=function(){t.copyAttributeFlags=[],Object.keys(Ko).filter((function(e){return"ALLCOPY"!==e})).forEach((function(e){t.copyAttributeFlags[Ko[e]]=Object.keys(qo).filter((function(e){return"NUM_ATTRIBUTES"!==e})).reduce((function(e,t){return e[qo[t]]=!0,e}),[])})),t.copyAttributeFlags[Ko.COPYTUPLE][qo.GLOBALIDS]=!1,t.copyAttributeFlags[Ko.INTERPOLATE][qo.GLOBALIDS]=!1,t.copyAttributeFlags[Ko.COPYTUPLE][qo.PEDIGREEIDS]=!1},e.initialize=Xt.chain(e.initialize,e.initializeAttributeCopyFlags),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach((function(n){t.dataArrays[n].ref||"vtkDataArray"!==t.dataArrays[n].type||e.addArray(ko.newInstance(t.dataArrays[n]))}));var o=e.shallowCopy;e.shallowCopy=function(e,n){o(e,n),t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.shallowCopy(e,n),{data:t}}))},e.initializeAttributeCopyFlags()}var Zo={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function Jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Zo,n),zo.extend(e,t,n),Xt.setGet(e,t,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),t.arrays||(t.arrays={}),Yo(e,t)}const $o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(Jo,"vtkDataSetAttributes"),extend:Jo},Go);const Qo={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ni=["pointData","cellData","fieldData"];function ri(e,t){t.classHierarchy.push("vtkDataSet"),ni.forEach((function(e){t[e]?t[e]=it(t[e]):t[e]=$o.newInstance()}));var n=e.shallowCopy;e.shallowCopy=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(e,r),ni.forEach((function(n){t[n]=$o.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))}}var oi={};function ii(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oi,n),Xt.obj(e,t),Xt.setGet(e,t,ni),ri(e,t)}const ai=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(ii,"vtkDataSet"),extend:ii},Qo);var si={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};const ui={StructuredType:si};function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fi=ui.StructuredType;const di=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getDataDescriptionFromExtent:function(e){for(var t=0,n=0;n<3;++n)e[2*n]<e[2*n+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?fi.EMPTY:3===t?fi.XYZ_GRID:2===t?e[0]===e[1]?fi.YZ_PLANE:e[2]===e[3]?fi.XZ_PLANE:fi.XY_PLANE:1===t?e[0]<e[1]?fi.X_LINE:e[2]<e[3]?fi.Y_LINE:fi.Z_LINE:fi.SINGLE_POINT}},ui);function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mi=Xt.vtkErrorMacro;function gi(e,t){t.classHierarchy.push("vtkImageData"),e.setExtent=function(){if(t.deleted)return mi("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=1===r.length?r[0]:r;if(6!==i.length)return!1;var a=!1;return t.extent.forEach((function(e,t){if(e!==i[t]){if(a)return;a=!0}})),a&&(t.extent=i.slice(),t.dataDescription=di.getDataDescriptionFromExtent(t.extent),e.modified()),a},e.setDimensions=function(){var n,r,o;if(t.deleted)mi("instance deleted - cannot call any method");else{if(1===arguments.length){var i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],o=i[2]}else{if(3!==arguments.length)return void mi("Bad dimension specification");n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]}e.setExtent(0,n-1,0,r-1,0,o-1)}},e.getDimensions=function(){return[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]},e.getNumberOfCells=function(){for(var t=e.getDimensions(),n=1,r=0;r<3;r++){if(0===t[r])return 0;t[r]>1&&(n*=t[r]-1)}return n},e.getNumberOfPoints=function(){var t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=function(n){var r=e.getDimensions();if(0===r[0]||0===r[1]||0===r[2])return mi("Requesting a point from an empty image."),null;var o=new Float64Array(3);switch(t.dataDescription){case si.EMPTY:return null;case si.SINGLE_POINT:break;case si.X_LINE:o[0]=n;break;case si.Y_LINE:o[1]=n;break;case si.Z_LINE:o[2]=n;break;case si.XY_PLANE:o[0]=n%r[0],o[1]=n/r[0];break;case si.YZ_PLANE:o[1]=n%r[1],o[2]=n/r[1];break;case si.XZ_PLANE:o[0]=n%r[0],o[2]=n/r[0];break;case si.XYZ_GRID:o[0]=n%r[0],o[1]=n/r[0]%r[1],o[2]=n/(r[0]*r[1]);break;default:mi("Invalid dataDescription")}var i=[0,0,0];return e.indexToWorld(o,i),i},e.getBounds=function(){return e.extentToBounds(t.extent)},e.extentToBounds=function(t){var n=[t[0],t[2],t[4],t[1],t[2],t[4],t[0],t[3],t[4],t[1],t[3],t[4],t[0],t[2],t[5],t[1],t[2],t[5],t[0],t[3],t[5],t[1],t[3],t[5]],r=new Float64Array([n[0],n[1],n[2]]),o=new Float64Array(3);e.indexToWorld(r,o);for(var i=[o[0],o[0],o[1],o[1],o[2],o[2]],a=3;a<24;a+=3)h(r,n[a],n[a+1],n[a+2]),e.indexToWorld(r,o),o[0]<i[0]&&(i[0]=o[0]),o[1]<i[2]&&(i[2]=o[1]),o[2]<i[4]&&(i[4]=o[2]),o[0]>i[1]&&(i[1]=o[0]),o[1]>i[3]&&(i[3]=o[1]),o[2]>i[5]&&(i[5]=o[2]);return i},e.computeTransforms=function(){!function(e,t){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1}(t.indexToWorld,t.origin),t.indexToWorld[0]=t.direction[0],t.indexToWorld[1]=t.direction[1],t.indexToWorld[2]=t.direction[2],t.indexToWorld[4]=t.direction[3],t.indexToWorld[5]=t.direction[4],t.indexToWorld[6]=t.direction[5],t.indexToWorld[8]=t.direction[6],t.indexToWorld[9]=t.direction[7],t.indexToWorld[10]=t.direction[8],l(t.indexToWorld,t.indexToWorld,t.spacing),s(t.worldToIndex,t.indexToWorld)},e.setDirection=function(){if(t.deleted)return mi("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r;if(1!==i.length||!Array.isArray(i[0])&&i[0].constructor!==Float32Array&&i[0].constructor!==Float64Array||(i=i[0]),9!==i.length)throw new RangeError("Invalid number of values for array setter");var a=!1;if(t.direction.forEach((function(e,t){if(e!==i[t]){if(a)return;a=!0}})),a){for(var s=0;s<9;++s)t.direction[s]=i[s];e.modified()}return!0},e.indexToWorld=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return x(n,e,t.indexToWorld),n},e.indexToWorldVec3=e.indexToWorld,e.worldToIndex=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return x(n,e,t.worldToIndex),n},e.worldToIndexVec3=e.worldToIndex,e.indexToWorldBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],o=[0,0,0];Dr.computeCornerPoints(e,r,o);var i=[0,0,0],a=[0,0,0];return x(i,r,t.indexToWorld),x(a,o,t.indexToWorld),Cn(i,a,n),n},e.worldToIndexBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],o=[0,0,0];Dr.computeCornerPoints(e,r,o);var i=[0,0,0],a=[0,0,0];return x(i,r,t.worldToIndex),x(a,o,t.worldToIndex),Cn(i,a,n),n},e.onModified(e.computeTransforms),e.computeTransforms(),e.getCenter=function(){for(var t=e.getBounds(),n=[],r=0;r<3;r++)n[r]=(t[2*r+1]+t[2*r])/2;return n},e.computeHistogram=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[0,0,0,0,0,0];e.worldToIndexBounds(t,r);var o=[0,0,0],i=[0,0,0];Dr.computeCornerPoints(r,o,i),gn(o,o),gn(i,i);var a=e.getDimensions();An(o,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],o),An(i,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],i);for(var s=a[0],u=a[0]*a[1],c=e.getPointData().getScalars().getData(),l=-1/0,f=1/0,d=0,p=0,h=0,m=o[2];m<=i[2];m++)for(var g=o[1];g<=i[1];g++)for(var v=o[0]+g*s+m*u,y=o[0];y<=i[0];y++){if(!n||n([y,g,m],r)){var b=c[v];b>l&&(l=b),b<f&&(f=b),d+=b*b,p+=b,h+=1}++v}var w=h>0?p/h:0,x=d-w*w,C=Math.sqrt(x);return{minimum:f,maximum:l,average:w,variance:x,sigma:C}},e.computeIncrements=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=t,o=0;o<3;++o)n[o]=r,r*=e[2*o+1]-e[2*o]+1;return n},e.computeOffsetIndex=function(t){var n=pi(t,3),r=n[0],o=n[1],i=n[2],a=e.getExtent(),s=e.getPointData().getScalars().getNumberOfComponents(),u=e.computeIncrements(a,s);return Math.floor((Math.round(r)-a[0])*u[0]+(Math.round(o)-a[2])*u[1]+(Math.round(i)-a[4])*u[2])},e.getOffsetIndexFromWorld=function(t){for(var n=e.getExtent(),r=e.worldToIndex(t),o=0;o<3;++o)if(r[o]<n[2*o]||r[o]>n[2*o+1])return mi("GetScalarPointer: Pixel ".concat(r," is not in memory. Current extent = ").concat(n)),NaN;return e.computeOffsetIndex(r)},e.getScalarValueFromWorld=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=r)return mi("GetScalarPointer: Scalar Component ".concat(n," is not within bounds. Current Scalar numberOfComponents: ").concat(r)),NaN;var o=e.getOffsetIndexFromWorld(t);return Number.isNaN(o)?o:e.getPointData().getScalars().getComponent(o,n)}}var vi={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:si.EMPTY};function yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vi,n),ai.extend(e,t,n),t.direction?Array.isArray(t.direction)&&(t.direction=new Float64Array(t.direction.slice(0,9))):t.direction=Ir(new Float64Array(9)),t.indexToWorld=new Float64Array(16),t.worldToIndex=new Float64Array(16),Xt.get(e,t,["direction","indexToWorld","worldToIndex"]),Xt.setGetArray(e,t,["origin","spacing"],3),Xt.getArray(e,t,["extent"],6),gi(e,t)}const bi={newInstance:Xt.newInstance(yi,"vtkImageData"),extend:yi};var wi={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};const xi={VectorMode:{MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ScalarMappingTarget:wi};const Ci={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:{DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5}};function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _i=xi.ScalarMappingTarget,Pi=xi.VectorMode,Oi=ko.VtkDataTypes,Ei=Ci.ColorMode,Ti=Xt.vtkErrorMacro;function Di(e){return e}function Ii(e){return Math.floor(255*e+.5)}function ki(e,t){t.classHierarchy.push("vtkScalarsToColors"),e.setVectorModeToMagnitude=function(){return e.setVectorMode(Pi.MAGNITUDE)},e.setVectorModeToComponent=function(){return e.setVectorMode(Pi.COMPONENT)},e.setVectorModeToRGBColors=function(){return e.setVectorMode(Pi.RGBCOLORS)},e.build=function(){},e.isOpaque=function(){return!0},e.setAnnotations=function(n,r){if(!(n&&!r||!n&&r))if(n&&r&&n.length!==r.length)Ti("Values and annotations do not have the same number of tuples so ignoring");else{if(t.annotationArray=[],r&&n)for(var o=r.length,i=0;i<o;i++)t.annotationArray.push({value:n[i],annotation:String(r[i])});e.updateAnnotatedValueMap(),e.modified()}},e.setAnnotation=function(n,r){var o=e.checkForAnnotatedValue(n),i=!1;return o>=0?t.annotationArray[o].annotation!==r&&(t.annotationArray[o].annotation=r,i=!0):(t.annotationArray.push({value:n,annotation:r}),o=t.annotationArray.length-1,i=!0),i&&(e.updateAnnotatedValueMap(),e.modified()),o},e.getNumberOfAnnotatedValues=function(){return t.annotationArray.length},e.getAnnotatedValue=function(e){return e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value},e.getAnnotation=function(e){return void 0===t.annotationArray[e]?null:t.annotationArray[e].annotation},e.getAnnotatedValueIndex=function(n){return t.annotationArray.length?e.checkForAnnotatedValue(n):-1},e.removeAnnotation=function(n){var r=e.checkForAnnotatedValue(n),o=r>=0;return o&&(t.annotationArray.splice(r,1),e.updateAnnotatedValueMap(),e.modified()),o},e.resetAnnotations=function(){t.annotationArray=[],t.annotatedValueMap=[],e.modified()},e.getAnnotationColor=function(n,r){if(t.indexedLookup){var o=e.getAnnotatedValueIndex(n);e.getIndexedColor(o,r)}else e.getColor(parseFloat(n),r),r[3]=1},e.checkForAnnotatedValue=function(t){return e.getAnnotatedValueIndexInternal(t)},e.getAnnotatedValueIndexInternal=function(e){if(void 0!==t.annotatedValueMap[e]){var n=t.annotationArray.length;return t.annotatedValueMap[e]%n}return-1},e.getIndexedColor=function(e,t){t[0]=0,t[1]=0,t[2]=0,t[3]=0},e.updateAnnotatedValueMap=function(){t.annotatedValueMap=[];for(var e=t.annotationArray.length,n=0;n<e;n++)t.annotatedValueMap[t.annotationArray[n].value]=n},e.mapScalars=function(t,n,r){var o=t.getNumberOfComponents(),i=null;if(n===Ei.DEFAULT&&t.getDataType()===Oi.UNSIGNED_CHAR||n===Ei.DIRECT_SCALARS&&t)i=e.convertToRGBA(t,o,t.getNumberOfTuples());else{var a={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:Oi.UNSIGNED_CHAR},s=Xt.newTypedArray(a.dataType,4*t.getNumberOfTuples());a.values=s,a.size=s.length,i=ko.newInstance(a);var u=r;u<0&&o>1?e.mapVectorsThroughTable(t,i,_i.RGBA,-1,-1):(u<0&&(u=0),u>=o&&(u=o-1),e.mapScalarsThroughTable(t,i,_i.RGBA,u))}return i},e.mapVectorsToMagnitude=function(e,t,n){for(var r=e.getNumberOfTuples(),o=e.getNumberOfComponents(),i=t.getData(),a=e.getData(),s=0;s<r;s++){for(var u=0,c=0;c<n;c++)u+=a[s*o+c]*a[s*o+c];i[s]=Math.sqrt(u)}},e.mapVectorsThroughTable=function(t,n,r,o,i){var a=e.getVectorMode(),s=i,u=o,c=t.getNumberOfComponents();a===Pi.COMPONENT?(-1===u&&(u=e.getVectorComponent()),u<0&&(u=0),u>=c&&(u=c-1)):(-1===s&&(s=e.getVectorSize()),s<=0?(u=0,s=c):(u<0&&(u=0),u>=c&&(u=c-1),u+s>c&&(s=c-u)),a!==Pi.MAGNITUDE||1!==c&&1!==s||(a=Pi.COMPONENT));var l=0;switch(u>0&&(l=u),a){case Pi.COMPONENT:e.mapScalarsThroughTable(t,n,r,l);break;default:case Pi.MAGNITUDE:var f=ko.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,f,s),e.mapScalarsThroughTable(f,n,r,0);break;case Pi.RGBCOLORS:}},e.luminanceToRGBA=function(e,t,n,r){for(var o=r(n),i=t.getData(),a=e.getData(),s=i.length,u=0,c=0;c<s;c+=1){var l=r(i[c]);a[4*u]=l,a[4*u+1]=l,a[4*u+2]=l,a[4*u+3]=o,u++}},e.luminanceAlphaToRGBA=function(e,t,n,r){for(var o=t.getData(),i=e.getData(),a=o.length,s=0,u=0;u<a;u+=2){var c=r(o[u]);i[s]=c,i[s+1]=c,i[s+2]=c,i[s+3]=r(o[u+1])*n,s+=4}},e.rGBToRGBA=function(e,t,n,r){for(var o=Ii(n),i=t.getData(),a=e.getData(),s=i.length,u=0,c=0;c<s;c+=3)a[4*u]=r(i[c]),a[4*u+1]=r(i[c+1]),a[4*u+2]=r(i[c+2]),a[4*u+3]=o,u++},e.rGBAToRGBA=function(e,t,n,r){for(var o=t.getData(),i=e.getData(),a=o.length,s=0,u=0;u<a;u+=4)i[4*s]=r(o[u]),i[4*s+1]=r(o[u+1]),i[4*s+2]=r(o[u+2]),i[4*s+3]=r(o[u+3])*n,s++},e.convertToRGBA=function(n,r,o){var i=t.alpha;if(4===r&&i>=1&&n.getDataType()===Oi.UNSIGNED_CHAR)return n;var a=ko.newInstance({numberOfComponents:4,empty:!0,size:4*o,dataType:Oi.UNSIGNED_CHAR});if(o<=0)return a;i=(i=i>0?i:0)<1?i:1;var s=Di;switch(n.getDataType()!==Oi.FLOAT&&n.getDataType()!==Oi.DOUBLE||(s=Ii),r){case 1:e.luminanceToRGBA(a,n,i,s);break;case 2:e.luminanceAlphaToRGBA(a,n,s);break;case 3:e.rGBToRGBA(a,n,i,s);break;case 4:e.rGBAToRGBA(a,n,i,s);break;default:return Ti("Cannot convert colors"),null}return a},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return 16777216},e.setRange=function(t,n){return e.setMappingRange(t,n)},e.getRange=function(t,n){return e.getMappingRange()}}var Mi={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Pi.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function Ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Mi,n),Xt.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],Xt.setGet(e,t,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),Xt.setArray(e,t,["mappingRange"],2),Xt.getArray(e,t,["mappingRange"]),ki(e,t)}const Ri=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(Ni,"vtkScalarsToColors"),extend:Ni},xi);var Bi=Xt.vtkErrorMacro;function Li(e,t){t.classHierarchy.push("vtkLookupTable"),e.isOpaque=function(){if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){var n=!0;t.nanColor[3]<1&&(n=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(n=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<t.table.length&&n;r+=4)t.table[r]<255&&(n=!1);t.opaqueFlag=n,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return t.table.length},e.linearIndexLookup=function(e,t){var n=0;return n=e<t.range[0]?t.maxIndex+0+1.5:e>t.range[1]?t.maxIndex+1+1.5:(n=(e+t.shift)*t.scale)<t.maxIndex?n:t.maxIndex,Math.floor(n)},e.linearLookup=function(t,n,r){var o=4*(Pn(t)?Math.floor(r.maxIndex+1.5+2):e.linearIndexLookup(t,r));return[n[o],n[o+1],n[o+2],n[o+3]]},e.indexedLookupFunction=function(n,r,o){var i=e.getAnnotatedValueIndexInternal(n);-1===i&&(i=t.numberOfColors+2);var a=4*i;return[r[a],r[a+1],r[a+2],r[a+3]]},e.lookupShiftAndScale=function(e,t){t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))},e.mapScalarsThroughTable=function(n,r,o,i){var a=e.linearLookup;t.indexedLookup&&(a=e.indexedLookupFunction);var s=e.getMappingRange(),u={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,u);var c=e.getAlpha(),l=n.getNumberOfTuples(),f=n.getNumberOfComponents(),d=r.getData(),p=n.getData();if(c>=1){if(o===wi.RGBA)for(var h=0;h<l;h++){var m=a(p[h*f+i],t.table,u);d[4*h]=m[0],d[4*h+1]=m[1],d[4*h+2]=m[2],d[4*h+3]=m[3]}}else if(o===wi.RGBA)for(var g=0;g<l;g++){var v=a(p[g*f+i],t.table,u);d[4*g]=v[0],d[4*g+1]=v[1],d[4*g+2]=v[2],d[4*g+3]=Math.floor(v[3]*c+.5)}},e.forceBuild=function(){var n=0,r=0,o=0,i=0,a=t.numberOfColors-1;a&&(n=(t.hueRange[1]-t.hueRange[0])/a,r=(t.saturationRange[1]-t.saturationRange[0])/a,o=(t.valueRange[1]-t.valueRange[0])/a,i=(t.alphaRange[1]-t.alphaRange[0])/a);for(var s=[],u=[],c=0;c<=a;c++)s[0]=t.hueRange[0]+c*n,s[1]=t.saturationRange[0]+c*r,s[2]=t.valueRange[0]+c*o,wn(s,u),u[3]=t.alphaRange[0]+c*i,t.table[4*c]=255*u[0]+.5,t.table[4*c+1]=255*u[1]+.5,t.table[4*c+2]=255*u[2]+.5,t.table[4*c+3]=255*u[3]+.5;e.buildSpecialColors(),t.buildTime.modified()},e.setTable=function(n){if(4===n.getNumberOfComponents())if(n.getDataType()===vo.UNSIGNED_CHAR){t.numberOfColors=n.getNumberOfTuples();for(var r=n.getData(),o=0;o<r.length;o++)t.table[o]=r[o];e.buildSpecialColors(),t.insertTime.modified(),e.modified()}else Bi("Expected unsigned char values for RGBA colors");else Bi("Expected 4 components for RGBA colors")},e.buildSpecialColors=function(){var e=t.numberOfColors,n=t.table,r=4*(e+0);t.useBelowRangeColor||0===e?(n[r]=255*t.belowRangeColor[0]+.5,n[r+1]=255*t.belowRangeColor[1]+.5,n[r+2]=255*t.belowRangeColor[2]+.5,n[r+3]=255*t.belowRangeColor[3]+.5):(n[r]=n[0],n[r+1]=n[1],n[r+2]=n[2],n[r+3]=n[3]),r=4*(e+1),t.useAboveRangeColor||0===e?(n[r]=255*t.aboveRangeColor[0]+.5,n[r+1]=255*t.aboveRangeColor[1]+.5,n[r+2]=255*t.aboveRangeColor[2]+.5,n[r+3]=255*t.aboveRangeColor[3]+.5):(n[r]=n[4*(e-1)+0],n[r+1]=n[4*(e-1)+1],n[r+2]=n[4*(e-1)+2],n[r+3]=n[4*(e-1)+3]),n[r=4*(e+2)]=255*t.nanColor[0]+.5,n[r+1]=255*t.nanColor[1]+.5,n[r+2]=255*t.nanColor[2]+.5,n[r+3]=255*t.nanColor[3]+.5},e.build=function(){(t.table.length<1||e.getMTime()>t.buildTime.getMTime()&&t.insertTime.getMTime()<=t.buildTime.getMTime())&&e.forceBuild()},t.table.length>0&&t.insertTime.modified()}var Fi={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Fi,n),Ri.extend(e,t,n),t.table||(t.table=[]),t.buildTime={},Xt.obj(t.buildTime),t.opaqueFlagBuildTime={},Xt.obj(t.opaqueFlagBuildTime,{mtime:0}),t.insertTime={},Xt.obj(t.insertTime,{mtime:0}),Xt.get(e,t,["buildTime"]),Xt.setGet(e,t,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),Xt.setArray(e,t,["alphaRange","hueRange","saturationRange","valueRange"],2),Xt.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),Xt.getArray(e,t,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),Li(e,t)}const Vi={newInstance:Xt.newInstance(ji,"vtkLookupTable"),extend:ji};var Ui=1,zi=0,Gi=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;zi=e}const Hi={getResolveCoincidentTopologyAsString:function(){return Gi[zi]},getResolveCoincidentTopologyPolygonOffsetFaces:function(){return Ui},getResolveCoincidentTopology:function(){return zi},setResolveCoincidentTopology:Wi,setResolveCoincidentTopologyPolygonOffsetFaces:function(e){Ui=e},setResolveCoincidentTopologyToDefault:function(){Wi(0)},setResolveCoincidentTopologyToOff:function(){Wi(0)},setResolveCoincidentTopologyToPolygonOffset:function(){Wi(1)}};function qi(e,t,n){n.forEach((function(n){e["get".concat(n.method)]=function(){return t[n.key]},e["set".concat(n.method)]=function(e,r){t[n.key]={factor:e,offset:r}}}))}var Ki=["Polygon","Line","Point"],Xi={};qi(Xi,{Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},Ki.map((function(e){return{key:e,method:"ResolveCoincidentTopology".concat(e,"OffsetParameters")}})));const Yi={implementCoincidentTopologyMethods:function(e,t){void 0===t.resolveCoincidentTopology&&(t.resolveCoincidentTopology=!1),Xt.setGet(e,t,["resolveCoincidentTopology"]),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(Hi).forEach((function(t){e[t]=Hi[t]})),Object.keys(Xi).forEach((function(t){e[t]=Xi[t]})),qi(e,t.topologyOffset,Ki.map((function(e){return{key:e,method:"RelativeCoincidentTopology".concat(e,"OffsetParameters")}}))),e.getCoincidentTopologyPolygonOffsetParameters=function(){var t=Xi.getResolveCoincidentTopologyPolygonOffsetParameters(),n=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyLineOffsetParameters=function(){var t=Xi.getResolveCoincidentTopologyLineOffsetParameters(),n=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyPointOffsetParameter=function(){var t=Xi.getResolveCoincidentTopologyPointOffsetParameters(),n=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}}},staticOffsetAPI:Xi,otherStaticMethods:Hi,CATEGORIES:Ki};function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qi=Yi.staticOffsetAPI,ea=Yi.otherStaticMethods,ta=Ci.ColorMode,na=Ci.ScalarMode,ra=Ci.GetArray,oa=xi.VectorMode,ia=ko.VtkDataTypes;function aa(e){return function(){return Xt.vtkErrorMacro("vtkMapper::".concat(e," - NOT IMPLEMENTED"))}}function sa(e,t){t.classHierarchy.push("vtkMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=On(),t.bounds},e.setForceCompileOnly=function(e){t.forceCompileOnly=e},e.createDefaultLookupTable=function(){t.lookupTable=Vi.newInstance()},e.getColorModeAsString=function(){return Xt.enumToString(ta,t.colorMode)},e.setColorModeToDefault=function(){return e.setColorMode(0)},e.setColorModeToMapScalars=function(){return e.setColorMode(1)},e.setColorModeToDirectScalars=function(){return e.setColorMode(2)},e.getScalarModeAsString=function(){return Xt.enumToString(na,t.scalarMode)},e.setScalarModeToDefault=function(){return e.setScalarMode(0)},e.setScalarModeToUsePointData=function(){return e.setScalarMode(1)},e.setScalarModeToUseCellData=function(){return e.setScalarMode(2)},e.setScalarModeToUsePointFieldData=function(){return e.setScalarMode(3)},e.setScalarModeToUseCellFieldData=function(){return e.setScalarMode(4)},e.setScalarModeToUseFieldData=function(){return e.setScalarMode(5)},e.getAbstractScalars=function(e,n,r,o,i){if(!e||!t.scalarVisibility)return{scalars:null,cellFLag:!1};var a=null,s=!1;if(n===na.DEFAULT)(a=e.getPointData().getScalars())||(a=e.getCellData().getScalars(),s=!0);else if(n===na.USE_POINT_DATA)a=e.getPointData().getScalars();else if(n===na.USE_CELL_DATA)a=e.getCellData().getScalars(),s=!0;else if(n===na.USE_POINT_FIELD_DATA){var u=e.getPointData();a=r===ra.BY_ID?u.getArrayByIndex(o):u.getArrayByName(i)}else if(n===na.USE_CELL_FIELD_DATA){var c=e.getCellData();s=!0,a=r===ra.BY_ID?c.getArrayByIndex(o):c.getArrayByName(i)}else if(n===na.USE_FIELD_DATA){var l=e.getFieldData();a=r===ra.BY_ID?l.getArrayByIndex(o):l.getArrayByName(i)}return{scalars:a,cellFlag:s}},e.mapScalars=function(n,r){var o=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!o)return t.colorCoordinates=null,t.colorTextureMap=null,void(t.colorMapColors=null);var i="".concat(e.getMTime()).concat(o.getMTime()).concat(r);if(t.colorBuildString!==i){if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(n))e.mapScalarsToTexture(o,r);else{t.colorCoordinates=null,t.colorTextureMap=null;var a=e.getLookupTable();a&&(a.build(),t.colorMapColors=a.mapScalars(o,t.colorMode,-1))}t.colorBuildString="".concat(e.getMTime()).concat(o.getMTime()).concat(r)}},e.scalarToTextureCoordinate=function(e,t,n){var r=.5,o=1;return Pn(e)||(o=.49,(r=(e-t)*n)>1e3?r=1e3:r<-1e3&&(r=-1e3)),{texCoordS:r,texCoordT:o}},e.createColorTextureCoordinates=function(t,n,r,o,i,a,s,u,c){var l=(a[1]-a[0])/u,f=[];f[0]=a[0]-l,f[1]=a[1]+l;var d=1/(f[1]-f[0]),p=n.getData(),h=t.getData(),m=0,g=0;if(i<0||i>=o)for(var v=0;v<r;++v){for(var y=0,b=0;b<o;++b)y+=h[m]*h[m],m++;var w=Math.sqrt(y);c&&(w=Vi.applyLogScale(w,s,a));var x=e.scalarToTextureCoordinate(w,f[0],d);p[g]=x.texCoordS,p[g+1]=x.texCoordT,g+=2}else{m+=i;for(var C=0;C<r;++C){var S=h[m];c&&(S=Vi.applyLogScale(S,s,a));var A=e.scalarToTextureCoordinate(S,f[0],d);p[g]=A.texCoordS,p[g+1]=A.texCoordT,g+=2,m+=o}}},e.mapScalarsToTexture=function(n,r){var o=t.lookupTable.getRange(),i=t.lookupTable.usingLogScale();i&&Vi.getLogRange(o,o);var a=t.lookupTable.getAlpha();if(t.colorMapColors=null,null==t.colorTextureMap||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==r){t.lookupTable.setAlpha(r),t.colorTextureMap=null,t.lookupTable.build();var s=t.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s+=2;for(var u=(o[1]-o[0])/(s-1-2),c=new Float64Array(2*s),l=0;l<s;++l)c[l]=o[0]+l*u-u,i&&(c[l]=Math.pow(10,c[l]));for(var f=0;f<s;++f)c[f+s]=NaN;t.colorTextureMap=bi.newInstance(),t.colorTextureMap.setExtent(0,s-1,0,1,0,0);var d=ko.newInstance({numberOfComponents:1,values:c});t.colorTextureMap.getPointData().setScalars(t.lookupTable.mapScalars(d,t.colorMode,0)),t.lookupTable.setAlpha(a)}if(!t.colorCoordinates||e.getMTime()>t.colorCoordinates.getMTime()||e.getInputData(0).getMTime()>t.colorCoordinates.getMTime()||t.lookupTable.getMTime()>t.colorCoordinates.getMTime()){t.colorCoordinates=null;var p=n.getNumberOfComponents(),h=n.getNumberOfTuples();t.colorCoordinates=ko.newInstance({numberOfComponents:2,values:new Float32Array(2*h)});var m=t.lookupTable.getVectorComponent();t.lookupTable.getVectorMode()===oa.MAGNITUDE&&n.getNumberOfComponents()>1&&(m=-1),e.createColorTextureCoordinates(n,t.colorCoordinates,h,p,m,o,t.lookupTable.getRange(),t.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},e.getIsOpaque=function(){var t=e.getLookupTable();return!t||(t.build(),t.isOpaque())},e.canUseTextureMapForColoring=function(n){if(!t.interpolateScalarsBeforeMapping)return!1;if(t.lookupTable&&t.lookupTable.getIndexedLookup())return!1;var r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName),o=r.scalars;return!!o&&(!r.cellFlag&&((t.colorMode!==ta.DEFAULT||o.getDataType()!==ia.UNSIGNED_CHAR)&&t.colorMode!==ta.DIRECT_SCALARS))},e.clearColorArrays=function(){t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=function(){return t.lookupTable||e.createDefaultLookupTable(),t.lookupTable},e.getMTime=function(){var e=t.mtime;if(null!==t.lookupTable){var n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.getPrimitiveCount=function(){var t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getLines().getNumberOfCells()}},e.acquireInvertibleLookupTable=aa("AcquireInvertibleLookupTable"),e.valueToColor=aa("ValueToColor"),e.colorToValue=aa("ColorToValue"),e.useInvertibleColorFor=aa("UseInvertibleColorFor"),e.clearInvertibleColor=aa("ClearInvertibleColor")}var ua={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ua,n),Fo.extend(e,t,n),Xt.get(e,t,["colorCoordinates","colorMapColors","colorTextureMap"]),Xt.setGet(e,t,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),Xt.setGetArray(e,t,["scalarRange"],2),t.viewSpecificProperties||(t.viewSpecificProperties={}),Yi.implementCoincidentTopologyMethods(e,t),sa(e,t)}const la=Ji(Ji(Ji({newInstance:Xt.newInstance(ca,"vtkMapper"),extend:ca},Qi),ea),Ci);function fa(e,t){t.classHierarchy.push("vtkPixelSpaceCallbackMapper"),t.callback||(t.callback=function(){}),e.invokeCallback=function(e,n,r,o,i){if(t.callback){var s=n.getCompositeProjectionMatrix(r,-1,1);a(s,s);for(var u=e.getPoints(),c=new Float64Array(3),l=o.usize,f=o.vsize,d=l/2,p=f/2,h=[],m=0;m<u.getNumberOfPoints();m+=1){x(c,u.getPoint(m),s);var g=[c[0]*d+d,c[1]*p+p,c[2],0];if(i){var v=4*(Math.floor(g[1])*l+Math.floor(g[0])),y=(256*(i[v]/255)+i[v+1]/255)/257;g[3]=2*y-1}h.push(g)}t.callback(h,n,r,i,[l,f])}}}var da={callback:null,useZValues:!1};function pa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,da,n),la.extend(e,t,n),Xt.setGet(e,t,["callback","useZValues"]),fa(e,t)}const ha={newInstance:Xt.newInstance(pa,"vtkPixelSpaceCallbackMapper"),extend:pa};function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e){var t=0;return e.filter((function(e,n){return n===t&&(t+=e+1,!0)}))}var ba={extractCellSizes:ya,getNumberOfCells:function(e){return ya(e).length}};function wa(e,t){t.classHierarchy.push("vtkCellArray"),e.getNumberOfCells=function(e){return void 0===t.numberOfCells||e?(t.cellSizes=ya(t.values),t.numberOfCells=t.cellSizes.length,t.numberOfCells):t.numberOfCells},e.getCellSizes=function(e){return void 0===t.cellSizes||e?(t.cellSizes=ya(t.values),t.cellSizes):t.cellSizes};var n=e.setData;e.setData=function(e){n(e,1),t.numberOfCells=void 0,t.cellSizes=void 0},e.getCell=function(e){var n=e,r=t.values[n++];return t.values.subarray(n,n+r)}}function xa(e){return ga({empty:!0,numberOfComponents:1,dataType:vo.UNSIGNED_INT},e)}function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ko.extend(e,t,xa(n)),wa(e,t)}const Sa=ga({newInstance:Xt.newInstance(Ca,"vtkCellArray"),extend:Ca},ba);var Aa=Xt.vtkErrorMacro,_a=[1,-1,1,-1,1,-1];function Pa(e,t){t.classHierarchy.push("vtkPoints"),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;e.getNumberOfPoints()!==n&&(t.size=n*r,t.values=Xt.newTypedArray(t.dataType,t.size),e.setNumberOfComponents(r),e.modified())},e.setPoint=function(e){for(var n=e*t.numberOfComponents,r=0;r<t.numberOfComponents;r++)t.values[n+r]=r+1<1||arguments.length<=r+1?void 0:arguments[r+1]},e.getPoint=e.getTuple,e.getBounds=function(){if(3===e.getNumberOfComponents()){var n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];var r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1];var o=e.getRange(2);return t.bounds[4]=o[0],t.bounds[5]=o[1],t.bounds}if(2!==e.getNumberOfComponents())return Aa("getBounds called on an array with components of\n        ".concat(e.getNumberOfComponents())),_a;var i=e.getRange(0);t.bounds[0]=i[0],t.bounds[1]=i[1];var a=e.getRange(1);return t.bounds[2]=a[0],t.bounds[3]=a[1],t.bounds[4]=0,t.bounds[5]=0,t.bounds},e.computeBounds=e.getBounds,e.setNumberOfComponents(t.numberOfComponents<2?3:t.numberOfComponents)}var Oa={empty:!0,numberOfComponents:3,dataType:vo.FLOAT,bounds:[1,-1,1,-1,1,-1]};function Ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Oa,n),ko.extend(e,t,n),Pa(e,t)}const Ta={newInstance:Xt.newInstance(Ea,"vtkPoints"),extend:Ea};function Da(e,t){t.classHierarchy.push("vtkCell"),e.initialize=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){t.pointsIds=n;var r=t.points.getData();r.length!==3*t.pointsIds.length&&(r=Xt.newTypedArray(e.getDataType(),3*t.pointsIds.length));var o=e.getData();t.pointsIds.forEach((function(e,t){var n=3*e,i=3*t;r[i]=o[n],r[++i]=o[++n],r[++i]=o[++n]})),t.points.setData(r)}else{t.points=e,t.pointsIds=new Array(e.getNumberOfPoints());for(var i=e.getNumberOfPoints()-1;i>=0;--i)t.pointsIds[i]=i}},e.getBounds=function(){var e=t.points.getNumberOfPoints(),n=[];if(e){t.points.getPoint(0,n),t.bounds[0]=n[0],t.bounds[1]=n[0],t.bounds[2]=n[1],t.bounds[3]=n[1],t.bounds[4]=n[2],t.bounds[5]=n[2];for(var r=1;r<e;r++)t.points.getPoint(r,n),t.bounds[0]=n[0]<t.bounds[0]?n[0]:t.bounds[0],t.bounds[1]=n[0]>t.bounds[1]?n[0]:t.bounds[1],t.bounds[2]=n[1]<t.bounds[2]?n[1]:t.bounds[2],t.bounds[3]=n[1]>t.bounds[3]?n[1]:t.bounds[3],t.bounds[4]=n[2]<t.bounds[4]?n[2]:t.bounds[4],t.bounds[5]=n[2]>t.bounds[5]?n[2]:t.bounds[5]}else xn(t.bounds);return t.bounds},e.getLength2=function(){e.getBounds();for(var n=0,r=0,o=0;o<3;o++)n+=(r=t.bounds[2*o+1]-t.bounds[2*o])*r;return n},e.getParametricDistance=function(e){for(var t,n=0,r=0;r<3;r++)(t=e[r]<0?-e[r]:e[r]>1?e[r]-1:0)>n&&(n=t);return n},e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.deepCopy=function(e){e.initialize(t.points,t.pointsIds)},e.getCellDimension=function(){},e.intersectWithLine=function(e,t,n,r,o,i,a){},e.evaluatePosition=function(e,t,n,r,o,i){}}var Ia={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function ka(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ia,n),Xt.obj(e,t),t.points||(t.points=Ta.newInstance()),Xt.get(e,t,["points","pointsIds"]),Da(e,t)}const Ma={newInstance:Xt.newInstance(ka,"vtkCell"),extend:ka};function Na(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){t.classHierarchy.push("vtkCellLinks"),e.buildLinks=function(n){var r=n.getPoints().getNumberOfPoints(),o=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(var a=0;a<o;++a){n.getCellPoints(a).cellPointIds.forEach((function(t){e.incrementLinkCount(t)}))}e.allocateLinks(r),t.maxId=r-1;for(var s=function(t){n.getCellPoints(t).cellPointIds.forEach((function(n){e.insertCellReference(n,i[n]++,t)}))},u=0;u<o;++u)s(u)}else{for(var c=0;c<o;c++){Ma.newInstance().getPointsIds().forEach((function(t){e.incrementLinkCount(t)}))}e.allocateLinks(r),t.maxId=r-1;for(var l=function(t){Ma.newInstance().getPointsIds().forEach((function(n){e.insertCellReference(n,i[n]++,t)}))},f=0;f<o;++f)l(f)}},e.allocate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.array=Array(e).fill().map((function(){return{ncells:0,cells:null}})),t.extend=n,t.maxId=-1},e.initialize=function(){t.array=null},e.getLink=function(e){return t.array[e]},e.getNcells=function(e){return t.array[e].ncells},e.getCells=function(e){return t.array[e].cells},e.insertNextPoint=function(e){t.array.push({ncells:e,cells:Array(e)}),++t.maxId},e.insertNextCellReference=function(e,n){t.array[e].cells[t.array[e].ncells++]=n},e.deletePoint=function(e){t.array[e].ncells=0,t.array[e].cells=null},e.removeCellReference=function(e,n){t.array[n].cells=t.array[n].cells.filter((function(t){return t!==e})),t.array[n].ncells=t.array[n].cells.length},e.addCellReference=function(e,n){t.array[n].cells[t.array[n].ncells++]=e},e.resizeCellList=function(e,n){t.array[e].cells.length=n},e.squeeze=function(){!function(e,t){var n=t;for(t>=e.array.length&&(n+=e.array.length);n>e.array.length;)e.array.push({ncells:0,cells:null});e.array.length=n}(t,t.maxId+1)},e.reset=function(){t.maxId=-1},e.deepCopy=function(e){t.array=Na(e.array),t.extend=e.extend,t.maxId=e.maxId},e.incrementLinkCount=function(e){++t.array[e].ncells},e.allocateLinks=function(e){for(var n=0;n<e;++n)t.array[n].cells=new Array(t.array[n].ncells)},e.insertCellReference=function(e,n,r){t.array[e].cells[n]=r}}var La={array:null,maxId:0,extend:0};function Fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,La,n),Xt.obj(e,t),Ba(e,t)}const ja={newInstance:Xt.newInstance(Fa,"vtkCellLinks"),extend:Fa};var Va={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},Ua=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wa={getClassNameFromTypeId:function(e){return e<Ua.length?Ua[e]:"UnknownClass"},getTypeIdFromClassName:function(e){return Ua.findIndex(e)},isLinear:function(e){return e<Va.VTK_QUADRATIC_EDGE||e===Va.VTK_CONVEX_POINT_SET||e===Va.VTK_POLYHEDRON}};function Ha(e,t){t.classHierarchy.push("vtkCellTypes"),e.allocate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.size=e>0?e:1,t.extend=n>0?n:1,t.maxId=-1,t.typeArray=new Uint8Array(e),t.locationArray=new Uint32Array(e)},e.insertCell=function(e,n,r){t.typeArray[e]=n,t.locationArray[e]=r,e>t.maxId&&(t.maxId=e)},e.insertNextCell=function(n,r){return e.insertCell(++t.maxId,n,r),t.maxId},e.setCellTypes=function(e,n,r){t.size=e,t.typeArray=n,t.locationArray=r,t.maxId=e-1},e.getCellLocation=function(e){return t.locationArray[e]},e.deleteCell=function(e){t.typeArray[e]=Va.VTK_EMPTY_CELL},e.getNumberOfTypes=function(){return t.maxId+1},e.isType=function(t){for(var n=e.getNumberOfTypes(),r=0;r<n;++r)if(t===e.getCellType(r))return!0;return!1},e.insertNextType=function(t){return e.insertNextCell(t,-1)},e.getCellType=function(e){return t.typeArray[e]},e.reset=function(){t.maxId=-1},e.deepCopy=function(n){e.allocate(n.getSize(),n.getExtend()),t.typeArray.set(n.getTypeArray()),t.locationArray.set(n.getLocationArray()),t.maxId=n.getMaxId()}}var qa={size:0,maxId:-1,extend:1e3};function Ka(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qa,n),Xt.obj(e,t),Xt.get(e,t,["size","maxId","extend"]),Xt.getArray(e,t,["typeArray","locationArray"]),Ha(e,t)}const Xa=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(Ka,"vtkCellTypes"),extend:Ka},Wa);const Ya={IntersectionState:{NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2}};function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qa=Ya.IntersectionState;function es(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={t:Number.MIN_VALUE,distance:0},a=[];a[0]=n[0]-t[0],a[1]=n[1]-t[1],a[2]=n[2]-t[2];var s=a[0]*(e[0]-t[0])+a[1]*(e[1]-t[1])+a[2]*(e[2]-t[2]),u=un(a,a),c=1e-5*s;return 0!==u&&(i.t=s/u),c<0&&(c=-c),-c<u&&u<c||u<=0||i.t<0?r=t:i.t>1?r=n:(r=a,a[0]=t[0]+i.t*a[0],a[1]=t[1]+i.t*a[1],a[2]=t[2]+i.t*a[2]),o&&(o[0]=r[0],o[1]=r[1],o[2]=r[2]),i.distance=fn(r,e),i}function ts(e,t,n,r,o,i){var a=[],s=[],u=[];o[0]=0,i[0]=0,a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2];var c=[];c[0]=[un(a,a),-un(a,s)],c[1]=[c[0][1],un(s,s)];var l=[];if(l[0]=un(a,u),l[1]=-un(s,u),0===bn(c,l,2)){for(var f,d=Number.MAX_VALUE,p=[e,t,n,r],h=[n,n,e,e],m=[r,r,t,t],g=[i[0],i[0],o[0],o[0]],v=[o[0],o[0],i[0],i[0]],y=0;y<4;y++)(f=es(p[y],h[y],m[y])).distance<d&&(d=f.distance,g[y]=f.t,v[y]=y%2);return Qa.ON_LINE}return o[0]=l[0],i[0]=l[1],o[0]>=0&&o[0]<=1&&i[0]>=0&&i[0]<=1?Qa.YES_INTERSECTION:Qa.NO_INTERSECTION}var ns={distanceToLine:es,intersection:ts};function rs(e,t){t.classHierarchy.push("vtkLine"),e.getCellDimension=function(){return 1},e.intersectWithLine=function(e,n,r,o,i){var a={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};i[1]=0,i[2]=0;var s=[],u=[],c=[];t.points.getPoint(0,u),t.points.getPoint(1,c);var l,f=[],d=[],p=ts(e,n,u,c,f,d);if(a.t=f[0],a.betweenPoints=(l=a.t)>=0&&l<=1,i[0]=d[0],p===Qa.YES_INTERSECTION){for(var h=0;h<3;h++)o[h]=u[h]+i[0]*(c[h]-u[h]),s[h]=e[h]+a.t*(n[h]-e[h]);if(fn(o,s)<=r*r)return a.intersect=1,a}else{var m;if(a.t<0)return(m=es(e,u,c,o)).distance<=r*r?(a.t=0,a.intersect=1,a.betweenPoints=!0,a):a;if(a.t>1)return(m=es(n,u,c,o)).distance<=r*r?(a.t=1,a.intersect=1,a.betweenPoints=!0,a):a;if(i[0]<0)return i[0]=0,m=es(u,e,n,o),a.t=m.t,m.distance<=r*r?(a.intersect=1,a):a;if(i[0]>1)return i[0]=1,m=es(c,e,n,o),a.t=m.t,m.distance<=r*r?(a.intersect=1,a):a}return a},e.evaluatePosition=function(e,t,n,r,o,i){}}var os={};function is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,os,n),Ma.extend(e,t,n),rs(e,t)}const as=Ja(Ja({newInstance:Xt.newInstance(is,"vtkLine"),extend:is},ns),Ya);function ss(e,t){t.classHierarchy.push("vtkPointSet"),t.points?t.points=it(t.points):t.points=Ta.newInstance(),e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.getBounds=function(){return t.points.getBounds()},e.computeBounds=function(){e.getBounds()};var n=e.shallowCopy;e.shallowCopy=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(e,r),t.points=Ta.newInstance(),t.points.shallowCopy(e.getPoints())}}var us={};function cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,us,n),ai.extend(e,t,n),Xt.setGet(e,t,["points"]),ss(e,t)}const ls={newInstance:Xt.newInstance(cs,"vtkPointSet"),extend:cs};function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e,t,n,r){var o=n[0]-t[0],i=n[1]-t[1],a=n[2]-t[2],s=e[0]-t[0],u=e[1]-t[1],c=e[2]-t[2];r[0]=i*c-a*u,r[1]=a*s-o*c,r[2]=o*u-i*s}function hs(e,t,n,r){ps(e,t,n,r);var o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==o&&(r[0]/=o,r[1]/=o,r[2]/=o)}var ms={computeNormalDirection:ps,computeNormal:hs};function gs(e,t){t.classHierarchy.push("vtkTriangle"),e.getCellDimension=function(){return 2},e.intersectWithLine=function(n,r,o,i,a){var s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};a[2]=0;var u=o*o,c=[],l=[],f=[];t.points.getPoint(0,c),t.points.getPoint(1,l),t.points.getPoint(2,f);var d=[];if(hs(c,l,f,d),0!==d[0]||0!==d[1]||0!==d[2]){var p=Gn.intersectWithLine(n,r,c,d);if(s.betweenPoints=p.betweenPoints,s.t=p.t,i[0]=p.x[0],i[1]=p.x[1],i[2]=p.x[2],!p.intersection)return a[0]=0,a[1]=0,s.intersect=0,s;var h=e.evaluatePosition(i,[],a,[]);if(h.evaluation>=0)return h.dist2<=u?(s.intersect=1,s):(s.intersect=h.evaluation,s)}var m=fn(c,l),g=fn(l,f),v=fn(f,c);t.line||(t.line=as.newInstance()),m>g&&m>v?(t.line.getPoints().setPoint(0,c),t.line.getPoints().setPoint(1,l)):g>v&&g>m?(t.line.getPoints().setPoint(0,l),t.line.getPoints().setPoint(1,f)):(t.line.getPoints().setPoint(0,f),t.line.getPoints().setPoint(1,c));var y=t.line.intersectWithLine(n,r,o,i,a);if(s.betweenPoints=y.betweenPoints,s.t=y.t,y.intersect){for(var b=[],w=[],x=[],C=0;C<3;C++)b[C]=c[C]-f[C],w[C]=l[C]-f[C],x[C]=i[C]-f[C];return a[0]=un(x,b)/v,a[1]=un(x,w)/g,s.intersect=1,s}return a[0]=0,a[1]=0,s.intersect=0,s},e.evaluatePosition=function(e,n,r,o){var i,a,s,u,c,l,f,d={subId:0,dist2:0,evaluation:-1},p=[],h=[],m=[],g=[],v=[],y=[],b=[],w=0,x=[],C=[],S=[],A=[],_=[];d.subId=0,r[2]=0,t.points.getPoint(1,p),t.points.getPoint(2,h),t.points.getPoint(0,m),ps(p,h,m,g),Gn.generalizedProjectPoint(e,p,g,_);var P=0;for(i=0;i<3;i++)(s=g[i]<0?-g[i]:g[i])>P&&(P=s,w=i);for(a=0,i=0;i<3;i++)i!==w&&(x[a++]=i);for(i=0;i<2;i++)v[i]=_[x[i]]-m[x[i]],y[i]=p[x[i]]-m[x[i]],b[i]=h[x[i]]-m[x[i]];if(0===(u=hn(y,b)))return r[0]=0,r[1]=0,d.evaluation=-1,d;if(r[0]=hn(v,b)/u,r[1]=hn(y,v)/u,o[0]=1-(r[0]+r[1]),o[1]=r[0],o[2]=r[1],o[0]>=0&&o[0]<=1&&o[1]>=0&&o[1]<=1&&o[2]>=0&&o[2]<=1)n&&(d.dist2=fn(_,e),n[0]=_[0],n[1]=_[1],n[2]=_[2]),d.evaluation=1;else{var O;if(n)if(o[1]<0&&o[2]<0)for(c=fn(e,m),l=as.distanceToLine(e,p,m,O,S),f=as.distanceToLine(e,m,h,O,A),c<l?(d.dist2=c,C=m):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[2]<0&&o[0]<0)for(c=fn(e,p),l=as.distanceToLine(e,p,m,O,S),f=as.distanceToLine(e,p,h,O,A),c<l?(d.dist2=c,C=p):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[1]<0&&o[0]<0)for(c=fn(e,h),l=as.distanceToLine(e,h,m,O,S),f=as.distanceToLine(e,p,h,O,A),c<l?(d.dist2=c,C=h):(d.dist2=l,C=S),f<d.dist2&&(d.dist2=f,C=A),i=0;i<3;i++)n[i]=C[i];else if(o[0]<0){var E=as.distanceToLine(e,p,h,n);d.dist2=E.distance}else if(o[1]<0){var T=as.distanceToLine(e,h,m,n);d.dist2=T.distance}else if(o[2]<0){var D=as.distanceToLine(e,p,m,n);d.dist2=D.distance}d.evaluation=0}return d},e.evaluateLocation=function(e,n,r){var o=[],i=[],a=[];t.points.getPoint(0,o),t.points.getPoint(1,i),t.points.getPoint(2,a);for(var s=1-e[0]-e[1],u=0;u<3;u++)n[u]=o[u]*s+i[u]*e[0]+a[u]*e[1];r[0]=s,r[1]=e[0],r[2]=e[1]},e.getParametricDistance=function(e){var t,n=0,r=[];r[0]=e[0],r[1]=e[1],r[2]=1-e[0]-e[1];for(var o=0;o<3;o++)(t=r[o]<0?-r[o]:r[o]>1?r[o]-1:0)>n&&(n=t);return n}}var vs={};function ys(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vs,n),Ma.extend(e,t,n),gs(e,t)}const bs=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:Xt.newInstance(ys,"vtkTriangle"),extend:ys},ms);var ws=["verts","lines","polys","strips"];var xs;function Cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ss=Xt.vtkWarningMacro,As=(Cs(xs={},Va.VTK_LINE,as),Cs(xs,Va.VTK_POLY_LINE,as),Cs(xs,Va.VTK_TRIANGLE,bs),xs);function _s(e,t){t.classHierarchy.push("vtkPolyData"),ws.forEach((function(n){e["getNumberOf".concat(function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g,"")}(n))]=function(){return t[n].getNumberOfCells()},t[n]?t[n]=it(t[n]):t[n]=Sa.newInstance()})),e.getNumberOfCells=function(){return ws.reduce((function(e,n){return e+t[n].getNumberOfCells()}),0)};var n=e.shallowCopy;e.shallowCopy=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(e,r),ws.forEach((function(n){t[n]=Sa.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))},e.buildCells=function(){var n=e.getNumberOfVerts(),r=e.getNumberOfLines(),o=e.getNumberOfPolys(),i=e.getNumberOfStrips(),a=n+r+o+i,s=new Uint8Array(a),u=s,c=new Uint32Array(a),l=c;if(n){var f=0;t.verts.getCellSizes().forEach((function(e,t){l[t]=f,u[t]=e>1?Va.VTK_POLY_VERTEX:Va.VTK_VERTEX,f+=e+1})),l=l.subarray(n),u=u.subarray(n)}if(r){var d=0;t.lines.getCellSizes().forEach((function(e,t){l[t]=d,u[t]=e>2?Va.VTK_POLY_LINE:Va.VTK_LINE,1===e&&Ss("Building VTK_LINE ",t," with only one point, but VTK_LINE needs at least two points. Check the input."),d+=e+1})),l=l.subarray(r),u=u.subarray(r)}if(o){var p=0;t.polys.getCellSizes().forEach((function(e,t){switch(l[t]=p,e){case 3:u[t]=Va.VTK_TRIANGLE;break;case 4:u[t]=Va.VTK_QUAD;break;default:u[t]=Va.VTK_POLYGON}e<3&&Ss("Building VTK_TRIANGLE ",t," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),p+=e+1})),l+=l.subarray(o),u+=u.subarray(o)}if(i){var h=0;u.fill(Va.VTK_TRIANGLE_STRIP,0,i),t.strips.getCellSizes().forEach((function(e,t){l[t]=h,h+=e+1}))}t.cells=Xa.newInstance(),t.cells.setCellTypes(a,s,c)},e.buildLinks=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===t.cells&&e.buildCells(),t.links=ja.newInstance(),n>0?t.links.allocate(n):t.links.allocate(e.getPoints().getNumberOfPoints()),t.links.buildLinks(e)},e.getCellPoints=function(e){var n=t.cells.getCellType(e),r=null;switch(n){case Va.VTK_VERTEX:case Va.VTK_POLY_VERTEX:r=t.verts;break;case Va.VTK_LINE:case Va.VTK_POLY_LINE:r=t.lines;break;case Va.VTK_TRIANGLE:case Va.VTK_QUAD:case Va.VTK_POLYGON:r=t.polys;break;case Va.VTK_TRIANGLE_STRIP:r=t.strips;break;default:return r=null,{type:0,cellPointIds:null}}var o=t.cells.getCellLocation(e);return{cellType:n,cellPointIds:r.getCell(o)}},e.getPointCells=function(e){return t.links.getCells(e)},e.getCellEdgeNeighbors=function(e,n,r){var o=t.links.getLink(n),i=t.links.getLink(r);return o.cells.filter((function(t){return t!==e&&-1!==i.cells.indexOf(t)}))},e.getCell=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.getCellPoints(t),o=n||As[r.cellType].newInstance();return o.initialize(e.getPoints(),r.cellPointIds),o}}var Ps={};function Os(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ps,n),ls.extend(e,t,n),Xt.get(e,t,["cells","links"]),Xt.setGet(e,t,["verts","lines","polys","strips"]),_s(e,t)}const Es={newInstance:Xt.newInstance(Os,"vtkPolyData"),extend:Os};function Ts(e,t){t.classHierarchy.push("vtkTexture"),e.imageLoaded=function(){t.image.removeEventListener("load",e.imageLoaded),t.imageLoaded=!0,e.modified()},e.setImage=function(n){t.image!==n&&(null!==n&&(e.setInputData(null),e.setInputConnection(null)),t.image=n,t.imageLoaded=!1,n.complete?e.imageLoaded():n.addEventListener("load",e.imageLoaded),e.modified())}}var Ds={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,imageLoaded:!1};function Is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ds,n),Xt.obj(e,t),Xt.algo(e,t,6,0),Xt.get(e,t,["imageLoaded"]),Xt.setGet(e,t,["repeat","edgeClamp","interpolate","image"]),Ts(e,t)}const ks={newInstance:Xt.newInstance(Is,"vtkTexture"),extend:Is};function Ms(e){return function(e){if(Array.isArray(e))return Ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ns(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fs=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],js=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],Vs=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],Us=[0,1,0,1,0,1,0,1,2,2,2,2],zs=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],Gs=new Float64Array(3),Ws=new Float64Array(3),Hs=new Float64Array(3),qs=new Float64Array(3),Ks=new Float64Array(3),Xs=new Float64Array(3),Ys=new Float64Array(16);function Zs(e,t){e.strokeStyle=t.strokeColor,e.lineWidth=t.strokeSize,e.fillStyle=t.fontColor,e.font="".concat(t.fontStyle," ").concat(t.fontSize,"px ").concat(t.fontFamily)}function Js(e,t){t.classHierarchy.push("vtkCubeAxesActor"),e.setCamera=function(n){t.camera!==n&&(t.cameraModifiedSub&&(t.cameraModifiedSub.unsubscribe(),t.cameraModifiedSub=null),t.camera=n,n&&(t.cameraModifiedSub=n.onModified(e.update)),e.update(),e.modified())},e.computeFacesToDraw=function(){var e=t.camera.getViewMatrix();a(e,e);for(var n=!1,r=Dr.getDiagonalLength(t.dataBounds),o=Math.sin(t.faceVisibilityAngle*Math.PI/180),i=0;i<6;i++){var s=!1,u=Math.floor(i/2),c=(u+1)%3,l=(u+2)%3;t.dataBounds[2*c]!==t.dataBounds[2*c+1]&&t.dataBounds[2*l]!==t.dataBounds[2*l+1]&&(Gs[u]=t.dataBounds[i]-.1*r*Fs[i][u],Gs[c]=.5*(t.dataBounds[2*c]+t.dataBounds[2*c+1]),Gs[l]=.5*(t.dataBounds[2*l]+t.dataBounds[2*l+1]),x(Hs,Gs,e),Gs[u]=t.dataBounds[i],x(qs,Gs,e),g(Hs,qs,Hs),y(Hs,Hs),s=Hs[2]>o,t.camera.getParallelProjection()||(y(qs,qs),s=b(qs,Hs)>o)),s!==t.lastFacesToDraw[i]&&(t.lastFacesToDraw[i]=s,n=!0)}return n},e.updatePolyData=function(e,n,r){var o=0,i=0;o+=8;for(var a=0,s=0;s<12;s++)n[s]>0&&a++;if(i+=a,t.gridLines)for(var u=0;u<6;u++)e[u]&&(o+=2*r[zs[u][0]].length+2*r[zs[u][1]].length,i+=r[zs[u][0]].length+r[zs[u][1]].length);for(var c=new Float64Array(3*o),l=new Uint32Array(3*i),f=0,d=0,p=0;p<2;p++)for(var h=0;h<2;h++)for(var m=0;m<2;m++)c[3*f]=t.dataBounds[m],c[3*f+1]=t.dataBounds[2+h],c[3*f+2]=t.dataBounds[4+p],f++;for(var g=0;g<12;g++)n[g]>0&&(l[3*d]=2,l[3*d+1]=Vs[g][0],l[3*d+2]=Vs[g][1],d++);if(t.gridLines)for(var v=0;v<6;v++)if(e[v]){for(var y=Math.floor(v/2),b=r[zs[v][0]],w=0;w<b.length;w++)c[3*f+y]=t.dataBounds[v],c[3*f+zs[v][0]]=b[w],c[3*f+zs[v][1]]=t.dataBounds[2*zs[v][1]],c[3*++f+y]=t.dataBounds[v],c[3*f+zs[v][0]]=b[w],c[3*f+zs[v][1]]=t.dataBounds[2*zs[v][1]+1],f++,l[3*d]=2,l[3*d+1]=f-2,l[3*d+2]=f-1,d++;b=r[zs[v][1]];for(var x=0;x<b.length;x++)c[3*f+y]=t.dataBounds[v],c[3*f+zs[v][1]]=b[x],c[3*f+zs[v][0]]=t.dataBounds[2*zs[v][0]],c[3*++f+y]=t.dataBounds[v],c[3*f+zs[v][1]]=b[x],c[3*f+zs[v][0]]=t.dataBounds[2*zs[v][0]+1],f++,l[3*d]=2,l[3*d+1]=f-2,l[3*d+2]=f-1,d++}t.polyData.getPoints().setData(c,3),t.polyData.getPoints().modified(),t.polyData.getLines().setData(l,1),t.polyData.getLines().modified(),t.polyData.modified()},e.updateTextData=function(e,n,r,o){for(var i=0,a=0;a<12;a++)1===n[a]&&(i+=2,i+=r[Us[a]].length);for(var s=t.polyData.getPoints().getData(),u=new Float64Array(3*i),c=0,l=0,f=0,d=0;d<6;d++)if(e[d])for(var p=0;p<4;p++){var h=js[d][p];if(1===n[h]){var m=Us[h],g=3*Vs[h][0],v=3*Vs[h][1];u[3*c]=.5*(s[g]+s[v]),u[3*c+1]=.5*(s[g+1]+s[v+1]),u[3*c+2]=.5*(s[g+2]+s[v+2]),u[3*++c+Math.floor(d/2)]=t.dataBounds[d],u[3*c+zs[d][0]]=.5*(t.dataBounds[2*zs[d][0]]+t.dataBounds[2*zs[d][0]+1]),u[3*c+zs[d][1]]=.5*(t.dataBounds[2*zs[d][1]]+t.dataBounds[2*zs[d][1]+1]),c++,t.textValues[l]=t.axisLabels[m],l++;var y=(m+1)%3,b=(m+2)%3,w=r[m],x=o[m];t.tickCounts[f]=w.length;for(var C=0;C<w.length;C++)u[3*c+m]=w[C],u[3*c+y]=s[g+y],u[3*c+b]=s[g+b],c++,t.textValues[l]=x[C],l++;f++}}t.textPolyData.getPoints().setData(u,3),t.textPolyData.modified()},e.update=function(){for(var n=e.computeFacesToDraw(),r=t.lastFacesToDraw,o=!1,i=0;i<6;i++)t.dataBounds[i]!==t.lastTickBounds[i]&&(o=!0,t.lastTickBounds[i]=t.dataBounds[i]);if(n||o||t.forceUpdate){for(var a=new Array(12).fill(0),s=0;s<6;s++)if(r[s])for(var u=0;u<4;u++)a[js[s][u]]++;for(var c=[],l=[],f=0;f<3;f++){var d=et().domain([t.dataBounds[2*f],t.dataBounds[2*f+1]]);c[f]=d.ticks(5);var p=d.tickFormat(5);l[f]=c[f].map(p)}e.updatePolyData(r,a,c),e.updateTextData(r,a,c,l),(o||t.forceUpdate)&&e.updateTextureAtlas(l)}e.updateTexturePolyData(),t.forceUpdate=!1},e.updateTextureAtlas=function(e){t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left",t._tmAtlas.clear();for(var n=0,r=1,o=0;o<3;o++){if(!t._tmAtlas.has(t.axisLabels[o])){Zs(t.tmContext,t.axisTextStyle);var i=t.tmContext.measureText(t.axisLabels[o]),a={height:i.actualBoundingBoxAscent+2,startingHeight:r,width:i.width+2,textStyle:t.axisTextStyle};t._tmAtlas.set(t.axisLabels[o],a),r+=a.height,n<a.width&&(n=a.width)}Zs(t.tmContext,t.tickTextStyle);for(var s=0;s<e[o].length;s++)if(!t._tmAtlas.has(e[o][s])){var u=t.tmContext.measureText(e[o][s]),c={height:u.actualBoundingBoxAscent+2,startingHeight:r,width:u.width+2,textStyle:t.tickTextStyle};t._tmAtlas.set(e[o][s],c),r+=c.height,n<c.width&&(n=c.width)}}n=on(n),r=on(r),t._tmAtlas.forEach((function(e){e.tcoords=[0,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight)/r,0,(r-e.startingHeight)/r]})),t.tmCanvas.width=n,t.tmCanvas.height=r,t.tmContext.textBaseline="bottom",t.tmContext.textAlign="left",t.tmContext.clearRect(0,0,n,r),t._tmAtlas.forEach((function(e,n){Zs(t.tmContext,e.textStyle),t.tmContext.fillText(n,1,e.startingHeight+e.height-1)}));var l=new Image;l.src=t.tmCanvas.toDataURL("image/png"),t.tmTexture.setImage(l),t.tmTexture.modified()},e.createPolyDataForOneLabel=function(e,n,r,o,i,a,s){var u=t._tmAtlas.get(e);if(u){var c=t.textPolyData.getPoints().getData(),l=t.lastSize;Gs[0]=c[3*n],Gs[1]=c[3*n+1],Gs[2]=c[3*n+2],x(Hs,Gs,r),Hs[0]+=.1,x(Ws,Hs,o),g(Ks,Ws,Gs),Hs[0]-=.1,Hs[1]+=.1,x(Ws,Hs,o),g(Xs,Ws,Gs);for(var f=0;f<3;f++)Ks[f]/=.05*l[0],Xs[f]/=.05*l[1];var d=s.ptIdx,p=s.cellIdx;Gs[0]=c[3*n],Gs[1]=c[3*n+1],Gs[2]=c[3*n+2],i[0]<-.5?v(Hs,Ks,i[0]*a-u.width):i[0]>.5?v(Hs,Ks,i[0]*a):v(Hs,Ks,i[0]*a-u.width/2),m(Gs,Gs,Hs),v(Hs,Xs,i[1]*a-u.height/2),m(Gs,Gs,Hs),s.points[3*d]=Gs[0],s.points[3*d+1]=Gs[1],s.points[3*d+2]=Gs[2],s.tcoords[2*d]=u.tcoords[0],s.tcoords[2*d+1]=u.tcoords[1],d++,v(Hs,Ks,u.width),m(Gs,Gs,Hs),s.points[3*d]=Gs[0],s.points[3*d+1]=Gs[1],s.points[3*d+2]=Gs[2],s.tcoords[2*d]=u.tcoords[2],s.tcoords[2*d+1]=u.tcoords[3],d++,v(Hs,Xs,u.height),m(Gs,Gs,Hs),s.points[3*d]=Gs[0],s.points[3*d+1]=Gs[1],s.points[3*d+2]=Gs[2],s.tcoords[2*d]=u.tcoords[4],s.tcoords[2*d+1]=u.tcoords[5],d++,v(Hs,Ks,u.width),g(Gs,Gs,Hs),s.points[3*d]=Gs[0],s.points[3*d+1]=Gs[1],s.points[3*d+2]=Gs[2],s.tcoords[2*d]=u.tcoords[6],s.tcoords[2*d+1]=u.tcoords[7],d++,s.polys[4*p]=3,s.polys[4*p+1]=d-4,s.polys[4*p+2]=d-3,s.polys[4*p+3]=d-2,p++,s.polys[4*p]=3,s.polys[4*p+1]=d-4,s.polys[4*p+2]=d-2,s.polys[4*p+3]=d-1,s.ptIdx+=4,s.cellIdx+=2}},e.updateTexturePolyData=function(){var n=t.camera.getCompositeProjectionMatrix(t.lastAspectRatio,-1,1);a(n,n);var r=t.textValues.length,o=4*r,i=2*r,u=new Float64Array(3*o),c=new Uint16Array(4*i),l=new Float32Array(2*o);s(Ys,n);for(var f={ptIdx:0,cellIdx:0,polys:c,points:u,tcoords:l},d=0,p=0,h=0,m=t.textPolyData.getPoints().getData();d<m.length/3;){Gs[0]=m[3*d],Gs[1]=m[3*d+1],Gs[2]=m[3*d+2],x(Hs,Gs,n),Gs[0]=m[3*d+3],Gs[1]=m[3*d+4],Gs[2]=m[3*d+5],x(qs,Gs,n),g(Hs,Hs,qs);var v=[Hs[0],Hs[1]];pn(v),e.createPolyDataForOneLabel(t.textValues[p],d,n,Ys,v,t.axisTitlePixelOffset,f),d+=2,p++;for(var y=0;y<t.tickCounts[h];y++)e.createPolyDataForOneLabel(t.textValues[p],d,n,Ys,v,t.tickLabelPixelOffset,f),d++,p++;h++}var b=ko.newInstance({numberOfComponents:2,values:l,name:"TextureCoordinates"});t.tmPolyData.getPointData().setTCoords(b),t.tmPolyData.getPoints().setData(u,3),t.tmPolyData.getPoints().modified(),t.tmPolyData.getPolys().setData(c,1),t.tmPolyData.getPolys().modified(),t.tmPolyData.modified()},e.getActors=function(){return[t.pixelActor,t.tmActor]},e.getNestedProps=function(){return e.getActors()},e.onModified((function(){t.forceUpdate=!0,e.update()})),e.setVisibility=Xt.chain(e.setVisibility,t.pixelActor.setVisibility,t.tmActor.setVisibility),e.setTickTextStyle=function(n){t.tickTextStyle=Bs(Bs({},t.tickTextStyle),n),e.modified()},e.setAxisTextStyle=function(n){t.axisTextStyle=Bs(Bs({},t.axisTextStyle),n),e.modified()}}function $s(e){return Bs({camera:null,dataBounds:Ms(Dr.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},e)}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$s(n)),go.extend(e,t,n),t.lastSize=[800,800],t.lastAspectRatio=1,t.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],t.axisLabels=["X-Axis","Y-Axis","Z-Axis"],t.tickCounts=[],t.textValues=[],t.lastTickBounds=[],t._tmAtlas=new Map,t.mapper=la.newInstance(),t.polyData=Es.newInstance(),t.mapper.setInputData(t.polyData),e.getProperty().setDiffuse(0),e.getProperty().setAmbient(1),t.textPolyData=Es.newInstance(),t.tmPolyData=Es.newInstance(),t.tmMapper=la.newInstance(),t.tmMapper.setInputData(t.tmPolyData),t.tmTexture=ks.newInstance(),t.tmTexture.setInterpolate(!1),t.tmActor=go.newInstance(),t.tmActor.setMapper(t.tmMapper),t.tmActor.addTexture(t.tmTexture),t.tmCanvas=document.createElement("canvas"),t.tmContext=t.tmCanvas.getContext("2d"),t.pixelMapper=ha.newInstance(),t.pixelMapperPolyData=Es.newInstance(),t.pixelMapper.setInputData(t.pixelMapperPolyData),t.pixelMapper.setCallback((function(e,n,r,o,i){t.lastSize=i,t.lastAspectRatio=i[0]/i[1]})),t.pixelActor=go.newInstance(),t.pixelActor.setMapper(t.pixelMapper),Xt.setGet(e,t,["axisTitlePixelOffset","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),Xt.setGetArray(e,t,["dataBounds"],6),Xt.setGetArray(e,t,["axisLabels"],3),Xt.get(e,t,["axisTextStyle","tickTextStyle","camera"]),Js(e,t)}const eu={newInstance:Xt.newInstance(Qs,"vtkCubeAxesActor"),extend:Qs};function tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ou=document.getElementById("view-container"),iu=document.querySelector("#main-controller"),au=vtk.Rendering.Core.vtkRenderWindow.newInstance(),su=vtk.Rendering.Core.vtkRenderer.newInstance({background:[.2,.3,.4]});au.addRenderer(su);var uu=vtk.Interaction.UI.vtkFPSMonitor.newInstance(),cu=uu.getFpsMonitorContainer();function lu(e){var t=vtk.Filters.Sources.vtkSphereSource.newInstance(),n=vtk.Rendering.Core.vtkActor.newInstance(),r=vtk.Rendering.Core.vtkMapper.newInstance();n.setMapper(r);var o=vtk.Filters.General.vtkCalculator.newInstance(),i=vtk.Common.DataModel.vtkDataSetAttributes.AttributeTypes,a=vtk.Common.DataModel.vtkDataSet.FieldDataTypes;return o.setInputConnection(t.getOutputPort()),o.setFormula({getArrays:function(e){return{input:[],output:[{location:a.CELL,name:"Random",dataType:"Float32Array",attribute:i.SCALARS}]}},evaluate:function(e,t){for(var n=nu(t.map((function(e){return e.getData()})),1)[0],r=0;r<n.length;r++)n[r]=Math.random()}}),r.setInputConnection(o.getOutputPort()),e&&su.addActor(n),{modelSource:t,mapper:r,actor:n}}cu.style.position="relative",cu.style.bottom="10px",cu.style.top="10px",cu.style.background="rgba(255,255,255,0.5)",cu.style.borderRadius="5px",uu.setContainer(iu),uu.setRenderWindow(au);var fu=[lu(),lu(!0)];fu[0].actor.getProperty().setRepresentation(1),fu[0].actor.getProperty().setColor(1,0,0),su.resetCamera(),au.render(),uu.update();var du=eu.newInstance();du.setCamera(su.getActiveCamera()),du.setDataBounds(fu[0].actor.getBounds());var pu=vtk.Rendering.OpenGL.vtkRenderWindow.newInstance();au.addView(pu),pu.setContainer(ou);var hu=ou.getBoundingClientRect(),mu=hu.width,gu=hu.height;pu.setSize(mu,gu);var vu=vtk.Rendering.Core.vtkRenderWindowInteractor.newInstance();vu.setView(pu),vu.initialize(),vu.bindEvents(ou);var yu=vtk.Interaction.Style.vtkInteractorStyleTrackballCamera.newInstance();vu.setInteractorStyle(yu),document.querySelector(".representations").addEventListener("change",(function(e){var t=Number(e.target.value);fu[1].actor.getProperty().setRepresentation(t),au.render(),uu.update()}));["height","radius","resolution","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi","xResolution","yResolution"].forEach((function(e){document.querySelector(".".concat(e)).addEventListener("input",(function(t){var n=Number(t.target.value);fu[0].modelSource.set(tu({},e,n)),fu[1].modelSource.set(tu({},e,n)),du.setDataBounds(fu[0].actor.getBounds()),au.render(),uu.update()}))})),document.querySelector(".capping").addEventListener("change",(function(e){var t=!!e.target.checked;fu[0].modelSource.set({capping:t}),fu[1].modelSource.set({capping:t}),au.render(),uu.update()})),document.querySelector(".axes").addEventListener("change",(function(e){e.target.checked?su.addActor(du):su.removeActor(du),au.render(),uu.update()})),document.querySelector(".edgeVisibility").addEventListener("change",(function(e){var t=!!e.target.checked;fu[0].actor.getProperty().setEdgeVisibility(t),fu[1].actor.getProperty().setEdgeVisibility(t),au.render()})),document.querySelector(".visibility").addEventListener("change",(function(e){fu[1].actor.setVisibility(!!e.target.checked),au.render()})),document.querySelector(".pipeline").addEventListener("change",(function(e){e.target.checked?su.addActor(fu[0].actor):su.removeActor(fu[0].actor),au.render()}));var bu=document.querySelectorAll(".center"),wu=document.querySelectorAll(".direction");function xu(){for(var e=[0,0,0],t=[1,0,0],n=0;n<3;n++)e[Number(bu[n].dataset.index)]=Number(bu[n].value),t[Number(wu[n].dataset.index)]=Number(wu[n].value);fu[1].modelSource.set({center:e,direction:t}),au.render(),uu.update()}for(var Cu=0;Cu<3;Cu++)bu[Cu].addEventListener("input",xu),wu[Cu].addEventListener("input",xu);n.g.cubeAxes=du,n.g.pipelines=fu,n.g.renderer=su,n.g.renderWindow=au},3263:(e,t,n)=>{var r=n(8186);n(4952).MyWebApp=r,e.exports=r},9662:()=>{},5042:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,o,i]=e[c],s=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(s=!1,i<a&&(a=i));s&&(e.splice(c--,1),t=o())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={773:0,170:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,u]=n,c=0;for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(u)var l=u(r);for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.O(void 0,[170],(()=>r(3263)));var o=r.O(void 0,[170],(()=>r(9662)));o=r.O(o)})();